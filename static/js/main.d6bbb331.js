/*! For license information please see main.d6bbb331.js.LICENSE.txt */
(function(){var __webpack_modules__={4537:function(e,t,n){!function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t),i={title:"Options",$schema:"http://json-schema.org/draft-07/schema#",properties:{colors:{title:"Colors",type:"array",items:{type:"string",enum:["amber","blue","blueGrey","brown","cyan","deepOrange","deepPurple","green","grey","indigo","lightBlue","lightGreen","lime","orange","pink","purple","red","teal","yellow"]}},colorful:{title:"Colorful",description:"Use different colors for body parts",type:"boolean"},primaryColorLevel:{title:"Primary Color Level",default:600,type:"integer",enum:[50,100,200,300,400,500,600,700,800,900]},secondaryColorLevel:{title:"Primaray Secondary Level",default:400,type:"integer",enum:[50,100,200,300,400,500,600,700,800,900]},textureChance:{title:"Texture Probability",default:50,type:"integer",minimum:0,maximum:100},mouthChance:{title:"Mouth Probability",default:100,type:"integer",minimum:0,maximum:100},sidesChance:{title:"Sides Probability",default:100,type:"integer",minimum:0,maximum:100},topChance:{title:"Top Probability",default:100,type:"integer",minimum:0,maximum:100}},additionalProperties:!1},o=[function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28 42C37.9411 42 46 33.9411 46 24C46 14.0589 37.9411 6 28 6C18.0589 6 10 14.0589 10 24C10 33.9411 18.0589 42 28 42Z" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M74 42C83.9411 42 92 33.9411 92 24C92 14.0589 83.9411 6 74 6C64.0589 6 56 14.0589 56 24C56 33.9411 64.0589 42 74 42Z" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28 39C36.2843 39 43 32.2843 43 24C43 15.7157 36.2843 9 28 9C19.7157 9 13 15.7157 13 24C13 32.2843 19.7157 39 28 39Z" fill="#F1EEDA"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M74 39C82.2843 39 89 32.2843 89 24C89 15.7157 82.2843 9 74 9C65.7157 9 59 15.7157 59 24C59 32.2843 65.7157 39 74 39Z" fill="#F1EEDA"/>\n<rect x="26" y="15" width="10" height="10" rx="2" fill="black" fill-opacity="0.8"/>\n<rect x="74" y="15" width="10" height="10" rx="2" fill="black" fill-opacity="0.8"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M25 27.2L30.5 32.7C31 33.1 31.7 33.1 32.1 32.7L33.7 31.1C34.1 30.6 34.1 29.9 33.7 29.5L28.2 24L33.7 18.5C34.1 18 34.1 17.3 33.7 16.9L32.1 15.3C31.6 14.9 30.9 14.9 30.5 15.3L25 20.8L19.5 15.3C19 14.9 18.3 14.9 17.9 15.3L16.3 16.9C15.9 17.3 15.9 18 16.3 18.5L21.8 24L16.3 29.5C15.9 30 15.9 30.7 16.3 31.1L17.9 32.7C18.4 33.1 19.1 33.1 19.5 32.7L25 27.2Z" fill="black" fill-opacity="0.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M79 27.2L84.5 32.7C85 33.1 85.7 33.1 86.1 32.7L87.7 31.1C88.1 30.6 88.1 29.9 87.7 29.5L82.2 24L87.7 18.5C88.1 18 88.1 17.3 87.7 16.9L86.1 15.3C85.6 14.9 84.9 14.9 84.5 15.3L79 20.8L73.5 15.3C73 14.9 72.3 14.9 71.9 15.3L70.3 16.9C69.9 17.3 69.9 18 70.3 18.5L75.8 24L70.3 29.5C69.9 30 69.9 30.7 70.3 31.1L71.9 32.7C72.4 33.1 73.1 33.1 73.5 32.7L79 27.2Z" fill="black" fill-opacity="0.8"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M53 0C87.7469 0 102.001 17.4742 102 31C101.999 44.5258 82.4108 48 53 48C23.9528 48 2 44.5258 2 31C2 17.4742 17.1142 0 53 0Z" fill="black" fill-opacity="0.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28.8179 34.654C22.2912 33.3001 17.5833 28.3121 18.3026 23.513C19.0218 18.7139 24.8959 15.9211 31.4226 17.275C37.9493 18.629 42.6572 23.617 41.9379 28.416C41.2187 33.2151 35.3446 36.0079 28.8179 34.654Z" fill="#25A6F5"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M75.4226 34.654C68.8959 36.0079 63.0218 33.2151 62.3026 28.416C61.5833 23.617 66.2912 18.629 72.8179 17.275C79.3446 15.9211 85.2187 18.7139 85.9379 23.513C86.6572 28.3121 81.9493 33.3001 75.4226 34.654Z" fill="#25A6F5"/>\n'},function(){return'\n<rect y="4" width="104" height="42" rx="4" fill="black" fill-opacity="0.8"/>\n<rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/>\n<rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21 4H29L12 46H4L21 4Z" fill="white" fill-opacity="0.4"/>\n'},function(){return'\n<rect x="8" y="10" width="88" height="36" rx="4" fill="black" fill-opacity="0.8"/>\n<rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/>\n<rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M83 10H88L76 46H71L83 10Z" fill="white" fill-opacity="0.4"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21 45C29.2843 45 36 38.2843 36 30C36 21.7157 29.2843 15 21 15C12.7157 15 6 21.7157 6 30C6 38.2843 12.7157 45 21 45Z" fill="white" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M83 45C91.2843 45 98 38.2843 98 30C98 21.7157 91.2843 15 83 15C74.7157 15 68 21.7157 68 30C68 38.2843 74.7157 45 83 45Z" fill="white" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21 42C27.6274 42 33 36.6274 33 30C33 23.3726 27.6274 18 21 18C14.3726 18 9 23.3726 9 30C9 36.6274 14.3726 42 21 42Z" fill="white" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M83 42C89.6274 42 95 36.6274 95 30C95 23.3726 89.6274 18 83 18C76.3726 18 71 23.3726 71 30C71 36.6274 76.3726 42 83 42Z" fill="white" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21 36C24.3137 36 27 33.3137 27 30C27 26.6863 24.3137 24 21 24C17.6863 24 15 26.6863 15 30C15 33.3137 17.6863 36 21 36Z" fill="white" fill-opacity="0.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M83 36C86.3137 36 89 33.3137 89 30C89 26.6863 86.3137 24 83 24C79.6863 24 77 26.6863 77 30C77 33.3137 79.6863 36 83 36Z" fill="white" fill-opacity="0.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21 33C22.6569 33 24 31.6569 24 30C24 28.3431 22.6569 27 21 27C19.3431 27 18 28.3431 18 30C18 31.6569 19.3431 33 21 33Z" fill="white" fill-opacity="0.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M83 33C84.6569 33 86 31.6569 86 30C86 28.3431 84.6569 27 83 27C81.3431 27 80 28.3431 80 30C80 31.6569 81.3431 33 83 33Z" fill="white" fill-opacity="0.8"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 48C65.2548 48 76 37.2548 76 24C76 10.7452 65.2548 0 52 0C38.7452 0 28 10.7452 28 24C28 37.2548 38.7452 48 52 48Z" fill="white" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 44C63.0457 44 72 35.0457 72 24C72 12.9543 63.0457 4 52 4C40.9543 4 32 12.9543 32 24C32 35.0457 40.9543 44 52 44Z" fill="black" fill-opacity="0.8"/>\n<path d="M64.5726 15.8153C64.8743 16.2779 65.4939 16.4082 65.9565 16.1064C66.419 15.8046 66.5494 15.185 66.2476 14.7225L64.5726 15.8153ZM61.5815 9.95547C61.1256 9.64384 60.5033 9.76084 60.1917 10.2168C59.88 10.6728 59.997 11.295 60.453 11.6067L61.5815 9.95547ZM56.3568 9.64222C56.8854 9.80237 57.4437 9.50373 57.6039 8.97518C57.764 8.44663 57.4654 7.88832 56.9368 7.72816L56.3568 9.64222ZM45.7206 8.19769C45.2074 8.40179 44.9569 8.98326 45.161 9.49645C45.3651 10.0096 45.9465 10.2602 46.4597 10.0561L45.7206 8.19769ZM41.7603 13.0388C42.1638 12.6617 42.1852 12.0289 41.8081 11.6254C41.431 11.2219 40.7981 11.2005 40.3947 11.5776L41.7603 13.0388ZM36.4567 17.1052C36.2325 17.6099 36.4599 18.2008 36.9646 18.425C37.4694 18.6492 38.0603 18.4218 38.2845 17.9171L36.4567 17.1052ZM66.2476 14.7225C65.0212 12.8427 63.433 11.2208 61.5815 9.95547L60.453 11.6067C62.0875 12.7238 63.49 14.1559 64.5726 15.8153L66.2476 14.7225ZM56.9368 7.72816C55.3733 7.25438 53.7155 7 52.0001 7V9C53.5169 9 54.9793 9.2248 56.3568 9.64222L56.9368 7.72816ZM52.0001 7C49.784 7 47.6646 7.42456 45.7206 8.19769L46.4597 10.0561C48.1724 9.37496 50.0413 9 52.0001 9V7ZM40.3947 11.5776C38.7378 13.1261 37.3906 15.0029 36.4567 17.1052L38.2845 17.9171C39.108 16.0633 40.2968 14.4066 41.7603 13.0388L40.3947 11.5776Z" fill="white" fill-opacity="0.9"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 34C57.5228 34 62 29.5228 62 24C62 18.4772 57.5228 14 52 14C46.4772 14 42 18.4772 42 24C42 29.5228 46.4772 34 52 34Z" fill="#C6080C"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 28C54.2091 28 56 26.2091 56 24C56 21.7909 54.2091 20 52 20C49.7909 20 48 21.7909 48 24C48 26.2091 49.7909 28 52 28Z" fill="#EE9337"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 25C52.5523 25 53 24.5523 53 24C53 23.4477 52.5523 23 52 23C51.4477 23 51 23.4477 51 24C51 24.5523 51.4477 25 52 25Z" fill="#F5F94F"/>\n'},function(){return'\n<path d="M18 19L30 17" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M20 31C20 27.686 22.9098 25 27 25C30.0902 25 33 27.686 33 31" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M86 20L74 17" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M84 31C84 27.686 81.0902 25 78 25C73.9098 25 71 27.686 71 31" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n'},function(){return'\n<path d="M29.2691 9.67983C26.7216 9.81334 24.305 11.9225 23.0195 13.8332C21.5357 12.0676 18.9175 10.2223 16.3701 10.3558C10.8883 10.6431 7.51531 14.1586 7.74073 18.4598C8.0406 24.1816 12.6244 27.3464 17.4365 30.7046C19.1523 31.8531 22.441 34.8494 22.8627 35.5214C23.2845 36.1935 25.0034 36.1278 25.4425 35.3862C25.8817 34.6446 28.7463 31.3502 30.3355 30.0286C34.7674 26.1859 38.9981 22.5592 38.6982 16.8374C38.4728 12.5362 34.7509 9.39254 29.2691 9.67983Z" fill="#FF5353" fill-opacity="0.8"/>\n<path d="M87.6299 10.3558C85.0825 10.2223 82.4586 12.0673 80.9805 13.8332C79.6893 11.9222 77.2784 9.81331 74.7309 9.67981C69.2491 9.39252 65.5272 12.5361 65.3017 16.8374C65.0019 22.5591 69.2297 26.1857 73.6645 30.0286C75.2508 31.3501 78.2083 34.6738 78.5575 35.3862C78.9067 36.0987 80.623 36.2131 81.1373 35.5214C81.6515 34.8298 84.8449 31.8529 86.5635 30.7046C91.3728 27.3462 95.9594 24.1816 96.2593 18.4598C96.4847 14.1586 93.1117 10.6431 87.6299 10.3558Z" fill="#FF5353" fill-opacity="0.8"/>\n'},function(){return'\n<rect y="12" width="104" height="32" rx="16" fill="black" fill-opacity="0.8"/>\n<rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>\n<rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>\n'},function(){return'\n<rect y="11" width="104" height="34" rx="17" fill="black" fill-opacity="0.8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M29 41C36.1797 41 42 35.1797 42 28C42 20.8203 36.1797 15 29 15C21.8203 15 16 20.8203 16 28C16 35.1797 21.8203 41 29 41Z" fill="#F1EEDA"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M75 41C82.1797 41 88 35.1797 88 28C88 20.8203 82.1797 15 75 15C67.8203 15 62 20.8203 62 28C62 35.1797 67.8203 41 75 41Z" fill="#F1EEDA"/>\n<rect x="24" y="23" width="10" height="10" rx="2" fill="black" fill-opacity="0.8"/>\n<rect x="70" y="23" width="10" height="10" rx="2" fill="black" fill-opacity="0.8"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M24 36C27.3137 36 30 33.3137 30 30C30 26.6863 27.3137 24 24 24C20.6863 24 18 26.6863 18 30C18 33.3137 20.6863 36 24 36Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M80 36C83.3137 36 86 33.3137 86 30C86 26.6863 83.3137 24 80 24C76.6863 24 74 26.6863 74 30C74 33.3137 76.6863 36 80 36Z" fill="white"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28 44C38.3707 44 46.8978 36.1066 47.9012 26H89.416C90.1876 27.7659 91.9497 29 94 29C96.7614 29 99 26.7614 99 24C99 21.2386 96.7614 19 94 19C91.9497 19 90.1876 20.2341 89.416 22H47.9012C46.8978 11.8934 38.3707 4 28 4C16.9543 4 8 12.9543 8 24C8 35.0457 16.9543 44 28 44Z" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M94 26C95.1046 26 96 25.1046 96 24C96 22.8954 95.1046 22 94 22C92.8954 22 92 22.8954 92 24C92 25.1046 92.8954 26 94 26Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28 40C36.8366 40 44 32.8366 44 24C44 15.1634 36.8366 8 28 8C19.1634 8 12 15.1634 12 24C12 32.8366 19.1634 40 28 40Z" fill="black" fill-opacity="0.6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M34 19C35.6569 19 37 17.6569 37 16C37 14.3431 35.6569 13 34 13C32.3431 13 31 14.3431 31 16C31 17.6569 32.3431 19 34 19Z" fill="white"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 10C0 5.58172 3.58172 2 8 2H96C100.418 2 104 5.58172 104 10V28C104 32.4183 100.418 36 96 36H82.9808C79.7112 36.1672 77.4997 37.137 76.0046 38.3473C75.5176 38.7414 75.0239 39.1634 74.5216 39.5927C72.0465 41.7082 69.3652 44 66.2779 44H52H38.6676C35.5324 44 32.732 41.8707 30.0462 39.8285L30.0461 39.8285C29.096 39.1061 28.1602 38.3945 27.229 37.792C25.7725 36.8497 23.7704 36.1407 21.0192 36H8C3.58172 36 0 32.4183 0 28V10Z" fill="black" fill-opacity="0.8"/>\n<mask id="eyesShade01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="2" width="104" height="42">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 10C0 5.58172 3.58172 2 8 2H96C100.418 2 104 5.58172 104 10V28C104 32.4183 100.418 36 96 36H82.9808C79.7112 36.1672 77.4997 37.137 76.0046 38.3473C75.5176 38.7414 75.0239 39.1634 74.5216 39.5927C72.0465 41.7082 69.3652 44 66.2779 44H52H38.6676C35.5324 44 32.732 41.8707 30.0462 39.8285L30.0461 39.8285C29.096 39.1061 28.1602 38.3945 27.229 37.792C25.7725 36.8497 23.7704 36.1407 21.0192 36H8C3.58172 36 0 32.4183 0 28V10Z" fill="white"/>\n</mask>\n<g mask="url(#eyesShade01Mask0)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 19C12 16.2386 14.2386 14 17 14H87C89.7614 14 92 16.2386 92 19V21C92 23.7614 89.7614 26 87 26H74.9808C71.7112 26.1672 69.4997 27.137 68.0046 28.3473C67.5176 28.7414 67.0239 29.1634 66.5216 29.5927C64.5182 31.3051 62.3796 33.133 60 33.7674V34H58.2779H52H46.6676C43.5324 34 40.732 31.8707 38.0462 29.8285L38.0461 29.8285C37.096 29.1061 36.1602 28.3945 35.229 27.792C33.7725 26.8497 31.7704 26.1407 29.0192 26H17C14.2386 26 12 23.7614 12 21V19Z" fill="#FF3D3D"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 44L32 -2H28L8 44H12ZM50 -2H39L19 44H30L50 -2Z" fill="white" fill-opacity="0.2"/>\n</g>\n'}],a=[function(e,t){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M66 0C124.352 0 130.001 40.6854 130 78C129.999 111.315 104.534 120 66 120C28.5387 120 0 111.315 0 78C0 40.6854 7.64843 0 66 0Z" fill="black" fill-opacity="0.8"/>\n<mask id="faceRound01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M66 0C124.352 0 130.001 40.6854 130 78C129.999 111.315 104.534 120 66 120C28.5387 120 0 111.315 0 78C0 40.6854 7.64843 0 66 0Z" fill="white"/>\n</mask>\n<g mask="url(#faceRound01Mask0)">\n<rect x="-4" y="-2" width="138" height="124" fill="'.concat(e,'"/>\n').concat(null!=t?t:"","\n</g>\n")},function(e,t){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 31C0 31.0205 0.0141049 30.8164 0 30C0.183375 29.5235 0.402009 28.5029 1 27C1.82671 23.944 3.7804 20.4435 7 17C16.6944 6.60017 35.1724 0 65 0C94.8276 0 113.306 6.60036 123 17C126.22 20.4435 128.173 23.944 129 27C129.598 28.5029 129.817 29.5236 130 30C129.986 30.8164 130 31.0205 130 31V70C130 69.8964 129.972 70.5012 130 71C129.739 73.1171 129.471 75.0149 129 77C127.814 82.9912 125.606 88.911 122 94C112.283 110.337 94.2553 120 65 120C35.7448 120 17.7164 110.338 8 94C4.39414 88.9108 2.1865 82.9912 1 77C0.529043 75.0149 0.261028 73.1171 0 71C0.0282767 70.5466 6.49997e-05 69.6771 0 70V31Z" fill="#E1E6E8"/>\n<mask id="faceRound02Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 31C0 31.0205 0.0141049 30.8164 0 30C0.183375 29.5235 0.402009 28.5029 1 27C1.82671 23.944 3.7804 20.4435 7 17C16.6944 6.60017 35.1724 0 65 0C94.8276 0 113.306 6.60036 123 17C126.22 20.4435 128.173 23.944 129 27C129.598 28.5029 129.817 29.5236 130 30C129.986 30.8164 130 31.0205 130 31V70C130 69.8964 129.972 70.5012 130 71C129.739 73.1171 129.471 75.0149 129 77C127.814 82.9912 125.606 88.911 122 94C112.283 110.337 94.2553 120 65 120C35.7448 120 17.7164 110.338 8 94C4.39414 88.9108 2.1865 82.9912 1 77C0.529043 75.0149 0.261028 73.1171 0 71C0.0282767 70.5466 6.49997e-05 69.6771 0 70V31Z" fill="white"/>\n</mask>\n<g mask="url(#faceRound02Mask0)">\n<rect x="-4" y="-2" width="138" height="124" fill="'.concat(e,'"/>\n').concat(null!=t?t:"","\n</g>\n")},function(e,t){return'\n<rect width="130" height="120" rx="18" fill="#0076DE"/>\n<mask id="faceSquare01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120">\n<rect width="130" height="120" rx="18" fill="white"/>\n</mask>\n<g mask="url(#faceSquare01Mask0)">\n<rect x="-2" y="-2" width="134" height="124" fill="'.concat(e,'"/>\n').concat(null!=t?t:"","\n</g>\n")},function(e,t){return'\n<path d="M0 12C0 5.37259 5.37258 0 12 0H118C124.627 0 130 5.37258 130 12V82C130 102.987 112.987 120 92 120H38C17.0132 120 0 102.987 0 82V12Z" fill="#0076DE"/>\n<mask id="faceSquare01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120">\n<path d="M0 12C0 5.37259 5.37258 0 12 0H118C124.627 0 130 5.37258 130 12V82C130 102.987 112.987 120 92 120H38C17.0132 120 0 102.987 0 82V12Z" fill="white"/>\n</mask>\n<g mask="url(#faceSquare01Mask0)">\n<rect x="-2" y="-2" width="134" height="124" fill="'.concat(e,'"/>\n').concat(null!=t?t:"","\n</g>\n")},function(e,t){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 18C0 8.05888 8.05888 0 18 0H112C121.941 0 130 8.05888 130 18V45.1483C130 49.6831 129.229 54.1848 127.72 58.4611L110.239 107.991C107.699 115.187 100.896 120 93.2647 120H36.7353C29.1036 120 22.3014 115.187 19.7614 107.991L2.28038 58.4611C0.771117 54.1848 0 49.6831 0 45.1483L0 18Z" fill="#0076DE"/>\n<mask id="faceSquare03Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 18C0 8.05888 8.05888 0 18 0H112C121.941 0 130 8.05888 130 18V45.1483C130 49.6831 129.229 54.1848 127.72 58.4611L110.239 107.991C107.699 115.187 100.896 120 93.2647 120H36.7353C29.1036 120 22.3014 115.187 19.7614 107.991L2.28038 58.4611C0.771117 54.1848 0 49.6831 0 45.1483L0 18Z" fill="white"/>\n</mask>\n<g mask="url(#faceSquare03Mask0)">\n<rect x="-2" y="-2" width="134" height="124" fill="'.concat(e,'"/>\n').concat(null!=t?t:"","\n</g>\n")},function(e,t){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 102V68.8517C0 64.3169 0.77112 59.8152 2.28039 55.5389L19.7614 12.0092C22.3014 4.81263 29.1036 0 36.7353 0L93.2647 0C100.896 0 107.699 4.81263 110.239 12.0092L127.72 55.5389C129.229 59.8152 130 64.3169 130 68.8517V102C130 111.941 121.941 120 112 120H18C8.05887 120 0 111.941 0 102Z" fill="#0076DE"/>\n<mask id="faceSquareMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0 102V68.8517C0 64.3169 0.77112 59.8152 2.28039 55.5389L19.7614 12.0092C22.3014 4.81263 29.1036 0 36.7353 0L93.2647 0C100.896 0 107.699 4.81263 110.239 12.0092L127.72 55.5389C129.229 59.8152 130 64.3169 130 68.8517V102C130 111.941 121.941 120 112 120H18C8.05887 120 0 111.941 0 102Z" fill="white"/>\n</mask>\n<g mask="url(#faceSquareMask0)">\n<rect x="-2" y="-2" width="134" height="124" fill="'.concat(e,'"/>\n').concat(null!=t?t:"","\n</g>\n")}],s=[function(){return'\n<rect x="4" y="5" width="68" height="22" rx="5" fill="black" fill-opacity="0.2"/>\n<rect x="8" y="9" width="60" height="14" rx="2" fill="black" fill-opacity="0.6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M20 17L26 9H14L20 17Z" fill="#E1E6E8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M32 17L38 9H26L32 17Z" fill="#E1E6E8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M44 17L50 9H38L44 17Z" fill="#E1E6E8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M56 17L62 9H50L56 17Z" fill="#E1E6E8"/>\n'},function(){return'\n<rect x="4" y="4" width="68" height="24" rx="5" fill="black" fill-opacity="0.2"/>\n<rect x="8" y="8" width="60" height="16" rx="2" fill="black" fill-opacity="0.8"/>\n<path d="M9 17H20L22 13L25 20L29 12L31 21L34 10L37 20L40 17H55L58 13L60 20L63 17H67" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n'},function(){return'\n<rect x="12" y="12" width="4" height="8" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="36" y="12" width="4" height="8" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="24" y="12" width="4" height="8" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="48" y="12" width="4" height="8" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="60" y="12" width="4" height="8" rx="2" fill="black" fill-opacity="0.6"/>\n'},function(){return'\n<rect x="28" y="10" width="6" height="14" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="14" y="10" width="6" height="14" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="42" y="10" width="6" height="14" rx="2" fill="black" fill-opacity="0.6"/>\n<rect x="56" y="10" width="6" height="14" rx="2" fill="black" fill-opacity="0.6"/>\n'},function(){return'\n<rect x="4" y="5" width="68" height="22" rx="5" fill="black" fill-opacity="0.2"/>\n<rect x="8" y="9" width="60" height="14" rx="2" fill="white"/>\n<rect x="18" y="9" width="4" height="14" fill="black" fill-opacity="0.1"/>\n<rect x="42" y="9" width="4" height="14" fill="black" fill-opacity="0.1"/>\n<rect x="30" y="9" width="4" height="14" fill="black" fill-opacity="0.1"/>\n<rect x="54" y="9" width="4" height="14" fill="black" fill-opacity="0.1"/>\n'},function(){return'\n<path d="M27.0493 8.44151C26.8055 7.36419 27.4811 6.29318 28.5584 6.04935C29.6358 5.80551 30.7068 6.48119 30.9506 7.55851C31.72 10.9578 34.4016 13 37.9999 13C41.5983 13 44.2799 10.9578 45.0493 7.55851C45.2931 6.48119 46.3641 5.80551 47.4414 6.04935C48.5188 6.29318 49.1944 7.36419 48.9506 8.44151C47.7599 13.7024 43.4298 17 37.9999 17C32.5701 17 28.24 13.7024 27.0493 8.44151Z" fill="black" fill-opacity="0.6"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.2222C18 21.7845 24.4741 28 38 28C51.5182 28 58 21.6615 58 10.2222C58 9.49622 57.1739 8 55 8C39.2707 8 29.1917 8 21 8C18.949 8 18 9.38479 18 10.2222Z" fill="black" fill-opacity="0.8"/>\n<mask id="mouthSmilie02Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.2222C18 21.7845 24.4741 28 38 28C51.5182 28 58 21.6615 58 10.2222C58 9.49622 57.1739 8 55 8C39.2707 8 29.1917 8 21 8C18.949 8 18 9.38479 18 10.2222Z" fill="white"/>\n</mask>\n<g mask="url(#mouthSmilie02Mask0)">\n<rect x="30" y="2" width="16" height="14" rx="2" fill="white"/>\n</g>\n'},function(){return'\n<rect x="24" y="6" width="27" height="8" rx="4" fill="black" fill-opacity="0.8"/>\n'},function(){return'\n<rect x="16" y="8" width="44" height="4" rx="2" fill="black" fill-opacity="0.8"/>\n'}],c=[function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13 11H11V31H12.4C10.1598 31 9.03969 31 8.18404 31.436C7.43139 31.8195 6.81947 32.4314 6.43597 33.184C6 34.0397 6 35.1598 6 37.4V38.6C6 40.8402 6 41.9603 6.43597 42.816C6.81947 43.5686 7.43139 44.1805 8.18404 44.564C9.03969 45 10.1598 45 12.4 45H18V55.6C18 57.8402 18 58.9603 18.436 59.816C18.8195 60.5686 19.4314 61.1805 20.184 61.564C21.0397 62 22.1598 62 24.4 62H47.6C49.8402 62 50.9603 62 51.816 61.564C52.5686 61.1805 53.1805 60.5686 53.564 59.816C54 58.9603 54 57.8402 54 55.6V20.4C54 18.1598 54 17.0397 53.564 16.184C53.1805 15.4314 52.5686 14.8195 51.816 14.436C50.9603 14 49.8402 14 47.6 14H24.4C22.1598 14 21.0397 14 20.184 14.436C19.4314 14.8195 18.8195 15.4314 18.436 16.184C18 17.0397 18 18.1598 18 20.4V31H13V11ZM126 34.4C126 32.1598 126 31.0397 126.436 30.184C126.819 29.4314 127.431 28.8195 128.184 28.436C129.04 28 130.16 28 132.4 28H155.6C157.84 28 158.96 28 159.816 28.436C160.569 28.8195 161.181 29.4314 161.564 30.184C162 31.0397 162 32.1598 162 34.4V45.6C162 47.8402 162 48.9603 161.564 49.816C161.181 50.5686 160.569 51.1805 159.816 51.564C158.96 52 157.84 52 155.6 52H132.4C130.16 52 129.04 52 128.184 51.564C127.431 51.1805 126.819 50.5686 126.436 49.816C126 48.9603 126 47.8402 126 45.6V34.4Z" fill="#0076DE"/>\n<mask id="sidesAntenna01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="6" y="11" width="156" height="51">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13 11H11V31H12.4C10.1598 31 9.03969 31 8.18404 31.436C7.43139 31.8195 6.81947 32.4314 6.43597 33.184C6 34.0397 6 35.1598 6 37.4V38.6C6 40.8402 6 41.9603 6.43597 42.816C6.81947 43.5686 7.43139 44.1805 8.18404 44.564C9.03969 45 10.1598 45 12.4 45H18V55.6C18 57.8402 18 58.9603 18.436 59.816C18.8195 60.5686 19.4314 61.1805 20.184 61.564C21.0397 62 22.1598 62 24.4 62H47.6C49.8402 62 50.9603 62 51.816 61.564C52.5686 61.1805 53.1805 60.5686 53.564 59.816C54 58.9603 54 57.8402 54 55.6V20.4C54 18.1598 54 17.0397 53.564 16.184C53.1805 15.4314 52.5686 14.8195 51.816 14.436C50.9603 14 49.8402 14 47.6 14H24.4C22.1598 14 21.0397 14 20.184 14.436C19.4314 14.8195 18.8195 15.4314 18.436 16.184C18 17.0397 18 18.1598 18 20.4V31H13V11ZM126 34.4C126 32.1598 126 31.0397 126.436 30.184C126.819 29.4314 127.431 28.8195 128.184 28.436C129.04 28 130.16 28 132.4 28H155.6C157.84 28 158.96 28 159.816 28.436C160.569 28.8195 161.181 29.4314 161.564 30.184C162 31.0397 162 32.1598 162 34.4V45.6C162 47.8402 162 48.9603 161.564 49.816C161.181 50.5686 160.569 51.1805 159.816 51.564C158.96 52 157.84 52 155.6 52H132.4C130.16 52 129.04 52 128.184 51.564C127.431 51.1805 126.819 50.5686 126.436 49.816C126 48.9603 126 47.8402 126 45.6V34.4Z" fill="white"/>\n</mask>\n<g mask="url(#sidesAntenna01Mask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n<rect y="38" width="180" height="38" fill="black" fill-opacity="0.1"/>\n</g>\n<rect x="11" y="11" width="2" height="20" fill="white" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z" fill="#FFEA8F"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13 9C14.1046 9 15 8.10457 15 7C15 5.89543 14.1046 5 13 5C11.8954 5 11 5.89543 11 7C11 8.10457 11.8954 9 13 9Z" fill="white"/>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M160 9H162V28H163.6C165.84 28 166.96 28 167.816 28.436C168.569 28.8195 169.181 29.4314 169.564 30.184C170 31.0397 170 32.1598 170 34.4V53.6C170 55.8402 170 56.9603 169.564 57.816C169.181 58.5686 168.569 59.1805 167.816 59.564C166.96 60 165.84 60 163.6 60H140.4C138.16 60 137.04 60 136.184 59.564C135.431 59.1805 134.819 58.5686 134.436 57.816C134 56.9603 134 55.8402 134 53.6V34.4C134 32.1598 134 31.0397 134.436 30.184C134.819 29.4314 135.431 28.8195 136.184 28.436C137.04 28 138.16 28 140.4 28H160V9ZM10 34.4C10 32.1598 10 31.0397 10.436 30.184C10.8195 29.4314 11.4314 28.8195 12.184 28.436C13.0397 28 14.1598 28 16.4 28H39.6C41.8402 28 42.9603 28 43.816 28.436C44.5686 28.8195 45.1805 29.4314 45.564 30.184C46 31.0397 46 32.1598 46 34.4V53.6C46 55.8402 46 56.9603 45.564 57.816C45.1805 58.5686 44.5686 59.1805 43.816 59.564C42.9603 60 41.8402 60 39.6 60H16.4C14.1598 60 13.0397 60 12.184 59.564C11.4314 59.1805 10.8195 58.5686 10.436 57.816C10 56.9603 10 55.8402 10 53.6V34.4Z" fill="#0076DE"/>\n<mask id="sidesAntenna02Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="10" y="9" width="160" height="51">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M160 9H162V28H163.6C165.84 28 166.96 28 167.816 28.436C168.569 28.8195 169.181 29.4314 169.564 30.184C170 31.0397 170 32.1598 170 34.4V53.6C170 55.8402 170 56.9603 169.564 57.816C169.181 58.5686 168.569 59.1805 167.816 59.564C166.96 60 165.84 60 163.6 60H140.4C138.16 60 137.04 60 136.184 59.564C135.431 59.1805 134.819 58.5686 134.436 57.816C134 56.9603 134 55.8402 134 53.6V34.4C134 32.1598 134 31.0397 134.436 30.184C134.819 29.4314 135.431 28.8195 136.184 28.436C137.04 28 138.16 28 140.4 28H160V9ZM10 34.4C10 32.1598 10 31.0397 10.436 30.184C10.8195 29.4314 11.4314 28.8195 12.184 28.436C13.0397 28 14.1598 28 16.4 28H39.6C41.8402 28 42.9603 28 43.816 28.436C44.5686 28.8195 45.1805 29.4314 45.564 30.184C46 31.0397 46 32.1598 46 34.4V53.6C46 55.8402 46 56.9603 45.564 57.816C45.1805 58.5686 44.5686 59.1805 43.816 59.564C42.9603 60 41.8402 60 39.6 60H16.4C14.1598 60 13.0397 60 12.184 59.564C11.4314 59.1805 10.8195 58.5686 10.436 57.816C10 56.9603 10 55.8402 10 53.6V34.4Z" fill="white"/>\n</mask>\n<g mask="url(#sidesAntenna02Mask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n<rect y="38" width="180" height="38" fill="black" fill-opacity="0.1"/>\n</g>\n<rect x="160" y="8" width="2" height="20" fill="white" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M161 9C163.209 9 165 7.20914 165 5C165 2.79086 163.209 1 161 1C158.791 1 157 2.79086 157 5C157 7.20914 158.791 9 161 9Z" fill="#E1E6E8"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M162 6C163.105 6 164 5.10457 164 4C164 2.89543 163.105 2 162 2C160.895 2 160 2.89543 160 4C160 5.10457 160.895 6 162 6Z" fill="white"/>\n')},function(e){return'\n<g opacity="0.9">\n<path id="Cable" d="M38 12C35.046 23.6966 18.0959 18.6663 14.6313 30.009C11.1668 41.3518 22.6565 50 32.1552 50" stroke="#2A3544" stroke-width="6"/>\n<path id="Cable_2" d="M150 55C158.394 58.4864 170.102 47.4063 166 38.5C161.898 29.5936 150 31.8056 150 19.195" stroke="#2A3544" stroke-width="4"/>\n</g>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M138 6C136.895 6 136 6.89543 136 8V22C136 23.1046 136.895 24 138 24H157C158.105 24 159 23.1046 159 22V8C159 6.89543 158.105 6 157 6H138ZM21 37C21 35.8954 21.8954 35 23 35H35C36.1046 35 37 35.8954 37 37V55C37 56.1046 36.1046 57 35 57H23C21.8954 57 21 56.1046 21 55V37ZM136 44C136 42.8954 136.895 42 138 42H157C158.105 42 159 42.8954 159 44V62C159 63.1046 158.105 64 157 64H138C136.895 64 136 63.1046 136 62V44Z" fill="#273951"/>\n<mask id="sidesCables01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="21" y="6" width="138" height="58">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M138 6C136.895 6 136 6.89543 136 8V22C136 23.1046 136.895 24 138 24H157C158.105 24 159 23.1046 159 22V8C159 6.89543 158.105 6 157 6H138ZM21 37C21 35.8954 21.8954 35 23 35H35C36.1046 35 37 35.8954 37 37V55C37 56.1046 36.1046 57 35 57H23C21.8954 57 21 56.1046 21 55V37ZM136 44C136 42.8954 136.895 42 138 42H157C158.105 42 159 42.8954 159 44V62C159 63.1046 158.105 64 157 64H138C136.895 64 136 63.1046 136 62V44Z" fill="white"/>\n</mask>\n<g mask="url(#sidesCables01Mask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n</g>\n')},function(e){return'\n<g opacity="0.9">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M32.5 41C41.6127 41 49 32.9411 49 23C49 13.0589 41.6127 5 32.5 5C23.3873 5 16 13.0589 16 23C16 32.9411 23.3873 41 32.5 41Z" stroke="#2A3544" stroke-width="6"/>\n<path d="M29.5152 36.7649C22.1017 41.0451 12.5101 38.3112 8.0918 30.6585" stroke="#2A3544" stroke-width="4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M28 67C37.3888 67 45 60.5081 45 52.5C45 44.4919 37.3888 38 28 38C18.6112 38 12 44.4919 12 52.5C12 60.5081 18.6112 67 28 67Z" stroke="#2A3544" stroke-width="4"/>\n<path d="M168.606 60.4234C164.326 53.0099 154.653 50.5817 147 55" stroke="#2A3544" stroke-width="4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M148 38C157.389 38 165 31.0604 165 22.5C165 13.9396 157.389 7 148 7C138.611 7 132 13.9396 132 22.5C132 31.0604 138.611 38 148 38Z" stroke="#2A3544" stroke-width="6"/>\n</g>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M145 0C143.895 0 143 0.89543 143 2V20C143 21.1046 143.895 22 145 22H157C158.105 22 159 21.1046 159 20V2C159 0.895431 158.105 0 157 0H145ZM23 27C21.8954 27 21 27.8954 21 29V47C21 48.1046 21.8954 49 23 49H35C36.1046 49 37 48.1046 37 47V29C37 27.8954 36.1046 27 35 27H23ZM24 60C22.8954 60 22 60.8954 22 62V70C22 71.1046 22.8954 72 24 72H36C37.1046 72 38 71.1046 38 70V62C38 60.8954 37.1046 60 36 60H24ZM143 44C143 42.8954 143.895 42 145 42H157C158.105 42 159 42.8954 159 44V62C159 63.1046 158.105 64 157 64H145C143.895 64 143 63.1046 143 62V44Z" fill="#273951"/>\n<mask id="sidesCables01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="21" y="0" width="138" height="72">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M145 0C143.895 0 143 0.89543 143 2V20C143 21.1046 143.895 22 145 22H157C158.105 22 159 21.1046 159 20V2C159 0.895431 158.105 0 157 0H145ZM23 27C21.8954 27 21 27.8954 21 29V47C21 48.1046 21.8954 49 23 49H35C36.1046 49 37 48.1046 37 47V29C37 27.8954 36.1046 27 35 27H23ZM24 60C22.8954 60 22 60.8954 22 62V70C22 71.1046 22.8954 72 24 72H36C37.1046 72 38 71.1046 38 70V62C38 60.8954 37.1046 60 36 60H24ZM143 44C143 42.8954 143.895 42 145 42H157C158.105 42 159 42.8954 159 44V62C159 63.1046 158.105 64 157 64H145C143.895 64 143 63.1046 143 62V44Z" fill="white"/>\n</mask>\n<g mask="url(#sidesCables01Mask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 39C12 50.9264 17.9543 61 28 61C38.0457 61 48 50.9264 48 39C48 26.0736 38.0457 16 28 16C17.9543 16 12 26.0736 12 39ZM168 39C168 50.9264 162.046 61 152 61C141.954 61 132 50.9264 132 39C132 26.0736 141.954 16 152 16C162.046 16 168 26.0736 168 39Z" fill="#E1E6E8"/>\n<mask id="sidesRoundMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="12" y="16" width="156" height="45">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 39C12 50.9264 17.9543 61 28 61C38.0457 61 48 50.9264 48 39C48 26.0736 38.0457 16 28 16C17.9543 16 12 26.0736 12 39ZM168 39C168 50.9264 162.046 61 152 61C141.954 61 132 50.9264 132 39C132 26.0736 141.954 16 152 16C162.046 16 168 26.0736 168 39Z" fill="white"/>\n</mask>\n<g mask="url(#sidesRoundMask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n<rect x="20" width="140" height="76" fill="black" fill-opacity="0.2"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M134.436 10.184C134 11.0397 134 12.1598 134 14.4V61.6C134 63.8402 134 64.9603 134.436 65.816C134.819 66.5686 135.431 67.1805 136.184 67.564C137.04 68 138.16 68 140.4 68H163.6C165.84 68 166.96 68 167.816 67.564C168.569 67.1805 169.181 66.5686 169.564 65.816C170 64.9603 170 63.8402 170 61.6V52.9944C171.35 52.9761 172.161 52.8979 172.816 52.564C173.569 52.1805 174.181 51.5686 174.564 50.816C175 49.9603 175 48.8402 175 46.6V29.4C175 27.1598 175 26.0397 174.564 25.184C174.181 24.4314 173.569 23.8195 172.816 23.436C172.161 23.1021 171.35 23.0239 170 23.0056V14.4C170 12.1598 170 11.0397 169.564 10.184C169.181 9.43139 168.569 8.81947 167.816 8.43597C166.96 8 165.84 8 163.6 8H140.4C138.16 8 137.04 8 136.184 8.43597C135.431 8.81947 134.819 9.43139 134.436 10.184ZM20.436 17.184C20 18.0397 20 19.1598 20 21.4V31H16.4C14.1598 31 13.0397 31 12.184 31.436C11.4314 31.8195 10.8195 32.4314 10.436 33.184C10 34.0397 10 35.1598 10 37.4V54.6C10 56.8402 10 57.9603 10.436 58.816C10.8195 59.5686 11.4314 60.1805 12.184 60.564C13.0397 61 14.1598 61 16.4 61H39.6C41.8402 61 42.9603 61 43.816 60.564C44.5686 60.1805 45.1805 59.5686 45.564 58.816C46 57.9603 46 56.8402 46 54.6V38.6V37.4V21.4C46 19.1598 46 18.0397 45.564 17.184C45.1805 16.4314 44.5686 15.8195 43.816 15.436C42.9603 15 41.8402 15 39.6 15H26.4C24.1598 15 23.0397 15 22.184 15.436C21.4314 15.8195 20.8195 16.4314 20.436 17.184Z" fill="#0076DE"/>\n<mask id="sidesSquareAssymetricMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="10" y="8" width="165" height="60">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M134.436 10.184C134 11.0397 134 12.1598 134 14.4V61.6C134 63.8402 134 64.9603 134.436 65.816C134.819 66.5686 135.431 67.1805 136.184 67.564C137.04 68 138.16 68 140.4 68H163.6C165.84 68 166.96 68 167.816 67.564C168.569 67.1805 169.181 66.5686 169.564 65.816C170 64.9603 170 63.8402 170 61.6V52.9944C171.35 52.9761 172.161 52.8979 172.816 52.564C173.569 52.1805 174.181 51.5686 174.564 50.816C175 49.9603 175 48.8402 175 46.6V29.4C175 27.1598 175 26.0397 174.564 25.184C174.181 24.4314 173.569 23.8195 172.816 23.436C172.161 23.1021 171.35 23.0239 170 23.0056V14.4C170 12.1598 170 11.0397 169.564 10.184C169.181 9.43139 168.569 8.81947 167.816 8.43597C166.96 8 165.84 8 163.6 8H140.4C138.16 8 137.04 8 136.184 8.43597C135.431 8.81947 134.819 9.43139 134.436 10.184ZM20.436 17.184C20 18.0397 20 19.1598 20 21.4V31H16.4C14.1598 31 13.0397 31 12.184 31.436C11.4314 31.8195 10.8195 32.4314 10.436 33.184C10 34.0397 10 35.1598 10 37.4V54.6C10 56.8402 10 57.9603 10.436 58.816C10.8195 59.5686 11.4314 60.1805 12.184 60.564C13.0397 61 14.1598 61 16.4 61H39.6C41.8402 61 42.9603 61 43.816 60.564C44.5686 60.1805 45.1805 59.5686 45.564 58.816C46 57.9603 46 56.8402 46 54.6V38.6V37.4V21.4C46 19.1598 46 18.0397 45.564 17.184C45.1805 16.4314 44.5686 15.8195 43.816 15.436C42.9603 15 41.8402 15 39.6 15H26.4C24.1598 15 23.0397 15 22.184 15.436C21.4314 15.8195 20.8195 16.4314 20.436 17.184Z" fill="white"/>\n</mask>\n<g mask="url(#sidesSquareAssymetricMask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n<rect y="47" width="180" height="29" fill="black" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M161 25C163.761 25 166 22.7614 166 20C166 17.2386 163.761 15 161 15C158.239 15 156 17.2386 156 20C156 22.7614 158.239 25 161 25Z" fill="white" fill-opacity="0.6"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M161 41C163.761 41 166 38.7614 166 36C166 33.2386 163.761 31 161 31C158.239 31 156 33.2386 156 36C156 38.7614 158.239 41 161 41Z" fill="white" fill-opacity="0.6"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.9809 20.9141C14 22.8393 14 25.3595 14 30.4V45.6C14 50.6405 14 53.1607 14.9809 55.0859C15.8438 56.7794 17.2206 58.1562 18.9141 59.0191C20.8393 60 23.3595 60 28.4 60H35.6C40.6405 60 43.1607 60 45.0859 59.0191C46.7794 58.1562 48.1562 56.7794 49.0191 55.0859C50 53.1607 50 50.6405 50 45.6V30.4C50 25.3595 50 22.8393 49.0191 20.9141C48.1562 19.2206 46.7794 17.8438 45.0859 16.9809C43.1607 16 40.6405 16 35.6 16H28.4C23.3595 16 20.8393 16 18.9141 16.9809C17.2206 17.8438 15.8438 19.2206 14.9809 20.9141ZM130.981 20.9141C130 22.8393 130 25.3595 130 30.4V45.6C130 50.6405 130 53.1607 130.981 55.0859C131.844 56.7794 133.221 58.1562 134.914 59.0191C136.839 60 139.36 60 144.4 60H151.6C156.64 60 159.161 60 161.086 59.0191C162.779 58.1562 164.156 56.7794 165.019 55.0859C166 53.1607 166 50.6405 166 45.6V30.4C166 25.3595 166 22.8393 165.019 20.9141C164.156 19.2206 162.779 17.8438 161.086 16.9809C159.161 16 156.64 16 151.6 16H144.4C139.36 16 136.839 16 134.914 16.9809C133.221 17.8438 131.844 19.2206 130.981 20.9141Z" fill="#0076DE"/>\n<mask id="sidesSquareMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="14" y="16" width="152" height="44">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.9809 20.9141C14 22.8393 14 25.3595 14 30.4V45.6C14 50.6405 14 53.1607 14.9809 55.0859C15.8438 56.7794 17.2206 58.1562 18.9141 59.0191C20.8393 60 23.3595 60 28.4 60H35.6C40.6405 60 43.1607 60 45.0859 59.0191C46.7794 58.1562 48.1562 56.7794 49.0191 55.0859C50 53.1607 50 50.6405 50 45.6V30.4C50 25.3595 50 22.8393 49.0191 20.9141C48.1562 19.2206 46.7794 17.8438 45.0859 16.9809C43.1607 16 40.6405 16 35.6 16H28.4C23.3595 16 20.8393 16 18.9141 16.9809C17.2206 17.8438 15.8438 19.2206 14.9809 20.9141ZM130.981 20.9141C130 22.8393 130 25.3595 130 30.4V45.6C130 50.6405 130 53.1607 130.981 55.0859C131.844 56.7794 133.221 58.1562 134.914 59.0191C136.839 60 139.36 60 144.4 60H151.6C156.64 60 159.161 60 161.086 59.0191C162.779 58.1562 164.156 56.7794 165.019 55.0859C166 53.1607 166 50.6405 166 45.6V30.4C166 25.3595 166 22.8393 165.019 20.9141C164.156 19.2206 162.779 17.8438 161.086 16.9809C159.161 16 156.64 16 151.6 16H144.4C139.36 16 136.839 16 134.914 16.9809C133.221 17.8438 131.844 19.2206 130.981 20.9141Z" fill="white"/>\n</mask>\n<g mask="url(#sidesSquareMask0)">\n<rect width="180" height="76" fill="'.concat(e,'"/>\n<rect y="38" width="180" height="38" fill="black" fill-opacity="0.1"/>\n</g>\n')}],u=[function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M141.942 1.99261C142.885 1.84335 143.725 1.51627 144.462 1.01137C144.641 0.98607 144.904 0.945398 145.233 0.894564C147.954 0.474318 155.171 -0.640471 156.477 0.495865C157.33 1.23727 156.947 3.87556 156.671 5.77254C156.566 6.49296 156.477 7.10646 156.477 7.46854C155.149 7.5314 154.142 6.06775 153.157 4.63726C151.696 2.51506 150.285 0.465817 147.954 3.58203C146.86 5.0429 147.113 6.88681 147.369 8.76079C147.639 10.7369 147.914 12.7464 146.621 14.3756C145.083 16.3133 142.629 16.5822 140.203 16.8479C137.635 17.1292 135.099 17.407 133.718 19.6598C133.321 20.3087 133.213 21.4585 133.096 22.6996C132.894 24.853 132.665 27.2809 130.854 27.8425C127.728 28.8118 127.528 26.1525 127.354 23.8314C127.26 22.5851 127.174 21.4363 126.646 20.9991C120.957 16.2901 120.42 25.3692 120.298 27.4294L120.296 27.4631C120.271 27.8889 120.348 28.2362 120.419 28.5543C120.546 29.1316 120.653 29.613 120.089 30.294C119.794 30.6507 119.391 30.5886 118.966 30.5232C118.536 30.457 118.084 30.3875 117.7 30.7457C116.192 32.1554 116.162 32.2901 115.816 33.8601L115.816 33.8608C115.791 33.9753 115.764 34.0974 115.735 34.2282C115.615 34.7621 115.545 35.2168 115.481 35.6306C115.335 36.5695 115.222 37.2985 114.644 38.2669C114.374 38.7177 114.011 39.1584 113.649 39.5982C112.448 41.0572 111.253 42.5073 113.505 44.2879C112.887 44.2948 107.505 45.7455 107.146 45.9333C106.626 46.2048 106.028 46.9103 105.493 47.5421L105.493 47.5422L105.493 47.5422C105.022 48.0979 104.6 48.5966 104.321 48.6932C101.127 49.7984 101.35 47.4119 101.579 44.9531C101.717 43.4742 101.857 41.9692 101.258 41.1821C109.541 40.9056 114.519 32.9679 115.01 26.8047C115.085 25.8635 114.714 25.0566 114.365 24.2957C114.084 23.6849 113.817 23.1038 113.805 22.5066C113.788 21.666 114.058 21.0964 114.325 20.5307C114.546 20.0635 114.766 19.599 114.822 18.9869C115.064 16.3513 113.98 15.3767 112.564 14.1039C111.851 13.463 111.054 12.7465 110.299 11.7044C107.796 8.24547 109.106 7.71356 112.894 8.33694C115.071 8.6954 117.164 9.33292 119.257 9.97051C121.819 10.751 124.381 11.5317 127.1 11.8006C130.579 12.1448 133.812 11.9759 135.458 9.14259C136.409 7.50701 136.825 3.01028 133.659 2.65738C134.452 2.53254 135.103 2.27789 135.768 2.01789C136.634 1.67892 137.524 1.33084 138.783 1.24937C139.787 1.64057 140.841 1.88849 141.942 1.99261ZM147.694 85.8747C147.695 85.8778 147.697 85.8803 147.699 85.882C147.701 85.8838 147.703 85.8847 147.705 85.8845C147.703 85.8827 147.701 85.8812 147.7 85.8797L147.694 85.8747ZM56.3794 92.4655C56.4811 92.5083 56.5948 92.5071 56.721 92.462C56.536 92.5988 56.2611 92.4881 56.3506 92.4659L56.3492 92.4666C56.3588 92.4663 56.3697 92.4661 56.3801 92.466L56.3794 92.4655ZM56.3728 92.4628C56.3659 92.461 56.3586 92.4621 56.3506 92.4659C56.3564 92.4645 56.3638 92.4634 56.3728 92.4628ZM155.437 132.487C155.1 132.461 155.106 132.452 155.449 132.426C155.509 132.149 155.604 131.857 155.696 131.577C155.913 130.913 156.106 130.323 155.73 130.19C156.861 129.97 156.65 131.987 156.529 133.145L156.529 133.146C156.501 133.417 156.477 133.642 156.477 133.779C155.417 133.784 155.298 133.193 155.437 132.487ZM155.516 131.785L155.514 131.765L155.513 131.74C155.083 131.771 155.084 131.779 155.517 131.812L155.516 131.785ZM65.6526 0.495865C66.0369 0.573975 67.1487 0.678519 67.5157 0.495865L65.6526 0.495865ZM63.0135 57.4794C61.9497 57.2283 61.5655 56.5609 61.277 56.0596C61.1157 55.7795 60.9843 55.5512 60.7808 55.4764C57.9475 54.4346 57.4941 56.3957 57.007 59.4631C56.9192 60.0161 56.8986 60.4945 56.8798 60.9308V60.9308C56.8335 62.0062 56.7983 62.8255 55.7943 63.8743C55.2238 64.4704 54.2833 64.7838 53.3522 65.0941L53.3521 65.0941C52.6756 65.3195 52.0041 65.5433 51.4829 65.8727C50.0117 66.8023 49.3589 67.6545 48.5606 68.6964C48.2439 69.1098 47.9044 69.5531 47.4817 70.0429C46.522 71.155 45.1183 72.2251 43.6615 73.3357C39.7513 76.3166 35.4585 79.5892 38.3404 84.7486C41.4364 90.2917 42.6629 85.6058 43.6093 81.9901C43.9724 80.6031 44.2942 79.3737 44.6644 78.9394C49.3258 73.474 50.3382 78.8154 50.9456 82.0196C51.0448 82.543 51.1332 83.0094 51.2249 83.3623C52.533 88.3941 54.3224 84.7674 55.7974 81.7779C56.2415 80.8778 56.657 80.0355 57.0224 79.5047C57.4606 78.868 58.0086 78.4039 58.5419 77.9521L58.542 77.952C59.2021 77.3929 59.8397 76.8528 60.2192 76.0282C60.4582 75.5086 60.3414 74.859 60.2213 74.1915C60.0232 73.0896 59.8162 71.9388 61.1869 71.2437C62.6392 70.5071 64.3071 71.4035 65.7928 72.2019C66.9191 72.8073 67.9408 73.3563 68.6844 73.095C71.0229 72.2734 68.9195 69.4984 67.2364 67.2779L67.2364 67.2778L67.2362 67.2777L67.236 67.2774L67.236 67.2774L67.2359 67.2772L67.2357 67.2771C66.4623 66.2566 65.7777 65.3534 65.6541 64.8108C65.2942 63.232 65.928 61.8627 66.5614 60.4942C67.2026 59.1089 67.8435 57.7243 67.453 56.1239C66.7978 56.2138 66.2286 56.5263 65.6648 56.8359C64.8508 57.2828 64.048 57.7236 63.0135 57.4794ZM104.606 94.0652C104.521 94.0659 104.439 94.0681 104.362 94.0737C104.444 94.0811 104.526 94.0773 104.606 94.0652ZM119.885 78.7001C120.268 76.0392 118.164 74.6787 115.986 73.27C115.297 72.8242 114.6 72.3736 113.973 71.8753C112.544 70.7421 111.577 69.7957 110.849 68.2058C110.725 67.9342 110.701 67.4777 110.677 67.0051C110.641 66.3205 110.604 65.602 110.257 65.3626C108.411 64.0887 107.376 64.9653 106.133 66.0183C105.538 66.5227 104.895 67.0677 104.092 67.436C101.371 68.6836 101.338 68.6639 99.708 67.7004L99.7079 67.7003L99.707 67.6998L99.7067 67.6996C99.3785 67.5056 98.9857 67.2733 98.4933 67.0055C98.2418 66.8687 98.0045 66.7274 97.7771 66.5919L97.777 66.5919L97.7769 66.5918C96.283 65.7019 95.2184 65.0677 93.3818 67.6662C92.6455 68.7078 92.6838 70.5384 92.7236 72.4392C92.7903 75.6242 92.8611 79.0065 89.2987 79.2054C90.8655 79.8958 90.1598 81.9519 89.4432 84.0394C88.7039 86.1932 87.953 88.3805 89.6749 89.136C93.8527 90.9689 95.0649 82.2797 95.7584 77.3077C95.987 75.6692 96.1593 74.4344 96.3628 74.1129C98.0252 71.4862 103.987 69.2534 105.703 73.1276C106.01 73.821 105.782 74.5679 105.551 75.3259C105.328 76.0601 105.101 76.8047 105.353 77.5214C105.72 78.5632 106.324 78.9442 107.023 79.3859C107.398 79.6226 107.8 79.8768 108.209 80.2596C111.103 82.9712 110.998 83.1372 109.549 85.4425L109.549 85.4426C109.301 85.8379 109.013 86.2962 108.694 86.8409C108.38 87.3761 108.133 88.2236 107.863 89.1534C107.25 91.2572 106.514 93.7826 104.606 94.0653C105.646 94.0579 106.735 94.3117 107.812 94.5625L107.812 94.5625C109.874 95.0425 111.889 95.5119 113.421 94.121C114.488 93.1515 114.306 91.3978 114.132 89.726C114.019 88.6313 113.909 87.5717 114.156 86.7903C114.603 85.3725 115.791 84.1916 116.973 83.0163C118.313 81.683 119.647 80.3568 119.885 78.7001ZM42.891 110.454C42.9281 110.934 42.9706 111.483 43.077 112.15C43.4724 114.627 44.5935 116.042 46.0326 117.859L46.0326 117.859L46.0338 117.861C46.3354 118.241 46.6509 118.64 46.9766 119.069C42.613 119.138 39.1721 123.68 43.9444 126.244C42.0129 125.206 40.5523 126.364 39.365 127.305C37.8721 128.488 36.8112 129.329 35.7897 125.031C35.7152 124.717 35.6162 124.338 35.5111 123.936C35.2841 123.067 35.0287 122.089 34.9298 121.425C34.7172 119.995 34.7543 119.817 34.9188 119.027L34.9188 119.027C34.9472 118.891 34.9793 118.737 35.0145 118.555C35.1041 118.093 35.2819 117.771 35.4461 117.473C35.7958 116.838 36.0835 116.316 35.3241 114.803C34.9285 114.014 34.4408 113.399 33.9779 112.814C33.1349 111.75 32.374 110.789 32.4006 109.08C32.408 108.6 32.6114 108.221 32.8304 107.813C33.1982 107.127 33.6103 106.359 33.2125 104.892C32.9819 104.042 32.5582 103.236 32.1341 102.429C31.625 101.461 31.1154 100.491 30.9394 99.4443C32.7406 99.5204 33.8854 100.892 34.9133 102.125C35.2744 102.557 35.6211 102.973 35.9768 103.309C36.7738 104.062 37.7345 104.595 38.6662 105.111C39.4791 105.562 40.2701 106.001 40.9112 106.563C42.712 108.142 42.775 108.955 42.891 110.454ZM48.6817 97.2964C50.1696 97.42 54.1613 94.1576 54.4184 93.2261C53.134 93.4664 51.8225 92.8698 50.5378 92.2853C49.1009 91.6316 47.6976 90.9931 46.4029 91.5578C44.1095 92.5581 46.55 97.1194 48.6817 97.2964ZM107.04 98.9245C105.406 99.2246 103.553 99.565 102.46 98.9224C101.403 98.3004 99.2975 95.6383 102.358 95.7877C103.136 96.0878 104.033 96.2816 104.918 96.4728C106.791 96.8773 108.61 97.2702 109.132 98.6335C108.558 98.6457 107.824 98.7805 107.04 98.9245ZM86.5906 74.9874C85.7581 74.9377 84.9762 74.788 84.2574 74.6504C82.0964 74.2367 80.5068 73.9324 79.831 76.7827C80.9453 76.7335 82.064 77.027 83.062 77.2888C85.1718 77.8423 86.7422 78.2542 86.5906 74.9874ZM115.566 111.439C114.85 111.078 114.176 110.738 113.642 110.7C114.325 110.592 114.447 109.933 114.563 109.307C114.661 108.781 114.754 108.279 115.172 108.144C115.337 108.186 115.533 108.232 115.748 108.282C117.513 108.693 120.631 109.42 119.864 111.101C118.934 113.138 117.148 112.237 115.566 111.439ZM47.0162 119.153C46.2809 119.191 46.7767 119.354 47.0938 119.393L47.0162 119.153ZM88.4748 71.1251C89.3016 70.5576 89.2754 67.9372 88.0176 67.8187C86.272 68.2097 87.1589 72.0285 88.4748 71.1251ZM153.602 40.4498C153.627 41.0357 156.205 43.5428 156.477 43.5344C156.477 43.4583 156.503 43.2722 156.537 43.0182C156.713 41.7316 157.125 38.7015 155.685 39.3827C155.442 39.4978 155.211 39.6592 154.979 39.8217C154.555 40.1183 154.126 40.4189 153.602 40.4498ZM45.6247 133.859C40.4841 133.859 42.3079 131.474 43.6803 132.209C43.9777 132.369 44.2343 132.645 44.4909 132.922C44.7882 133.242 45.0853 133.562 45.4455 133.7C45.5383 133.736 45.5622 133.772 45.586 133.809C45.5968 133.826 45.6076 133.843 45.6247 133.859ZM23.3002 5.12441C23.3136 4.6879 20.8753 3.932 22.3009 4.90675C22.1554 4.80729 22.2708 4.85501 22.4675 4.93637C22.7792 5.06535 23.2953 5.27884 23.3002 5.12441ZM147.37 49.7508C145.838 49.334 149.993 49.5227 149.474 50.6833C149.049 50.6259 148.68 50.4105 148.31 50.1946C148.007 50.0182 147.704 49.8416 147.37 49.7508Z" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M62.1237 32.7476C62.3573 31.9897 61.9727 31.1524 61.5867 30.3118C61.2669 29.6155 60.9462 28.917 60.9751 28.2599C61.0026 27.6354 61.4545 26.5091 61.8849 25.4362L61.8849 25.4362C62.1866 24.6841 62.4778 23.9584 62.6048 23.4502C62.6422 23.3006 62.681 23.1416 62.7218 22.9747C63.5114 19.7418 65.0135 13.5916 70.4253 16.4533C66.087 14.1593 67.8708 12.3317 69.8575 10.2963C70.6302 9.50457 71.4336 8.68143 71.9194 7.78716C72.3207 7.04849 72.643 6.71322 72.8322 6.51644C72.9437 6.40046 73.0089 6.3326 73.0168 6.2586C73.028 6.15421 72.925 6.03763 72.6767 5.75656C72.5728 5.63897 72.4435 5.49258 72.2864 5.30625C71.6938 4.60312 67.4975 3.65516 66.5006 3.67793C62.6748 3.76576 58.5247 7.38124 56.6026 10.2965C55.5712 11.8605 55.9294 12.7303 56.2708 13.5593C56.4764 14.0587 56.676 14.5433 56.5621 15.1559C56.5155 15.4068 56.5448 15.6587 56.5727 15.8983V15.8983C56.6583 16.633 56.7304 17.2521 54.5574 17.3728C51.8511 17.5233 46.786 13.0385 46.7612 10.8425C46.7531 10.109 47.5405 9.27766 48.3284 8.44581C49.7215 6.97504 51.1161 5.50268 48.1177 4.56682C45.8769 3.86763 39.0886 8.36891 38.6687 10.0767C38.4088 11.134 39.1631 12.2751 39.8246 13.2759C40.8794 14.8714 41.6983 16.1103 37.7954 16.0842C37.8093 16.0551 41.4308 18.3689 41.8033 18.8503C42.6458 19.9395 42.9689 20.7325 43.2457 21.412C43.7229 22.5835 44.0627 23.4178 46.6901 24.8508C47.7914 25.4516 48.9668 25.9715 50.1425 26.4916C51.7207 27.1898 53.2996 27.8883 54.7008 28.7827C55.4581 29.266 56.1036 29.8459 56.7338 30.412C58.2053 31.7338 59.5931 32.9805 62.1237 32.7476ZM151.366 9.50447C149.957 10.2435 150.768 10.8966 151.743 11.6822C152.717 12.4667 153.855 13.3834 153.11 14.6496C152.631 15.4628 151.5 15.6364 150.341 15.8143C149.169 15.9941 147.968 16.1784 147.385 17.0325C146.544 18.2619 146.883 19.1285 147.213 19.9694C147.597 20.9516 147.968 21.8988 146.429 23.3482C145.351 24.3645 144.333 24.6906 143.449 24.9737C142.139 25.3935 141.124 25.7186 140.644 28.0592C139.908 31.6443 141.74 34.0263 143.491 36.3018C145.472 38.8772 147.348 41.3162 145.277 45.209C145.182 45.3881 145.064 45.5936 144.935 45.8193L144.935 45.8198C143.85 47.7171 141.949 51.0423 145.558 52.1573C148.194 52.9717 148.035 52.0413 147.871 51.0752C147.747 50.3488 147.62 49.6023 148.674 49.562C148.455 48.9672 151.649 49.6599 151.254 50.5382C152.095 50.6286 152.503 51.0816 152.9 51.5211C153.471 52.1541 154.016 52.7592 155.79 52.2129C157.564 51.6668 157.847 50.0216 158.08 48.6668L158.098 48.5613C158.448 46.5304 157.51 44.7689 156.606 43.0716C155.854 41.6596 155.125 40.2921 155.182 38.851C155.191 38.6427 155.185 38.4713 155.179 38.3149C155.166 37.9454 155.157 37.6606 155.344 37.1754C155.931 36.7633 156.597 36.606 157.342 36.7034C158.495 36.9433 158.817 36.5077 158.307 35.3968C159.311 33.4728 158.932 30.2193 158.599 27.3533C158.448 26.0559 158.307 24.8379 158.307 23.8585C158.307 23.1814 158.426 22.0492 158.565 20.7237C158.93 17.2542 159.435 12.4604 158.307 11.0383C157.649 10.2091 152.498 8.91125 151.366 9.50447ZM153.582 58.3525C150.607 57.594 150.968 59.9162 151.245 61.7033V61.7034V61.7035L151.245 61.7037L151.245 61.7048L151.246 61.7055C151.326 62.2208 151.399 62.6915 151.382 63.0308C151.242 65.9859 150.899 66.7055 147.229 67.1928C146.351 67.3094 145.512 67.0967 144.684 66.8866C143.289 66.5326 141.923 66.1862 140.447 67.4391C139.617 68.1439 139.655 69.01 139.694 69.8808C139.713 70.3064 139.732 70.7331 139.649 71.1426C139.509 71.8369 138.974 72.9159 138.404 74.0659L138.404 74.066C137.354 76.185 136.184 78.5452 137.144 79.1845C137.793 79.6167 139.667 79.1235 141.802 78.562C145.475 77.5959 149.918 76.4273 150.209 79.4206C150.382 81.1953 148.049 81.4674 145.832 81.7261C144.392 81.8942 143 82.0565 142.376 82.6214C142.189 82.7908 141.826 84.0496 141.465 85.304C141.062 86.7024 140.66 88.0952 140.505 87.9673C141.16 88.5091 142.196 87.7715 143.423 86.8974C145.223 85.6155 147.435 84.0401 149.461 85.7759C146.973 81.0246 154.314 81.6998 157.449 81.9881C157.791 82.0196 158.083 82.0464 158.307 82.0611V66.2114C154.754 67.1446 154.983 65.1336 155.238 62.8959C155.457 60.9768 155.695 58.891 153.582 58.3525ZM155.511 126.554H155.511H155.512H155.512H155.512C156.413 126.604 157.324 126.654 158.307 126.641C158.307 127.459 157.569 127.819 156.828 128.18C156.187 128.493 155.544 128.806 155.373 129.418C154.886 131.155 155.954 131.752 156.935 132.3C157.643 132.697 158.307 133.067 158.307 133.823C157.47 133.823 156.529 133.864 155.552 133.907C153.483 133.997 151.253 134.093 149.512 133.823H146.581C146.496 133.443 146.411 133.062 146.326 132.681C146.2 132.622 146.056 132.555 145.898 132.481C144.683 131.913 142.618 130.948 141.712 130.317C137.199 127.172 141.253 123.9 145.492 122.596C142.565 123.497 146.582 126.388 148.001 126.784C149.094 127.088 149.739 126.934 150.494 126.754C150.944 126.646 151.435 126.529 152.083 126.494C153.286 126.43 154.391 126.491 155.511 126.554ZM37.2886 37.8454C36.6716 37.5386 36.0038 37.7321 35.3302 37.9273C34.5527 38.1525 33.7674 38.3801 33.0435 37.8433C32.6529 37.5535 32.7845 36.9667 32.906 36.4256C33.0047 35.9854 33.0967 35.5753 32.8954 35.3797C30.8973 33.4378 30.7769 33.9097 30.4413 35.2252L30.4413 35.2252C30.2905 35.8161 30.0963 36.5773 29.6689 37.3663C28.8088 38.9541 27.7062 39.3199 26.611 39.6833C25.3091 40.1152 24.0176 40.5437 23.1561 43.0171C21.3159 48.3004 17.9634 46.6329 16.7499 42.0143C16.5631 41.3031 15.9943 40.2381 15.3562 39.043C13.7646 36.0625 11.7411 32.273 14.1305 31.145C12.4739 31.9269 10.5189 32.2737 8.56377 32.6205L8.56374 32.6205C6.29134 33.0236 4.01888 33.4267 2.21494 34.513C0.300238 35.666 0.307485 35.9335 0.343384 37.259C0.350265 37.513 0.358198 37.8059 0.353855 38.1513C0.336357 39.5476 0.37875 41.2329 0.418291 42.8048C0.431446 43.3277 0.444285 43.8381 0.454498 44.3211C0.486378 45.8281 1.12304 47.103 1.77597 48.4104C2.16207 49.1836 2.55386 49.9682 2.82964 50.8188C3.40816 52.6032 3.64589 54.4792 3.88295 56.3498C4.04002 57.5893 4.1968 58.8264 4.45221 60.033C4.50527 60.2837 4.5602 60.5329 4.61482 60.7807C5.13277 63.1306 5.624 65.3593 4.24949 67.6266C4.06447 67.9317 3.60208 68.2858 3.1046 68.6668C2.22707 69.3388 1.24034 70.0944 1.47402 70.8128C1.81342 71.8567 3.51136 70.3215 4.38748 69.5293C4.57698 69.3579 4.72803 69.2214 4.81858 69.1532C5.60569 68.5598 5.64845 67.9763 5.68277 67.5078C5.72429 66.9412 5.75348 66.5427 7.0718 66.4981C8.88099 66.4372 10.7276 68.4269 11.8245 69.6088L11.825 69.6094C11.9395 69.7328 12.0458 69.8473 12.143 69.9498C12.7465 70.5859 13.3118 71.3785 13.899 72.2017C15.4223 74.3373 17.0927 76.6793 19.9585 77.0311C28.8431 78.1224 30.6236 67.8791 27.315 63.2263C26.6379 62.2742 25.671 61.3429 24.6857 60.3941C23.02 58.79 21.3021 57.1355 20.8436 55.2444C20.0843 52.1117 22.7722 49.5743 26.4608 51.373C28.2153 52.2285 28.7807 53.7196 29.3506 55.2225C29.8357 56.502 30.3241 57.79 31.5523 58.7017C34.1537 60.6331 34.4 60.0782 34.8321 59.1048C35.0633 58.5838 35.3478 57.9428 36.0753 57.499C38.1851 56.2119 41.8279 55.1525 42.3316 58.3595C42.5087 59.4875 41.5724 60.448 40.6192 61.4258C39.4839 62.5904 38.3246 63.7797 38.994 65.3059C40.2879 68.2555 41.4581 66.6601 42.4568 65.2985C42.669 65.0091 42.8735 64.7303 43.0698 64.5079C45.8557 61.3516 48.633 58.0588 47.8027 53.9147C47.2707 51.2584 45.4163 49.3654 43.5297 47.4396C42.6722 46.5642 41.808 45.682 41.0584 44.7183C40.61 44.1419 40.1833 43.0798 39.7311 41.9542C39.0348 40.221 38.2781 38.3375 37.2886 37.8454ZM86.9765 108.485C86.9506 109.737 86.9248 110.986 87.4891 112.213C88.7686 114.995 89.4705 116.66 87.7033 119.261C87.2239 119.966 86.7243 120.483 86.2421 120.981C85.4366 121.813 84.6799 122.595 84.148 124.125C83.9863 124.59 83.8708 125.02 83.763 125.422L83.763 125.422C83.3725 126.878 83.0836 127.954 81.0647 128.929C76.4187 131.172 72.9469 129.117 69.8943 126.547C69.6533 126.344 69.4236 126.154 69.204 125.971C67.6577 124.687 66.612 123.819 65.6675 122.064C65.3582 121.49 65.4067 120.988 65.4512 120.528C65.5221 119.794 65.583 119.165 64.1726 118.509C62.8043 117.872 61.4659 118.115 60.1214 118.359C58.4368 118.664 56.7428 118.971 54.9684 117.553C50.9484 114.342 51.9718 108.065 55.6858 105.339C56.7338 104.57 57.6946 104.117 58.4917 103.74C60.3362 102.87 61.3043 102.413 60.4496 99.4141C59.6872 98.8005 59.1674 98.0656 58.8902 97.2095C58.853 96.4828 59.0189 95.7887 59.3881 95.1277C59.2882 94.674 59.4408 94.2244 59.5767 93.824C59.8566 92.9992 60.0656 92.3834 57.8508 92.3717C58.4654 91.9187 58.6401 90.9249 58.8226 89.8863C59.0891 88.3696 59.3724 86.7573 61.0671 86.5948C63.9884 86.3144 64.3146 89.3042 64.5594 91.5482C64.6395 92.2823 64.7109 92.9366 64.8615 93.3705C66.0426 96.7725 67.4271 97.9421 71.2119 96.5924C72.1903 96.2434 76.7818 93.7798 77.1355 93.2416C75.4915 95.7428 78.864 98.1091 81.3843 99.8774C82.004 100.312 82.5723 100.711 83.0017 101.067C83.1751 101.21 83.3505 101.352 83.526 101.495C84.5644 102.337 85.6053 103.181 86.2431 104.298C87.0345 105.683 87.0055 107.086 86.9765 108.485ZM128.423 126.988C126.979 126.832 121.692 124.785 122.335 123.078C123.963 118.751 132.454 123.641 135.39 125.332C135.593 125.449 135.769 125.551 135.915 125.633C134.804 125.692 133.726 126.009 132.652 126.326C131.259 126.737 129.872 127.146 128.423 126.988Z" fill="black" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M43.247 2.4112C43.4532 3.92187 46.4117 6.2163 48.3208 4.85377C49.5387 5.29495 47.7352 2.06265 47.4339 1.76245C45.8448 0.179932 42.8405 -0.563483 43.247 2.4112ZM76.2674 4.35599C75.5297 4.18249 74.8277 4.01736 74.2418 3.81073C73.7034 3.62087 73.67 1.56805 73.8942 1.1594C74.3321 0.360833 75.8441 0.450956 77.2231 0.533151C77.6287 0.557322 78.0227 0.580807 78.3745 0.580807L91.6674 0.580807C89.8084 1.32065 91.8167 2.07513 92.7738 2.28593C93.5498 2.06389 99.1361 6.19899 98.9811 7.92931C98.8967 8.87328 98.2338 9.56063 97.5548 10.2647C96.7407 11.1088 95.9035 11.9769 96.0126 13.3401C96.0786 14.1643 96.8804 15.5173 97.7793 17.0341C100.029 20.8301 102.886 25.6521 96.3403 25.7791C93.2883 25.8383 93.3648 24.4033 93.4543 22.7243C93.5139 21.6067 93.5792 20.3811 92.7313 19.4161C92.2407 18.858 91.4524 18.5007 90.6606 18.1418C89.6489 17.6831 88.6314 17.2219 88.2219 16.3359C88.0218 15.9029 88.1752 14.9676 88.3404 13.9609C88.7512 11.4568 89.2346 8.51013 84.5301 11.7485C84.0524 12.0775 83.7571 12.7188 83.4614 13.3612C82.8926 14.5969 82.3221 15.8362 80.4473 14.8608C78.8239 14.0162 79.722 12.3529 80.6241 10.6821C81.3088 9.41395 81.9959 8.14146 81.5844 7.21944C80.7802 5.41748 78.3781 4.85247 76.2674 4.35599ZM156.698 91.805C153.943 92.5245 152.355 89.9642 151.081 87.911C150.213 86.5132 149.492 85.3503 148.647 85.6174C146.416 83.6918 144.26 85.4524 142.475 86.9098L142.475 86.9098C141.8 87.4609 141.178 87.9686 140.626 88.2173C140.74 88.2891 135.648 87.0914 136.683 86.8898C129.862 84.5716 129.78 89.7817 129.709 94.3228C129.679 96.2818 129.65 98.1163 129.083 99.1681C128.06 101.066 126.624 101.795 124.267 102.623C123.44 102.914 122.53 103.081 121.623 103.247C119.722 103.596 117.835 103.942 116.764 105.415C116.566 105.688 116.372 106.554 116.236 107.16C116.157 107.514 116.098 107.779 116.069 107.785C116.675 107.938 120.946 109.294 121.388 109.66C121.793 109.994 121.898 110.583 121.993 111.122C122.074 111.577 122.148 111.996 122.39 112.201C123.084 112.787 123.773 113.192 124.432 113.58C125.548 114.236 126.576 114.841 127.394 116.186C127.74 116.755 127.917 117.418 128.093 118.074C128.52 119.669 128.936 121.223 131.729 121.279C134 121.324 135.345 119.558 136.044 118.052C136.359 117.374 136.275 115.49 136.181 113.369C135.951 108.195 135.659 101.614 140.932 107.711C141.449 108.309 141.647 108.714 141.813 109.054C142.087 109.616 142.274 110 143.678 110.786C144.261 111.111 144.84 111.126 145.401 111.141C146.212 111.162 146.984 111.181 147.671 112.142C148.381 113.134 148.028 114.085 147.818 114.649C147.582 115.284 147.527 115.431 149.37 114.602C153.657 112.673 153.825 108.358 153.966 104.741V104.741V104.741C153.994 104.023 154.021 103.333 154.079 102.694C154.283 100.444 154.78 99.1017 155.707 97.1137C155.762 96.9962 155.917 96.7464 156.124 96.4156C157.154 94.7624 159.444 91.0875 156.698 91.805ZM72.1973 128.551C71.417 127.459 70.4216 126.736 69.3733 125.974C68.8918 125.624 68.3992 125.266 67.9111 124.861C67.6339 124.631 67.3163 124.429 66.9979 124.226L66.9977 124.226C66.3726 123.829 65.7441 123.429 65.4111 122.808C65.1427 122.308 65.2393 121.632 65.3356 120.957C65.4463 120.181 65.5566 119.408 65.1119 118.909C63.8448 117.486 62.127 117.827 60.3241 118.184C57.9169 118.661 55.358 119.167 53.5179 115.548C52.2026 112.961 51.5582 109.234 53.2752 106.713C53.9973 105.652 55.5911 104.92 57.1567 104.2C59.1051 103.305 61.0097 102.43 61.1359 100.967C61.209 100.12 60.5708 99.5094 59.9079 98.8754C59.3271 98.32 58.7273 97.7464 58.5706 96.9793C58.4384 96.3326 58.7841 95.5579 59.1129 94.8212C59.7526 93.3878 60.3283 92.0977 57.1957 92.1718C57.2491 92.192 57.2027 92.2117 57.1565 92.2313C57.1445 92.2363 57.1326 92.2414 57.1224 92.2464C57.0761 92.2276 56.7244 92.3743 56.3061 92.5487L56.306 92.5487L56.3059 92.5487C55.7575 92.7774 55.0946 93.0538 54.8549 93.0678C54.8421 93.0651 54.7142 93.1944 54.5034 93.4076C53.5406 94.3815 50.8478 97.1049 49.4865 96.9824C46.8071 96.7415 45.7563 91.5354 47.2046 91.2673C46.5904 91.1692 46.126 90.8403 45.6471 90.501C44.8015 89.902 43.9106 89.2708 42.0693 89.8216C40.6266 90.2529 40.2698 90.8662 39.7968 91.6791C39.6421 91.945 39.475 92.2322 39.2534 92.5413C38.5608 93.5077 38.1722 94.1554 37.9227 94.5713C37.6654 95.0003 37.5559 95.1828 37.4133 95.2141C37.3076 95.2373 37.1838 95.1777 36.9682 95.0739C36.5688 94.8816 35.8546 94.5377 34.358 94.2883L34.3041 94.5924C34.0981 95.753 34.0174 96.2075 34.1729 96.5568C34.273 96.7816 34.4708 96.9629 34.796 97.2608C35.0539 97.4971 35.3919 97.8067 35.8246 98.2695C36.3723 98.8553 37.004 99.3945 37.6345 99.9327C38.0849 100.317 38.5347 100.701 38.9528 101.101C39.4753 101.601 44.3041 106.591 43.3006 106.832C44.2685 107.011 44.3667 109.313 44.4609 111.521C44.5269 113.069 44.591 114.571 44.9516 115.263C45.3105 115.952 45.8877 116.545 46.464 117.137C46.9281 117.614 47.3916 118.09 47.7398 118.616C48.6819 120.037 48.8272 121.701 48.9744 123.388C49.1156 125.005 49.2587 126.643 50.1076 128.108C50.3296 128.491 50.6928 128.808 51.0524 129.122C51.3976 129.423 51.7394 129.721 51.9495 130.072C52.0887 130.305 52.3397 130.523 52.5799 130.733L52.58 130.733C52.7214 130.856 52.8591 130.976 52.9678 131.093C53.7076 131.892 53.7946 132.311 53.8476 132.566C53.8648 132.649 53.8784 132.714 53.9095 132.77C54.0282 132.982 54.4011 133.052 56.195 133.39L56.2199 133.394C59.4959 134.01 68.8418 133.717 71.4142 131.621C71.783 131.321 72.1633 130.506 72.4497 129.893C72.641 129.483 72.7904 129.164 72.8666 129.146C72.489 128.966 72.3611 128.784 72.2331 128.601C72.2212 128.585 72.2094 128.568 72.1973 128.551ZM103.179 126.451C102.289 126.353 101.634 126.066 100.993 125.786C100.109 125.399 99.2526 125.024 97.8446 125.17C96.6429 125.294 95.7247 125.861 94.804 126.429C94.267 126.76 93.7292 127.092 93.1338 127.337C91.683 127.934 89.1726 128.192 86.4353 128.473C80.9328 129.038 74.5139 129.696 73.9436 133.394C74.8734 133.394 76.2917 133.482 77.9362 133.583C83.0135 133.896 90.2481 134.343 91.9286 132.759C92.7887 131.948 92.6708 131.267 92.5712 130.693C92.4282 129.868 92.3231 129.262 95.2044 128.802C96.1451 128.652 96.8337 128.892 97.5195 129.132C98.5692 129.498 99.6124 129.862 101.543 128.82C101.814 128.674 105.302 126.685 103.179 126.451ZM101.4 106.147C106.345 101.019 107.68 108.367 107.68 111.412C107.679 114.889 101.674 117.458 99.8128 113.716C99.1948 112.474 100.182 107.41 101.4 106.147ZM156.999 7.73732C156.337 7.26753 155.713 6.32455 155.058 5.33663C154.051 3.81592 152.973 2.18874 151.582 2.01698C147.818 1.55265 148.256 5.9924 148.612 9.60597C148.799 11.4943 148.963 13.157 148.493 13.7764C148.546 13.7798 148.773 13.9206 149.101 14.1242C150.685 15.1065 154.625 17.5496 152.646 13.0643C152.47 12.6643 151.772 12.3384 151.076 12.0131C149.788 11.4116 148.506 10.8122 150.53 9.75064C151.819 9.0751 153.251 9.7519 154.636 10.4065C155.614 10.8684 156.568 11.3193 157.432 11.2761C157.432 11.0644 157.448 10.8054 157.466 10.5237C157.53 9.49892 157.614 8.17421 156.999 7.73732ZM155.77 50.9136C156.164 50.3771 156.534 49.8744 156.847 49.6882C157.037 49.5748 157.68 66.3605 156.998 66.1514C153.698 68.1169 154.112 63.7508 154.369 61.0459C154.461 60.0737 154.533 59.316 154.405 59.1441C153.928 58.5056 152.942 58.2709 151.953 58.0356C150.588 57.7106 149.217 57.3843 149.176 55.9903C149.16 55.4012 151.278 53.7683 151.813 53.4124C152.007 53.2836 152.02 53.0621 152.034 52.8335C152.049 52.5898 152.064 52.3381 152.298 52.182C152.44 52.0875 152.785 52.181 153.171 52.2856C153.67 52.4209 154.237 52.5746 154.519 52.3623C154.939 52.0448 155.368 51.4616 155.77 50.9136ZM119.362 63.9915C118.862 63.1418 118.356 62.2801 117.215 61.775C114.184 60.4327 114.124 59.8068 114.022 58.7471C113.962 58.1223 113.888 57.3467 113.182 56.1846C111.464 53.3584 107.125 53.5541 103.684 53.7093C102.984 53.7409 102.322 53.7708 101.726 53.7732C100.963 53.7762 100.412 53.7414 99.982 53.7143C98.6213 53.6284 98.4784 53.6194 96.7152 55.1321C95.9966 55.7487 95.2913 56.4733 94.5683 57.216L94.5682 57.2161C93.7551 58.0515 92.9196 58.9099 92.0179 59.6631C90.0846 61.278 85.6015 65.3674 88.8769 67.6261C87.2754 67.9828 87.773 70.6957 88.894 71.2971C88.7591 71.3488 87.3765 74.5886 87.4481 74.7654C86.7238 74.7223 86.0335 74.544 85.3696 74.3725C83.8881 73.9897 82.538 73.641 81.2353 74.9053C80.1155 75.9918 80.48 77.5685 80.8451 79.148C81.1524 80.477 81.46 81.808 80.8844 82.8505C79.2668 85.7802 73.9719 86.0608 71.1942 84.3065C69.2919 83.1048 64.9444 79.223 63.7341 77.4322C61.6669 74.3736 62.4863 71.6361 66.8112 71.7467C67.8556 71.7735 68.6087 72.2177 69.1573 72.5412C69.979 73.0259 70.3418 73.2398 70.537 71.3745C70.6229 70.5538 69.7432 69.5018 69.0274 68.6456C68.7599 68.3257 68.5153 68.0332 68.3525 67.7903C68.2377 67.6191 68.1265 67.4543 68.019 67.2949L68.0172 67.2922C66.1704 64.5547 65.4217 63.4449 66.8142 60.1024C66.884 59.935 66.9512 59.7751 67.0156 59.6216L67.0159 59.621C68.015 57.2426 68.3602 56.4209 67.4121 53.7005C66.3213 50.5702 66.0185 49.2499 66.277 45.9414C66.2887 45.792 66.3099 45.6178 66.3332 45.4264V45.4263C66.5011 44.0492 66.7778 41.7801 64.3856 41.4357C64.7518 40.8996 66.1208 36.9896 65.7888 36.6212C67.8284 36.8603 68.1542 36.4868 68.7581 35.7947C69.141 35.3558 69.6356 34.7889 70.7497 34.1687C71.5224 33.7386 72.5039 33.6332 73.4964 33.5266C74.8831 33.3777 76.2914 33.2265 77.1818 32.184C77.9936 31.2339 78.0265 29.6933 78.0588 28.1795C78.0826 27.0651 78.106 25.9653 78.4398 25.1263C79.0531 23.584 79.872 21.6689 81.9463 20.9769C86.9458 19.3094 86.5496 23.5969 86.2713 26.6079L86.2713 26.608C86.2236 27.1238 86.1794 27.602 86.1664 28.0065C86.0016 33.1236 85.9219 38.5636 86.9243 43.5024C87.9417 48.5161 88.7918 46.5963 89.9428 43.9973C90.1636 43.4986 90.3955 42.9749 90.6418 42.4704C91.0763 41.5804 91.7933 40.9283 92.5067 40.2795C93.1722 39.6742 93.8347 39.0717 94.2622 38.2813C94.5838 37.6866 94.555 37.0692 94.5272 36.4715C94.4886 35.6447 94.4518 34.8557 95.3474 34.2174C96.0195 33.7384 96.8171 33.9001 97.5453 34.0477C98.1472 34.1697 98.7017 34.2821 99.0984 34.015C99.8696 33.4959 99.9839 32.0474 100.102 30.5529C100.27 28.4196 100.446 26.1925 102.55 26.441C104.611 26.6845 104.802 28.7766 104.961 30.5359C105.074 31.7796 105.172 32.857 105.906 32.9972C105.514 33.1021 105.041 33.2117 104.535 33.329C101.317 34.0749 96.7566 35.1323 103.055 37.2471C101.121 37.43 101.683 39.7313 101.941 40.79C101.96 40.8674 101.977 40.9383 101.992 41.0011C102.062 41.3048 102.425 41.5561 102.791 41.809C103.172 42.0729 103.556 42.3386 103.614 42.6678C103.741 43.4001 103.54 43.7653 103.341 44.1272C103.196 44.3915 103.051 44.6541 103.036 45.0567C103.017 45.5932 102.963 46.0992 102.915 46.5549C102.704 48.5634 102.595 49.5973 105.901 47.9752C106.833 47.5177 107.048 46.8894 107.217 46.3967C107.452 45.7103 107.597 45.2872 109.466 45.9569C109.537 46.1497 109.705 46.2655 109.969 46.3041C110.248 46.2233 110.7 46.5284 111.234 46.8887C112.047 47.4366 113.048 48.1122 113.916 47.7526C115.644 47.0375 114.994 45.8226 114.405 44.7227C114.187 44.3142 113.977 43.9215 113.9 43.5762C113.321 40.9664 113.693 40.7925 114.531 40.4007C115.129 40.121 115.965 39.7301 116.861 38.2618C117.601 37.0502 117.124 35.8411 116.676 34.7084C116.084 33.2109 115.545 31.847 117.942 30.7876C124.05 28.0884 125.004 34.3618 124.236 37.3479L124.146 37.6959C123.309 40.9368 122.685 43.3526 124.267 46.6947C125.351 48.9864 127.13 50.3405 129.038 51.7921L129.038 51.7922C129.998 52.523 130.991 53.2785 131.944 54.1907C135.526 57.6195 135.816 61.7061 131.727 64.9927C128.453 67.6239 124.054 68.4043 120.634 65.6467C120.065 65.1881 119.715 64.5928 119.362 63.9915ZM113.122 94.8436C108.398 94.2175 106.767 94.0971 103.199 94.9759C103.428 95.2054 103.44 95.3733 103.237 95.4797C103.838 95.7105 104.755 95.8669 105.736 96.0343C107.487 96.3331 109.443 96.6667 110.17 97.5203C110.35 97.731 110.201 98.5595 110.065 99.312L110.065 99.312L110.065 99.3123C109.947 99.9714 109.839 100.572 109.972 100.648C109.864 100.586 114.183 95.3888 114.849 94.892C114.271 94.9126 113.696 94.8966 113.122 94.8436ZM31.2317 108.277L31.2321 108.277C31.4232 108.384 31.5582 108.46 31.5872 108.471C32.0908 108.658 32.6228 108.74 33.1828 108.717C32.925 110.121 30.8707 112.723 28.6317 112.294C25.9681 111.783 26.9887 110.61 28.0705 109.368C28.6579 108.693 29.2633 107.998 29.3069 107.376C29.3188 107.208 30.5901 107.918 31.2315 108.277L31.2316 108.277L31.2317 108.277ZM30.1187 101.632C30.5158 102.186 31.2043 102.616 31.8647 103.029C32.1596 103.213 32.4489 103.394 32.7041 103.58C33.0698 103.041 32.7133 101.975 32.3622 100.925C32.0697 100.05 31.7809 99.1862 31.9163 98.6468C30.2098 98.5915 29.3721 100.591 30.1187 101.632ZM61.1522 0.69232C59.5224 1.6115 53.8064 4.8353 53.4891 1.49698C53.4632 1.19185 53.4406 0.88638 53.4215 0.580909L61.3503 0.580909C61.2936 0.612587 61.2272 0.650013 61.1522 0.69232Z" fill="white" fill-opacity="0.2"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13.2939 131.119C10.6826 131.533 3.75571 132.631 2.50165 131.512C1.68361 130.781 2.05133 128.182 2.31572 126.314C2.41614 125.604 2.50165 125 2.50165 124.643C3.7762 124.581 4.7433 126.023 5.68851 127.432C7.09076 129.522 8.44479 131.541 10.683 128.471C11.7323 127.032 11.4901 125.216 11.244 123.37C10.9845 121.423 10.7206 119.444 11.962 117.839C13.4382 115.93 15.794 115.665 18.1219 115.404C20.5872 115.126 23.0212 114.853 24.3462 112.634C24.7278 111.994 24.8316 110.862 24.9435 109.639C25.1378 107.518 25.3568 105.126 27.0955 104.573C30.0956 103.618 30.2874 106.238 30.4548 108.524C30.5447 109.752 30.6276 110.884 31.1344 111.314C36.5946 115.953 37.11 107.01 37.227 104.98L37.2289 104.947C37.2531 104.527 37.1793 104.185 37.1116 103.872C36.9889 103.303 36.8865 102.829 37.4278 102.158C37.7112 101.807 38.0984 101.868 38.5061 101.932C38.9188 101.998 39.3525 102.066 39.7207 101.713C41.1686 100.325 41.1971 100.192 41.529 98.6453L41.5293 98.6439L41.5347 98.6183L41.5645 98.4797L41.6072 98.2826C41.7219 97.7567 41.7895 97.3089 41.8511 96.9012C41.9908 95.9763 42.0993 95.2581 42.6544 94.3042C42.913 93.8602 43.2613 93.4261 43.609 92.9928C44.7623 91.5556 45.9086 90.1271 43.7477 88.3731C44.341 88.3663 49.506 86.9372 49.8509 86.7523C50.3501 86.4848 50.9238 85.7898 51.4375 85.1674C51.8893 84.62 52.2948 84.1287 52.5626 84.0336C55.628 82.9449 55.4144 85.2958 55.1944 87.7178C55.0621 89.1747 54.9274 90.6572 55.5025 91.4326C47.5526 91.7049 42.7738 99.5241 42.3029 105.595C42.2311 106.523 42.5869 107.317 42.9224 108.067C43.1918 108.669 43.448 109.241 43.4595 109.829C43.4758 110.657 43.2171 111.219 42.9601 111.776C42.7478 112.236 42.5368 112.693 42.4831 113.297C42.2509 115.893 43.2916 116.853 44.6508 118.107C45.3351 118.738 46.1002 119.444 46.8242 120.47C49.2272 123.878 47.9694 124.402 44.3341 123.787C42.2441 123.434 40.2355 122.806 38.2267 122.178C35.7676 121.409 33.3082 120.64 30.6984 120.376C27.3593 120.036 24.2567 120.203 22.676 122.994C21.7635 124.605 21.3642 129.035 24.4031 129.382C23.6417 129.505 23.017 129.756 22.3792 130.012C21.5477 130.346 20.6938 130.689 19.4855 130.769C18.5209 130.384 17.5102 130.14 16.4528 130.037C15.5476 130.184 14.7413 130.506 14.0344 131.004C13.8625 131.029 13.6098 131.069 13.2939 131.119ZM193.244 62.0127C193.705 62.282 194.613 62.2323 195.593 62.1786C196.654 62.1206 197.799 62.058 198.548 62.3913C198.945 62.5678 199.346 63.0254 199.75 63.4868C200.12 63.9098 200.493 64.3362 200.869 64.5525C201.726 65.0451 202.652 65.2156 203.576 65.3858C204.282 65.5158 204.987 65.6456 205.66 65.9183C208.465 67.0562 210.546 69.5216 208.933 72.3852C208.485 73.18 207.456 73.7235 206.439 74.2613C205.123 74.9567 203.826 75.6424 203.825 76.849C203.825 81.3288 211.611 73.9361 212.309 72.3529C212.505 71.9074 212.576 71.3955 212.647 70.8781C212.747 70.1563 212.848 69.4238 213.294 68.8461C213.641 68.3962 214.543 67.9206 215.253 67.5469C215.73 67.2956 216.119 67.0903 216.193 66.97C217.487 64.8727 216.937 59.7113 216.514 55.7453C216.343 54.1469 216.193 52.7428 216.193 51.8116C213.995 51.8221 213.001 54.5043 212.005 57.1881C210.558 61.0913 209.11 64.9979 203.955 60.6945C202.589 59.5536 198.654 52.5843 198.654 51.2839C198.654 50.0985 199.263 49.4366 199.91 48.7333C200.222 48.3947 200.543 48.0464 200.809 47.6255C201.104 47.158 201.349 46.7952 201.555 46.4906L201.555 46.4905C202.379 45.2736 202.573 44.9868 202.786 42.6724C202.959 40.7888 203.17 40.5021 203.718 39.7591L203.718 39.7591L203.718 39.7589C203.944 39.4529 204.227 39.0695 204.587 38.4653C204.764 38.1685 205.081 37.9023 205.393 37.6394C206.107 37.0387 206.8 36.4556 205.762 35.5666C203.157 33.3362 197.518 39.1196 196.54 40.2762C193.765 43.557 189.987 48.0432 190.322 52.2016C190.397 53.1372 192.405 61.5222 193.244 62.0127ZM159.752 121.135C159.416 121.535 159.095 121.917 159.13 122.429C159.252 124.216 159.258 124.214 159.481 124.105C159.649 124.024 159.942 123.881 160.502 124.401C160.658 124.546 161.134 124.761 161.702 125.017C163.028 125.615 164.858 126.44 164.304 127.138C164.017 127.499 163.256 127.531 162.453 127.565C161.649 127.599 160.803 127.635 160.347 128.004C160 128.284 159.785 128.83 159.592 129.32C159.431 129.728 159.286 130.097 159.092 130.242C157.533 131.41 156.924 131.511 153.606 131.511C155.801 130.884 150.164 126.989 149.59 128.226C150.125 127.074 149.415 125.852 148.743 124.693C148.345 124.008 147.96 123.346 147.853 122.733C147.714 121.932 147.739 121.142 147.763 120.369C147.818 118.617 147.869 116.959 145.996 115.494C146.628 115.422 146.986 114.974 147.343 114.529C147.72 114.059 148.094 113.591 148.786 113.568C149.664 115.94 151.682 116.106 153.824 116.283C154.802 116.364 155.806 116.447 156.738 116.743C157.03 116.836 157.311 116.91 157.578 116.982C158.629 117.262 159.485 117.49 160.102 118.557C160.842 119.837 160.28 120.507 159.752 121.135ZM216.193 0.888748C216.193 -0.187622 214.213 -0.0337067 212.747 0.0802155L212.747 0.0802612C212.352 0.110962 211.994 0.138748 211.723 0.138748C212.354 0.386749 212.714 0.560104 212.964 0.679962C213.155 0.772156 213.281 0.832687 213.414 0.871185C213.667 0.944778 213.943 0.937866 214.748 0.917725H214.748H214.748H214.749H214.75C215.11 0.908676 215.576 0.897034 216.193 0.888748ZM3.25195 2.38644C3.04356 3.04115 2.85849 3.62257 3.21851 3.75348C2.13312 3.96953 2.33553 1.98274 2.45175 0.841919C2.47905 0.574051 2.50159 0.352814 2.50159 0.217697C3.9446 0.210358 3.57095 1.38426 3.25195 2.38644ZM160.759 0.138718H157.182C157.486 0.281464 157.805 0.458908 158.122 0.635178L158.122 0.635361L158.122 0.635498L158.123 0.63559C159.453 1.37607 160.746 2.09567 160.759 0.138718ZM215.304 9.1382C215.3 9.13745 215.295 9.13722 215.291 9.13749C215.731 9.05922 215.996 9.09053 216.148 9.10857H216.148H216.148H216.148C216.236 9.11903 216.287 9.12503 216.312 9.10256C216.346 9.07243 216.335 8.99108 216.309 8.80064C216.269 8.50691 216.193 7.95366 216.193 6.92846C215.166 6.94547 213.554 9.1133 215.29 9.13754C215.287 9.13777 215.284 9.13828 215.281 9.13904L215.304 9.1382ZM87.8889 131.512H89.6772C89.3083 131.435 88.2412 131.332 87.8889 131.512ZM87.9491 76.7138C88.578 76.6253 89.1243 76.3174 89.6655 76.0124C90.4468 75.5721 91.2173 75.1379 92.2102 75.3785C93.2313 75.6259 93.6 76.2833 93.877 76.7771C94.0318 77.0531 94.1579 77.2779 94.3532 77.3516C97.0727 78.3779 97.5079 76.446 97.9754 73.4244C98.0597 72.8797 98.0795 72.4084 98.0975 71.9786C98.1419 70.9193 98.1757 70.1122 99.1394 69.079C99.687 68.4919 100.59 68.1832 101.483 67.8775C102.133 67.6554 102.777 67.4349 103.278 67.1105C104.69 66.1947 105.316 65.3553 106.082 64.3289L106.083 64.3287L106.083 64.3286C106.387 63.9215 106.712 63.4849 107.118 63.0025C108.039 61.907 109.386 60.8529 110.785 59.7588C114.538 56.8224 118.658 53.5986 115.892 48.5163C112.92 43.0559 111.743 47.6719 110.835 51.2337C110.486 52.5999 110.177 53.811 109.822 54.2388C105.348 59.6227 104.376 54.3609 103.793 51.2046L103.793 51.2044C103.698 50.6889 103.613 50.2296 103.525 49.8819C102.27 44.9252 100.552 48.4977 99.1364 51.4427C98.7102 52.3293 98.3113 53.159 97.9606 53.682C97.54 54.3091 97.014 54.7664 96.5021 55.2114C95.8685 55.7622 95.2565 56.2943 94.8923 57.1066C94.6629 57.6184 94.775 58.2583 94.8902 58.9158C95.0804 60.0013 95.2791 61.1349 93.9634 61.8197C92.5695 62.5453 90.9686 61.6623 89.5426 60.8757C88.4615 60.2794 87.4809 59.7386 86.7672 59.9959C84.5226 60.8054 86.5415 63.5389 88.157 65.7262C88.8997 66.7318 89.5571 67.6219 89.6758 68.1566C90.0212 69.7118 89.4129 71.0606 88.8049 72.4087C88.1894 73.7733 87.5743 75.1372 87.9491 76.7138ZM52.523 39.3304C52.4442 39.3231 52.366 39.3268 52.2886 39.3388C52.3701 39.3381 52.4489 39.3359 52.523 39.3304ZM43.1229 46.5051C42.6932 47.9017 41.5535 49.065 40.4191 50.2228C39.1322 51.5362 37.8523 52.8425 37.6237 54.4745C37.2565 57.0957 39.2754 58.4359 41.3658 59.8235C42.0273 60.2627 42.6961 60.7066 43.2986 61.1974C44.6694 62.3138 45.5979 63.246 46.2965 64.8122C46.4157 65.0797 46.4385 65.5294 46.4621 65.995C46.4963 66.6694 46.5322 67.3771 46.8652 67.613C48.637 68.8678 49.6301 68.0043 50.8229 66.9671C51.3944 66.4701 52.0117 65.9333 52.7825 65.5705C55.3938 64.3415 55.4258 64.3609 56.99 65.3101C57.3053 65.5014 57.6827 65.7304 58.156 65.9946C58.3974 66.1293 58.6253 66.2686 58.8436 66.4021C60.2774 67.2787 61.2993 67.9034 63.0621 65.3438C63.7688 64.3176 63.7321 62.5144 63.6938 60.642C63.6298 57.5045 63.5619 54.1727 66.9811 53.9768C65.4773 53.2967 66.1547 51.2713 66.8425 49.2149C67.5521 47.0933 68.2727 44.9386 66.62 44.1944C62.6101 42.3888 61.4467 50.9484 60.7809 55.8462C60.5616 57.4602 60.3962 58.6765 60.2009 58.9932C58.6052 61.5808 52.8833 63.7803 51.236 59.9639C50.9412 59.2808 51.1597 58.5451 51.3814 57.7983C51.5961 57.0751 51.8139 56.3416 51.5715 55.6357C51.2192 54.6093 50.6402 54.234 49.9691 53.799C49.6093 53.5658 49.223 53.3154 48.831 52.9383C46.0532 50.2672 46.1534 50.1037 47.544 47.8328C47.7825 47.4433 48.059 46.9919 48.3654 46.4552C48.6663 45.928 48.9032 45.0932 49.1632 44.1773C49.7514 42.1048 50.4574 39.6171 52.2886 39.3388C51.291 39.3459 50.2452 39.096 49.2113 38.8489C47.2328 38.376 45.298 37.9136 43.8283 39.2838C42.8041 40.2388 42.9787 41.9663 43.1452 43.6132C43.2542 44.6916 43.3598 45.7354 43.1229 46.5051ZM108.509 15.9001L108.509 15.8997L108.507 15.8977L108.507 15.8976C108.218 15.5228 107.915 15.1307 107.603 14.708C111.791 14.6401 115.094 10.166 110.513 7.63995C112.367 8.66252 113.769 7.52211 114.909 6.59509C116.342 5.42937 117.36 4.6011 118.34 8.8356C118.411 9.14219 118.505 9.51212 118.605 9.90503L118.606 9.90704L118.606 9.90814L118.607 9.91057L118.607 9.91306L118.608 9.91405L118.608 9.91428L118.608 9.91471L118.608 9.91551L118.608 9.91558L118.608 9.91576L118.608 9.91611L118.608 9.91647C118.826 10.7716 119.071 11.7334 119.166 12.3872C119.37 13.7961 119.334 13.9714 119.176 14.7496C119.149 14.8836 119.118 15.0355 119.084 15.2146C118.998 15.6692 118.828 15.9871 118.67 16.2806C118.334 16.906 118.058 17.4205 118.787 18.9109C119.167 19.6873 119.635 20.2939 120.079 20.8697C120.888 21.9181 121.619 22.8646 121.593 24.5483C121.586 25.0211 121.391 25.3944 121.181 25.7965C120.828 26.4717 120.432 27.2281 120.814 28.6734C121.035 29.5109 121.442 30.305 121.849 31.0996C122.338 32.0536 122.827 33.0084 122.996 34.04C121.267 33.965 120.168 32.6134 119.181 31.3997L119.181 31.3996L119.181 31.3992C118.835 30.973 118.502 30.5639 118.161 30.233C117.396 29.4913 116.474 28.9665 115.579 28.4574C114.799 28.0132 114.04 27.581 113.425 27.0274C111.696 25.472 111.636 24.6708 111.524 23.1942V23.1941C111.489 22.7221 111.448 22.1811 111.346 21.5244C110.966 19.0841 109.89 17.6898 108.509 15.9001ZM108.153 41.8087C110.355 40.8234 108.012 36.3301 105.966 36.1558C104.538 36.034 100.707 39.2478 100.46 40.1654C101.693 39.9286 102.952 40.5163 104.185 41.0921C105.564 41.7361 106.911 42.365 108.153 41.8087ZM54.3484 34.554C55.3634 35.1668 57.3841 37.7892 54.4468 37.642C53.7002 37.3464 52.8391 37.1555 51.9893 36.9671C50.1918 36.5686 48.4456 36.1815 47.9445 34.8387C48.4958 34.8266 49.1999 34.6939 49.9525 34.552L49.9526 34.552C51.5206 34.2564 53.2995 33.9211 54.3484 34.554ZM76.0684 56.3633C74.9989 56.4118 73.9252 56.1227 72.9673 55.8648C70.9422 55.3195 69.435 54.9137 69.5804 58.1318C70.3795 58.1808 71.13 58.3282 71.8199 58.4638C73.894 58.8713 75.4198 59.1711 76.0684 56.3633ZM42.7317 24.3242C42.638 24.8422 42.5483 25.3375 42.1475 25.4698C41.9886 25.4285 41.8013 25.3836 41.5946 25.3342L41.5944 25.3341C39.9007 24.9288 36.9081 24.2127 37.6443 22.5571C38.5365 20.5505 40.2509 21.4382 41.7693 22.2244C42.4565 22.5802 43.1036 22.9153 43.6162 22.9518C42.9608 23.0587 42.8434 23.7075 42.7317 24.3242ZM134.298 51.5691C133.933 50.2797 133.983 49.265 134.316 47.987C132.126 48.0046 132.288 51.5367 134.298 51.5691ZM107.49 14.3892L107.565 14.6259C108.271 14.5877 107.795 14.4275 107.49 14.3892ZM143.056 49.3247C143.529 49.9893 143.585 50.9775 143.641 51.9834C143.726 53.4941 143.814 55.045 145.32 55.6001C146.839 56.1601 147.612 54.8952 148.444 53.5351C149.144 52.392 149.884 51.1817 151.142 50.9307C151.982 50.7632 152.839 51.1759 153.716 51.5989C154.54 51.9957 155.382 52.4015 156.246 52.345C158.754 52.1806 162.714 49.6451 162.511 47.3728C161.441 47.5488 160.565 47.3396 159.69 47.1306C158.963 46.9572 158.238 46.7839 157.402 46.8305C156.545 46.8782 155.699 47.133 154.879 47.38C154.105 47.6132 153.354 47.8393 152.639 47.8778C149.378 48.0531 149.402 47.6878 149.478 46.5166C149.511 45.9979 149.555 45.3212 149.328 44.4633C149.239 44.1272 149.189 43.8798 149.148 43.6757L149.147 43.6756C149.034 43.1191 148.986 42.8847 148.405 42.0538C148.143 41.6801 147.658 41.3973 147.163 41.1085C146.562 40.7578 145.945 40.3982 145.695 39.8561C145.6 39.6498 145.696 38.9405 145.809 38.1157C146.002 36.6964 146.242 34.9349 145.632 34.8052C144.821 35.9855 143.569 36.9038 142.318 37.8217C140.76 38.9649 139.202 40.1075 138.499 41.7551C137.276 44.6187 138.807 45.7437 140.57 47.04C141.444 47.6821 142.375 48.3663 143.056 49.3247ZM68.2108 65.1935C69.8862 64.8083 69.0349 61.0465 67.7719 61.9365C66.9784 62.4955 67.0035 65.0768 68.2108 65.1935ZM98.6068 40.9135C98.5976 40.9138 98.5871 40.914 98.5771 40.9141C98.5861 40.9197 98.5959 40.9193 98.6068 40.9135ZM3.26213 93.2051C3.49574 93.0917 3.71698 92.9328 3.93985 92.7727C4.3466 92.4805 4.75882 92.1844 5.26178 92.1539C5.23721 91.5767 2.76299 89.1071 2.50172 89.1153C2.50172 89.1903 2.47742 89.3734 2.44421 89.6233L2.44417 89.6239C2.27588 90.8913 1.87958 93.8761 3.26213 93.2051ZM109.989 1.0621C109.703 0.746719 109.418 0.431442 109.072 0.295486C108.983 0.260437 108.96 0.224121 108.938 0.18779C108.927 0.171387 108.917 0.154968 108.9 0.138672C113.834 0.138672 112.084 2.48874 110.767 1.76382C110.481 1.60667 110.235 1.33435 109.989 1.0621ZM131.287 127.166C131.427 127.264 131.316 127.217 131.127 127.137C130.828 127.01 130.333 126.8 130.328 126.952C130.315 127.382 132.655 128.127 131.287 127.166ZM10.3412 82.5545C10.6315 82.7283 10.9223 82.9023 11.2427 82.9917C12.7136 83.4024 8.72542 83.2164 9.22339 82.0731C9.63123 82.1297 9.98592 82.3419 10.3412 82.5545Z" fill="white" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M189.719 100.461L189.719 100.461L189.718 100.461C189.564 100.762 189.427 101.028 189.368 101.165C191.523 101.359 192.096 114.791 184.674 111.987C184.019 111.74 183.662 110.135 183.264 108.345C182.468 104.767 181.507 100.447 177.667 104.725C176.41 106.124 177.133 107.951 177.852 109.771C178.679 111.863 179.503 113.946 177.32 115.364C174.079 117.469 172.724 115.065 171.347 112.622C170.323 110.805 169.286 108.967 167.453 108.947C170.642 111.027 170.527 117.006 170.44 121.514C170.409 123.152 170.381 124.596 170.517 125.588C171.274 125.576 171.839 125.265 172.394 124.959C172.976 124.638 173.548 124.323 174.32 124.367C175.516 124.435 176.323 124.98 177.144 125.535C177.505 125.78 177.869 126.026 178.27 126.234C178.581 126.395 178.947 126.656 179.35 126.943L179.35 126.943C180.551 127.799 182.079 128.887 183.449 128.276C183.871 128.087 183.941 127.31 184.018 126.45C184.112 125.399 184.217 124.226 184.99 123.859C186.544 123.123 186.523 124.8 186.501 126.459C186.488 127.501 186.475 128.536 186.852 128.962C188.212 130.499 194.444 130.847 196.548 130.856C196.597 129.971 196.491 129.315 196.408 128.798C196.233 127.713 196.157 127.242 197.825 126.564C200.449 125.497 205.079 128.403 206.594 129.614C206.91 129.866 206.992 130.38 207.066 130.843C207.129 131.238 207.186 131.596 207.378 131.72C208.018 132.132 213.457 131.989 213.834 131.912C216.046 131.455 217.459 130.015 216.863 127.061C216.383 124.681 214.012 123.593 211.609 122.49C209.036 121.309 206.427 120.112 206.066 117.293C205.982 116.64 206.335 115.828 206.68 115.034C206.952 114.406 207.22 113.789 207.263 113.271C207.33 112.467 207.161 111.643 206.991 110.819C206.772 109.753 206.553 108.688 206.845 107.667C207.02 107.053 210.491 102.833 210.851 102.707L210.875 102.707C210.87 102.703 210.862 102.703 210.851 102.707C210.25 102.695 209.724 102.478 209.197 102.26C208.637 102.029 208.077 101.797 207.429 101.814C207.324 101.787 207.015 102.406 206.657 103.121C206.201 104.035 205.665 105.107 205.375 105.193C202.332 106.094 203.099 103.945 203.655 102.388C203.818 101.933 203.962 101.53 203.988 101.266C204.099 100.168 203.903 99.1199 203.706 98.0643C203.57 97.3351 203.434 96.6022 203.397 95.8461C203.369 95.2868 203.498 94.7777 203.626 94.2731C203.803 93.5734 203.978 92.8824 203.731 92.0782C203.679 91.9072 203.046 92.0556 202.453 92.1947C201.922 92.3192 201.424 92.4362 201.405 92.3087C201.297 91.5977 201.56 90.4805 201.825 89.3617C202.47 86.6276 203.118 83.8836 198.353 87.0329C195.917 88.6431 194.928 90.953 193.923 93.2986C193.057 95.3201 192.18 97.3681 190.356 99.0174C190.45 99.0393 190.045 99.8253 189.719 100.461L189.719 100.461L189.719 100.461ZM7.32916 122.637C8.68289 121.909 7.90428 121.266 6.96771 120.492C6.03242 119.719 4.93961 118.816 5.65553 117.569C6.11534 116.768 7.20139 116.597 8.31425 116.422C9.43944 116.245 10.5921 116.063 11.1526 115.222C11.9593 114.011 11.6337 113.157 11.3177 112.329C10.9486 111.361 10.5926 110.428 12.0696 109C13.1053 107.999 14.0827 107.678 14.931 107.399C16.189 106.986 17.1635 106.665 17.6248 104.36C18.3313 100.828 16.572 98.4816 14.8913 96.2401C12.9892 93.7031 11.1877 91.3004 13.176 87.4658C13.2675 87.2892 13.3804 87.0866 13.5045 86.8641C14.5461 84.9951 16.3716 81.7196 12.9065 80.6212C10.3757 79.8189 10.5278 80.7354 10.6857 81.6871C10.8044 82.4027 10.9265 83.1381 9.91397 83.1777C10.1243 83.7636 7.05772 83.0813 7.4368 82.2161C6.62999 82.127 6.23767 81.6808 5.85703 81.2479C5.30879 80.6243 4.78474 80.0283 3.08133 80.5664C1.37814 81.1043 1.10683 82.725 0.883423 84.0595L0.865982 84.1635C0.529312 86.1641 1.4303 87.8993 2.29842 89.5713C3.0206 90.9622 3.72003 92.3093 3.66527 93.7289C3.65738 93.934 3.66309 94.103 3.66829 94.2569C3.68059 94.621 3.69006 94.9015 3.5105 95.3794C2.94679 95.7854 2.30727 95.9404 1.59174 95.8444C0.484161 95.6081 0.175385 96.0372 0.665436 97.1315C-0.298599 99.0268 0.0646362 102.232 0.384613 105.055L0.384659 105.055C0.52948 106.333 0.665436 107.533 0.665436 108.498C0.665436 109.165 0.551025 110.28 0.417084 111.586C0.0664825 115.003 -0.417938 119.726 0.665436 121.126C1.2973 121.943 6.2426 123.222 7.32916 122.637ZM7.4456 71.2177C7.71201 72.9781 8.05817 75.2656 5.20143 74.5184C3.1732 73.988 3.40147 71.9333 3.61148 70.0429C3.85637 67.8386 4.07645 65.8576 0.665451 66.7768V51.1637C0.878937 51.1781 1.15738 51.2043 1.48354 51.2351L1.48625 51.2353L1.48836 51.2355L1.48927 51.2356C4.49867 51.5196 11.5477 52.1848 9.15839 47.5044C11.1045 49.2142 13.2283 47.6623 14.9563 46.3996C16.1347 45.5386 17.1291 44.8119 17.7578 45.3457C17.6093 45.2196 17.2237 46.5917 16.8367 47.9692C16.4894 49.2049 16.141 50.4449 15.9614 50.6117C15.3622 51.1682 14.0261 51.3281 12.6431 51.4937C10.5143 51.7485 8.27443 52.0166 8.44029 53.7648C8.72028 56.7134 12.9859 55.5623 16.5126 54.6106C18.5623 54.0574 20.3624 53.5716 20.9852 53.9973C21.9066 54.6271 20.7835 56.9521 19.7751 59.0395C19.2279 60.1724 18.7144 61.2353 18.5799 61.9192C18.5007 62.3227 18.5189 62.743 18.537 63.1622C18.5741 64.02 18.6109 64.8731 17.8135 65.5674C16.3962 66.8017 15.0854 66.4605 13.7453 66.1117C12.9505 65.9048 12.1454 65.6952 11.3016 65.8101C7.77838 66.2901 7.44839 66.9989 7.31386 69.91C7.29836 70.2446 7.36865 70.7092 7.4456 71.2177ZM3.3492 7.33514L3.34943 7.33517C4.42555 7.39651 5.48569 7.45693 6.64119 7.39364C7.26382 7.35954 7.73436 7.24424 8.16705 7.13821C8.89198 6.96057 9.51071 6.80896 10.5606 7.10879C11.9229 7.49803 15.7799 10.3467 12.9698 11.2336C17.0401 9.94933 20.9326 6.72562 16.5995 3.62788C15.7299 3.00636 13.7489 2.05688 12.5822 1.49776L12.582 1.49762L12.5817 1.49748L12.5813 1.4973L12.5806 1.49693C12.4281 1.42386 12.2895 1.35747 12.1693 1.29936L12.0767 0.873688L11.9243 0.173981H9.10971C7.43806 -0.0919189 5.29735 0.00344849 3.3107 0.0919495H3.31038H3.3101H3.30974H3.30951C2.37206 0.133728 1.46886 0.173981 0.665497 0.173981C0.665497 0.918732 1.30222 1.284 1.98239 1.67419C2.92442 2.21461 3.94984 2.80286 3.48267 4.51329C3.31795 5.11616 2.7005 5.42501 2.08549 5.73265C1.37387 6.08862 0.665497 6.44296 0.665497 7.24928C1.60896 7.23597 2.48425 7.28585 3.3492 7.33514ZM118.745 94.6388C118.098 94.8311 117.457 95.0217 116.864 94.7195C115.914 94.2347 115.187 92.3793 114.519 90.6719L114.519 90.6718L114.519 90.6718C114.085 89.5631 113.675 88.5169 113.244 87.9491C112.525 86.9998 111.695 86.1308 110.872 85.2685C109.06 83.3714 107.28 81.5066 106.769 78.89C105.971 74.8077 108.638 71.5641 111.313 68.4549C111.502 68.2358 111.698 67.9612 111.902 67.6761C112.861 66.3348 113.984 64.7633 115.227 67.6688C115.869 69.1722 114.756 70.3437 113.666 71.491C112.751 72.4543 111.852 73.4004 112.022 74.5116C112.506 77.6707 116.003 76.6271 118.029 75.3592C118.728 74.9221 119.001 74.2906 119.223 73.7773C119.638 72.8185 119.874 72.2719 122.372 74.1744C123.551 75.0725 124.02 76.3413 124.486 77.6017C125.033 79.0822 125.576 80.551 127.261 81.3938C130.802 83.1656 133.383 80.666 132.654 77.5801C132.214 75.7172 130.564 74.0874 128.965 72.5073C128.019 71.5726 127.091 70.6553 126.441 69.7174C123.264 65.134 124.973 55.0436 133.504 56.1186C136.256 56.4652 137.86 58.7722 139.322 60.8759C139.886 61.6869 140.429 62.4677 141.008 63.0942C141.102 63.1954 141.204 63.3084 141.314 63.4301C142.367 64.5944 144.14 66.5544 145.878 66.4944C147.143 66.4505 147.171 66.058 147.211 65.4998C147.244 65.0383 147.285 64.4635 148.041 63.879C148.128 63.8118 148.273 63.6774 148.455 63.5087L148.455 63.5085C149.296 62.7281 150.927 61.2158 151.252 62.2441C151.477 62.9518 150.529 63.6961 149.687 64.3581C149.209 64.7334 148.765 65.0822 148.588 65.3828C147.268 67.6163 147.739 69.8116 148.237 72.1264C148.289 72.3706 148.342 72.6161 148.393 72.863C148.638 74.0514 148.789 75.2698 148.939 76.4906L148.939 76.4907L148.939 76.4909L148.939 76.491L148.939 76.4912C149.167 78.3339 149.395 80.1819 149.951 81.9397C150.216 82.7776 150.592 83.5503 150.962 84.3119L150.962 84.3119L150.963 84.312L150.963 84.312L150.963 84.3121C151.589 85.6001 152.201 86.8559 152.231 88.3404C152.241 88.8148 152.253 89.316 152.266 89.8295L152.266 89.834C152.304 91.3825 152.345 93.0427 152.328 94.4181C152.324 94.7584 152.331 95.0469 152.338 95.2971C152.373 96.6028 152.38 96.8663 150.541 98.0021C148.809 99.0722 146.627 99.4693 144.445 99.8664C142.568 100.208 140.691 100.55 139.1 101.32C141.394 100.209 139.451 96.4757 137.923 93.5397L137.923 93.5396C137.31 92.3624 136.764 91.3133 136.585 90.6128C135.42 86.0631 132.201 84.4205 130.434 89.625C129.607 92.0614 128.367 92.4835 127.117 92.909C126.065 93.267 125.006 93.6273 124.18 95.1914C123.77 95.9686 123.584 96.7184 123.439 97.3006C123.117 98.5964 123.001 99.0613 121.082 97.1484C120.889 96.9556 120.977 96.5517 121.072 96.1181C121.189 95.585 121.315 95.007 120.94 94.7215C120.245 94.1927 119.491 94.4169 118.745 94.6388ZM68.6628 21.4619C69.2046 22.6706 69.1798 23.9005 69.1549 25.1345C69.1271 26.512 69.0992 27.8946 69.8591 29.2588C70.4716 30.3587 71.4711 31.1904 72.4681 32.0201C72.6366 32.1603 72.805 32.3005 72.9715 32.4419C73.3838 32.7922 73.9294 33.1849 74.5245 33.6133C76.9444 35.3553 80.1826 37.6862 78.604 40.1501C78.9436 39.6199 83.3523 37.193 84.2918 36.8493C87.9258 35.5197 89.2552 36.6719 90.3893 40.0231C90.5339 40.4505 90.6024 41.095 90.6793 41.8181V41.8182C90.9144 44.0287 91.2276 46.9738 94.0325 46.6977C95.6598 46.5375 95.9318 44.9494 96.1877 43.4553C96.3629 42.4322 96.5306 41.4532 97.1207 41.007C94.9942 40.9954 95.1948 40.3888 95.4636 39.5764C95.5941 39.182 95.7406 38.739 95.6447 38.2921C95.9992 37.641 96.1585 36.9573 96.1228 36.2413C95.8566 35.3981 95.3575 34.6741 94.6255 34.0697C93.8048 31.1155 94.7343 30.6654 96.5055 29.8079C97.2708 29.4374 98.1933 28.9907 99.1996 28.2331C102.766 25.5482 103.748 19.3649 99.8884 16.201C98.1847 14.8042 96.5581 15.1068 94.9406 15.4077C93.6497 15.6479 92.3646 15.887 91.0508 15.2601C89.6965 14.6138 89.755 13.9936 89.8231 13.2711C89.8658 12.8175 89.9124 12.3235 89.6154 11.7575C88.7085 10.0289 87.7045 9.17364 86.2197 7.90878C86.0088 7.72915 85.7882 7.54126 85.5569 7.34144C82.6258 4.81036 79.2923 2.78557 74.8313 4.99503C72.8929 5.9554 72.6155 7.01604 72.2405 8.4499L72.2404 8.45001C72.137 8.84568 72.0261 9.26975 71.8708 9.72798C71.36 11.2352 70.6335 12.0053 69.8601 12.825C69.3972 13.3157 68.9174 13.8242 68.4571 14.5193C66.7603 17.0816 67.4342 18.721 68.6628 21.4619ZM93.5336 102.141C93.163 101.313 92.7938 100.488 93.0181 99.7412C95.4478 99.5117 96.7804 100.74 98.1933 102.042C98.7984 102.6 99.4182 103.171 100.145 103.647C101.491 104.528 103.007 105.216 104.522 105.904C105.651 106.416 106.78 106.928 107.837 107.52C110.36 108.932 110.686 109.754 111.144 110.908C111.41 111.577 111.72 112.358 112.529 113.431C112.887 113.905 116.364 116.185 116.378 116.156C112.63 116.13 113.416 117.351 114.429 118.922C115.064 119.908 115.789 121.032 115.539 122.074C115.136 123.756 108.618 128.19 106.466 127.501C103.587 126.579 104.926 125.129 106.264 123.68C107.02 122.861 107.777 122.042 107.769 121.319C107.745 119.156 102.882 114.738 100.283 114.886C98.1966 115.005 98.2658 115.615 98.348 116.339C98.3748 116.575 98.4029 116.823 98.3582 117.07C98.2488 117.674 98.4404 118.151 98.6379 118.643C98.9657 119.46 99.3096 120.317 98.3193 121.857C96.4738 124.729 92.4889 128.29 88.8154 128.377C87.8583 128.399 83.829 127.466 83.26 126.773C83.1092 126.589 82.9851 126.445 82.8853 126.329C82.6465 126.052 82.5477 125.937 82.5588 125.834C82.5666 125.762 82.6292 125.695 82.736 125.581C82.9176 125.387 83.2271 125.057 83.6124 124.329C84.0789 123.448 84.8503 122.637 85.5922 121.857C87.4998 119.852 89.2126 118.052 85.047 115.792C90.2433 118.611 91.6856 112.553 92.4438 109.368L92.4442 109.367C92.4831 109.203 92.5203 109.047 92.5561 108.9C92.6781 108.399 92.9576 107.684 93.2473 106.944L93.2473 106.943C93.6606 105.887 94.0945 104.777 94.1209 104.162C94.1487 103.515 93.8407 102.827 93.5336 102.141ZM35.2049 10.7594C35.8221 9.07767 30.7452 7.06131 29.3593 6.907C27.9675 6.75203 26.6355 7.15493 25.2986 7.5593C24.267 7.87134 23.2325 8.18425 22.1654 8.24236C22.3053 8.3233 22.4745 8.42328 22.6691 8.53827C25.4886 10.2043 33.6412 15.0216 35.2049 10.7594ZM170.241 42.2852C168.149 41.0246 159.907 37.9651 158.703 40.7345C158.543 41.1022 157.147 39.1975 157.053 38.9936C156.34 37.4432 157.055 35.9806 157.75 34.5585C157.903 34.2455 158.055 33.9345 158.19 33.625C158.396 33.1544 158.634 32.701 158.869 32.251C159.452 31.1382 160.024 30.0456 160.086 28.762C160.128 27.886 159.763 27.0077 159.405 26.1459C159.024 25.2286 158.651 24.3299 158.784 23.4725C159.068 21.6517 159.876 21.3679 160.981 20.9795C161.548 20.7804 162.193 20.5538 162.886 20.0786C164.552 18.9357 164.688 18.3994 164.968 17.302C165.059 16.9428 165.166 16.5234 165.347 16.0029C165.635 15.1723 165.82 14.0545 166.012 12.8888C166.308 11.0947 166.622 9.18718 167.364 8.03935C168.275 6.63041 168.847 6.66436 169.809 6.72141C170.297 6.75039 170.886 6.78532 171.67 6.64024C172.218 6.53893 172.897 6.24195 173.607 5.93095C174.752 5.42972 175.981 4.89204 176.881 5.07823C177.247 5.15403 177.723 5.75253 178.285 6.45963C179.006 7.3683 179.871 8.45632 180.829 8.84499C181.65 9.1777 182.655 9.10434 183.621 9.03383C184.539 8.96677 185.422 8.90229 186.078 9.19206C187.345 9.75175 187.605 10.4556 187.912 11.2844C188.112 11.8269 188.333 12.423 188.868 13.0673C189.314 13.6036 189.807 13.9836 190.292 14.3571C191.025 14.9211 191.738 15.4703 192.238 16.5207C192.549 17.1718 192.522 17.7732 192.497 18.3192C192.453 19.2992 192.418 20.1009 194.354 20.6924C194.297 20.75 194.233 20.815 194.163 20.8868C192.257 22.8344 185.479 29.7598 182.845 29.4035C180.847 29.1334 180.923 27.5159 180.995 25.9985C181.008 25.7073 181.022 25.4199 181.02 25.1464C181.017 24.4787 181.061 23.8063 181.105 23.1345C181.245 20.9839 181.385 18.8401 179.981 16.8811C178.021 14.1451 175.53 13.4624 173.748 16.4625C173.361 17.1157 173.278 17.8272 173.195 18.5427C173.09 19.4396 172.985 20.3429 172.278 21.1457C171.651 21.8565 170.925 22.1522 170.18 22.4556C169.706 22.6484 169.225 22.8443 168.757 23.1518C165.365 25.3799 162.318 28.8016 163.646 32.918C164.593 35.8519 166.244 35.905 168.137 35.966C169.495 36.0097 170.978 36.0574 172.414 37.1772C173.136 37.7401 173.355 38.3049 173.565 38.8485C173.845 39.5706 174.111 40.2552 175.52 40.8478C176.722 41.3531 178.15 41.3014 179.573 41.25C180.659 41.2107 181.742 41.1715 182.718 41.3804C181.807 41.9002 179.368 46.0815 179.869 45.7363C176.311 48.7178 174.341 46.4962 172.47 44.3859C171.741 43.5643 171.027 42.7595 170.241 42.2852Z" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M152.879 130.001C152.456 128.401 148.695 127.698 147.214 128.496C142.468 131.053 153.961 134.086 152.879 130.001ZM111.143 129.625C110.945 128.137 108.105 125.876 106.273 127.219C105.104 126.784 106.835 129.968 107.124 130.264C108.649 131.823 111.533 132.555 111.143 129.625ZM81.3933 128.246C80.831 128.043 80.1572 127.88 79.4492 127.709C77.4232 127.22 75.1176 126.663 74.3457 124.888C73.9508 123.98 74.6102 122.727 75.2675 121.477C76.1333 119.831 76.9953 118.193 75.4372 117.361C73.6377 116.4 73.0901 117.621 72.5441 118.838C72.2603 119.471 71.977 120.103 71.5184 120.427C67.0029 123.617 67.4669 120.714 67.8612 118.247C68.0197 117.256 68.167 116.335 67.9749 115.908C67.5819 115.035 66.6053 114.581 65.6342 114.129C64.8742 113.775 64.1176 113.423 63.6467 112.874C62.8329 111.923 62.8956 110.716 62.9528 109.615C63.0387 107.961 63.1121 106.547 60.1827 106.606C53.8995 106.731 56.6423 111.481 58.8015 115.22C59.6643 116.714 60.4339 118.047 60.4972 118.859C60.602 120.202 59.7984 121.057 59.017 121.889C58.3653 122.582 57.729 123.259 57.648 124.189C57.4993 125.894 62.8611 129.967 63.6059 129.748C64.5246 129.956 66.4522 130.699 64.6679 131.428H77.4267C77.7644 131.428 78.1426 131.451 78.5318 131.475C79.8554 131.556 81.3066 131.645 81.727 130.858C81.9421 130.455 81.9101 128.433 81.3933 128.246ZM171.023 122.117C170.598 124.976 170.19 127.723 174.214 129.36C176.702 130.372 172.104 131.922 170.319 131.428C167.836 130.741 167.241 129.566 166.86 127.248C166.779 126.756 166.86 126.196 166.94 125.635C167.158 124.119 167.376 122.604 164.406 122.46C162.019 122.344 161.882 123.256 162.167 125.082C162.174 125.128 158.245 124.664 158.222 124.637C157.24 123.518 157.823 123.062 158.412 122.603C158.745 122.343 159.08 122.082 159.134 121.699C159.357 120.104 159.473 117.138 156.617 116.248C155.43 115.878 154.349 116.156 153.293 116.426C151.927 116.777 150.602 117.117 149.139 116.03C148.622 115.645 148.33 113.702 148.127 112.35C148.014 111.6 147.929 111.032 147.847 111.014C148.211 110.459 146.84 109.793 145.508 109.146C144.535 108.674 143.581 108.211 143.338 107.808C141.858 105.351 144.864 104.858 147.576 104.414C148.565 104.252 149.515 104.097 150.194 103.855C151.241 103.482 151.993 103.147 152.584 102.884C154.41 102.07 154.69 101.945 157.376 103.532C158.138 103.982 158.962 104.599 159.776 105.206C160.41 105.68 161.037 106.149 161.623 106.53C160.893 106.678 165.432 108.416 165.057 108.231C165.878 108.635 166.405 108.826 166.768 108.956C167.072 109.066 167.261 109.134 167.411 109.252C167.656 109.444 167.797 109.768 168.168 110.62L168.168 110.62C168.252 110.814 168.349 111.035 168.461 111.288C168.541 111.468 168.627 111.662 168.718 111.867L168.718 111.868C169.456 113.524 170.516 115.903 171.032 117.549C171.486 119 171.252 120.575 171.023 122.117ZM2.24997 41.5653C4.89432 40.8564 6.41904 43.3785 7.64178 45.4012C8.4742 46.7781 9.16667 47.9236 9.97717 47.6605C12.1186 49.5573 14.1882 47.823 15.9014 46.3874L15.9016 46.3873C16.5494 45.8444 17.1462 45.3444 17.6767 45.0994C17.5667 45.0286 22.4547 46.2084 21.4609 46.407C28.008 48.6906 28.0862 43.5583 28.1544 39.085C28.1838 37.1553 28.2114 35.3481 28.7556 34.312C29.7373 32.4425 31.1154 31.7243 33.378 30.9084C34.1715 30.6223 35.0455 30.4577 35.9162 30.2938C37.7409 29.9502 39.5518 29.6093 40.5798 28.1579C40.7699 27.8897 40.956 27.0362 41.0861 26.4392C41.1621 26.0907 41.219 25.8296 41.2466 25.8233C40.6654 25.6733 36.5656 24.3368 36.1409 23.977C35.7524 23.6475 35.6524 23.0678 35.5606 22.5361C35.4834 22.0887 35.4121 21.6753 35.1796 21.4738C34.5133 20.8964 33.8519 20.497 33.2197 20.1152C32.1488 19.4686 31.1618 18.8726 30.3769 17.5479C30.0451 16.9877 29.8746 16.3344 29.7059 15.6879C29.296 14.1168 28.8966 12.5861 26.2161 12.5313C24.036 12.4869 22.7456 14.2268 22.074 15.7102C21.772 16.3774 21.8523 18.2336 21.9427 20.3229V20.3231C22.1633 25.4196 22.4439 31.9025 17.3826 25.8966C16.886 25.3073 16.6965 24.9084 16.5375 24.5737C16.2744 24.02 16.0948 23.6418 14.7466 22.868C14.1873 22.547 13.6313 22.5323 13.0933 22.5181C12.3147 22.4975 11.5737 22.478 10.9147 21.5322C10.2332 20.5541 10.5722 19.618 10.7736 19.0619C11.0001 18.4366 11.0525 18.2919 9.28386 19.1086C5.16882 21.0088 5.00742 25.2597 4.87216 28.822C4.84531 29.5293 4.81947 30.2094 4.76395 30.8386C4.56851 33.0547 4.09152 34.3774 3.2014 36.3357C3.1489 36.4512 3 36.6965 2.80283 37.0213L2.80191 37.0228L2.80164 37.0232L2.80145 37.0235C1.81261 38.6521 -0.385406 42.2721 2.24997 41.5653ZM83.3557 5.36786C84.1046 6.44371 85.06 7.15598 86.0662 7.90614L86.0665 7.90633L86.0672 7.90685C86.529 8.25117 87.0015 8.60348 87.4697 9.00262C87.7358 9.22952 88.0406 9.42847 88.3463 9.62797C88.9464 10.0195 89.5496 10.4132 89.8692 11.0245C90.1268 11.5171 90.0341 12.1838 89.9417 12.8485C89.8355 13.6125 89.7296 14.374 90.1564 14.8657C91.3726 16.2671 93.0214 15.932 94.7519 15.5802C97.0624 15.1105 99.5184 14.6112 101.285 18.1766C102.547 20.7251 103.166 24.3959 101.518 26.88C100.824 27.925 99.2947 28.6462 97.792 29.3548L97.792 29.3548C95.9219 30.2365 94.0938 31.0985 93.9727 32.5398C93.9025 33.3746 94.5151 33.9758 95.1513 34.6003C95.7088 35.1475 96.2845 35.7125 96.4349 36.4681C96.5618 37.1052 96.23 37.8683 95.9144 38.594C95.3004 40.0061 94.7478 41.2769 97.7546 41.2039C97.7033 41.184 97.7478 41.1646 97.7922 41.1453C97.8036 41.1403 97.8151 41.1354 97.8249 41.1304C97.8694 41.1489 98.2069 41.0045 98.6084 40.8326C99.1348 40.6074 99.7712 40.335 100.001 40.3213C100.014 40.3239 100.136 40.1967 100.338 39.987L100.338 39.9868L100.338 39.9867L100.339 39.9865C101.263 39.0273 103.847 36.3444 105.154 36.4651C107.726 36.7024 108.734 41.8308 107.344 42.0948C107.934 42.1915 108.379 42.5156 108.839 42.8498C109.651 43.4398 110.506 44.0616 112.273 43.5191C113.658 43.0941 114 42.49 114.454 41.6892C114.603 41.4273 114.763 41.1444 114.976 40.8399C115.641 39.8879 116.014 39.2499 116.253 38.8402L116.253 38.8401C116.501 38.4163 116.606 38.2367 116.743 38.2067C116.845 38.1846 116.963 38.2433 117.169 38.3451C117.553 38.5346 118.238 38.8733 119.675 39.1189L119.726 38.8194L119.726 38.8193L119.726 38.8191C119.925 37.6701 120.002 37.2238 119.85 36.8789C119.753 36.66 119.564 36.4819 119.254 36.1908C119.007 35.9581 118.682 35.6531 118.267 35.1972C117.741 34.6201 117.135 34.089 116.53 33.5589C116.097 33.1802 115.666 32.802 115.265 32.408C114.763 31.9155 110.128 26.9996 111.091 26.7628C110.162 26.5864 110.068 24.319 109.978 22.1438C109.914 20.6187 109.853 19.1389 109.507 18.457C109.162 17.7782 108.608 17.194 108.055 16.6109C107.61 16.1412 107.165 15.6722 106.831 15.1549C105.926 13.7549 105.787 12.1157 105.645 10.4541C105.51 8.86094 105.373 7.24724 104.558 5.80413C104.345 5.42674 103.996 5.11449 103.651 4.80542L103.651 4.80535C103.32 4.50864 102.992 4.21487 102.79 3.86917C102.656 3.64023 102.415 3.42476 102.185 3.21864C102.049 3.09723 101.917 2.97905 101.813 2.86328C101.103 2.07613 101.019 1.66389 100.968 1.4127C100.951 1.33003 100.938 1.26482 100.907 1.20941C100.792 1.00226 100.43 0.932388 98.715 0.601303L98.6912 0.59671C95.5467 -0.0103149 86.5764 0.278534 84.1074 2.34348C83.7534 2.63943 83.3884 3.44151 83.1134 4.04561C82.9298 4.44908 82.7864 4.76424 82.7133 4.7813C83.0757 4.95875 83.1985 5.13831 83.3213 5.31792C83.3327 5.33456 83.3441 5.35121 83.3557 5.36786ZM211.556 115.329C211.036 117.559 212.657 119.405 214.74 120.401C215.81 120.912 215.718 121.852 215.608 122.972C215.572 123.337 215.534 123.721 215.534 124.116C213.06 124.106 208.124 121.279 206.57 119.292C204.935 117.201 205.439 116.188 206.205 114.65C206.435 114.188 206.688 113.679 206.914 113.079C207.352 111.919 207.517 110.746 207.668 109.669C208.064 106.855 208.368 104.697 213.198 105.128C213.19 105.675 212.87 106.002 212.533 106.346C212.079 106.81 211.596 107.303 211.809 108.408C211.944 109.109 212.435 109.497 212.921 109.881C213.612 110.427 214.295 110.967 213.938 112.392C213.8 112.941 213.296 113.365 212.784 113.797C212.247 114.249 211.7 114.709 211.556 115.329ZM53.6192 7.43633C54.4734 7.53318 55.1021 7.81554 55.7173 8.09186C56.5651 8.47263 57.3874 8.84192 58.7389 8.69836C59.8923 8.57599 60.7736 8.01775 61.6573 7.45801C62.1727 7.13155 62.6889 6.80458 63.2604 6.56329C64.6529 5.97527 67.0625 5.72145 69.6898 5.4447C74.9711 4.88839 81.1322 4.23942 81.6796 0.59671C80.7875 0.59671 79.427 0.510544 77.8495 0.410629H77.8493H77.8491H77.8488H77.8486H77.8483H77.848H77.8477H77.8476H77.8474C72.9741 0.102158 66.0301 -0.337387 64.4172 1.22287C63.5916 2.02158 63.7048 2.69177 63.8004 3.25757C63.9377 4.06986 64.0385 4.66698 61.273 5.12029C60.3701 5.2683 59.7092 5.03156 59.0509 4.79576C58.0434 4.43488 57.0421 4.07622 55.1891 5.10268C54.9289 5.24676 51.5806 7.20537 53.6192 7.43633ZM205.373 37.422C205.947 35.9763 206.859 33.682 208.312 33.5851C208.829 34.0427 209.49 35.0123 210.078 35.8753C210.585 36.6192 211.039 37.284 211.299 37.4734C212.515 38.3579 212.854 38.3194 213.805 38.2112C214.222 38.1638 214.757 38.103 215.534 38.1006C215.534 40.3344 214.919 41.4736 214.214 42.7802C213.747 43.6446 213.241 44.5823 212.847 45.9587C212.807 46.0999 212.773 46.3723 212.731 46.7164C212.521 48.4149 212.096 51.8589 209.574 49.8777C208.954 49.3902 208.934 47.9012 208.912 46.1463C208.871 42.9162 208.818 38.7853 204.981 38.3393C205.09 38.1322 205.22 37.8072 205.373 37.422ZM145.332 4.08382C145.332 7.08354 146.613 14.3215 151.36 9.26977C152.529 8.0257 153.476 3.03751 152.883 1.8139C151.097 -1.87186 145.333 0.658051 145.332 4.08382ZM3.82394 126.743C3.19591 125.77 2.59644 124.841 1.96149 124.378C1.37094 123.948 1.4511 122.643 1.51311 121.633C1.53015 121.356 1.54582 121.101 1.54582 120.892C2.37483 120.85 3.29062 121.294 4.22887 121.749C5.55847 122.394 6.93317 123.06 8.16989 122.395C10.1133 121.349 8.88205 120.759 7.64636 120.166C6.9781 119.846 6.30855 119.525 6.13914 119.131C4.23973 114.712 8.02139 117.119 9.54181 118.087C9.85698 118.287 10.075 118.426 10.1251 118.429C9.67448 119.039 9.83195 120.677 10.0108 122.537C10.353 126.097 10.7735 130.471 7.16086 130.013C5.8251 129.844 4.79068 128.241 3.82394 126.743ZM3.14038 81.8464L3.14047 81.8463C3.52681 81.3065 3.93803 80.7319 4.34192 80.4192C4.61201 80.2101 5.15619 80.3615 5.63535 80.4948C6.00546 80.5978 6.33678 80.69 6.47301 80.5968C6.69826 80.4431 6.71269 80.1951 6.72667 79.9551C6.73978 79.7299 6.75249 79.5117 6.93848 79.3848C7.45216 79.0342 9.48564 77.4257 9.46944 76.8453C9.43092 75.4722 8.11501 75.1508 6.804 74.8306C5.85498 74.5988 4.90854 74.3676 4.45105 73.7386C4.32793 73.5693 4.39693 72.823 4.48547 71.8652C4.73184 69.2007 5.12949 64.8998 1.96188 66.8359C1.30722 66.6299 1.92499 83.1651 2.10753 83.0534C2.40776 82.87 2.76201 82.3751 3.14015 81.8468L3.14024 81.8466L3.14038 81.8464ZM183.318 126.525C183.639 124.472 183.942 122.533 186.682 123.266C186.892 123.322 186.591 124.115 186.229 125.066L186.229 125.066C185.684 126.5 185.002 128.295 185.73 128.467C185.391 128.527 185.354 128.955 185.319 129.35C185.302 129.548 185.286 129.737 185.233 129.867C184.536 131.58 184.367 131.571 182.785 131.483C182.339 131.459 181.779 131.428 181.063 131.428C181.161 131.385 180.55 130.611 180.411 130.487C182.708 130.437 183.021 128.432 183.318 126.525ZM180.387 130.487L180.411 130.487C180.387 130.465 180.377 130.463 180.387 130.487ZM169.506 3.81471C169.602 3.02972 169.577 2.24457 169.431 1.45924C169.293 1.16638 169.141 0.878891 168.976 0.596603C169.076 0.596603 169.2 0.59549 169.343 0.594208H169.344C171.334 0.57634 176.996 0.525513 173.854 2.97186C172.885 3.72615 170.795 3.83333 169.506 3.81471ZM182.092 1.19322C182.104 1.20111 185.402 3.03207 185.525 2.60217C186.184 0.29248 184.067 0.427383 182.198 0.546448H182.197H182.197H182.197H182.196H182.196L182.196 0.546494L182.193 0.546677C181.795 0.572006 181.409 0.596603 181.063 0.596603C181.479 0.68634 181.822 0.885101 182.092 1.19322ZM38.0861 68.9636C38.5655 69.8006 39.0517 70.6494 40.1469 71.147C43.0563 72.4692 43.1138 73.0858 43.2113 74.1297C43.2688 74.7452 43.3401 75.5092 44.018 76.654C45.6666 79.438 49.8316 79.2452 53.1337 79.0923C53.8055 79.0612 54.4417 79.0318 55.0136 79.0294C55.7454 79.0264 56.2747 79.0607 56.6873 79.0874C57.9934 79.1721 58.1305 79.1809 59.8229 77.6907C60.5126 77.0834 61.1896 76.3695 61.8836 75.6379L61.8838 75.6376C62.6642 74.8148 63.4661 73.9693 64.3315 73.2274C66.1871 71.6366 70.4901 67.6082 67.3462 65.3832C68.8834 65.0318 68.4058 62.3595 67.3298 61.7671C67.4593 61.7161 68.7864 58.5247 68.7176 58.3505C69.4128 58.3929 70.0754 58.5686 70.7126 58.7376C72.1346 59.1146 73.4304 59.4582 74.6808 58.2127C75.7556 57.1424 75.4058 55.5892 75.0553 54.0333C74.7604 52.7241 74.4651 51.413 75.0176 50.3861C76.5702 47.5001 81.6524 47.2237 84.3185 48.9518C86.1444 50.1355 90.3172 53.9595 91.4789 55.7235C93.463 58.7365 92.6765 61.4331 88.5254 61.3241C87.5229 61.2978 86.8001 60.8602 86.2735 60.5415C85.4848 60.0641 85.1366 59.8533 84.9493 61.6908C84.8669 62.4992 85.7111 63.5355 86.3982 64.3789L86.3983 64.379C86.655 64.6941 86.8898 64.9822 87.046 65.2215C87.1568 65.3911 87.2641 65.5544 87.3678 65.7122C89.1404 68.4088 89.859 69.502 88.5225 72.7946C88.4555 72.9597 88.3909 73.1175 88.3289 73.2689C87.37 75.6117 87.0387 76.4212 87.9487 79.101C88.9956 82.1846 89.2863 83.4852 89.0381 86.7443C89.0269 86.8914 89.0065 87.0631 88.9841 87.2517C88.823 88.6082 88.5575 90.8435 90.8535 91.1828C90.5021 91.7108 89.1881 95.5624 89.5067 95.9254C87.5491 95.6898 87.2363 96.0578 86.6567 96.7396C86.2892 97.1719 85.8144 97.7304 84.7451 98.3413C84.0034 98.7649 83.0614 98.8688 82.1088 98.9737C80.7778 99.1205 79.4261 99.2694 78.5714 100.296C77.7922 101.232 77.7607 102.75 77.7297 104.241C77.7069 105.339 77.6844 106.422 77.364 107.249C76.7754 108.768 75.9893 110.654 73.9984 111.336C69.1997 112.979 69.5801 108.755 69.8472 105.789L69.8472 105.788C69.893 105.281 69.9354 104.81 69.9479 104.411C70.106 99.3708 70.1826 94.0119 69.2204 89.1469C68.2439 84.208 67.4279 86.0991 66.3232 88.6594C66.1113 89.1506 65.8887 89.6665 65.6523 90.1635C65.2352 91.0402 64.5471 91.6825 63.8623 92.3217C63.2235 92.9179 62.5876 93.5114 62.1773 94.29C61.8686 94.8759 61.8962 95.4841 61.923 96.0728C61.96 96.8874 61.9953 97.6645 61.1357 98.2933C60.4906 98.7652 59.7251 98.6059 59.0262 98.4605C58.4484 98.3403 57.9162 98.2296 57.5354 98.4927C56.7952 99.004 56.6855 100.431 56.5723 101.903C56.4108 104.005 56.2421 106.198 54.2227 105.954C52.244 105.714 52.0615 103.653 51.908 101.92C51.7995 100.695 51.7055 99.6334 51.0015 99.4953C51.3779 99.392 51.8318 99.284 52.3176 99.1684C55.4056 98.4337 59.7832 97.3921 53.7375 95.3088C55.5941 95.1286 55.055 92.8618 54.807 91.8189L54.8067 91.8178C54.7887 91.7419 54.7721 91.6725 54.7582 91.6108C54.6908 91.3117 54.3423 91.0642 53.9914 90.815C53.6254 90.5551 53.2568 90.2933 53.2017 89.9691C53.0795 89.2477 53.2722 88.888 53.4632 88.5314C53.6027 88.271 53.7412 88.0123 53.7556 87.6158C53.7747 87.0875 53.8259 86.5892 53.872 86.1404L53.872 86.1401V86.1399C54.0752 84.1614 54.1797 83.143 51.0066 84.7409C50.1116 85.1915 49.9051 85.8104 49.7432 86.2958C49.5176 86.972 49.3785 87.3887 47.5842 86.729C47.5162 86.5391 47.3553 86.4251 47.1015 86.387C46.834 86.4666 46.3999 86.1661 45.8871 85.8112C45.1075 85.2714 44.1461 84.6059 43.3128 84.9601C41.6548 85.6646 42.2787 86.8613 42.8436 87.9448C43.0534 88.3472 43.255 88.7341 43.3286 89.0742C43.8844 91.645 43.5274 91.8164 42.7232 92.2023C42.1489 92.4779 41.3466 92.8629 40.486 94.3093C39.776 95.5028 40.2345 96.6938 40.6641 97.8096C41.232 99.2848 41.7492 100.628 39.4485 101.672C33.5859 104.331 32.6706 98.1511 33.4078 95.2095L33.494 94.8668C34.2974 91.6742 34.8962 89.2945 33.3785 86.0022C32.3378 83.7448 30.6298 82.4108 28.7989 80.9809C27.8772 80.261 26.9243 79.5168 26.0096 78.6181C22.5714 75.2405 22.2929 71.2149 26.2179 67.9774C29.3604 65.3854 33.5826 64.6167 36.865 67.3331C37.4109 67.7849 37.7468 68.3713 38.0861 68.9636ZM129.865 21.9299C130.306 22.1423 130.895 22.9289 131.504 23.742C132.063 24.4887 132.639 25.2577 133.132 25.6251C133.738 26.0755 134.385 26.4183 135.02 26.7544C136.075 27.3123 137.094 27.8515 137.823 28.8331C140.874 32.9387 138.627 35.6727 135.947 38.935L135.856 39.0448C132.954 42.5778 131.378 53.0557 134.517 56.4581C135.017 56.9999 135.802 57.4103 136.622 57.8391C137.526 58.3118 138.472 58.8069 139.127 59.5248C139.507 59.9416 139.754 60.4395 140 60.9382C140.23 61.403 140.46 61.8686 140.8 62.2699C142.02 63.7121 144.822 66.5803 146.939 66.7005C147.376 64.2453 148.209 63.3885 150.661 62.0445C153.952 63.1612 155.536 56.0061 155.377 55.1279C155.057 53.3621 154.012 50.9436 151.482 50.8797C149.171 50.8214 148.719 52.0326 148.267 53.2417C147.975 54.0209 147.685 54.7992 146.897 55.2364C144.439 56.6007 144.054 55.5035 143.441 53.7574L143.441 53.757C143.343 53.4788 143.239 53.1842 143.121 52.8804C142.883 52.2718 142.789 51.7668 142.702 51.3042C142.55 50.4937 142.422 49.8134 141.594 48.9347C141.143 48.4562 140.47 48.1659 139.792 47.8737C138.948 47.5098 138.097 47.1429 137.66 46.4059C135.588 42.9139 138.752 40.4144 141.647 38.1277C142.94 37.1059 144.18 36.1266 144.874 35.1202C144.697 35.0718 151.318 33.1256 151.905 33.0241C152.284 32.9585 152.767 32.9031 153.289 32.8431C155.627 32.5748 158.771 32.2139 157.1 30.4281C156.47 29.7541 155.451 29.5391 154.39 29.3154C153.169 29.0578 151.893 28.7885 151.09 27.7939C150.061 26.5192 150.324 25.0782 150.582 23.6646C150.791 22.5215 150.997 21.3964 150.513 20.3918C149.09 20.4196 147.744 20.9393 146.419 21.4507C144.068 22.3582 141.785 23.2397 139.26 21.2988C137.536 19.9742 137.693 18.2417 137.849 16.5154C137.975 15.1301 138.1 13.7487 137.252 12.5854C136.861 12.0484 136.721 11.7852 136.659 11.6676C136.627 11.6086 136.615 11.5863 136.601 11.5846C136.593 11.5836 136.583 11.5901 136.568 11.6005C136.489 11.6537 136.26 11.8095 135.231 11.5892C132.196 10.9396 132.078 11.3798 131.784 12.4698C131.689 12.8242 131.575 13.2474 131.336 13.7242C130.871 14.6536 128.819 21.4264 129.865 21.9299ZM53.5993 38.4416C50.1751 39.3073 48.6092 39.1887 44.0752 38.572C43.5246 38.5198 42.9723 38.504 42.418 38.5243C43.0569 38.0351 47.1988 32.9202 47.0992 32.8546C47.2262 32.9296 47.1227 33.5212 47.0091 34.1703C46.8793 34.9115 46.7364 35.7276 46.9088 35.9352C47.6068 36.7761 49.4835 37.1047 51.1645 37.3991C52.1059 37.5639 52.9859 37.718 53.5632 37.9453C53.3681 38.0502 53.38 38.2155 53.5993 38.4416ZM122.334 25.1478C122.362 25.1592 122.492 25.2337 122.675 25.3391C123.291 25.6923 124.511 26.3926 124.523 26.2262C124.565 25.614 125.146 24.929 125.71 24.2645C126.748 23.0405 127.727 21.8858 125.171 21.3824C123.022 20.9592 121.05 23.5227 120.803 24.9056C121.34 24.8833 121.851 24.964 122.334 25.1478ZM161.273 75.9077C161.092 75.609 158.782 73.3479 158.5 73.2317C155.914 72.1639 160.963 66.6254 162.798 64.613C163.026 64.3629 163.204 64.1673 163.312 64.0415C163.89 63.3681 164.98 61.119 165.965 59.0879C166.894 57.1705 167.73 55.4474 167.951 55.4271C168.568 55.3705 170.003 65.1496 170.76 70.3098L170.76 70.31L170.76 70.3103L170.76 70.3104C170.979 71.7997 171.141 72.9042 171.21 73.2761C171.242 73.4474 171.276 73.6205 171.309 73.7949L171.31 73.796C171.753 76.098 172.244 78.6454 170.466 80.5707C168.906 82.2585 165.009 83.618 162.907 81.9278C161.811 81.0456 161.794 79.8136 161.777 78.576C161.765 77.6403 161.752 76.7013 161.273 75.9077ZM202.653 21.3326C202.869 22.2556 204.427 24.6171 205.593 24.6495C205.65 24.2228 206.375 22.8764 207.101 21.5306L207.101 21.5305L207.101 21.5304C207.907 20.034 208.713 18.5382 208.599 18.308C207.454 15.9995 202.025 18.6371 202.653 21.3326ZM122.068 30.509C122.702 30.9154 123.363 31.3392 123.744 31.8846C124.46 32.9102 123.656 34.88 122.018 34.8255C122.148 34.2942 121.871 33.4434 121.59 32.5817C121.253 31.5473 120.911 30.4973 121.262 29.9656C121.507 30.1495 121.785 30.3275 122.068 30.509ZM179.95 79.3278L179.95 79.3278C180.485 80.7586 180.999 82.133 181.273 82.5831C181.673 83.2405 182.141 83.887 182.61 84.536L182.61 84.536C183.355 85.5653 184.104 86.6008 184.594 87.6958C185.793 90.3765 185.304 92.4241 184.799 94.5368C184.431 96.0774 184.055 97.6525 184.319 99.533C184.997 104.361 188.435 102.341 189.99 99.1133C188.625 98.93 191.936 92.4361 193.581 91.0966C193.893 90.8425 194.347 90.4007 194.89 89.8713C197.019 87.7969 200.526 84.3786 202.302 85.6541C203.923 86.818 203.007 88.1729 202.102 89.512C201.468 90.4497 200.839 91.3797 201.09 92.2311C201.143 92.4108 201.715 92.2402 202.164 92.1062C202.452 92.0203 202.69 91.9494 202.708 91.9954C202.723 92.0326 202.825 92.0498 202.966 92.0735C203.294 92.1289 203.834 92.2199 203.97 92.6852C204.064 93.0098 203.896 93.3879 203.737 93.7471C203.598 94.0582 203.467 94.3551 203.517 94.5908C203.88 96.2921 203.655 97.859 203.42 99.4984C203.287 100.425 203.151 101.375 203.116 102.386C202.917 108.092 204.559 104.988 205.725 102.784C206.16 101.962 206.529 101.265 206.711 101.196C204.681 99.5831 205.311 93.8031 208.467 93.1645C209.773 92.9002 210.8 93.4841 211.758 94.0292C212.982 94.7251 214.094 95.3576 215.534 94.0812C216.086 93.5914 215.632 86.4284 215.324 86.1726C214.857 85.7833 213.826 85.6463 212.879 85.5204C212.302 85.4438 211.756 85.3712 211.389 85.2482C210.066 84.8059 204.779 83.0221 208.607 82.2534C209.5 82.0741 210.455 82.5798 211.413 83.0867C212.495 83.6593 213.58 84.2334 214.581 83.824C216.522 83.0297 216.01 75.1484 215.695 70.2909C215.607 68.9366 215.534 67.8174 215.534 67.1523C213.54 67.1976 211.889 70.0247 211.34 71.4041C209.781 75.3182 209.148 76.453 204.321 78.8259C204.208 78.7866 200.993 80.4477 200.766 80.565L200.765 80.5651L200.765 80.5652L200.753 80.5715C200.453 80.7524 199.988 80.7424 199.547 80.7329C199.081 80.7229 198.643 80.7135 198.453 80.9291C198.202 81.2136 198.358 81.8469 198.534 82.5649C198.768 83.5176 199.039 84.6193 198.445 85.2523C196.411 87.4216 195.053 86.0277 193.495 84.4291L193.495 84.4291C193.295 84.2244 193.092 84.0163 192.885 83.8119C192.665 83.5962 192.388 83.3376 192.084 83.0537L192.084 83.0536C191.061 82.0994 189.732 80.8591 189.249 79.9949C187.589 77.0262 189.312 76.5181 191.268 75.9414C192.823 75.4828 194.526 74.9809 194.79 73.1636C194.983 71.8379 193.256 70.9775 191.509 70.1072L191.509 70.1072C190.555 69.6322 189.595 69.1543 188.939 68.5961C188.492 68.216 188.173 67.75 187.853 67.2843C187.292 66.4651 186.731 65.6467 185.477 65.2975C180.613 63.9432 174.464 73.7562 178.231 75.3651C178.513 75.4855 179.249 77.455 179.95 79.3278ZM101.312 130.525C101.008 127.237 95.5213 130.413 93.957 131.318C93.885 131.36 93.8213 131.397 93.7668 131.428L101.377 131.428C101.359 131.127 101.337 130.826 101.312 130.525ZM160.726 130.89C161.251 130.725 163.045 128.219 163.28 127.697C163.202 127.869 163.169 128.128 163.132 128.424C163.005 129.418 162.823 130.843 160.726 130.89Z" fill="black" fill-opacity="0.1"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15 0H11V18H15V0ZM23 0H19V30V34H23H72.416C73.1876 35.7659 74.9497 37 77 37C79.7614 37 82 34.7614 82 32C82 29.2386 79.7614 27 77 27C74.9497 27 73.1876 28.2341 72.416 30H23V0Z" fill="black" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M122 34.584C123.766 33.8124 125 32.0503 125 30C125 27.2386 122.761 25 120 25C117.239 25 115 27.2386 115 30C115 32.0503 116.234 33.8124 118 34.584V60V64H122H141V60H122V34.584Z" fill="white" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M114 46H110V68V72H114H141V68H114V46Z" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M27 103.584C25.2341 102.812 24 101.05 24 99C24 96.2386 26.2386 94 29 94C31.7614 94 34 96.2386 34 99C34 101.05 32.7659 102.812 31 103.584V129V133H27H8V129H27V103.584Z" fill="black" fill-opacity="0.2"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0.880859 128.092C5.24177 97.4016 13.9384 123.534 34.866 118.124C44.1119 115.734 36.6414 105.296 43.5373 100.772C49.3622 96.9503 57.3002 100.029 63.9726 97.5579C73.6018 93.9913 73.4753 86.7354 82.4474 85.651C90.9322 84.6255 99.8208 88.005 108.378 86.7354C124.529 84.3395 117.907 52.7111 130.018 47.1252C142.129 41.5393 162.068 51.1858 164.678 67C167.222 82.4167 150.22 139.78 150.22 139.78H0.880859" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M45.9268 128C83.6043 128 87.5268 113.25 106.065 106.493C124.603 99.7354 140.846 117.214 147.078 100.233C153.31 83.2528 153.276 136.181 153.276 136.181H45.9268L45.9268 128Z" fill="black" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7.99964 10.8673C19.7328 9.74652 15.9616 22.8061 20.597 22.8061C22.4461 22.8061 24.6249 14.3489 27.9829 14.3489C30.4376 14.3489 29.9749 19.8425 35.3046 19.2617C40.3073 18.7166 39.375 15.2687 41.9023 15.2687C47.345 15.2687 45.2869 35.4636 49.6437 35.4636C54.0005 35.4636 55.3734 20.668 57.2911 14.8164C59.7177 7.4119 74.2632 3.26163 63.8919 0.320129H7.71289" fill="black" fill-opacity="0.4"/>\n'},function(){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M120 130.649C116.812 113.308 110.453 128.073 95.1523 125.017C88.3923 123.666 93.8542 117.769 88.8124 115.213C84.5536 113.054 78.7499 114.793 73.8715 113.397C66.8312 111.382 66.9237 107.282 60.3639 106.669C54.1604 106.09 47.6616 107.999 41.4049 107.282C29.5967 105.928 34.4383 88.0585 25.5835 84.9025C16.7287 81.7465 2.15043 87.1967 0.242157 96.1317C-1.61816 104.842 10.8129 137.252 10.8129 137.252H120" fill="black" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M156 122.767C104.757 122.767 99.4219 96.9746 74.2092 85.1582C48.9964 73.3418 26.9059 103.905 18.4298 74.2122C9.9537 44.5195 10.0005 137.072 10.0005 137.072H156V122.767Z" fill="black" fill-opacity="0.1"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M161.575 9.17587C149.64 8.20079 156.546 19.9843 151.83 19.9843C144.863 19.9843 149.727 12.0062 141.247 12.2048C139.028 12.2568 136.303 14.1443 136.135 16.709C135.773 22.2193 139.852 31.7253 134.297 31.9953C129.117 32.247 133.193 22.3562 132.652 15.7593C132.343 11.9871 128.47 9.00745 125.684 9.00745C118.113 9.00745 123.998 24.7147 118.549 24.7147C113.1 24.7147 117.341 15.6639 113.467 10.8715C108.964 5.29973 94.1677 2.55906 104.718 0H161.867" fill="black" fill-opacity="0.4"/>\n'}],l=[function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M53.5683 39L55.5437 34.3851L49.3528 23.7098L52.2483 13.0836L49.3539 12.2949L46.1288 24.1305L52.179 34.5631L50.0881 39H38V52H62V39H53.5683Z" fill="#E6E6E6"/>\n<mask id="topAntennaCrookedMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="38" y="12" width="24" height="40">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M53.5683 39L55.5437 34.3851L49.3528 23.7098L52.2483 13.0836L49.3539 12.2949L46.1288 24.1305L52.179 34.5631L50.0881 39H38V52H62V39H53.5683Z" fill="white"/>\n</mask>\n<g mask="url(#topAntennaCrookedMask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<rect x="38" y="39" width="24" height="13" fill="white" fill-opacity="0.2"/>\n</g>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 16C54.4183 16 58 12.4183 58 8C58 3.58172 54.4183 0 50 0C45.5817 0 42 3.58172 42 8C42 12.4183 45.5817 16 50 16Z" fill="#FFE65C"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M53 8C54.6569 8 56 6.65685 56 5C56 3.34315 54.6569 2 53 2C51.3431 2 50 3.34315 50 5C50 6.65685 51.3431 8 53 8Z" fill="white"/>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 5H48V36H40C38.8954 36 38 36.8954 38 38V52H62V38C62 36.8954 61.1046 36 60 36H52V5Z" fill="#E1E6E8"/>\n<mask id="topAntennaMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="38" y="5" width="24" height="47">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M52 5H48V36H40C38.8954 36 38 36.8954 38 38V52H62V38C62 36.8954 61.1046 36 60 36H52V5Z" fill="white"/>\n</mask>\n<g mask="url(#topAntennaMask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<rect x="38" y="36" width="24" height="16" fill="white" fill-opacity="0.2"/>\n</g>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 16C54.4183 16 58 12.4183 58 8C58 3.58172 54.4183 0 50 0C45.5817 0 42 3.58172 42 8C42 12.4183 45.5817 16 50 16Z" fill="#FFE65C"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M53 8C54.6569 8 56 6.65685 56 5C56 3.34315 54.6569 2 53 2C51.3431 2 50 3.34315 50 5C50 6.65685 51.3431 8 53 8Z" fill="white"/>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M48 0C39.1634 0 32 7.16344 32 16V32C32 36.4183 35.5817 40 40 40H23C22.4477 40 22 40.4477 22 41V51C22 51.5523 22.4477 52 23 52H77C77.5523 52 78 51.5523 78 51V41C78 40.4477 77.5523 40 77 40H60C64.4183 40 68 36.4183 68 32V16C68 7.16344 60.8366 0 52 0H48Z" fill="#59C4FF"/>\n<mask id="topBulb011Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="22" y="0" width="56" height="52">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M48 0C39.1634 0 32 7.16344 32 16V32C32 36.4183 35.5817 40 40 40H23C22.4477 40 22 40.4477 22 41V51C22 51.5523 22.4477 52 23 52H77C77.5523 52 78 51.5523 78 51V41C78 40.4477 77.5523 40 77 40H60C64.4183 40 68 36.4183 68 32V16C68 7.16344 60.8366 0 52 0H48Z" fill="white"/>\n</mask>\n<g mask="url(#topBulb011Mask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<rect x="20" y="-3" width="60" height="43" fill="white" fill-opacity="0.4"/>\n<path d="M49 3.5C53.9315 3.5 58.366 5.62814 61.4352 9.01616" stroke="white" stroke-width="2" stroke-linecap="round"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M49.8284 26L40.8284 17L38 19.8284L48 29.8284V40H52V29.9706L62.1421 19.8284L59.3137 17L50.3137 26H49.8284Z" fill="white" fill-opacity="0.8"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 13C38.9543 13 30 21.9543 30 33V36H21C20.4477 36 20 36.4477 20 37V51C20 51.5523 20.4477 52 21 52H79C79.5523 52 80 51.5523 80 51V37C80 36.4477 79.5523 36 79 36H70V33C70 21.9543 61.0457 13 50 13Z" fill="#59C4FF"/>\n<mask id="topBulb01Mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="20" y="13" width="60" height="39">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 13C38.9543 13 30 21.9543 30 33V36H21C20.4477 36 20 36.4477 20 37V51C20 51.5523 20.4477 52 21 52H79C79.5523 52 80 51.5523 80 51V37C80 36.4477 79.5523 36 79 36H70V33C70 21.9543 61.0457 13 50 13Z" fill="white"/>\n</mask>\n<g mask="url(#topBulb01Mask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 36C52.2091 36 54 35.028 54 31.7143C54 28.4006 52.2091 24 50 24C47.7909 24 46 28.4006 46 31.7143C46 35.028 47.7909 36 50 36Z" fill="white" fill-opacity="0.6"/>\n<rect x="20" y="13" width="60" height="23" fill="white" fill-opacity="0.4"/>\n<path d="M50 14.5C49.4477 14.5 49 14.9477 49 15.5C49 16.0523 49.4477 16.5 50 16.5V14.5ZM61.6941 21.6875C62.0649 22.0968 62.6973 22.1281 63.1066 21.7573C63.5159 21.3865 63.5471 20.7541 63.1763 20.3448L61.6941 21.6875ZM65.7595 24.0473C65.5035 23.5579 64.8993 23.3686 64.4099 23.6246C63.9205 23.8806 63.7313 24.4848 63.9873 24.9742L65.7595 24.0473ZM65.4248 28.9559C65.5404 29.4959 66.0719 29.84 66.6119 29.7244C67.152 29.6088 67.4961 29.0773 67.3805 28.5373L65.4248 28.9559ZM50 16.5C54.6375 16.5 58.8065 18.4999 61.6941 21.6875L63.1763 20.3448C59.9256 16.7563 55.2256 14.5 50 14.5V16.5ZM63.9873 24.9742C64.6357 26.2139 65.1239 27.5501 65.4248 28.9559L67.3805 28.5373C67.0411 26.9518 66.4904 25.4448 65.7595 24.0473L63.9873 24.9742Z" fill="white"/>\n</g>\n')},function(e){return'\n<g filter="url(#topGlowingBulb01Filter0)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M32 24C32 15.1634 39.1634 8 48 8H52C60.8366 8 68 15.1634 68 24V32C68 36.4183 64.4183 40 60 40H40C35.5817 40 32 36.4183 32 32V24Z" fill="white" fill-opacity="0.3"/>\n</g>\n<path d="M49 11.5C53.9315 11.5 58.366 13.6281 61.4352 17.0162" stroke="white" stroke-width="2" stroke-linecap="round"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M49.8284 29L40.8284 20L38 22.8284L48 32.8284V40H52V32.9706L62.1421 22.8284L59.3137 20L50.3137 29H49.8284Z" fill="white" fill-opacity="0.8"/>\n<rect x="22" y="40" width="56" height="12" rx="1" fill="'.concat(e,'"/>\n<defs>\n<filter id="topGlowingBulb01Filter0" x="24" y="0" width="52" height="48" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n<feOffset/>\n<feGaussianBlur stdDeviation="4"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset/>\n<feGaussianBlur stdDeviation="2"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow"/>\n</filter>\n</defs>\n')},function(e){return'\n<g filter="url(#topGlowingBulb02Filter0)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M30 33C30 21.9543 38.9543 13 50 13V13C61.0457 13 70 21.9543 70 33V44H30V33Z" fill="white" fill-opacity="0.3"/>\n</g>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 36C52.2091 36 54 35.028 54 31.7143C54 28.4006 52.2091 24 50 24C47.7909 24 46 28.4006 46 31.7143C46 35.028 47.7909 36 50 36Z" fill="white" fill-opacity="0.6"/>\n<path d="M50 14.5C49.4477 14.5 49 14.9477 49 15.5C49 16.0523 49.4477 16.5 50 16.5V14.5ZM61.6941 21.6875C62.0649 22.0968 62.6973 22.1281 63.1066 21.7573C63.5159 21.3865 63.5471 20.7541 63.1763 20.3448L61.6941 21.6875ZM65.7595 24.0473C65.5035 23.5579 64.8993 23.3686 64.4099 23.6246C63.9205 23.8806 63.7313 24.4848 63.9873 24.9742L65.7595 24.0473ZM65.4248 28.9559C65.5404 29.4959 66.0719 29.84 66.6119 29.7244C67.152 29.6088 67.4961 29.0773 67.3805 28.5373L65.4248 28.9559ZM50 16.5C54.6375 16.5 58.8065 18.4999 61.6941 21.6875L63.1763 20.3448C59.9256 16.7563 55.2256 14.5 50 14.5V16.5ZM63.9873 24.9742C64.6357 26.2139 65.1239 27.5501 65.4248 28.9559L67.3805 28.5373C67.0411 26.9518 66.4904 25.4448 65.7595 24.0473L63.9873 24.9742Z" fill="white"/>\n<rect x="20" y="36" width="60" height="16" rx="1" fill="'.concat(e,'"/>\n<defs>\n<filter id="topGlowingBulb02Filter0" x="22" y="5" width="56" height="47" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n<feOffset/>\n<feGaussianBlur stdDeviation="4"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset/>\n<feGaussianBlur stdDeviation="2"/>\n<feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>\n<feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/>\n<feBlend mode="normal" in2="shape" result="effect2_innerShadow"/>\n</filter>\n</defs>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M71.2104 40C78.8499 33.2931 84.6313 20.6882 84 14C83.8635 12.5535 85.9998 12.2993 87 14C91.418 21.5124 89.7172 36.0672 89.1535 40H92V52H66V40H71.2104ZM16.521 13.7408C16.521 21.2733 21.4918 33.445 29.2618 40H34V52H8V40H11.2251C10.6299 36.4414 8.52929 21.6012 13.4337 14.1009C14.3353 12.7219 16.521 12.6807 16.521 13.7408Z" fill="#E1E6E8"/>\n<mask id="topHornsMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="8" y="12" width="84" height="40">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M71.2104 40C78.8499 33.2931 84.6313 20.6882 84 14C83.8635 12.5535 85.9998 12.2993 87 14C91.418 21.5124 89.7172 36.0672 89.1535 40H92V52H66V40H71.2104ZM16.521 13.7408C16.521 21.2733 21.4918 33.445 29.2618 40H34V52H8V40H11.2251C10.6299 36.4414 8.52929 21.6012 13.4337 14.1009C14.3353 12.7219 16.521 12.6807 16.521 13.7408Z" fill="white"/>\n</mask>\n<g mask="url(#topHornsMask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<rect y="40" width="100" height="12" fill="black" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.4558 13H31.5689V40H20.8201C13.3712 32.1499 15.4558 13 15.4558 13Z" fill="white" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M84.8203 13H92.5691V40H81.8203C87.5713 32.1946 84.8203 13 84.8203 13Z" fill="white" fill-opacity="0.4"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M23 22C20.2386 22 18 24.2386 18 27V40H12C10.8954 40 10 40.8954 10 42V52H18H34H42H58H66H82H90V42C90 40.8954 89.1046 40 88 40H82V27C82 24.2386 79.7614 22 77 22H71C68.2386 22 66 24.2386 66 27V40H58V27C58 24.2386 55.7614 22 53 22H47C44.2386 22 42 24.2386 42 27V40H34V27C34 24.2386 31.7614 22 29 22H23Z" fill="#E1E6E8"/>\n<mask id="topLightsMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="10" y="22" width="80" height="30">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M23 22C20.2386 22 18 24.2386 18 27V40H12C10.8954 40 10 40.8954 10 42V52H18H34H42H58H66H82H90V42C90 40.8954 89.1046 40 88 40H82V27C82 24.2386 79.7614 22 77 22H71C68.2386 22 66 24.2386 66 27V40H58V27C58 24.2386 55.7614 22 53 22H47C44.2386 22 42 24.2386 42 27V40H34V27C34 24.2386 31.7614 22 29 22H23Z" fill="white"/>\n</mask>\n<g mask="url(#topLightsMask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<rect width="100" height="40" fill="white" fill-opacity="0.6"/>\n<rect x="24" y="28" width="4" height="8" rx="2" fill="white" fill-opacity="0.6"/>\n<rect x="48" y="28" width="4" height="8" rx="2" fill="white" fill-opacity="0.6"/>\n<rect x="72" y="28" width="4" height="8" rx="2" fill="white" fill-opacity="0.6"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 8L82 52H18L50 8Z" fill="#E1E6E8"/>\n<mask id="topPyramidMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="18" y="8" width="64" height="44">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M50 8L82 52H18L50 8Z" fill="white"/>\n</mask>\n<g mask="url(#topPyramidMask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<rect x="50" y="4" width="30" height="48" fill="white" fill-opacity="0.8"/>\n</g>\n')},function(e){return'\n<path fill-rule="evenodd" clip-rule="evenodd" d="M43.7993 28.3969C35.9888 20.5865 35.9888 7.92316 43.7993 0.112671L57.2343 13.5477L63.6874 7.09463C62.7814 5.56072 62.9874 3.55192 64.3054 2.23399C65.8675 0.671894 68.4001 0.671894 69.9622 2.23399C71.5243 3.79609 71.5243 6.32875 69.9622 7.89085C68.6443 9.20878 66.6355 9.41478 65.1016 8.50884L58.6485 14.9619L72.0835 28.3969C66.6332 33.8472 58.8199 35.4942 51.9414 33.3379V52.1127H47.9414V31.581C46.4606 30.7252 45.0661 29.6638 43.7993 28.3969Z" fill="#E1E6E8"/>\n<mask id="topRadarMask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="37" y="0" width="36" height="53">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M43.7993 28.3969C35.9888 20.5865 35.9888 7.92316 43.7993 0.112671L57.2343 13.5477L63.6874 7.09463C62.7814 5.56072 62.9874 3.55192 64.3054 2.23399C65.8675 0.671894 68.4001 0.671894 69.9622 2.23399C71.5243 3.79609 71.5243 6.32875 69.9622 7.89085C68.6443 9.20878 66.6355 9.41478 65.1016 8.50884L58.6485 14.9619L72.0835 28.3969C66.6332 33.8472 58.8199 35.4942 51.9414 33.3379V52.1127H47.9414V31.581C46.4606 30.7252 45.0661 29.6638 43.7993 28.3969Z" fill="white"/>\n</mask>\n<g mask="url(#topRadarMask0)">\n<rect width="100" height="52" fill="'.concat(e,'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M43.7988 0.112671C35.9883 7.92316 35.9883 20.5865 43.7988 28.3969C51.6093 36.2074 64.2726 36.2074 72.0831 28.3969" fill="white" fill-opacity="0.2"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M64.3054 7.89092C65.8675 9.45302 68.4001 9.45302 69.9622 7.89092C71.5243 6.32882 71.5243 3.79616 69.9622 2.23407C68.4001 0.67197 65.8675 0.67197 64.3054 2.23407C62.7433 3.79616 62.7433 6.32882 64.3054 7.89092Z" fill="white" fill-opacity="0.8"/>\n</g>\n')}],d=function(e,t,n,r,i){return e.bool(n)?'<g transform="translate('.concat(r,", ").concat(i,')">').concat(t,"</g>"):""},f={meta:{title:"Bottts",creator:"Pablo Stanley",contributor:"Florian K\xf6rner",source:"https://bottts.com/",license:{name:"Other - Free for personal and commercial use",url:"https://bottts.com/"}},schema:i,create:function(e){var n=e.prng,f=e.options,p=t.utils.schema.defaults(i),h=[];Object.keys(r.default.color.collection).forEach((function(e){void 0!==f.colors&&0!==f.colors.length&&-1===f.colors.indexOf(e)||h.push(r.default.color.collection[e])}));var v=n.pick(h),g=n.pick(h),A=v[f.primaryColorLevel||p.primaryColorLevel],m=v[f.secondaryColorLevel||p.secondaryColorLevel];f.colorful&&(m=g[f.secondaryColorLevel||p.secondaryColorLevel]);var E=n.pick(o),y=n.pick(a),b=n.pick(s),C=n.pick(c),_=n.pick(u),I=n.pick(l);return{attributes:{viewBox:"0 0 180 180"},body:[d(n,C(m),f.sidesChance||p.sidesChance,0,66),d(n,I(m),f.topChance||p.topChance,41,0),d(n,y(A,n.bool(f.textureChance)?_():void 0),100,25,44),d(n,b(),f.mouthChance||p.mouthChance,52,124),d(n,E(),100,38,76)].join("")}}},p=f.create,h=f.meta,v=f.schema,g=t.utils.style.createLegacyWrapper({create:p,meta:h,schema:v});e.create=p,e.default=g,e.meta=h,e.schema=v,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(5864))},5864:function(e,t,n){var r=n(215).default,i=n(4062).default,o=n(1589).default,a=n(4704).default,s=n(2122).default,c=n(861).default,u=n(6690).default,l=n(9728).default;!function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=-2147483648,d=2147483647;function f(e){return e^=e<<13,(e^=e>>17)^e<<5}function p(e){var t,r=function(e){for(var t=0,n=0;n<e.length;n++)t=f(t=(t<<5)-t+e.charCodeAt(n)|0);return t}(e=null!==(t=e)&&void 0!==t?t:n+Math.floor((d-n)*Math.random()).toString())||1,i=function(e,t){return Math.floor(((r=f(r))-n)/(d-n)*(t+1-e)+e)};return{seed:e,bool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return i(0,100)<e},integer:function(e,t){return i(e,t)},pick:function(e){return e[i(0,e.length-1)]}}}var h=Object.freeze({__proto__:null,create:p}),v=function(){function e(n){u(this,e),t(this,"prng",void 0),t(this,"seed",void 0),this.prng=p(n),this.seed=this.prng.seed}return l(e,[{key:"bool",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.prng.bool(e)}},{key:"integer",value:function(e,t){return this.prng.integer(e,t)}},{key:"pickone",value:function(e){return this.prng.pick(e)}}]),e}(),g=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t},A=function(e){var t,n,r=e[0],i=e[1],o=e[2],a=Math.min(r,i,o),s=Math.max(r,i,o),c=s-a;return n=0==s?0:c/s*1e3/10,s==a?t=0:r==s?t=(i-o)/c:i==s?t=2+(o-r)/c:o==s&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]},m=function(e,t,n){return Math.min(Math.max(e,t),n)};function E(e){var t=Math.round(m(e,0,255)).toString(16);return 1==t.length?"0"+t:t}var y=function(e){var t=4===e.length?E(255*e[3]):"";return"#"+E(e[0])+E(e[1])+E(e[2])+t},b=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,c,a];case 1:return[s,r,a];case 2:return[a,r,c];case 3:return[a,s,r];case 4:return[c,a,r];case 5:return[r,a,s]}},C={amber:{50:"#FFF8E1",100:"#FFECB3",200:"#FFE082",300:"#FFB74D",400:"#FFCA28",500:"#FFC107",600:"#FFB300",700:"#FFA000",800:"#FF8F00",900:"#FF6F00"},blue:{50:"#E3F2FD",100:"#BBDEFB",200:"#90CAF9",300:"#64B5F6",400:"#42A5F5",500:"#2196F3",600:"#1E88E5",700:"#1976D2",800:"#1565C0",900:"#0D47A1"},blueGrey:{50:"#ECEFF1",100:"#CFD8DC",200:"#B0BEC5",300:"#90A4AE",400:"#78909C",500:"#607D8B",600:"#546E7A",700:"#455A64",800:"#37474F",900:"#263238"},brown:{50:"#EFEBE9",100:"#D7CCC8",200:"#BCAAA4",300:"#A1887F",400:"#8D6E63",500:"#795548",600:"#6D4C41",700:"#5D4037",800:"#4E342E",900:"#3E2723"},cyan:{50:"#E0F7FA",100:"#B2EBF2",200:"#80DEEA",300:"#4DD0E1",400:"#26C6DA",500:"#00BCD4",600:"#00ACC1",700:"#0097A7",800:"#00838F",900:"#006064"},deepOrange:{50:"#FBE9E7",100:"#FFCCBC",200:"#FFAB91",300:"#A1887F",400:"#FF7043",500:"#FF5722",600:"#F4511E",700:"#E64A19",800:"#D84315",900:"#BF360C"},deepPurple:{50:"#EDE7F6",100:"#D1C4E9",200:"#B39DDB",300:"#9575CD",400:"#7E57C2",500:"#673AB7",600:"#5E35B1",700:"#512DA8",800:"#4527A0",900:"#311B92"},green:{50:"#E8F5E9",100:"#C8E6C9",200:"#A5D6A7",300:"#81C784",400:"#66BB6A",500:"#4CAF50",600:"#43A047",700:"#388E3C",800:"#2E7D32",900:"#1B5E20"},grey:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},indigo:{50:"#E8EAF6",100:"#C5CAE9",200:"#9FA8DA",300:"#7986CB",400:"#5C6BC0",500:"#3F51B5",600:"#3949AB",700:"#303F9F",800:"#283593",900:"#1A237E"},lightBlue:{50:"#E1F5FE",100:"#B3E5FC",200:"#81D4FA",300:"#4FC3F7",400:"#29B6F6",500:"#03A9F4",600:"#039BE5",700:"#0288D1",800:"#0277BD",900:"#01579B"},lightGreen:{50:"#F1F8E9",100:"#DCEDC8",200:"#C5E1A5",300:"#AED581",400:"#9CCC65",500:"#8BC34A",600:"#7CB342",700:"#689F38",800:"#558B2F",900:"#33691E"},lime:{50:"#F9FBE7",100:"#F0F4C3",200:"#E6EE9C",300:"#DCE775",400:"#D4E157",500:"#CDDC39",600:"#C0CA33",700:"#AFB42B",800:"#9E9D24",900:"#827717"},orange:{50:"#FFF3E0",100:"#FFE0B2",200:"#FFCC80",300:"#FF8A65",400:"#FFA726",500:"#FF9800",600:"#FB8C00",700:"#F57C00",800:"#EF6C00",900:"#E65100"},pink:{50:"#FCE4EC",100:"#F8BBD0",200:"#F48FB1",300:"#F06292",400:"#EC407A",500:"#E91E63",600:"#D81B60",700:"#C2185B",800:"#AD1457",900:"#880E4F"},purple:{50:"#F3E5F5",100:"#E1BEE7",200:"#CE93D8",300:"#BA68C8",400:"#AB47BC",500:"#9C27B0",600:"#8E24AA",700:"#7B1FA2",800:"#6A1B9A",900:"#4A148C"},red:{50:"#FFEBEE",100:"#FFCDD2",200:"#EF9A9A",300:"#E57373",400:"#EF5350",500:"#F44336",600:"#E53935",700:"#D32F2F",800:"#C62828",900:"#B71C1C"},teal:{50:"#E0F2F1",100:"#B2DFDB",200:"#80CBC4",300:"#4DB6AC",400:"#26A69A",500:"#009688",600:"#00897B",700:"#00796B",800:"#00695C",900:"#004D40"},yellow:{50:"#FFFDE7",100:"#FFF9C4",200:"#FFF59D",300:"#FFF176",400:"#FFEE58",500:"#FFEB3B",600:"#FDD835",700:"#FBC02D",800:"#F9A825",900:"#F57F17"}},_=function(){function e(){u(this,e);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000";if(t(this,"alpha",1),t(this,"color",{}),"#"==n[0])this.hex=n;else{var r=/^(rgb|rgba|hsv)\(([0-9\%\,\.\s]+)\)$/.exec(n.trim());if(!r)throw new Error("Unknown color format: "+n);var i=r[2].split(",").map((function(e){return parseInt(e.trim())}));switch(r[1]){case"rgb":this.rgb=i;break;case"rgba":this.rgba=i;break;case"hsv":this.hsv=i;break;default:throw new Error("Unsupported color format: "+n)}}}return l(e,[{key:"clone",value:function(){return new e("rgb("+this.rgb.join(",")+")")}},{key:"rgb",get:function(){return this.color.rgb=this.color.rgb||(this.color.hex?this.hexToRgb(this.hex):this.hsvToRgb(this.hsv))},set:function(e){if(3!=e.length)throw new Error("An array with a length of 3 is expected.");this.alpha=1,this.color={rgb:e}}},{key:"rgba",get:function(){return[this.rgb[0],this.rgb[1],this.rgb[2],this.alpha]},set:function(e){if(4!=e.length)throw new Error("An array with a length of 3 is expected.");this.rgb=[e[0],e[1],e[2]],this.alpha=e[3]}},{key:"hsv",get:function(){return(this.color.hsv=this.color.hsv||this.rgbToHsv(this.rgb)).slice(0)},set:function(e){if(3!=e.length)throw new Error("An array with a length of 3 is expected.");this.alpha=1,this.color={hsv:e}}},{key:"hex",get:function(){return(this.color.hex=this.color.hex||this.rgbToHex(this.rgb)).slice(0)},set:function(e){this.alpha=1,this.color={hex:e}}},{key:"brighterThan",value:function(e,t){var n=this.hsv,r=e.hsv;return n[2]>=r[2]+t||(n[2]=r[2]+t,n[2]>360&&(n[2]=360),this.hsv=n),this}},{key:"darkerThan",value:function(e,t){var n=this.hsv,r=e.hsv;return n[2]<=r[2]-t||(n[2]=r[2]-t,n[2]<0&&(n[2]=0),this.hsv=n),this}},{key:"brighterOrDarkerThan",value:function(e,t){var n=this.hsv,r=e.hsv;return n[2]<=r[2]?this.darkerThan(e,t):this.brighterThan(e,t)}},{key:"rgbToHex",value:function(e){return y(e)}},{key:"hexToRgb",value:function(e){return g(e).map((function(e){return Math.round(e)}))}},{key:"rgbToHsv",value:function(e){return A(e).map((function(e){return Math.round(e)}))}},{key:"hsvToRgb",value:function(e){return b(e).map((function(e){return Math.round(e)}))}}]),e}();t(_,"collection",C);var I=Object.freeze({__proto__:null,collection:C,default:_}),w=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)};function S(e){return!0===w(e)&&"[object Object]"===Object.prototype.toString.call(e)}var T={}.toString,R=Array.isArray||function(e){return"[object Array]"==T.call(e)},k=function(e,t){if(null==e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1};function O(e){return e?Array.isArray(e)?e.join("."):e:""}var N=function(e,t,n){return null!=(r=e)&&"object"==typeof r&&!1===R(r)?k(function(e,t,n,r,i){if(null===(o=e)||"object"!=typeof o&&"function"!=typeof o||!t)return e;var o;if(t=O(t),n&&(t+="."+O(n)),r&&(t+="."+O(r)),i&&(t+="."+O(i)),t in e)return e[t];for(var a=t.split("."),s=a.length,c=-1;e&&++c<s;){for(var u=a[c];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+a[++c];e=e[u]}return e}(e,t),n):k(e,t);var r},x=function(e,t){if(!w(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(N(e,t)){for(var n=t.split("."),r=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)r=n.pop().slice(0,-1)+"."+r;for(;n.length;)e=e[t=n.shift()];return delete e[r]}return!0},D=function e(t,n){if(void 0===t)return{};if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=e(t[r],n);return t}if(!1===S(i=t)||"function"!=typeof(o=i.constructor)||!1===S(a=o.prototype)||!1===a.hasOwnProperty("isPrototypeOf"))return t;var i,o,a;if("string"==typeof n&&(n=[n]),!Array.isArray(n))return t;for(var s=0;s<n.length;s++)x(t,n[s]);for(var c in t)t.hasOwnProperty(c)&&(t[c]=e(t[c],n));return t},L=function(e){return null!=e&&(P(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&P(e.slice(0,0))}(e)||!!e._isBuffer)};function P(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var M=Object.prototype.toString,B=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=M.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":L(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"};function U(e){var t={exports:{}};return e(t,t.exports),t.exports}var j=U((function(e){!function(){function t(e,t){if("function"!=typeof t)return e;var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[t(r,e[r])||r]=e[r]);return n}e.exports?e.exports=t:window.rename=t}()})),F=function e(t,n){var r=B(t);if("object"!==r&&"array"!==r)throw new Error("expected an object");var i=[];for(var o in"object"===r&&(t=j(t,n),i={}),t)if(t.hasOwnProperty(o)){var a=t[o];"object"===B(a)||"array"===B(a)?i[o]=e(a,n):i[o]=a}return i},Q=U((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e,t){var r=n?n+e:e,i=this._events[r];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},o.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,r){var o=new i(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},o.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},o.prototype.removeListener=function(e,t,i,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||i&&s.context!==i||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||i&&s[c].context!==i)&&u.push(s[c]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,o.EventEmitter=o,e.exports=o}));function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(){},H={data:"state-data",cdata:"state-cdata",tagBegin:"state-tag-begin",tagName:"state-tag-name",tagEnd:"state-tag-end",attributeNameStart:"state-attribute-name-start",attributeName:"state-attribute-name",attributeNameEnd:"state-attribute-name-end",attributeValueBegin:"state-attribute-value-begin",attributeValue:"state-attribute-value"},q={lt:"action-lt",gt:"action-gt",space:"action-space",equal:"action-equal",quote:"action-quote",slash:"action-slash",char:"action-char",error:"action-error"},K={text:"text",openTag:"open-tag",closeTag:"close-tag",attributeName:"attribute-name",attributeValue:"attribute-value"},W={" ":q.space,"\t":q.space,"\n":q.space,"\r":q.space,"<":q.lt,">":q.gt,'"':q.quote,"'":q.quote,"=":q.equal,"/":q.slash},Y=function(e){var t,n,r,i,o,a,s,c,u,l;e=Object.assign({debug:!1},e);var d=new Q,f=H.data,p="",h="",v="",g="",A="",m="",E=function(t,n){if("?"!==h[0]&&"!"!==h[0]){var r={type:t,value:n};e.debug&&console.log("emit:",r),d.emit("data",r)}};d.stateMachine=(V(l={},H.data,(V(t={},q.lt,(function(){p.trim()&&E(K.text,p),h="",A=!1,f=H.tagBegin})),V(t,q.char,(function(e){p+=e})),t)),V(l,H.cdata,V({},q.char,(function(e){"]]>"===(p+=e).substr(-3)&&(E(K.text,p.slice(0,-3)),p="",f=H.data)}))),V(l,H.tagBegin,(V(n={},q.space,G),V(n,q.char,(function(e){h=e,f=H.tagName})),V(n,q.slash,(function(){h="",A=!0})),n)),V(l,H.tagName,(V(r={},q.space,(function(){A?f=H.tagEnd:(f=H.attributeNameStart,E(K.openTag,h))})),V(r,q.gt,(function(){E(A?K.closeTag:K.openTag,h),p="",f=H.data})),V(r,q.slash,(function(){f=H.tagEnd,E(K.openTag,h)})),V(r,q.char,(function(e){"![CDATA["===(h+=e)&&(f=H.cdata,p="",h="")})),r)),V(l,H.tagEnd,(V(i={},q.gt,(function(){E(K.closeTag,h),p="",f=H.data})),V(i,q.char,G),i)),V(l,H.attributeNameStart,(V(o={},q.char,(function(e){v=e,f=H.attributeName})),V(o,q.gt,(function(){p="",f=H.data})),V(o,q.space,G),V(o,q.slash,(function(){A=!0,f=H.tagEnd})),o)),V(l,H.attributeName,(V(a={},q.space,(function(){f=H.attributeNameEnd})),V(a,q.equal,(function(){E(K.attributeName,v),f=H.attributeValueBegin})),V(a,q.gt,(function(){g="",E(K.attributeName,v),E(K.attributeValue,g),p="",f=H.data})),V(a,q.slash,(function(){A=!0,g="",E(K.attributeName,v),E(K.attributeValue,g),f=H.tagEnd})),V(a,q.char,(function(e){v+=e})),a)),V(l,H.attributeNameEnd,(V(s={},q.space,G),V(s,q.equal,(function(){E(K.attributeName,v),f=H.attributeValueBegin})),V(s,q.gt,(function(){g="",E(K.attributeName,v),E(K.attributeValue,g),p="",f=H.data})),V(s,q.char,(function(e){g="",E(K.attributeName,v),E(K.attributeValue,g),v=e,f=H.attributeName})),s)),V(l,H.attributeValueBegin,(V(c={},q.space,G),V(c,q.quote,(function(e){m=e,g="",f=H.attributeValue})),V(c,q.gt,(function(){E(K.attributeValue,g=""),p="",f=H.data})),V(c,q.char,(function(e){m="",g=e,f=H.attributeValue})),c)),V(l,H.attributeValue,(V(u={},q.space,(function(e){m?g+=e:(E(K.attributeValue,g),f=H.attributeNameStart)})),V(u,q.quote,(function(e){m===e?(E(K.attributeValue,g),f=H.attributeNameStart):g+=e})),V(u,q.gt,(function(e){m?g+=e:(E(K.attributeValue,g),p="",f=H.data)})),V(u,q.slash,(function(e){m?g+=e:(E(K.attributeValue,g),A=!0,f=H.tagEnd)})),V(u,q.char,(function(e){g+=e})),u)),l);var y=function(t){e.debug&&console.log(f,t);var n=d.stateMachine[f],r=n[function(e){return W[e]||q.char}(t)]||n[q.error]||n[q.char];r(t)};return d.write=function(e){for(var t=e.length,n=0;n<t;n++)y(e[n])},d},z=K,J={element:"element",text:"text"},X=function(e){return Object.assign({name:"",type:J.element,value:"",parent:null,attributes:{},children:[]},e)},Z=function(e){e=Object.assign({stream:!1,parentNodes:!0,doneEvent:"done",tagPrefix:"tag:",emitTopLevelOnly:!1,debug:!1},e);var t=void 0,n=void 0,r=void 0,i=void 0,o=new Q,a=function(a){switch(a.type){case z.openTag:if(null===r)(r=n).name=a.value;else{var s=X({name:a.value,parent:r});r.children.push(s),r=s}break;case z.closeTag:var c=r.parent;if(e.parentNodes||(r.parent=null),r.name!==a.value)break;e.stream&&c===n&&(n.children=[],r.parent=null),e.emitTopLevelOnly&&c!==n||(o.emit(e.tagPrefix+r.name,r),o.emit("tag",r.name,r)),r===n&&(t.removeAllListeners("data"),o.emit(e.doneEvent,r),n=null),r=c;break;case z.text:r&&r.children.push(X({type:J.text,value:a.value,parent:e.parentNodes?r:null}));break;case z.attributeName:i=a.value,r.attributes[i]="";break;case z.attributeValue:r.attributes[i]=a.value}};return o.reset=function(){(t=Y({debug:e.debug})).on("data",a),n=X(),r=null,i="",o.parse=t.write},o.reset(),o},$=function(e,t){t=Object.assign({},t,{stream:!1,tagPrefix:":"});var n=Z(t),r=void 0;return n.on("done",(function(e){r=e})),n.parse(e),r},ee=function(e){var t=$("<root>".concat(e,"</root>"),{parentNodes:!1});if(t.children&&t.children.length>0&&t.children.every((function(e){return"svg"===e.name})))return 1===t.children.length?t.children[0]:t.children;throw Error("nothing to parse")},te=function(e){return D(e,["parent"])},ne=function(e){return F(e,(function(e){return ie(e)?e:re(e)}))},re=function(e){return e.replace(/[-|:]([a-z])/gi,(function(e,t){return t.toUpperCase()}))},ie=function(e){return/^(data|aria)(-\w+)/.test(e)},oe=function(e){if(e){var t=String(e);return/[&<>]/.test(t)?"<![CDATA[".concat(t.replace(/]]>/,"]]]]><![CDATA[>"),"]]>"):t}return""},ae=function(e){return String(e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},se=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transformAttr,i=void 0===r?function(e,t,n){return"".concat(e,'="').concat(n(t),'"')}:r,o=n.transformNode,a=void 0===o?function(e){return e}:o,s=n.selfClose,c=void 0===s||s;if(Array.isArray(t))return t.map((function(t){return e(t,{transformAttr:i,selfClose:c,transformNode:a})})).join("");var u=a(t);if("text"===u.type)return oe(u.value);var l="";for(var d in u.attributes){var f=i(d,u.attributes[d],ae,u.name);l+=f?" ".concat(f):""}return u.children&&u.children.length>0||!c?"<".concat(u.name).concat(l,">").concat(e(u.children,{transformAttr:i,transformNode:a,selfClose:c}),"</").concat(u.name,">"):"<".concat(u.name).concat(l,"/>")},ce=function(){function e(){u(this,e)}return l(e,null,[{key:"parse",value:function(e){return"string"==typeof e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transformNode,r=void 0===n?function(e){return e}:n,i=t.camelcase,o=void 0!==i&&i,a=function(e){var t;return t=te(e),t=r(t),o&&(t=ne(t)),t};return a(ee(e))}(e):e}},{key:"stringify",value:function(e){return"string"==typeof e?e:se(e)}}]),e}();function ue(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var le=Object.freeze({__proto__:null,xml:ue}),de={type:"object",$schema:"http://json-schema.org/draft-07/schema#",title:"Options",properties:{seed:{title:"Seed",type:"string"},s:{title:"Seed",type:"string"},base64:{title:"Base64",description:"@deprecated use dataUri instead",type:"boolean",default:!1},dataUri:{title:"Data URI",type:"boolean",default:!1},userAgent:{title:"User Agent",description:"@deprecated",type:"string"},flip:{title:"Flip",type:"boolean",default:!1},rotate:{title:"Rotate",type:"integer",minimum:0,maximum:360,default:0},scale:{title:"Scale",type:"integer",minimum:0,maximum:200,default:100},radius:{title:"Radius",type:"integer",minimum:0,maximum:50,default:0},r:{title:"Radius",type:"integer",minimum:0,maximum:50,default:0},width:{title:"Width",description:"@deprecated use size instead",type:"integer",minimum:1},w:{title:"Width",description:"@deprecated use size instead",type:"integer",minimum:1},height:{title:"Height",description:"@deprecated use size instead",type:"integer",minimum:1},h:{title:"Height",description:"@deprecated use size instead",type:"integer",minimum:1},size:{title:"Size",type:"integer",minimum:1},margin:{title:"Margin",description:"@deprecated use scale instead",type:"integer",minimum:0,maximum:25,default:0},m:{title:"Margin",description:"@deprecated use scale instead",type:"integer",minimum:0,maximum:25,default:0},backgroundColor:{title:"Background Color",anyOf:[{type:"string",pattern:"^#([a-fA-F0-9]{3}|[a-fA-F0-9]{4}|[a-fA-F0-9]{6}|[a-fA-F0-9]{8})$"},{type:"string",pattern:"^[0-9a-zA-Z]+$"},{type:"array",items:{anyOf:[{type:"string",pattern:"^#([a-fA-F0-9]{3}|[a-fA-F0-9]{4}|[a-fA-F0-9]{6}|[a-fA-F0-9]{8})$"},{type:"string",pattern:"^[0-9a-zA-Z]+$"}]}}]},background:{title:"Background Color",anyOf:[{type:"string",pattern:"^#([a-fA-F0-9]{3}|[a-fA-F0-9]{4}|[a-fA-F0-9]{6}|[a-fA-F0-9]{8})$"},{type:"string",pattern:"^[0-9a-zA-Z]+$"},{type:"array",items:{anyOf:[{type:"string",pattern:"^#([a-fA-F0-9]{3}|[a-fA-F0-9]{4}|[a-fA-F0-9]{6}|[a-fA-F0-9]{8})$"},{type:"string",pattern:"^[0-9a-zA-Z]+$"}]}}],description:"@deprecated use backgroundColor instead"},b:{title:"Background Color",anyOf:[{type:"string",pattern:"^#([a-fA-F0-9]{3}|[a-fA-F0-9]{4}|[a-fA-F0-9]{6}|[a-fA-F0-9]{8})$"},{type:"string",pattern:"^[0-9a-zA-Z]+$"},{type:"array",items:{anyOf:[{type:"string",pattern:"^#([a-fA-F0-9]{3}|[a-fA-F0-9]{4}|[a-fA-F0-9]{6}|[a-fA-F0-9]{8})$"},{type:"string",pattern:"^[0-9a-zA-Z]+$"}]}}]},translateX:{title:"Translate X%",type:"integer",minimum:-100,maximum:100,default:0},translateY:{title:"Translate Y%",type:"integer",minimum:-100,maximum:100,default:0}},additionalProperties:!1};function fe(e){return e.properties||{}}function pe(e){var t={},n=fe(e);return Object.keys(n).forEach((function(e){var r=n[e];"object"==typeof r&&void 0!==r.default&&(Array.isArray(r.default)?t[e]=c(r.default):"object"==typeof r.default?t[e]=s({},r.default):t[e]=r.default)})),t}function he(e){var t={},n=fe(e);return Object.keys(n).forEach((function(e){var r=n[e];if("object"==typeof r){var i=r.title;i&&(t[i]=t[i]||[],t[i].push(e))}})),Object.values(t).filter((function(e){return e.length>1})).map((function(e){return e.sort().sort((function(e,t){return e.length===t.length?0:e.length>t.length?1:-1}))}))}function ve(e){var t,n=new Map,r=a(he(e));try{for(r.s();!(t=r.n()).done;){var i,s=t.value.reverse(),c=o(s),u=c[0],l=c.slice(1),d=a(l);try{for(d.s();!(i=d.n()).done;){var f=i.value;n.set(f,u)}}catch(p){d.e(p)}finally{d.f()}}}catch(p){r.e(p)}finally{r.f()}return n}var ge=Object.freeze({__proto__:null,properties:fe,defaults:pe,aliases:he,aliasesMap:ve});function Ae(e,t){return e[t],r(e,[t].map(i))}var me=Object.freeze({__proto__:null,omit:Ae});function Ee(e,t){var n=[{seed:Math.random().toString(),userAgent:"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent},pe(de),pe(e.schema),t],r=ye(e);return n.forEach((function(e){r=Object.assign(r,Ae(e,"_aliases"))})),r}function ye(e){var t=new Map([].concat(c(Array.from(ve(de))),c(Array.from(ve(e.schema)))));return new Proxy({_aliases:t},{get:function(e,t){var n,r=null!==(n=e._aliases.get(t))&&void 0!==n?n:t;return e[r]},set:function(e,t,n){var r,i=null!==(r=e._aliases.get(t))&&void 0!==r?r:t;return e[i]=n,!0},deleteProperty:function(e,t){var n,r=null!==(n=e._aliases.get(t))&&void 0!==n?n:t;return delete e[r],!0}})}var be=Object.freeze({__proto__:null,merge:Ee,createAliasProxy:ye}),Ce={by:{permits:["Reproduction","Distribution","DerivativeWorks"],requires:["Notice","Attribution"],prohibits:[]},"by-sa":{permits:["Reproduction","Distribution","DerivativeWorks"],requires:["Notice","Attribution","ShareAlike"],prohibits:[]},"by-nd":{permits:["Reproduction","Distribution"],requires:["Notice","Attribution"],prohibits:[]},"by-nc":{permits:["Reproduction","Distribution","DerivativeWorks"],requires:["Notice","Attribution"],prohibits:["CommercialUse"]},"by-nc-sa":{permits:["Reproduction","Distribution","DerivativeWorks"],requires:["Notice","Attribution","ShareAlike"],prohibits:["CommercialUse"]},"by-nc-nd":{permits:["Reproduction","Distribution"],requires:["Notice","Attribution"],prohibits:["CommercialUse"]},zero:{permits:["Reproduction","Distribution","DerivativeWorks"],requires:[],prohibits:[]}};function _e(){return{"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg"}}function Ie(e){return'\n<metadata>\n<rdf:RDF>\n<cc:Work>\n<dc:format>image/svg+xml</dc:format>\n<dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n'.concat(we(e),"\n").concat(Se(e),"\n").concat(Te(e),"\n").concat(Re(e),"\n").concat(ke(e),"\n</cc:Work>\n").concat(Ne(e),"\n</rdf:RDF>\n</metadata>\n")}function we(e){return e.meta.title?"<dc:title>".concat(e.meta.title,"</dc:title>"):""}function Se(e){if(e.meta.creator){var t=Array.isArray(e.meta.creator)?e.meta.creator:[e.meta.creator];return"\n<dc:creator>\n".concat(Oe(t),"\n</dc:creator>\n")}return""}function Te(e){return e.meta.source?"<dc:source>".concat(e.meta.source,"</dc:source>"):""}function Re(e){return e.meta.license?'<cc:license rdf:resource="'.concat(e.meta.license.url,'" />'):""}function ke(e){if(e.meta.contributor){var t=Array.isArray(e.meta.contributor)?e.meta.contributor:[e.meta.contributor];return"\n<dc:contributor>\n".concat(Oe(t),"\n</dc:contributor>\n")}return""}function Oe(e){return e.map((function(e){return"\n<cc:Agent>\n<dc:title>".concat(e,"</dc:title>\n</cc:Agent>\n")}))}function Ne(e){var t,n=null===(t=e.meta.license)||void 0===t?void 0:t.url.match(/^https?:\/\/creativecommons.org\/(?:licenses|publicdomain)\/([a-z\-]+)\/\d.\d\//);if(n){var r=Ce[n[1]];if(r){var i,o="";return r.permits.forEach((function(e){o+='<cc:permits rdf:resource="https://creativecommons.org/ns#'.concat(e,'" />')})),r.requires.forEach((function(e){o+='<cc:requires rdf:resource="https://creativecommons.org/ns#'.concat(e,'" />')})),r.prohibits.forEach((function(e){o+='<cc:prohibits rdf:resource="https://creativecommons.org/ns#'.concat(e,'" />')})),'\n<cc:License rdf:about="'.concat(null===(i=e.meta.license)||void 0===i?void 0:i.url,'">\n').concat(o,"\n</cc:License>\n")}}return""}function xe(e){var t=e.attributes.viewBox.split(" ");return{x:parseInt(t[0]),y:parseInt(t[1]),width:parseInt(t[2]),height:parseInt(t[3])}}function De(e,t){var n;return Pe(e,100-2*("number"==typeof t?t:null!==(n=t.margin)&&void 0!==n?n:0))}function Le(e,t){var n,r=xe(e),i=r.width,o=r.height,a=r.x,s=r.y,c="string"==typeof t?t:null!==(n=t.backgroundColor)&&void 0!==n?n:"transparent";return'\n<rect fill="'.concat(c,'" width="').concat(i,'" height="').concat(o,'" x="').concat(a,'" y="').concat(s,'" />\n').concat(e.body,"\n")}function Pe(e,t){var n=xe(e),r=n.width,i=n.height,o=n.x,a=t?(t-100)/100:0,s=(i/2+n.y)*a*-1;return'\n<g transform="translate('.concat((r/2+o)*a*-1," ").concat(s,") scale(").concat(t/100,')">\n').concat(e.body,"\n</g>\n")}function Me(e,t,n){var r=xe(e),i=(r.width+2*r.x)*((null!=t?t:0)/100),o=(r.height+2*r.y)*((null!=n?n:0)/100);return'\n<g transform="translate('.concat(i," ").concat(o,')">\n').concat(e.body,"\n</g>\n")}function Be(e,t){var n=xe(e),r=n.width,i=n.height,o=n.x,a=n.y;return'\n<g transform="rotate('.concat(t,", ").concat(r/2+o,", ").concat(i/2+a,')">\n').concat(e.body,"\n</g>\n")}function Ue(e){var t=xe(e),n=t.width,r=t.x;return'\n<g transform="scale(-1 1) translate('.concat(-1*n-2*r,' 0)">\n').concat(e.body,"\n</g>\n")}function je(e,t){var n=xe(e),r=n.width,i=n.height,o=n.x,a=n.y,s=t?r*t/100:0,c=t?i*t/100:0;return'\n<mask id="avatarsRadiusMask">\n<rect width="'.concat(r,'" height="').concat(i,'" rx="').concat(s,'" ry="').concat(c,'" x="').concat(o,'" y="').concat(a,'" fill="#fff" />\n</mask>\n<g mask="url(#avatarsRadiusMask)">').concat(e.body,"</g>\n")}function Fe(e){return e=s({"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg"},e),Object.keys(e).map((function(t){return"".concat(ue(t),'="').concat(ue(e[t]),'"')})).join(" ")}function Qe(e){return e.trim().replace(/\n/g," ").replace(/>\s+</g,"><").replace(/\s{2,}/g," ").replace(/<([^\/>]+)><\/[^>]+>/gi,"<$1/>").replace(/\s(\/?>)/g,"$1")}var Ve=Object.freeze({__proto__:null,createGroup:function(e){var t=e.children,n=e.x,r=e.y;return'<g transform="translate('.concat(n,", ").concat(r,')">').concat(t,"</g>")},getXmlnsAttributes:_e,getMetadata:Ie,getMetadataWorkTitle:we,getMetadataWorkCreator:Se,getMetadataWorkSource:Te,getMetadataWorkLicense:Re,getMetadataWorkContributor:ke,getMetadataWorkAgents:Oe,getMetadataLicense:Ne,getViewBox:xe,addMargin:De,addRadius:function(e,t){return void 0===t.radius?e.body:je(e,t.radius)},addBackgroundColor:Le,addScale:Pe,addTranslate:Me,addRotate:Be,addFlip:Ue,addViewboxMask:je,createAttrString:Fe,removeWhitespace:Qe}),Ge=Object.freeze({__proto__:null,createLegacyWrapper:function(e){return function(t,n){var r;n=Object.assign(n,Ee(e,n));var i=e.create({prng:p(t.seed),options:n});return"\n<svg ".concat(Fe(i.attributes),">\n").concat(Ie(e),"\n").concat(null!==(r=i.head)&&void 0!==r?r:"","\n").concat(i.body,"\n</svg>\n")}}}),He=Object.freeze({__proto__:null,escape:le,options:be,prng:h,svg:Ve,style:Ge,schema:ge,helper:me});function qe(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=p((i=Ee(e,i)).seed),a=e.create({prng:o,options:i});if(i.size?(a.attributes.width=i.size.toString(),a.attributes.height=i.size.toString()):(i.width&&(a.attributes.width=i.width.toString()),i.height&&(a.attributes.height=i.height.toString())),void 0!==i.scale&&100!==i.scale?a.body=Pe(a,i.scale):i.margin&&(a.body=De(a,i)),i.flip&&(a.body=Ue(a)),i.rotate&&(a.body=Be(a,i.rotate)),(i.translateX||i.translateY)&&(a.body=Me(a,i.translateX,i.translateY)),i.backgroundColor){var s=Array.isArray(i.backgroundColor)?o.pick(i.backgroundColor):i.backgroundColor;a.body=Le(a,s)}a.body=je(a,null!==(t=i.radius)&&void 0!==t?t:0);var c=Boolean(null===(n=a.head)||void 0===n?void 0:n.match(/<metadata([^>]*)>/)),u=Qe("\n<svg ".concat(Fe(a.attributes),">\n").concat(c?"":Ie(e),"\n").concat(null!==(r=a.head)&&void 0!==r?r:"","\n").concat(a.body,"\n</svg>\n"));if(i.dataUri)return"data:image/svg+xml;utf8,".concat(encodeURIComponent(u));if(i.base64){var l=encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt("0x".concat(t)))}));return"data:image/svg+xml;base64,".concat(btoa(l))}return u}var Ke=function(){function e(n,r){u(this,e),t(this,"spriteCollection",void 0),t(this,"defaultOptions",void 0),this.spriteCollection=n,this.defaultOptions=r}return l(e,[{key:"create",value:function(e,t){var n=this,r={meta:{},schema:{},create:function(e){var t=e.prng,r=e.options,i=ce.parse(n.spriteCollection(new v(t.seed),r)),o=[],a=[];return i.children.forEach((function(e){n.isBody(e)?a.push(e):o.push(e)})),{attributes:i.attributes,head:o.map((function(e){return ce.stringify(e)})).join(""),body:a.map((function(e){return ce.stringify(e)})).join("")}}};return qe(r,s(s(s({},this.defaultOptions),t),{},{seed:e}))}},{key:"isBody",value:function(e){return"element"===e.type&&-1===["title","desc","defs","metadata"].indexOf(e.name)}}]),e}();t(Ke,"random",v),t(Ke,"color",_),t(Ke,"parser",ce),e.color=I,e.createAvatar=qe,e.default=Ke,e.schema=de,e.utils=He,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3322:function(e,t,n){var r=n(4993).default,i=n(1588).default,o=n(3808).default,a=n(4704).default,s=n(7424).default,c=n(7061).default,u=n(7156).default,l=n(6115).default,d=n(3496).default,f=n(1655).default,p=n(6389).default,h=n(861).default,v=n(6690).default,g=n(9728).default,A=n(8416).default;e.exports=function(){"use strict";var e,t,m,E,y,b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},C=function(e){return e&&e.Math==Math&&e},_=C("object"==typeof globalThis&&globalThis)||C("object"==typeof window&&window)||C("object"==typeof self&&self)||C("object"==typeof b&&b)||function(){return this}()||Function("return this")(),I={},w=function(e){try{return!!e()}catch(e){return!0}},S=!w((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),T=!w((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),R=T,k=Function.prototype.call,O=R?k.bind(k):function(){return k.apply(k,arguments)},N={},x={}.propertyIsEnumerable,D=Object.getOwnPropertyDescriptor,L=D&&!x.call({1:2},1);N.f=L?function(e){var t=D(this,e);return!!t&&t.enumerable}:x;var P,M,B=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},U=T,j=Function.prototype,F=j.bind,Q=j.call,V=U&&F.bind(Q,Q),G=U?function(e){return e&&V(e)}:function(e){return e&&function(){return Q.apply(e,arguments)}},H=G,q=H({}.toString),K=H("".slice),W=function(e){return K(q(e),8,-1)},Y=G,z=w,J=W,X=_.Object,Z=Y("".split),$=z((function(){return!X("z").propertyIsEnumerable(0)}))?function(e){return"String"==J(e)?Z(e,""):X(e)}:X,ee=_.TypeError,te=function(e){if(null==e)throw ee("Can't call method on "+e);return e},ne=$,re=te,ie=function(e){return ne(re(e))},oe=function(e){return"function"==typeof e},ae=oe,se=function(e){return"object"==typeof e?null!==e:ae(e)},ce=_,ue=oe,le=function(e){return ue(e)?e:void 0},de=function(e,t){return arguments.length<2?le(ce[e]):ce[e]&&ce[e][t]},fe=G({}.isPrototypeOf),pe=de("navigator","userAgent")||"",he=_,ve=pe,ge=he.process,Ae=he.Deno,me=ge&&ge.versions||Ae&&Ae.version,Ee=me&&me.v8;Ee&&(M=(P=Ee.split("."))[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&ve&&(!(P=ve.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=ve.match(/Chrome\/(\d+)/))&&(M=+P[1]);var ye=M,be=ye,Ce=w,_e=!!Object.getOwnPropertySymbols&&!Ce((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&be&&be<41})),Ie=_e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,we=de,Se=oe,Te=fe,Re=Ie,ke=_.Object,Oe=Re?function(e){return"symbol"==typeof e}:function(e){var t=we("Symbol");return Se(t)&&Te(t.prototype,ke(e))},Ne=_.String,xe=function(e){try{return Ne(e)}catch(e){return"Object"}},De=oe,Le=xe,Pe=_.TypeError,Me=function(e){if(De(e))return e;throw Pe(Le(e)+" is not a function")},Be=Me,Ue=function(e,t){var n=e[t];return null==n?void 0:Be(n)},je=O,Fe=oe,Qe=se,Ve=_.TypeError,Ge={exports:{}},He=_,qe=Object.defineProperty,Ke=function(e,t){try{qe(He,e,{value:t,configurable:!0,writable:!0})}catch(_){He[e]=t}return t},We=Ke,Ye="__core-js_shared__",ze=_[Ye]||We(Ye,{}),Je=ze;(Ge.exports=function(e,t){return Je[e]||(Je[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Xe=te,Ze=_.Object,$e=function(e){return Ze(Xe(e))},et=$e,tt=G({}.hasOwnProperty),nt=Object.hasOwn||function(e,t){return tt(et(e),t)},rt=G,it=0,ot=Math.random(),at=rt(1..toString),st=function(e){return"Symbol("+(void 0===e?"":e)+")_"+at(++it+ot,36)},ct=_,ut=Ge.exports,lt=nt,dt=st,ft=_e,pt=Ie,ht=ut("wks"),vt=ct.Symbol,gt=vt&&vt.for,At=pt?vt:vt&&vt.withoutSetter||dt,mt=function(e){if(!lt(ht,e)||!ft&&"string"!=typeof ht[e]){var t="Symbol."+e;ft&&lt(vt,e)?ht[e]=vt[e]:ht[e]=pt&&gt?gt(t):At(t)}return ht[e]},Et=O,yt=se,bt=Oe,Ct=Ue,_t=function(e,t){var n,r;if("string"===t&&Fe(n=e.toString)&&!Qe(r=je(n,e)))return r;if(Fe(n=e.valueOf)&&!Qe(r=je(n,e)))return r;if("string"!==t&&Fe(n=e.toString)&&!Qe(r=je(n,e)))return r;throw Ve("Can't convert object to primitive value")},It=mt,wt=_.TypeError,St=It("toPrimitive"),Tt=function(e,t){if(!yt(e)||bt(e))return e;var n,r=Ct(e,St);if(r){if(void 0===t&&(t="default"),n=Et(r,e,t),!yt(n)||bt(n))return n;throw wt("Can't convert object to primitive value")}return void 0===t&&(t="number"),_t(e,t)},Rt=Oe,kt=function(e){var t=Tt(e,"string");return Rt(t)?t:t+""},Ot=se,Nt=_.document,xt=Ot(Nt)&&Ot(Nt.createElement),Dt=function(e){return xt?Nt.createElement(e):{}},Lt=Dt,Pt=!S&&!w((function(){return 7!=Object.defineProperty(Lt("div"),"a",{get:function(){return 7}}).a})),Mt=S,Bt=O,Ut=N,jt=B,Ft=ie,Qt=kt,Vt=nt,Gt=Pt,Ht=Object.getOwnPropertyDescriptor;I.f=Mt?Ht:function(e,t){if(e=Ft(e),t=Qt(t),Gt)try{return Ht(e,t)}catch(e){}if(Vt(e,t))return jt(!Bt(Ut.f,e,t),e[t])};var qt={},Kt=S&&w((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Wt=_,Yt=se,zt=Wt.String,Jt=Wt.TypeError,Xt=function(e){if(Yt(e))return e;throw Jt(zt(e)+" is not an object")},Zt=S,$t=Pt,en=Kt,tn=Xt,nn=kt,rn=_.TypeError,on=Object.defineProperty,an=Object.getOwnPropertyDescriptor,sn="enumerable",cn="configurable",un="writable";qt.f=Zt?en?function(e,t,n){if(tn(e),t=nn(t),tn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&un in n&&!n.writable){var r=an(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:cn in n?n.configurable:r.configurable,enumerable:sn in n?n.enumerable:r.enumerable,writable:!1})}return on(e,t,n)}:on:function(e,t,n){if(tn(e),t=nn(t),tn(n),$t)try{return on(e,t,n)}catch(e){}if("get"in n||"set"in n)throw rn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var ln=qt,dn=B,fn=S?function(e,t,n){return ln.f(e,t,dn(1,n))}:function(e,t,n){return e[t]=n,e},pn={exports:{}},hn=oe,vn=ze,gn=G(Function.toString);hn(vn.inspectSource)||(vn.inspectSource=function(e){return gn(e)});var An,mn,En,yn=vn.inspectSource,bn=oe,Cn=yn,_n=_.WeakMap,In=bn(_n)&&/native code/.test(Cn(_n)),wn=Ge.exports,Sn=st,Tn=wn("keys"),Rn=function(e){return Tn[e]||(Tn[e]=Sn(e))},kn={},On=In,Nn=_,xn=G,Dn=se,Ln=fn,Pn=nt,Mn=ze,Bn=Rn,Un=kn,jn="Object already initialized",Fn=Nn.TypeError,Qn=Nn.WeakMap;if(On||Mn.state){var Vn=Mn.state||(Mn.state=new Qn),Gn=xn(Vn.get),Hn=xn(Vn.has),qn=xn(Vn.set);An=function(e,t){if(Hn(Vn,e))throw new Fn(jn);return t.facade=e,qn(Vn,e,t),t},mn=function(e){return Gn(Vn,e)||{}},En=function(e){return Hn(Vn,e)}}else{var Kn=Bn("state");Un[Kn]=!0,An=function(e,t){if(Pn(e,Kn))throw new Fn(jn);return t.facade=e,Ln(e,Kn,t),t},mn=function(e){return Pn(e,Kn)?e[Kn]:{}},En=function(e){return Pn(e,Kn)}}var Wn={set:An,get:mn,has:En,enforce:function(e){return En(e)?mn(e):An(e,{})},getterFor:function(e){return function(t){var n;if(!Dn(t)||(n=mn(t)).type!==e)throw Fn("Incompatible receiver, "+e+" required");return n}}},Yn=S,zn=nt,Jn=Function.prototype,Xn=Yn&&Object.getOwnPropertyDescriptor,Zn=zn(Jn,"name"),$n={EXISTS:Zn,PROPER:Zn&&"something"===function(){}.name,CONFIGURABLE:Zn&&(!Yn||Yn&&Xn(Jn,"name").configurable)},er=_,tr=oe,nr=nt,rr=fn,ir=Ke,or=yn,ar=$n.CONFIGURABLE,sr=Wn.get,cr=Wn.enforce,ur=String(String).split("String");(pn.exports=function(e,t,n,r){var i,o=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,c=r&&void 0!==r.name?r.name:t;tr(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!nr(n,"name")||ar&&n.name!==c)&&rr(n,"name",c),(i=cr(n)).source||(i.source=ur.join("string"==typeof c?c:""))),e!==er?(o?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:rr(e,t,n)):a?e[t]=n:ir(t,n)})(Function.prototype,"toString",(function(){return tr(this)&&sr(this).source||or(this)}));var lr={},dr=Math.ceil,fr=Math.floor,pr=function(e){var t=+e;return t!=t||0===t?0:(t>0?fr:dr)(t)},hr=pr,vr=Math.max,gr=Math.min,Ar=function(e,t){var n=hr(e);return n<0?vr(n+t,0):gr(n,t)},mr=pr,Er=Math.min,yr=function(e){return e>0?Er(mr(e),9007199254740991):0},br=yr,Cr=function(e){return br(e.length)},_r=ie,Ir=Ar,wr=Cr,Sr=function(e){return function(t,n,r){var i,o=_r(t),a=wr(o),s=Ir(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Tr={includes:Sr(!0),indexOf:Sr(!1)},Rr=nt,kr=ie,Or=Tr.indexOf,Nr=kn,xr=G([].push),Dr=function(e,t){var n,r=kr(e),i=0,o=[];for(n in r)!Rr(Nr,n)&&Rr(r,n)&&xr(o,n);for(;t.length>i;)Rr(r,n=t[i++])&&(~Or(o,n)||xr(o,n));return o},Lr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pr=Dr,Mr=Lr.concat("length","prototype");lr.f=Object.getOwnPropertyNames||function(e){return Pr(e,Mr)};var Br={};Br.f=Object.getOwnPropertySymbols;var Ur=de,jr=lr,Fr=Br,Qr=Xt,Vr=G([].concat),Gr=Ur("Reflect","ownKeys")||function(e){var t=jr.f(Qr(e)),n=Fr.f;return n?Vr(t,n(e)):t},Hr=nt,qr=Gr,Kr=I,Wr=qt,Yr=function(e,t,n){for(var r=qr(t),i=Wr.f,o=Kr.f,a=0;a<r.length;a++){var s=r[a];Hr(e,s)||n&&Hr(n,s)||i(e,s,o(t,s))}},zr=w,Jr=oe,Xr=/#|\.prototype\./,Zr=function(e,t){var n=ei[$r(e)];return n==ni||n!=ti&&(Jr(t)?zr(t):!!t)},$r=Zr.normalize=function(e){return String(e).replace(Xr,".").toLowerCase()},ei=Zr.data={},ti=Zr.NATIVE="N",ni=Zr.POLYFILL="P",ri=Zr,ii=_,oi=I.f,ai=fn,si=pn.exports,ci=Ke,ui=Yr,li=ri,di=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat;if(n=c?ii:u?ii[s]||ci(s,{}):(ii[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=oi(n,r))&&a.value:n[r],!li(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;ui(o,i)}(e.sham||i&&i.sham)&&ai(o,"sham",!0),si(n,r,o,e)}},fi=_.Promise,pi=pn.exports,hi=function(e,t,n){for(var r in t)pi(e,r,t[r],n);return e},vi=_,gi=oe,Ai=vi.String,mi=vi.TypeError,Ei=G,yi=Xt,bi=function(e){if("object"==typeof e||gi(e))return e;throw mi("Can't set "+Ai(e)+" as a prototype")},Ci=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Ei(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return yi(n),bi(r),t?e(n,r):n.__proto__=r,n}}():void 0),_i=qt.f,Ii=nt,wi=mt("toStringTag"),Si=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Ii(e,wi)&&_i(e,wi,{configurable:!0,value:t})},Ti=de,Ri=qt,ki=S,Oi=mt("species"),Ni=function(e){var t=Ti(e),n=Ri.f;ki&&t&&!t[Oi]&&n(t,Oi,{configurable:!0,get:function(){return this}})},xi=fe,Di=_.TypeError,Li=function(e,t){if(xi(t,e))return e;throw Di("Incorrect invocation")},Pi=Me,Mi=T,Bi=G(G.bind),Ui=function(e,t){return Pi(e),void 0===t?e:Mi?Bi(e,t):function(){return e.apply(t,arguments)}},ji={},Fi=ji,Qi=mt("iterator"),Vi=Array.prototype,Gi=function(e){return void 0!==e&&(Fi.Array===e||Vi[Qi]===e)},Hi={};Hi[mt("toStringTag")]="z";var qi=_,Ki="[object z]"===String(Hi),Wi=oe,Yi=W,zi=mt("toStringTag"),Ji=qi.Object,Xi="Arguments"==Yi(function(){return arguments}()),Zi=Ki?Yi:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Ji(e),zi))?n:Xi?Yi(t):"Object"==(r=Yi(t))&&Wi(t.callee)?"Arguments":r},$i=Zi,eo=Ue,to=ji,no=mt("iterator"),ro=function(e){if(null!=e)return eo(e,no)||eo(e,"@@iterator")||to[$i(e)]},io=O,oo=Me,ao=Xt,so=xe,co=ro,uo=_.TypeError,lo=function(e,t){var n=arguments.length<2?co(e):t;if(oo(n))return ao(io(n,e));throw uo(so(e)+" is not iterable")},fo=O,po=Xt,ho=Ue,vo=Ui,go=O,Ao=Xt,mo=xe,Eo=Gi,yo=Cr,bo=fe,Co=lo,_o=ro,Io=function(e,t,n){var r,i;po(e);try{if(!(r=ho(e,"return"))){if("throw"===t)throw n;return n}r=fo(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return po(r),n},wo=_.TypeError,So=function(e,t){this.stopped=e,this.result=t},To=So.prototype,Ro=mt("iterator"),ko=!1;try{var Oo=0,No={next:function(){return{done:!!Oo++}},return:function(){ko=!0}};No[Ro]=function(){return this},Array.from(No,(function(){throw 2}))}catch(b){}var xo=function(e,t){if(!t&&!ko)return!1;var n=!1;try{var r={};r[Ro]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},Do=G,Lo=w,Po=oe,Mo=Zi,Bo=yn,Uo=function(){},jo=[],Fo=de("Reflect","construct"),Qo=/^\s*(?:class|function)\b/,Vo=Do(Qo.exec),Go=!Qo.exec(Uo),Ho=function(e){if(!Po(e))return!1;try{return Fo(Uo,jo,e),!0}catch(e){return!1}},qo=function(e){if(!Po(e))return!1;switch(Mo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Go||!!Vo(Qo,Bo(e))}catch(e){return!0}};qo.sham=!0;var Ko,Wo,Yo,zo,Jo=!Fo||Lo((function(){var e;return Ho(Ho.call)||!Ho(Object)||!Ho((function(){e=!0}))||e}))?qo:Ho,Xo=Jo,Zo=xe,$o=_.TypeError,ea=function(e){if(Xo(e))return e;throw $o(Zo(e)+" is not a constructor")},ta=Xt,na=ea,ra=mt("species"),ia=function(e,t){var n,r=ta(e).constructor;return void 0===r||null==(n=ta(r)[ra])?t:na(n)},oa=T,aa=Function.prototype,sa=aa.apply,ca=aa.call,ua="object"==typeof Reflect&&Reflect.apply||(oa?ca.bind(sa):function(){return ca.apply(sa,arguments)}),la=de("document","documentElement"),da=G([].slice),fa=/(?:ipad|iphone|ipod).*applewebkit/i.test(pe),pa="process"==W(_.process),ha=_,va=ua,ga=Ui,Aa=oe,ma=nt,Ea=w,ya=la,ba=da,Ca=Dt,_a=fa,Ia=pa,wa=ha.setImmediate,Sa=ha.clearImmediate,Ta=ha.process,Ra=ha.Dispatch,ka=ha.Function,Oa=ha.MessageChannel,Na=ha.String,xa=0,Da={},La="onreadystatechange";try{Ko=ha.location}catch(b){}var Pa=function(e){if(ma(Da,e)){var t=Da[e];delete Da[e],t()}},Ma=function(e){return function(){Pa(e)}},Ba=function(e){Pa(e.data)},Ua=function(e){ha.postMessage(Na(e),Ko.protocol+"//"+Ko.host)};wa&&Sa||(wa=function(e){var t=ba(arguments,1);return Da[++xa]=function(){va(Aa(e)?e:ka(e),void 0,t)},Wo(xa),xa},Sa=function(e){delete Da[e]},Ia?Wo=function(e){Ta.nextTick(Ma(e))}:Ra&&Ra.now?Wo=function(e){Ra.now(Ma(e))}:Oa&&!_a?(zo=(Yo=new Oa).port2,Yo.port1.onmessage=Ba,Wo=ga(zo.postMessage,zo)):ha.addEventListener&&Aa(ha.postMessage)&&!ha.importScripts&&Ko&&"file:"!==Ko.protocol&&!Ea(Ua)?(Wo=Ua,ha.addEventListener("message",Ba,!1)):Wo=La in Ca("script")?function(e){ya.appendChild(Ca("script")).onreadystatechange=function(){ya.removeChild(this),Pa(e)}}:function(e){setTimeout(Ma(e),0)});var ja,Fa,Qa,Va,Ga,Ha,qa,Ka,Wa={set:wa,clear:Sa},Ya=_,za=/ipad|iphone|ipod/i.test(pe)&&void 0!==Ya.Pebble,Ja=/web0s(?!.*chrome)/i.test(pe),Xa=_,Za=Ui,$a=I.f,es=Wa.set,ts=fa,ns=za,rs=Ja,is=pa,os=Xa.MutationObserver||Xa.WebKitMutationObserver,as=Xa.document,ss=Xa.process,cs=Xa.Promise,us=$a(Xa,"queueMicrotask"),ls=us&&us.value;ls||(ja=function(){var e,t;for(is&&(e=ss.domain)&&e.exit();Fa;){t=Fa.fn,Fa=Fa.next;try{t()}catch(e){throw Fa?Va():Qa=void 0,e}}Qa=void 0,e&&e.enter()},ts||is||rs||!os||!as?!ns&&cs&&cs.resolve?((qa=cs.resolve(void 0)).constructor=cs,Ka=Za(qa.then,qa),Va=function(){Ka(ja)}):is?Va=function(){ss.nextTick(ja)}:(es=Za(es,Xa),Va=function(){es(ja)}):(Ga=!0,Ha=as.createTextNode(""),new os(ja).observe(Ha,{characterData:!0}),Va=function(){Ha.data=Ga=!Ga}));var ds=ls||function(e){var t={fn:e,next:void 0};Qa&&(Qa.next=t),Fa||(Fa=t,Va()),Qa=t},fs={},ps=Me,hs=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=ps(t),this.reject=ps(n)};fs.f=function(e){return new hs(e)};var vs=Xt,gs=se,As=fs,ms=function(e,t){if(vs(e),gs(t)&&t.constructor===e)return t;var n=As.f(e);return(0,n.resolve)(t),n.promise},Es=_,ys=function(){this.head=null,this.tail=null};ys.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var bs,Cs,_s,Is,ws=ys,Ss="object"==typeof window,Ts=di,Rs=_,ks=de,Os=O,Ns=fi,xs=pn.exports,Ds=hi,Ls=Ci,Ps=Si,Ms=Ni,Bs=Me,Us=oe,js=se,Fs=Li,Qs=yn,Vs=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=vo(t,l),v=function(e){return r&&Io(r,"normal",e),new So(!0,e)},g=function(e){return d?(Ao(e),p?h(e[0],e[1],v):h(e[0],e[1])):p?h(e,v):h(e)};if(f)r=e;else{if(!(i=_o(e)))throw wo(mo(e)+" is not iterable");if(Eo(i)){for(o=0,a=yo(e);a>o;o++)if((s=g(e[o]))&&bo(To,s))return s;return new So(!1)}r=Co(e,i)}for(c=r.next;!(u=go(c,r)).done;){try{s=g(u.value)}catch(e){Io(r,"throw",e)}if("object"==typeof s&&s&&bo(To,s))return s}return new So(!1)},Gs=xo,Hs=ia,qs=Wa.set,Ks=ds,Ws=ms,Ys=function(e,t){var n=Es.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},zs=fs,Js=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Xs=ws,Zs=Wn,$s=ri,ec=Ss,tc=pa,nc=ye,rc=mt("species"),ic="Promise",oc=Zs.getterFor(ic),ac=Zs.set,sc=Zs.getterFor(ic),cc=Ns&&Ns.prototype,uc=Ns,lc=cc,dc=Rs.TypeError,fc=Rs.document,pc=Rs.process,hc=zs.f,vc=hc,gc=!!(fc&&fc.createEvent&&Rs.dispatchEvent),Ac=Us(Rs.PromiseRejectionEvent),mc="unhandledrejection",Ec=!1,yc=$s(ic,(function(){var e=Qs(uc),t=e!==String(uc);if(!t&&66===nc)return!0;if(nc>=51&&/native code/.test(e))return!1;var n=new uc((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[rc]=r,!(Ec=n.then((function(){}))instanceof r)||!t&&ec&&!Ac})),bc=yc||!Gs((function(e){uc.all(e).catch((function(){}))})),Cc=function(e){var t;return!(!js(e)||!Us(t=e.then))&&t},_c=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&Rc(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(dc("Promise-chain cycle")):(r=Cc(n))?Os(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},Ic=function(e,t){e.notified||(e.notified=!0,Ks((function(){for(var n,r=e.reactions;n=r.get();)_c(n,e);e.notified=!1,t&&!e.rejection&&Sc(e)})))},wc=function(e,t,n){var r,i;gc?((r=fc.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Rs.dispatchEvent(r)):r={promise:t,reason:n},!Ac&&(i=Rs["on"+e])?i(r):e===mc&&Ys("Unhandled promise rejection",n)},Sc=function(e){Os(qs,Rs,(function(){var t,n=e.facade,r=e.value;if(Tc(e)&&(t=Js((function(){tc?pc.emit("unhandledRejection",r,n):wc(mc,n,r)})),e.rejection=tc||Tc(e)?2:1,t.error))throw t.value}))},Tc=function(e){return 1!==e.rejection&&!e.parent},Rc=function(e){Os(qs,Rs,(function(){var t=e.facade;tc?pc.emit("rejectionHandled",t):wc("rejectionhandled",t,e.value)}))},kc=function(e,t,n){return function(r){e(t,r,n)}},Oc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Ic(e,!0))},Nc=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw dc("Promise can't be resolved itself");var i=Cc(n);i?Ks((function(){var r={done:!1};try{Os(i,n,kc(e,r,t),kc(Oc,r,t))}catch(n){Oc(r,n,t)}})):(t.value=n,t.state=1,Ic(t,!1))}catch(n){Oc({done:!1},n,t)}}};if(yc&&(lc=(uc=function(e){Fs(this,lc),Bs(e),Os(bs,this);var t=oc(this);try{e(kc(Nc,t),kc(Oc,t))}catch(e){Oc(t,e)}}).prototype,(bs=function(e){ac(this,{type:ic,done:!1,notified:!1,parent:!1,reactions:new Xs,rejection:!1,state:0,value:void 0})}).prototype=Ds(lc,{then:function(e,t){var n=sc(this),r=hc(Hs(this,uc));return n.parent=!0,r.ok=!Us(e)||e,r.fail=Us(t)&&t,r.domain=tc?pc.domain:void 0,0==n.state?n.reactions.add(r):Ks((function(){_c(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),Cs=function(){var e=new bs,t=oc(e);this.promise=e,this.resolve=kc(Nc,t),this.reject=kc(Oc,t)},zs.f=hc=function(e){return e===uc||e===_s?new Cs(e):vc(e)},Us(Ns)&&cc!==Object.prototype)){Is=cc.then,Ec||(xs(cc,"then",(function(e,t){var n=this;return new uc((function(e,t){Os(Is,n,e,t)})).then(e,t)}),{unsafe:!0}),xs(cc,"catch",lc.catch,{unsafe:!0}));try{delete cc.constructor}catch(b){}Ls&&Ls(cc,lc)}Ts({global:!0,wrap:!0,forced:yc},{Promise:uc}),Ps(uc,ic,!1),Ms(ic),_s=ks(ic),Ts({target:ic,stat:!0,forced:yc},{reject:function(e){var t=hc(this);return Os(t.reject,void 0,e),t.promise}}),Ts({target:ic,stat:!0,forced:yc},{resolve:function(e){return Ws(this,e)}}),Ts({target:ic,stat:!0,forced:bc},{all:function(e){var t=this,n=hc(t),r=n.resolve,i=n.reject,o=Js((function(){var n=Bs(t.resolve),o=[],a=0,s=1;Vs(e,(function(e){var c=a++,u=!1;s++,Os(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=hc(t),r=n.reject,i=Js((function(){var i=Bs(t.resolve);Vs(e,(function(e){Os(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var xc=di,Dc=de,Lc=ua,Pc=G,Mc=w,Bc=_.Array,Uc=Dc("JSON","stringify"),jc=Pc(/./.exec),Fc=Pc("".charAt),Qc=Pc("".charCodeAt),Vc=Pc("".replace),Gc=Pc(1..toString),Hc=/[\uD800-\uDFFF]/g,qc=/^[\uD800-\uDBFF]$/,Kc=/^[\uDC00-\uDFFF]$/,Wc=function(e,t,n){var r=Fc(n,t-1),i=Fc(n,t+1);return jc(qc,e)&&!jc(Kc,i)||jc(Kc,e)&&!jc(qc,r)?"\\u"+Gc(Qc(e,0),16):e},Yc=Mc((function(){return'"\\udf06\\ud834"'!==Uc("\udf06\ud834")||'"\\udead"'!==Uc("\udead")}));Uc&&xc({target:"JSON",stat:!0,forced:Yc},{stringify:function(e,t,n){for(var r=0,i=arguments.length,o=Bc(i);r<i;r++)o[r]=arguments[r];var a=Lc(Uc,null,o);return"string"==typeof a?Vc(a,Hc,Wc):a}});var zc=function(e){try{return!!e()}catch(e){return!0}},Jc=!zc((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Xc=Jc,Zc=Function.prototype,$c=Zc.bind,eu=Zc.call,tu=Xc&&$c.bind(eu,eu),nu=Xc?function(e){return e&&tu(e)}:function(e){return e&&function(){return eu.apply(e,arguments)}},ru=nu({}.isPrototypeOf),iu=function(e){return e&&e.Math==Math&&e},ou=iu("object"==typeof globalThis&&globalThis)||iu("object"==typeof window&&window)||iu("object"==typeof self&&self)||iu("object"==typeof b&&b)||function(){return this}()||Function("return this")(),au=Jc,su=Function.prototype,cu=su.apply,uu=su.call,lu="object"==typeof Reflect&&Reflect.apply||(au?uu.bind(cu):function(){return uu.apply(cu,arguments)}),du=function(e){return"function"==typeof e},fu={},pu=!zc((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),hu=Jc,vu=Function.prototype.call,gu=hu?vu.bind(vu):function(){return vu.apply(vu,arguments)},Au={},mu={}.propertyIsEnumerable,Eu=Object.getOwnPropertyDescriptor,yu=Eu&&!mu.call({1:2},1);Au.f=yu?function(e){var t=Eu(this,e);return!!t&&t.enumerable}:mu;var bu,Cu,_u=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Iu=nu,wu=Iu({}.toString),Su=Iu("".slice),Tu=function(e){return Su(wu(e),8,-1)},Ru=nu,ku=zc,Ou=Tu,Nu=ou.Object,xu=Ru("".split),Du=ku((function(){return!Nu("z").propertyIsEnumerable(0)}))?function(e){return"String"==Ou(e)?xu(e,""):Nu(e)}:Nu,Lu=ou.TypeError,Pu=function(e){if(null==e)throw Lu("Can't call method on "+e);return e},Mu=Du,Bu=Pu,Uu=function(e){return Mu(Bu(e))},ju=du,Fu=function(e){return"object"==typeof e?null!==e:ju(e)},Qu={},Vu=Qu,Gu=ou,Hu=du,qu=function(e){return Hu(e)?e:void 0},Ku=function(e,t){return arguments.length<2?qu(Vu[e])||qu(Gu[e]):Vu[e]&&Vu[e][t]||Gu[e]&&Gu[e][t]},Wu=Ku("navigator","userAgent")||"",Yu=ou,zu=Wu,Ju=Yu.process,Xu=Yu.Deno,Zu=Ju&&Ju.versions||Xu&&Xu.version,$u=Zu&&Zu.v8;$u&&(Cu=(bu=$u.split("."))[0]>0&&bu[0]<4?1:+(bu[0]+bu[1])),!Cu&&zu&&(!(bu=zu.match(/Edge\/(\d+)/))||bu[1]>=74)&&(bu=zu.match(/Chrome\/(\d+)/))&&(Cu=+bu[1]);var el=Cu,tl=el,nl=zc,rl=!!Object.getOwnPropertySymbols&&!nl((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&tl&&tl<41})),il=rl&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ol=Ku,al=du,sl=ru,cl=il,ul=ou.Object,ll=cl?function(e){return"symbol"==typeof e}:function(e){var t=ol("Symbol");return al(t)&&sl(t.prototype,ul(e))},dl=ou.String,fl=function(e){try{return dl(e)}catch(e){return"Object"}},pl=du,hl=fl,vl=ou.TypeError,gl=function(e){if(pl(e))return e;throw vl(hl(e)+" is not a function")},Al=gl,ml=function(e,t){var n=e[t];return null==n?void 0:Al(n)},El=gu,yl=du,bl=Fu,Cl=ou.TypeError,_l={exports:{}},Il=ou,wl=Object.defineProperty,Sl=function(e,t){try{wl(Il,e,{value:t,configurable:!0,writable:!0})}catch(_){Il[e]=t}return t},Tl="__core-js_shared__",Rl=ou[Tl]||Sl(Tl,{}),kl=Rl;(_l.exports=function(e,t){return kl[e]||(kl[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"pure",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Ol=Pu,Nl=ou.Object,xl=function(e){return Nl(Ol(e))},Dl=xl,Ll=nu({}.hasOwnProperty),Pl=Object.hasOwn||function(e,t){return Ll(Dl(e),t)},Ml=nu,Bl=0,Ul=Math.random(),jl=Ml(1..toString),Fl=function(e){return"Symbol("+(void 0===e?"":e)+")_"+jl(++Bl+Ul,36)},Ql=ou,Vl=_l.exports,Gl=Pl,Hl=Fl,ql=rl,Kl=il,Wl=Vl("wks"),Yl=Ql.Symbol,zl=Yl&&Yl.for,Jl=Kl?Yl:Yl&&Yl.withoutSetter||Hl,Xl=function(e){if(!Gl(Wl,e)||!ql&&"string"!=typeof Wl[e]){var t="Symbol."+e;ql&&Gl(Yl,e)?Wl[e]=Yl[e]:Wl[e]=Kl&&zl?zl(t):Jl(t)}return Wl[e]},Zl=gu,$l=Fu,ed=ll,td=ml,nd=function(e,t){var n,r;if("string"===t&&yl(n=e.toString)&&!bl(r=El(n,e)))return r;if(yl(n=e.valueOf)&&!bl(r=El(n,e)))return r;if("string"!==t&&yl(n=e.toString)&&!bl(r=El(n,e)))return r;throw Cl("Can't convert object to primitive value")},rd=Xl,id=ou.TypeError,od=rd("toPrimitive"),ad=function(e,t){if(!$l(e)||ed(e))return e;var n,r=td(e,od);if(r){if(void 0===t&&(t="default"),n=Zl(r,e,t),!$l(n)||ed(n))return n;throw id("Can't convert object to primitive value")}return void 0===t&&(t="number"),nd(e,t)},sd=ll,cd=function(e){var t=ad(e,"string");return sd(t)?t:t+""},ud=Fu,ld=ou.document,dd=ud(ld)&&ud(ld.createElement),fd=function(e){return dd?ld.createElement(e):{}},pd=fd,hd=!pu&&!zc((function(){return 7!=Object.defineProperty(pd("div"),"a",{get:function(){return 7}}).a})),vd=pu,gd=gu,Ad=Au,md=_u,Ed=Uu,yd=cd,bd=Pl,Cd=hd,_d=Object.getOwnPropertyDescriptor;fu.f=vd?_d:function(e,t){if(e=Ed(e),t=yd(t),Cd)try{return _d(e,t)}catch(e){}if(bd(e,t))return md(!gd(Ad.f,e,t),e[t])};var Id=zc,wd=du,Sd=/#|\.prototype\./,Td=function(e,t){var n=kd[Rd(e)];return n==Nd||n!=Od&&(wd(t)?Id(t):!!t)},Rd=Td.normalize=function(e){return String(e).replace(Sd,".").toLowerCase()},kd=Td.data={},Od=Td.NATIVE="N",Nd=Td.POLYFILL="P",xd=Td,Dd=gl,Ld=Jc,Pd=nu(nu.bind),Md=function(e,t){return Dd(e),void 0===t?e:Ld?Pd(e,t):function(){return e.apply(t,arguments)}},Bd={},Ud=pu&&zc((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),jd=ou,Fd=Fu,Qd=jd.String,Vd=jd.TypeError,Gd=function(e){if(Fd(e))return e;throw Vd(Qd(e)+" is not an object")},Hd=pu,qd=hd,Kd=Ud,Wd=Gd,Yd=cd,zd=ou.TypeError,Jd=Object.defineProperty,Xd=Object.getOwnPropertyDescriptor,Zd="enumerable",$d="configurable",ef="writable";Bd.f=Hd?Kd?function(e,t,n){if(Wd(e),t=Yd(t),Wd(n),"function"==typeof e&&"prototype"===t&&"value"in n&&ef in n&&!n.writable){var r=Xd(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:$d in n?n.configurable:r.configurable,enumerable:Zd in n?n.enumerable:r.enumerable,writable:!1})}return Jd(e,t,n)}:Jd:function(e,t,n){if(Wd(e),t=Yd(t),Wd(n),qd)try{return Jd(e,t,n)}catch(e){}if("get"in n||"set"in n)throw zd("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var tf=Bd,nf=_u,rf=pu?function(e,t,n){return tf.f(e,t,nf(1,n))}:function(e,t,n){return e[t]=n,e},of=ou,af=lu,sf=nu,cf=du,uf=fu.f,lf=xd,df=Qu,ff=Md,pf=rf,hf=Pl,vf=function(e){var t=function t(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return af(e,this,arguments)};return t.prototype=e.prototype,t},gf=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,d=e.global,f=e.stat,p=e.proto,h=d?of:f?of[l]:(of[l]||{}).prototype,v=d?df:df[l]||pf(df,l,{})[l],g=v.prototype;for(i in t)n=!lf(d?i:l+(f?".":"#")+i,e.forced)&&h&&hf(h,i),a=v[i],n&&(s=e.noTargetGet?(u=uf(h,i))&&u.value:h[i]),o=n&&s?s:t[i],n&&typeof a==typeof o||(c=e.bind&&n?ff(o,of):e.wrap&&n?vf(o):p&&cf(o)?sf(o):o,(e.sham||o&&o.sham||a&&a.sham)&&pf(c,"sham",!0),pf(v,i,c),p&&(hf(df,r=l+"Prototype")||pf(df,r,{}),pf(df[r],i,o),e.real&&g&&!g[i]&&pf(g,i,o)))},Af=Math.ceil,mf=Math.floor,Ef=function(e){var t=+e;return t!=t||0===t?0:(t>0?mf:Af)(t)},yf=Ef,bf=Math.min,Cf=function(e){return e>0?bf(yf(e),9007199254740991):0},_f=function(e){return Cf(e.length)},If=gl,wf=xl,Sf=Du,Tf=_f,Rf=ou.TypeError,kf=function(e){return function(t,n,r,i){If(n);var o=wf(t),a=Sf(o),s=Tf(o),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw Rf("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},Of={left:kf(!1),right:kf(!0)},Nf=zc,xf=function(e,t){var n=[][e];return!!n&&Nf((function(){n.call(null,t||function(){throw 1},1)}))},Df="process"==Tu(ou.process),Lf=Of.left,Pf=el,Mf=Df;gf({target:"Array",proto:!0,forced:!xf("reduce")||!Mf&&Pf>79&&Pf<83},{reduce:function(e){var t=arguments.length;return Lf(this,e,t,t>1?arguments[1]:void 0)}});var Bf=Qu,Uf=function(e){return Bf[e+"Prototype"]},jf=Uf("Array").reduce,Ff=ru,Qf=jf,Vf=Array.prototype,Gf=function(e){var t=e.reduce;return e===Vf||Ff(Vf,e)&&t===Vf.reduce?Qf:t},Hf=Gf,qf=Zi,Kf=_.String,Wf=function(e){if("Symbol"===qf(e))throw TypeError("Cannot convert a Symbol value to a string");return Kf(e)},Yf=Xt,zf=function(){var e=Yf(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Jf=w,Xf=_.RegExp,Zf=Jf((function(){var e=Xf("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),$f=Zf||Jf((function(){return!Xf("a","y").sticky})),ep={BROKEN_CARET:Zf||Jf((function(){var e=Xf("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:$f,UNSUPPORTED_Y:Zf},tp={},np=Dr,rp=Lr,ip=Object.keys||function(e){return np(e,rp)},op=S,ap=Kt,sp=qt,cp=Xt,up=ie,lp=ip;tp.f=op&&!ap?Object.defineProperties:function(e,t){cp(e);for(var n,r=up(t),i=lp(t),o=i.length,a=0;o>a;)sp.f(e,n=i[a++],r[n]);return e};var dp,fp=Xt,pp=tp,hp=Lr,vp=kn,gp=la,Ap=Dt,mp=Rn("IE_PROTO"),Ep=function(){},yp=function(e){return"<script>"+e+"<\/script>"},bp=function(e){e.write(yp("")),e.close();var t=e.parentWindow.Object;return e=null,t},Cp=function(){try{dp=new ActiveXObject("htmlfile")}catch(e){}var e,t;Cp="undefined"!=typeof document?document.domain&&dp?bp(dp):((t=Ap("iframe")).style.display="none",gp.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(yp("document.F=Object")),e.close(),e.F):bp(dp);for(var n=hp.length;n--;)delete Cp.prototype[hp[n]];return Cp()};vp[mp]=!0;var _p=Object.create||function(e,t){var n;return null!==e?(Ep.prototype=fp(e),n=new Ep,Ep.prototype=null,n[mp]=e):n=Cp(),void 0===t?n:pp.f(n,t)},Ip=w,wp=_.RegExp,Sp=Ip((function(){var e=wp(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Tp=w,Rp=_.RegExp,kp=Tp((function(){var e=Rp("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Op=O,Np=G,xp=Wf,Dp=zf,Lp=ep,Pp=Ge.exports,Mp=_p,Bp=Wn.get,Up=Sp,jp=kp,Fp=Pp("native-string-replace",String.prototype.replace),Qp=RegExp.prototype.exec,Vp=Qp,Gp=Np("".charAt),Hp=Np("".indexOf),qp=Np("".replace),Kp=Np("".slice),Wp=function(){var e=/a/,t=/b*/g;return Op(Qp,e,"a"),Op(Qp,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Yp=Lp.BROKEN_CARET,zp=void 0!==/()??/.exec("")[1];(Wp||zp||Yp||Up||jp)&&(Vp=function(e){var t,n,r,i,o,a,s,c=this,u=Bp(c),l=xp(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=Op(Vp,d,l),c.lastIndex=d.lastIndex,t;var f=u.groups,p=Yp&&c.sticky,h=Op(Dp,c),v=c.source,g=0,A=l;if(p&&(h=qp(h,"y",""),-1===Hp(h,"g")&&(h+="g"),A=Kp(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Gp(l,c.lastIndex-1))&&(v="(?: "+v+")",A=" "+A,g++),n=new RegExp("^(?:"+v+")",h)),zp&&(n=new RegExp("^"+v+"$(?!\\s)",h)),Wp&&(r=c.lastIndex),i=Op(Qp,p?n:c,A),p?i?(i.input=Kp(i.input,g),i[0]=Kp(i[0],g),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:Wp&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),zp&&i&&i.length>1&&Op(Fp,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=a=Mp(null),o=0;o<f.length;o++)a[(s=f[o])[0]]=i[s[1]];return i});var Jp=Vp;di({target:"RegExp",proto:!0,forced:/./.exec!==Jp},{exec:Jp});var Xp=_p,Zp=qt,$p=mt("unscopables"),eh=Array.prototype;null==eh[$p]&&Zp.f(eh,$p,{configurable:!0,value:Xp(null)});var th,nh,rh,ih=!w((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),oh=_,ah=nt,sh=oe,ch=$e,uh=ih,lh=Rn("IE_PROTO"),dh=oh.Object,fh=dh.prototype,ph=uh?dh.getPrototypeOf:function(e){var t=ch(e);if(ah(t,lh))return t[lh];var n=t.constructor;return sh(n)&&t instanceof n?n.prototype:t instanceof dh?fh:null},hh=w,vh=oe,gh=ph,Ah=pn.exports,mh=mt("iterator"),Eh=!1;[].keys&&("next"in(rh=[].keys())?(nh=gh(gh(rh)))!==Object.prototype&&(th=nh):Eh=!0),(null==th||hh((function(){var e={};return th[mh].call(e)!==e})))&&(th={}),vh(th[mh])||Ah(th,mh,(function(){return this}));var yh={IteratorPrototype:th,BUGGY_SAFARI_ITERATORS:Eh},bh=yh.IteratorPrototype,Ch=_p,_h=B,Ih=Si,wh=ji,Sh=function(){return this},Th=di,Rh=O,kh=$n,Oh=oe,Nh=function(e,t,n,r){var i=t+" Iterator";return e.prototype=Ch(bh,{next:_h(+!r,n)}),Ih(e,i,!1),wh[i]=Sh,e},xh=ph,Dh=Ci,Lh=Si,Ph=fn,Mh=pn.exports,Bh=ji,Uh=kh.PROPER,jh=kh.CONFIGURABLE,Fh=yh.IteratorPrototype,Qh=yh.BUGGY_SAFARI_ITERATORS,Vh=mt("iterator"),Gh="keys",Hh="values",qh="entries",Kh=function(){return this},Wh=ie,Yh=function(e){eh[$p][e]=!0},zh=ji,Jh=Wn,Xh=qt.f,Zh=function(e,t,n,r,i,o,a){Nh(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!Qh&&e in p)return p[e];switch(e){case Gh:case Hh:case qh:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[Vh]||p["@@iterator"]||i&&p[i],v=!Qh&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=xh(g.call(new e)))!==Object.prototype&&s.next&&(xh(s)!==Fh&&(Dh?Dh(s,Fh):Oh(s[Vh])||Mh(s,Vh,Kh)),Lh(s,d,!0)),Uh&&i==Hh&&h&&h.name!==Hh&&(jh?Ph(p,"name",Hh):(f=!0,v=function(){return Rh(h,this)})),i)if(c={values:l(Hh),keys:o?v:l(Gh),entries:l(qh)},a)for(u in c)(Qh||f||!(u in p))&&Mh(p,u,c[u]);else Th({target:t,proto:!0,forced:Qh||f},c);return p[Vh]!==v&&Mh(p,Vh,v,{name:i}),Bh[t]=v,c},$h=S,ev="Array Iterator",tv=Jh.set,nv=Jh.getterFor(ev),rv=Zh(Array,"Array",(function(e,t){tv(this,{type:ev,target:Wh(e),index:0,kind:t})}),(function(){var e=nv(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),iv=zh.Arguments=zh.Array;if(Yh("keys"),Yh("values"),Yh("entries"),$h&&"values"!==iv.name)try{Xh(iv,"name",{value:"values"})}catch(b){}var ov=Dt("span").classList,av=ov&&ov.constructor&&ov.constructor.prototype,sv=av===Object.prototype?void 0:av,cv=_,uv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lv=sv,dv=rv,fv=fn,pv=mt,hv=pv("iterator"),vv=pv("toStringTag"),gv=dv.values,Av=function(e,t){if(e){if(e[hv]!==gv)try{fv(e,hv,gv)}catch(t){e[hv]=gv}if(e[vv]||fv(e,vv,t),uv[t])for(var n in dv)if(e[n]!==dv[n])try{fv(e,n,dv[n])}catch(t){e[n]=dv[n]}}};for(var mv in uv)Av(cv[mv]&&cv[mv].prototype,mv);Av(lv,"DOMTokenList");var Ev=oe,yv=se,bv=Ci,Cv=function(e,t,n){var r,i;return bv&&Ev(r=t.constructor)&&r!==n&&yv(i=r.prototype)&&i!==n.prototype&&bv(e,i),e},_v=Wf,Iv=function(e,t){return void 0===e?arguments.length<2?"":t:_v(e)},wv=se,Sv=fn,Tv=G("".replace),Rv=String(Error("zxcasd").stack),kv=/\n\s*at [^:]*:[^\n]*/,Ov=kv.test(Rv),Nv=function(e,t){if(Ov&&"string"==typeof e)for(;t--;)e=Tv(e,kv,"");return e},xv=B,Dv=!w((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",xv(1,7)),7!==e.stack)})),Lv=de,Pv=nt,Mv=fn,Bv=fe,Uv=Ci,jv=Yr,Fv=Cv,Qv=Iv,Vv=function(e,t){wv(t)&&"cause"in t&&Sv(e,"cause",t.cause)},Gv=Nv,Hv=Dv,qv=di,Kv=ua,Wv=function(e,t,n,r){var i=r?2:1,o=e.split("."),a=o[o.length-1],s=Lv.apply(null,o);if(s){var c=s.prototype;if(Pv(c,"cause")&&delete c.cause,!n)return s;var u=Lv("Error"),l=t((function(e,t){var n=Qv(r?t:e,void 0),o=r?new s(e):new s;return void 0!==n&&Mv(o,"message",n),Hv&&Mv(o,"stack",Gv(o.stack,2)),this&&Bv(c,this)&&Fv(o,this,l),arguments.length>i&&Vv(o,arguments[i]),o}));l.prototype=c,"Error"!==a&&(Uv?Uv(l,u):jv(l,u,{name:!0})),jv(l,s);try{c.name!==a&&Mv(c,"name",a),c.constructor=l}catch(e){}return l}},Yv="WebAssembly",zv=_.WebAssembly,Jv=7!==Error("e",{cause:7}).cause,Xv=function(e,t){var n={};n[e]=Wv(e,t,Jv),qv({global:!0,forced:Jv},n)},Zv=function(e,t){if(zv&&zv[e]){var n={};n[e]=Wv("WebAssembly."+e,t,Jv),qv({target:Yv,stat:!0,forced:Jv},n)}};Xv("Error",(function(e){return function(t){return Kv(e,this,arguments)}})),Xv("EvalError",(function(e){return function(t){return Kv(e,this,arguments)}})),Xv("RangeError",(function(e){return function(t){return Kv(e,this,arguments)}})),Xv("ReferenceError",(function(e){return function(t){return Kv(e,this,arguments)}})),Xv("SyntaxError",(function(e){return function(t){return Kv(e,this,arguments)}})),Xv("TypeError",(function(e){return function(t){return Kv(e,this,arguments)}})),Xv("URIError",(function(e){return function(t){return Kv(e,this,arguments)}})),Zv("CompileError",(function(e){return function(t){return Kv(e,this,arguments)}})),Zv("LinkError",(function(e){return function(t){return Kv(e,this,arguments)}})),Zv("RuntimeError",(function(e){return function(t){return Kv(e,this,arguments)}}));var $v=!0,eg=!0;function tg(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ng(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function rg(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):($v=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ig(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(eg=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function og(){if("object"==typeof window){if($v)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function ag(e,t){eg&&console.warn(e+" is deprecated, please use "+t+" instead.")}function sg(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=tg(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=tg(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=tg(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=tg(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function cg(e){return"[object Object]"===Object.prototype.toString.call(e)}function ug(e){var t;return cg(e)?Hf(t=Object.keys(e)).call(t,(function(t,n){var r=cg(e[n]),i=r?ug(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,A({},n,i))}),{}):e}function lg(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((function(i){i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((function(n){e(t,t.get(n),r)}))})))}(e,n,i)}))})),i}var dg=_l.exports,fg=Fl,pg=dg("keys"),hg=function(e){return pg[e]||(pg[e]=fg(e))},vg=!zc((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),gg=ou,Ag=Pl,mg=du,Eg=xl,yg=vg,bg=hg("IE_PROTO"),Cg=gg.Object,_g=Cg.prototype,Ig=yg?Cg.getPrototypeOf:function(e){var t=Eg(e);if(Ag(t,bg))return t[bg];var n=t.constructor;return mg(n)&&t instanceof n?n.prototype:t instanceof Cg?_g:null},wg=ou,Sg=du,Tg=wg.String,Rg=wg.TypeError,kg=nu,Og=Gd,Ng=function(e){if("object"==typeof e||Sg(e))return e;throw Rg("Can't set "+Tg(e)+" as a prototype")},xg=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=kg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Og(n),Ng(r),t?e(n,r):n.__proto__=r,n}}():void 0),Dg={},Lg=Ef,Pg=Math.max,Mg=Math.min,Bg=function(e,t){var n=Lg(e);return n<0?Pg(n+t,0):Mg(n,t)},Ug=Uu,jg=Bg,Fg=_f,Qg=function(e){return function(t,n,r){var i,o=Ug(t),a=Fg(o),s=jg(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Vg={includes:Qg(!0),indexOf:Qg(!1)},Gg={},Hg=Pl,qg=Uu,Kg=Vg.indexOf,Wg=Gg,Yg=nu([].push),zg=function(e,t){var n,r=qg(e),i=0,o=[];for(n in r)!Hg(Wg,n)&&Hg(r,n)&&Yg(o,n);for(;t.length>i;)Hg(r,n=t[i++])&&(~Kg(o,n)||Yg(o,n));return o},Jg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xg=zg,Zg=Jg.concat("length","prototype");Dg.f=Object.getOwnPropertyNames||function(e){return Xg(e,Zg)};var $g={};$g.f=Object.getOwnPropertySymbols;var eA=Ku,tA=Dg,nA=$g,rA=Gd,iA=nu([].concat),oA=eA("Reflect","ownKeys")||function(e){var t=tA.f(rA(e)),n=nA.f;return n?iA(t,n(e)):t},aA=Pl,sA=oA,cA=fu,uA=Bd,lA={},dA=zg,fA=Jg,pA=Object.keys||function(e){return dA(e,fA)},hA=pu,vA=Ud,gA=Bd,AA=Gd,mA=Uu,EA=pA;lA.f=hA&&!vA?Object.defineProperties:function(e,t){AA(e);for(var n,r=mA(t),i=EA(t),o=i.length,a=0;o>a;)gA.f(e,n=i[a++],r[n]);return e};var yA,bA=Ku("document","documentElement"),CA=Gd,_A=lA,IA=Jg,wA=Gg,SA=bA,TA=fd,RA=hg("IE_PROTO"),kA=function(){},OA=function(e){return"<script>"+e+"<\/script>"},NA=function(e){e.write(OA("")),e.close();var t=e.parentWindow.Object;return e=null,t},xA=function(){try{yA=new ActiveXObject("htmlfile")}catch(e){}var e,t;xA="undefined"!=typeof document?document.domain&&yA?NA(yA):((t=TA("iframe")).style.display="none",SA.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(OA("document.F=Object")),e.close(),e.F):NA(yA);for(var n=IA.length;n--;)delete xA.prototype[IA[n]];return xA()};wA[RA]=!0;var DA=Object.create||function(e,t){var n;return null!==e?(kA.prototype=CA(e),n=new kA,kA.prototype=null,n[RA]=e):n=xA(),void 0===t?n:_A.f(n,t)},LA=nu("".replace),PA=String(Error("zxcasd").stack),MA=/\n\s*at [^:]*:[^\n]*/,BA=MA.test(PA),UA=Fu,jA=rf,FA={},QA=FA,VA=Xl("iterator"),GA=Array.prototype,HA=function(e){return void 0!==e&&(QA.Array===e||GA[VA]===e)},qA={};qA[Xl("toStringTag")]="z";var KA="[object z]"===String(qA),WA=ou,YA=KA,zA=du,JA=Tu,XA=Xl("toStringTag"),ZA=WA.Object,$A="Arguments"==JA(function(){return arguments}()),em=YA?JA:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=ZA(e),XA))?n:$A?JA(t):"Object"==(r=JA(t))&&zA(t.callee)?"Arguments":r},tm=em,nm=ml,rm=FA,im=Xl("iterator"),om=function(e){if(null!=e)return nm(e,im)||nm(e,"@@iterator")||rm[tm(e)]},am=gu,sm=gl,cm=Gd,um=fl,lm=om,dm=ou.TypeError,fm=function(e,t){var n=arguments.length<2?lm(e):t;if(sm(n))return cm(am(n,e));throw dm(um(e)+" is not iterable")},pm=gu,hm=Gd,vm=ml,gm=function(e,t,n){var r,i;hm(e);try{if(!(r=vm(e,"return"))){if("throw"===t)throw n;return n}r=pm(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return hm(r),n},Am=Md,mm=gu,Em=Gd,ym=fl,bm=HA,Cm=_f,_m=ru,Im=fm,wm=om,Sm=gm,Tm=ou.TypeError,Rm=function(e,t){this.stopped=e,this.result=t},km=Rm.prototype,Om=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=Am(t,l),v=function(e){return r&&Sm(r,"normal",e),new Rm(!0,e)},g=function(e){return d?(Em(e),p?h(e[0],e[1],v):h(e[0],e[1])):p?h(e,v):h(e)};if(f)r=e;else{if(!(i=wm(e)))throw Tm(ym(e)+" is not iterable");if(bm(i)){for(o=0,a=Cm(e);a>o;o++)if((s=g(e[o]))&&_m(km,s))return s;return new Rm(!1)}r=Im(e,i)}for(c=r.next;!(u=mm(c,r)).done;){try{s=g(u.value)}catch(e){Sm(r,"throw",e)}if("object"==typeof s&&s&&_m(km,s))return s}return new Rm(!1)},Nm=em,xm=ou.String,Dm=function(e){if("Symbol"===Nm(e))throw TypeError("Cannot convert a Symbol value to a string");return xm(e)},Lm=Dm,Pm=_u,Mm=!zc((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Pm(1,7)),7!==e.stack)})),Bm=gf,Um=ou,jm=ru,Fm=Ig,Qm=xg,Vm=function(e,t,n){for(var r=sA(t),i=uA.f,o=cA.f,a=0;a<r.length;a++){var s=r[a];aA(e,s)||n&&aA(n,s)||i(e,s,o(t,s))}},Gm=DA,Hm=rf,qm=_u,Km=function(e,t){if(BA&&"string"==typeof e)for(;t--;)e=LA(e,MA,"");return e},Wm=function(e,t){UA(t)&&"cause"in t&&jA(e,"cause",t.cause)},Ym=Om,zm=function(e,t){return void 0===e?arguments.length<2?"":t:Lm(e)},Jm=Mm,Xm=Xl("toStringTag"),Zm=Um.Error,$m=[].push,eE=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=jm(tE,this);Qm?n=Qm(new Zm,i?Fm(this):tE):(n=i?this:Gm(tE),Hm(n,Xm,"Error")),void 0!==t&&Hm(n,"message",zm(t)),Jm&&Hm(n,"stack",Km(n.stack,1)),Wm(n,r);var o=[];return Ym(e,$m,{that:o}),Hm(n,"errors",o),n};Qm?Qm(eE,Zm):Vm(eE,Zm,{name:!0});var tE=eE.prototype=Gm(Zm.prototype,{constructor:qm(1,eE),message:qm(1,""),name:qm(1,"AggregateError")});Bm({global:!0},{AggregateError:eE});var nE=du,rE=Rl,iE=nu(Function.toString);nE(rE.inspectSource)||(rE.inspectSource=function(e){return iE(e)});var oE,aE,sE,cE=rE.inspectSource,uE=du,lE=cE,dE=ou.WeakMap,fE=uE(dE)&&/native code/.test(lE(dE)),pE=ou,hE=nu,vE=Fu,gE=rf,AE=Pl,mE=Rl,EE=hg,yE=Gg,bE="Object already initialized",CE=pE.TypeError,_E=pE.WeakMap;if(fE||mE.state){var IE=mE.state||(mE.state=new _E),wE=hE(IE.get),SE=hE(IE.has),TE=hE(IE.set);oE=function(e,t){if(SE(IE,e))throw new CE(bE);return t.facade=e,TE(IE,e,t),t},aE=function(e){return wE(IE,e)||{}},sE=function(e){return SE(IE,e)}}else{var RE=EE("state");yE[RE]=!0,oE=function(e,t){if(AE(e,RE))throw new CE(bE);return t.facade=e,gE(e,RE,t),t},aE=function(e){return AE(e,RE)?e[RE]:{}},sE=function(e){return AE(e,RE)}}var kE,OE,NE,xE={set:oE,get:aE,has:sE,enforce:function(e){return sE(e)?aE(e):oE(e,{})},getterFor:function(e){return function(t){var n;if(!vE(t)||(n=aE(t)).type!==e)throw CE("Incompatible receiver, "+e+" required");return n}}},DE=pu,LE=Pl,PE=Function.prototype,ME=DE&&Object.getOwnPropertyDescriptor,BE=LE(PE,"name"),UE={EXISTS:BE,PROPER:BE&&"something"===function(){}.name,CONFIGURABLE:BE&&(!DE||DE&&ME(PE,"name").configurable)},jE=rf,FE=function(e,t,n,r){r&&r.enumerable?e[t]=n:jE(e,t,n)},QE=zc,VE=du,GE=DA,HE=Ig,qE=FE,KE=Xl("iterator"),WE=!1;[].keys&&("next"in(NE=[].keys())?(OE=HE(HE(NE)))!==Object.prototype&&(kE=OE):WE=!0);var YE=null==kE||QE((function(){var e={};return kE[KE].call(e)!==e}));VE((kE=YE?{}:GE(kE))[KE])||qE(kE,KE,(function(){return this}));var zE={IteratorPrototype:kE,BUGGY_SAFARI_ITERATORS:WE},JE=em,XE=KA?{}.toString:function(){return"[object "+JE(this)+"]"},ZE=KA,$E=Bd.f,ey=rf,ty=Pl,ny=XE,ry=Xl("toStringTag"),iy=function(e,t,n,r){if(e){var i=n?e:e.prototype;ty(i,ry)||$E(i,ry,{configurable:!0,value:t}),r&&!ZE&&ey(i,"toString",ny)}},oy=zE.IteratorPrototype,ay=DA,sy=_u,cy=iy,uy=FA,ly=function(){return this},dy=function(e,t,n,r){var i=t+" Iterator";return e.prototype=ay(oy,{next:sy(+!r,n)}),cy(e,i,!1,!0),uy[i]=ly,e},fy=gf,py=gu,hy=dy,vy=Ig,gy=iy,Ay=FE,my=FA,Ey=UE.PROPER,yy=zE.BUGGY_SAFARI_ITERATORS,by=Xl("iterator"),Cy="keys",_y="values",Iy="entries",wy=function(){return this},Sy=function(e,t,n,r,i,o,a){hy(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!yy&&e in p)return p[e];switch(e){case Cy:case _y:case Iy:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[by]||p["@@iterator"]||i&&p[i],v=!yy&&h||l(i),g="Array"==t&&p.entries||h;if(g&&(s=vy(g.call(new e)))!==Object.prototype&&s.next&&(gy(s,d,!0,!0),my[d]=wy),Ey&&i==_y&&h&&h.name!==_y&&(f=!0,v=function(){return py(h,this)}),i)if(c={values:l(_y),keys:o?v:l(Cy),entries:l(Iy)},a)for(u in c)(yy||f||!(u in p))&&Ay(p,u,c[u]);else fy({target:t,proto:!0,forced:yy||f},c);return a&&p[by]!==v&&Ay(p,by,v,{name:i}),my[t]=v,c},Ty=Uu,Ry=FA,ky=xE;Bd.f;var Oy=Sy,Ny="Array Iterator",xy=ky.set,Dy=ky.getterFor(Ny);Oy(Array,"Array",(function(e,t){xy(this,{type:Ny,target:Ty(e),index:0,kind:t})}),(function(){var e=Dy(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Ry.Arguments=Ry.Array;var Ly=ou.Promise,Py=FE,My=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Py(e,r,t[r],n);return e},By=Ku,Uy=Bd,jy=pu,Fy=Xl("species"),Qy=ru,Vy=ou.TypeError,Gy=function(e,t){if(Qy(t,e))return e;throw Vy("Incorrect invocation")},Hy=Xl("iterator"),qy=!1;try{var Ky=0,Wy={next:function(){return{done:!!Ky++}},return:function(){qy=!0}};Wy[Hy]=function(){return this},Array.from(Wy,(function(){throw 2}))}catch(b){}var Yy=nu,zy=zc,Jy=du,Xy=em,Zy=cE,$y=function(){},eb=[],tb=Ku("Reflect","construct"),nb=/^\s*(?:class|function)\b/,rb=Yy(nb.exec),ib=!nb.exec($y),ob=function(e){if(!Jy(e))return!1;try{return tb($y,eb,e),!0}catch(e){return!1}},ab=function(e){if(!Jy(e))return!1;switch(Xy(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ib||!!rb(nb,Zy(e))}catch(e){return!0}};ab.sham=!0;var sb,cb,ub,lb,db=!tb||zy((function(){var e;return ob(ob.call)||!ob(Object)||!ob((function(){e=!0}))||e}))?ab:ob,fb=db,pb=fl,hb=ou.TypeError,vb=Gd,gb=function(e){if(fb(e))return e;throw hb(pb(e)+" is not a constructor")},Ab=Xl("species"),mb=function(e,t){var n,r=vb(e).constructor;return void 0===r||null==(n=vb(r)[Ab])?t:gb(n)},Eb=nu([].slice),yb=/(?:ipad|iphone|ipod).*applewebkit/i.test(Wu),bb=ou,Cb=lu,_b=Md,Ib=du,wb=Pl,Sb=zc,Tb=bA,Rb=Eb,kb=fd,Ob=yb,Nb=Df,xb=bb.setImmediate,Db=bb.clearImmediate,Lb=bb.process,Pb=bb.Dispatch,Mb=bb.Function,Bb=bb.MessageChannel,Ub=bb.String,jb=0,Fb={},Qb="onreadystatechange";try{sb=bb.location}catch(b){}var Vb=function(e){if(wb(Fb,e)){var t=Fb[e];delete Fb[e],t()}},Gb=function(e){return function(){Vb(e)}},Hb=function(e){Vb(e.data)},qb=function(e){bb.postMessage(Ub(e),sb.protocol+"//"+sb.host)};xb&&Db||(xb=function(e){var t=Rb(arguments,1);return Fb[++jb]=function(){Cb(Ib(e)?e:Mb(e),void 0,t)},cb(jb),jb},Db=function(e){delete Fb[e]},Nb?cb=function(e){Lb.nextTick(Gb(e))}:Pb&&Pb.now?cb=function(e){Pb.now(Gb(e))}:Bb&&!Ob?(lb=(ub=new Bb).port2,ub.port1.onmessage=Hb,cb=_b(lb.postMessage,lb)):bb.addEventListener&&Ib(bb.postMessage)&&!bb.importScripts&&sb&&"file:"!==sb.protocol&&!Sb(qb)?(cb=qb,bb.addEventListener("message",Hb,!1)):cb=Qb in kb("script")?function(e){Tb.appendChild(kb("script")).onreadystatechange=function(){Tb.removeChild(this),Vb(e)}}:function(e){setTimeout(Gb(e),0)});var Kb,Wb,Yb,zb,Jb,Xb,Zb,$b,eC={set:xb,clear:Db},tC=ou,nC=/ipad|iphone|ipod/i.test(Wu)&&void 0!==tC.Pebble,rC=/web0s(?!.*chrome)/i.test(Wu),iC=ou,oC=Md,aC=fu.f,sC=eC.set,cC=yb,uC=nC,lC=rC,dC=Df,fC=iC.MutationObserver||iC.WebKitMutationObserver,pC=iC.document,hC=iC.process,vC=iC.Promise,gC=aC(iC,"queueMicrotask"),AC=gC&&gC.value;AC||(Kb=function(){var e,t;for(dC&&(e=hC.domain)&&e.exit();Wb;){t=Wb.fn,Wb=Wb.next;try{t()}catch(e){throw Wb?zb():Yb=void 0,e}}Yb=void 0,e&&e.enter()},cC||dC||lC||!fC||!pC?!uC&&vC&&vC.resolve?((Zb=vC.resolve(void 0)).constructor=vC,$b=oC(Zb.then,Zb),zb=function(){$b(Kb)}):dC?zb=function(){hC.nextTick(Kb)}:(sC=oC(sC,iC),zb=function(){sC(Kb)}):(Jb=!0,Xb=pC.createTextNode(""),new fC(Kb).observe(Xb,{characterData:!0}),zb=function(){Xb.data=Jb=!Jb}));var mC=AC||function(e){var t={fn:e,next:void 0};Yb&&(Yb.next=t),Wb||(Wb=t,zb()),Yb=t},EC={},yC=gl,bC=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=yC(t),this.reject=yC(n)};EC.f=function(e){return new bC(e)};var CC=Gd,_C=Fu,IC=EC,wC=function(e,t){if(CC(e),_C(t)&&t.constructor===e)return t;var n=IC.f(e);return(0,n.resolve)(t),n.promise},SC=ou,TC=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},RC=function(){this.head=null,this.tail=null};RC.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var kC,OC,NC,xC="object"==typeof window,DC=gf,LC=ou,PC=Ku,MC=gu,BC=Ly,UC=My,jC=iy,FC=function(e){var t=By(e),n=Uy.f;jy&&t&&!t[Fy]&&n(t,Fy,{configurable:!0,get:function(){return this}})},QC=gl,VC=du,GC=Fu,HC=Gy,qC=cE,KC=Om,WC=function(e,t){if(!t&&!qy)return!1;var n=!1;try{var r={};r[Hy]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},YC=mb,zC=eC.set,JC=mC,XC=wC,ZC=function(e,t){var n=SC.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},$C=EC,e_=TC,t_=RC,n_=xE,r_=xd,i_=xC,o_=Df,a_=el,s_=Xl("species"),c_="Promise",u_=n_.getterFor(c_),l_=n_.set,d_=n_.getterFor(c_),f_=BC&&BC.prototype,p_=BC,h_=f_,v_=LC.TypeError,g_=LC.document,A_=LC.process,m_=$C.f,E_=m_,y_=!!(g_&&g_.createEvent&&LC.dispatchEvent),b_=VC(LC.PromiseRejectionEvent),C_="unhandledrejection",__=r_(c_,(function(){var e=qC(p_),t=e!==String(p_);if(!t&&66===a_)return!0;if(!h_.finally)return!0;if(a_>=51&&/native code/.test(e))return!1;var n=new p_((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[s_]=r,!(n.then((function(){}))instanceof r)||!t&&i_&&!b_})),I_=__||!WC((function(e){p_.all(e).catch((function(){}))})),w_=function(e){var t;return!(!GC(e)||!VC(t=e.then))&&t},S_=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&N_(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(v_("Promise-chain cycle")):(r=w_(n))?MC(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},T_=function(e,t){e.notified||(e.notified=!0,JC((function(){for(var n,r=e.reactions;n=r.get();)S_(n,e);e.notified=!1,t&&!e.rejection&&k_(e)})))},R_=function(e,t,n){var r,i;y_?((r=g_.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),LC.dispatchEvent(r)):r={promise:t,reason:n},!b_&&(i=LC["on"+e])?i(r):e===C_&&ZC("Unhandled promise rejection",n)},k_=function(e){MC(zC,LC,(function(){var t,n=e.facade,r=e.value;if(O_(e)&&(t=e_((function(){o_?A_.emit("unhandledRejection",r,n):R_(C_,n,r)})),e.rejection=o_||O_(e)?2:1,t.error))throw t.value}))},O_=function(e){return 1!==e.rejection&&!e.parent},N_=function(e){MC(zC,LC,(function(){var t=e.facade;o_?A_.emit("rejectionHandled",t):R_("rejectionhandled",t,e.value)}))},x_=function(e,t,n){return function(r){e(t,r,n)}},D_=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,T_(e,!0))},L_=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw v_("Promise can't be resolved itself");var i=w_(n);i?JC((function(){var r={done:!1};try{MC(i,n,x_(e,r,t),x_(D_,r,t))}catch(n){D_(r,n,t)}})):(t.value=n,t.state=1,T_(t,!1))}catch(n){D_({done:!1},n,t)}}};__&&(h_=(p_=function(e){HC(this,h_),QC(e),MC(kC,this);var t=u_(this);try{e(x_(L_,t),x_(D_,t))}catch(e){D_(t,e)}}).prototype,(kC=function(e){l_(this,{type:c_,done:!1,notified:!1,parent:!1,reactions:new t_,rejection:!1,state:0,value:void 0})}).prototype=UC(h_,{then:function(e,t){var n=d_(this),r=m_(YC(this,p_));return n.parent=!0,r.ok=!VC(e)||e,r.fail=VC(t)&&t,r.domain=o_?A_.domain:void 0,0==n.state?n.reactions.add(r):JC((function(){S_(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),OC=function(){var e=new kC,t=u_(e);this.promise=e,this.resolve=x_(L_,t),this.reject=x_(D_,t)},$C.f=m_=function(e){return e===p_||e===NC?new OC(e):E_(e)}),DC({global:!0,wrap:!0,forced:__},{Promise:p_}),jC(p_,c_,!1,!0),FC(c_),NC=PC(c_),DC({target:c_,stat:!0,forced:__},{reject:function(e){var t=m_(this);return MC(t.reject,void 0,e),t.promise}}),DC({target:c_,stat:!0,forced:!0},{resolve:function(e){return XC(this===NC?p_:this,e)}}),DC({target:c_,stat:!0,forced:I_},{all:function(e){var t=this,n=m_(t),r=n.resolve,i=n.reject,o=e_((function(){var n=QC(t.resolve),o=[],a=0,s=1;KC(e,(function(e){var c=a++,u=!1;s++,MC(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=m_(t),r=n.reject,i=e_((function(){var i=QC(t.resolve);KC(e,(function(e){MC(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var P_=gu,M_=gl,B_=EC,U_=TC,j_=Om;gf({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=B_.f(t),r=n.resolve,i=n.reject,o=U_((function(){var n=M_(t.resolve),i=[],o=0,a=1;j_(e,(function(e){var s=o++,c=!1;a++,P_(n,t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var F_=gl,Q_=Ku,V_=gu,G_=EC,H_=TC,q_=Om,K_="No one promise resolved";gf({target:"Promise",stat:!0},{any:function(e){var t=this,n=Q_("AggregateError"),r=G_.f(t),i=r.resolve,o=r.reject,a=H_((function(){var r=F_(t.resolve),a=[],s=0,c=1,u=!1;q_(e,(function(e){var l=s++,d=!1;c++,V_(r,t,e).then((function(e){d||u||(u=!0,i(e))}),(function(e){d||u||(d=!0,a[l]=e,--c||o(new n(a,K_)))}))})),--c||o(new n(a,K_))}));return a.error&&o(a.value),r.promise}});var W_=Ly,Y_=Ku,z_=du,J_=mb,X_=wC;gf({target:"Promise",proto:!0,real:!0,forced:!!W_&&zc((function(){W_.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=J_(this,Y_("Promise")),n=z_(e);return this.then(n?function(n){return X_(t,e()).then((function(){return n}))}:e,n?function(n){return X_(t,e()).then((function(){throw n}))}:e)}});var Z_=nu,$_=Ef,eI=Dm,tI=Pu,nI=Z_("".charAt),rI=Z_("".charCodeAt),iI=Z_("".slice),oI=function(e){return function(t,n){var r,i,o=eI(tI(t)),a=$_(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=rI(o,a))<55296||r>56319||a+1===s||(i=rI(o,a+1))<56320||i>57343?e?nI(o,a):r:e?iI(o,a,a+2):i-56320+(r-55296<<10)+65536}},aI={codeAt:oI(!1),charAt:oI(!0)},sI=aI.charAt,cI=Dm,uI=xE,lI=Sy,dI="String Iterator",fI=uI.set,pI=uI.getterFor(dI);lI(String,"String",(function(e){fI(this,{type:dI,string:cI(e),index:0})}),(function(){var e,t=pI(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=sI(n,r),t.index+=e.length,{value:e,done:!1})}));var hI=Qu.Promise,vI={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gI=ou,AI=em,mI=rf,EI=FA,yI=Xl("toStringTag");for(var bI in vI){var CI=gI[bI],_I=CI&&CI.prototype;_I&&AI(_I)!==yI&&mI(_I,yI,bI),EI[bI]=EI.Array}var II=hI,wI=II,SI=pa,TI=S,RI=w,kI=Xt,OI=_p,NI=Iv,xI=Error.prototype.toString,DI=RI((function(){if(TI){var e=OI(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==xI.call(e))return!0}return"2: 1"!==xI.call({message:1,name:2})||"Error"!==xI.call({})}))?function(){var e=kI(this),t=NI(e.name,"Error"),n=NI(e.message);return t?n?t+": "+n:t:n}:xI,LI={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},PI=di,MI=function(e){try{if(SI)return Function('return require("'+e+'")')()}catch(e){}},BI=de,UI=w,jI=_p,FI=B,QI=qt.f,VI=tp.f,GI=pn.exports,HI=nt,qI=Li,KI=Xt,WI=DI,YI=Iv,zI=LI,JI=Nv,XI=Wn,ZI=S,$I="DOMException",ew="DATA_CLONE_ERR",tw=BI("Error"),nw=BI($I)||function(){try{(new(BI("MessageChannel")||MI("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(b){if(b.name==ew&&25==b.code)return b.constructor}}(),rw=nw&&nw.prototype,iw=tw.prototype,ow=XI.set,aw=XI.getterFor($I),sw="stack"in tw($I),cw=function(e){return HI(zI,e)&&zI[e].m?zI[e].c:0},uw=function(){qI(this,lw);var e=arguments.length,t=YI(e<1?void 0:arguments[0]),n=YI(e<2?void 0:arguments[1],"Error"),r=cw(n);if(ow(this,{type:$I,name:n,message:t,code:r}),ZI||(this.name=n,this.message=t,this.code=r),sw){var i=tw(t);i.name=$I,QI(this,"stack",FI(1,JI(i.stack,1)))}},lw=uw.prototype=jI(iw),dw=function(e){return{enumerable:!0,configurable:!0,get:e}},fw=function(e){return dw((function(){return aw(this)[e]}))};ZI&&VI(lw,{name:fw("name"),message:fw("message"),code:fw("code")}),QI(lw,"constructor",FI(1,uw));var pw=UI((function(){return!(new nw instanceof tw)})),hw=pw||UI((function(){return iw.toString!==WI||"2: 1"!==String(new nw(1,2))})),vw=pw||UI((function(){return 25!==new nw(1,"DataCloneError").code}));pw||25!==nw.DATA_CLONE_ERR||rw.DATA_CLONE_ERR,PI({global:!0,forced:pw},{DOMException:pw?uw:nw});var gw=BI($I),Aw=gw.prototype;for(var mw in hw&&nw===gw&&GI(Aw,"toString",WI),vw&&ZI&&nw===gw&&QI(Aw,"code",dw((function(){return cw(KI(this).name)}))),zI)if(HI(zI,mw)){var Ew=zI[mw],yw=Ew.s,bw=FI(6,Ew.c);HI(gw,yw)||QI(gw,yw,bw),HI(Aw,yw)||QI(Aw,yw,bw)}var Cw=di,_w=de,Iw=B,ww=qt.f,Sw=nt,Tw=Li,Rw=Cv,kw=Iv,Ow=LI,Nw=Nv,xw="DOMException",Dw=_w("Error"),Lw=_w(xw),Pw=function e(){Tw(this,Mw);var t=arguments.length,n=kw(t<1?void 0:arguments[0]),r=kw(t<2?void 0:arguments[1],"Error"),i=new Lw(n,r),o=Dw(n);return o.name=xw,ww(i,"stack",Iw(1,Nw(o.stack,1))),Rw(i,this,e),i},Mw=Pw.prototype=Lw.prototype,Bw="stack"in Dw(xw),Uw="stack"in new Lw(1,2),jw=Bw&&!Uw;Cw({global:!0,forced:jw},{DOMException:jw?Pw:Lw});var Fw=_w(xw),Qw=Fw.prototype;if(Qw.constructor!==Fw)for(var Vw in ww(Qw,"constructor",Iw(1,Fw)),Ow)if(Sw(Ow,Vw)){var Gw=Ow[Vw],Hw=Gw.s;Sw(Fw,Hw)||ww(Fw,Hw,Iw(6,Gw.c))}var qw="DOMException";Si(de(qw),qw);var Kw=G,Ww=pn.exports,Yw=Jp,zw=w,Jw=mt,Xw=fn,Zw=Jw("species"),$w=RegExp.prototype,eS=G,tS=pr,nS=Wf,rS=te,iS=eS("".charAt),oS=eS("".charCodeAt),aS=eS("".slice),sS=function(e){return function(t,n){var r,i,o=nS(rS(t)),a=tS(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=oS(o,a))<55296||r>56319||a+1===s||(i=oS(o,a+1))<56320||i>57343?e?iS(o,a):r:e?aS(o,a,a+2):i-56320+(r-55296<<10)+65536}},cS=(sS(!1),sS(!0)),uS=G,lS=$e,dS=Math.floor,fS=uS("".charAt),pS=uS("".replace),hS=uS("".slice),vS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,gS=/\$([$&'`]|\d{1,2})/g,AS=O,mS=Xt,ES=oe,yS=W,bS=Jp,CS=_.TypeError,_S=ua,IS=O,wS=G,SS=function(e,t,n,r){var i=Jw(e),o=!zw((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!zw((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Zw]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||n){var s=Kw(/./[i]),c=t(i,""[e],(function(e,t,n,r,i){var a=Kw(e),c=t.exec;return c===Yw||c===$w.exec?o&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));Ww(String.prototype,e,c[0]),Ww($w,i,c[1])}r&&Xw($w[i],"sham",!0)},TS=w,RS=Xt,kS=oe,OS=pr,NS=yr,xS=Wf,DS=te,LS=function(e,t,n){return t+(n?cS(e,t).length:1)},PS=Ue,MS=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,c=gS;return void 0!==i&&(i=lS(i),c=vS),pS(o,c,(function(o,c){var u;switch(fS(c,0)){case"$":return"$";case"&":return e;case"`":return hS(t,0,n);case"'":return hS(t,a);case"<":u=i[hS(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var d=dS(l/10);return 0===d?o:d<=s?void 0===r[d-1]?fS(c,1):r[d-1]+fS(c,1):o}u=r[l-1]}return void 0===u?"":u}))},BS=function(e,t){var n=e.exec;if(ES(n)){var r=AS(n,e,t);return null!==r&&mS(r),r}if("RegExp"===yS(e))return AS(bS,e,t);throw CS("RegExp#exec called on incompatible receiver")},US=mt("replace"),jS=Math.max,FS=Math.min,QS=wS([].concat),VS=wS([].push),GS=wS("".indexOf),HS=wS("".slice),qS="$0"==="a".replace(/./,"$0"),KS=!!/./[US]&&""===/./[US]("a","$0");SS("replace",(function(e,t,n){var r=KS?"$":"$0";return[function(e,n){var r=DS(this),i=null==e?void 0:PS(e,US);return i?IS(i,e,r,n):IS(t,xS(r),e,n)},function(e,i){var o=RS(this),a=xS(e);if("string"==typeof i&&-1===GS(i,r)&&-1===GS(i,"$<")){var s=n(t,o,a,i);if(s.done)return s.value}var c=kS(i);c||(i=xS(i));var u=o.global;if(u){var l=o.unicode;o.lastIndex=0}for(var d=[];;){var f=BS(o,a);if(null===f)break;if(VS(d,f),!u)break;""===xS(f[0])&&(o.lastIndex=LS(a,NS(o.lastIndex),l))}for(var p,h="",v=0,g=0;g<d.length;g++){for(var A=xS((f=d[g])[0]),m=jS(FS(OS(f.index),a.length),0),E=[],y=1;y<f.length;y++)VS(E,void 0===(p=f[y])?p:String(p));var b=f.groups;if(c){var C=QS([A],E,m,a);void 0!==b&&VS(C,b);var _=xS(_S(i,void 0,C))}else _=MS(A,a,m,E,b,i);m>=v&&(h+=HS(a,v,m)+_,v=m+A.length)}return h+HS(a,v)}]}),!!TS((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!qS||KS);var WS=se,YS=W,zS=mt("match"),JS=S,XS=_,ZS=G,$S=ri,eT=Cv,tT=fn,nT=qt.f,rT=lr.f,iT=fe,oT=function(e){var t;return WS(e)&&(void 0!==(t=e[zS])?!!t:"RegExp"==YS(e))},aT=Wf,sT=zf,cT=ep,uT=pn.exports,lT=w,dT=nt,fT=Wn.enforce,pT=Ni,hT=Sp,vT=kp,gT=mt("match"),AT=XS.RegExp,mT=AT.prototype,ET=XS.SyntaxError,yT=ZS(sT),bT=ZS(mT.exec),CT=ZS("".charAt),_T=ZS("".replace),IT=ZS("".indexOf),wT=ZS("".slice),ST=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,TT=/a/g,RT=/a/g,kT=new AT(TT)!==TT,OT=cT.MISSED_STICKY,NT=cT.UNSUPPORTED_Y,xT=JS&&(!kT||OT||hT||vT||lT((function(){return RT[gT]=!1,AT(TT)!=TT||AT(RT)==RT||"/a/i"!=AT(TT,"i")})));if($S("RegExp",xT)){for(var DT=function e(t,n){var r,i,o,a,s,c,u=iT(mT,this),l=oT(t),d=void 0===n,f=[],p=t;if(!u&&l&&d&&t.constructor===e)return t;if((l||iT(mT,t))&&(t=t.source,d&&(n="flags"in p?p.flags:yT(p))),t=void 0===t?"":aT(t),n=void 0===n?"":aT(n),p=t,hT&&"dotAll"in TT&&(i=!!n&&IT(n,"s")>-1)&&(n=_T(n,/s/g,"")),r=n,OT&&"sticky"in TT&&(o=!!n&&IT(n,"y")>-1)&&NT&&(n=_T(n,/y/g,"")),vT&&(t=(a=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=CT(e,r)))t+=CT(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:bT(ST,wT(e,r+1))&&(r+=2,c=!0),i+=t,u++;continue;case">"===t&&c:if(""===l||dT(a,l))throw new ET("Invalid capture group name");a[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:i+=t}return[i,o]}(t))[0],f=a[1]),s=eT(AT(t,n),u?this:mT,e),(i||o||f.length)&&(c=fT(s),i&&(c.dotAll=!0,c.raw=e(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=CT(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+CT(e,++r);return i}(t),r)),o&&(c.sticky=!0),f.length&&(c.groups=f)),t!==p)try{tT(s,"source",""===p?"(?:)":p)}catch(t){}return s},LT=function(e){e in DT||nT(DT,e,{configurable:!0,get:function(){return AT[e]},set:function(t){AT[e]=t}})},PT=rT(AT),MT=0;PT.length>MT;)LT(PT[MT++]);mT.constructor=DT,DT.prototype=mT,uT(XS,"RegExp",DT)}pT("RegExp");var BT=_,UT=S,jT=Sp,FT=W,QT=qt.f,VT=Wn.get,GT=RegExp.prototype,HT=BT.TypeError;UT&&jT&&QT(GT,"dotAll",{configurable:!0,get:function(){if(this!==GT){if("RegExp"===FT(this))return!!VT(this).dotAll;throw HT("Incompatible receiver, RegExp required")}}});var qT=og;function KT(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){var a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});var s,c=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c)&&(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?s=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(s=["front"]),s))return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=a.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),qT("chrome: "+JSON.stringify(e)),i(e)}));e.video=r(e.video)}return qT("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return a(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return wI.reject(o(e))}))}))}}}}function WT(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function YT(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ng(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function zT(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function JT(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){i(s(a(e)))};return t.apply(this,[c,r])}return new wI((function(n,r){t.apply(e,[function(e){n(s(a(e)))},r])})).then(i,o)}}}function XT(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return lg(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),ng(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return lg(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,o=arguments[0];return this.getSenders().forEach((function(e){e.track===o&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===o&&(n?r=!0:n=e),e.track===o})),r||t&&n?wI.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():wI.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function ZT(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function $T(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return ZT(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),wI.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=A({},t,(function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[function(n){var r=s(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=c(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function c(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function eR(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=A({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}))}function tR(e,t){ng(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var nR=Object.freeze({__proto__:null,shimMediaStream:WT,shimOnTrack:YT,shimGetSendersWithDtmf:zT,shimGetStats:JT,shimSenderReceiverGetStats:XT,shimAddTrackRemoveTrackWithNative:ZT,shimAddTrackRemoveTrack:$T,shimPeerConnection:eR,fixNegotiationNeeded:tR,shimGetUserMedia:KT,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}),rR={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.getIceParameters=function(e,n){var r=t.splitLines(e);return{usernameFragment:(r=r.concat(t.splitLines(n))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(rR);var iR=rR.exports;function oR(e,t,n,r,i){var o=iR.writeRtpDescription(e.kind,t);if(o+=iR.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=iR.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var s="msid:"+(r?r.id:"-")+" "+a+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+iR.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+iR.localCName+"\r\n"),o}function aR(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function sR(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function cR(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function uR(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var lR=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function r(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var i=function(n){var r=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw uR("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=iR.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(i.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(i.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),i.prototype.onicecandidate=null,i.prototype.onaddstream=null,i.prototype.ontrack=null,i.prototype.onremovestream=null,i.prototype.onsignalingstatechange=null,i.prototype.oniceconnectionstatechange=null,i.prototype.onconnectionstatechange=null,i.prototype.onicegatheringstatechange=null,i.prototype.onnegotiationneeded=null,i.prototype.ondatachannel=null,i.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},i.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},i.prototype.getConfiguration=function(){return this._config},i.prototype.getLocalStreams=function(){return this.localStreams},i.prototype.getRemoteStreams=function(){return this.remoteStreams},i.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},i.prototype.addTrack=function(t,n){if(this._isClosed)throw uR("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw uR("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},i.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},i.prototype.removeTrack=function(t){if(this._isClosed)throw uR("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw uR("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},i.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},i.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},i.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},i.prototype._gather=function(t,n){var r=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,s=!a||0===Object.keys(a).length;if(s)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment;var c=iR.writeCandidate(a);o.candidate=Object.assign(o.candidate,iR.parseCandidate(c)),o.candidate.candidate=c,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var u=iR.getMediaSections(r._localDescription.sdp);u[o.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",r._localDescription.sdp=iR.getDescription(r._localDescription.sdp)+u.join("");var l=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),s||r._dispatchEvent("icecandidate",o),l&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},i.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},i.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},i.prototype._transceive=function(e,n,r){var i=aR(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:iR.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),r&&e.rtpReceiver&&i.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},i.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(uR("TypeError",'Unsupported type "'+e.type+'"'));if(!sR("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(uR("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=iR.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=iR.parseRtpParameters(e);r.transceivers[t].localCapabilities=n})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=iR.splitSections(r._remoteDescription.sdp),n=t.shift();var i=iR.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var o=r.transceivers[t],a=o.iceGatherer,s=o.iceTransport,c=o.dtlsTransport,u=o.localCapabilities,l=o.remoteCapabilities;if((!iR.isRejected(e)||0!==iR.matchPrefix(e,"a=bundle-only").length)&&!o.rejected){var d=iR.getIceParameters(e,n),f=iR.getDtlsParameters(e,n);i&&(f.role="server"),r.usingBundle&&0!==t||(r._gather(o.mid,t),"new"===s.state&&s.start(a,d,i?"controlling":"controlled"),"new"===c.state&&c.start(f));var p=aR(u,l);r._transceive(o,p.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},i.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(uR("TypeError",'Unsupported type "'+i.type+'"'));if(!sR("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return Promise.reject(uR("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var a={};o.remoteStreams.forEach((function(e){a[e.id]=e}));var s=[],c=iR.splitSections(i.sdp),u=c.shift(),l=iR.matchPrefix(u,"a=ice-lite").length>0,d=iR.matchPrefix(u,"a=group:BUNDLE ").length>0;o.usingBundle=d;var f=iR.matchPrefix(u,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!f&&f.substr(14).split(" ").indexOf("trickle")>=0,c.forEach((function(r,c){var f=iR.splitLines(r),p=iR.getKind(r),h=iR.isRejected(r)&&0===iR.matchPrefix(r,"a=bundle-only").length,v=f[0].substr(2).split(" ")[2],g=iR.getDirection(r,u),A=iR.parseMsid(r),m=iR.getMid(r)||iR.generateIdentifier();if(h||"application"===p&&("DTLS/SCTP"===v||"UDP/DTLS/SCTP"===v))o.transceivers[c]={mid:m,kind:p,protocol:v,rejected:!0};else{var E,y,b,C,_,I,w,S,T;!h&&o.transceivers[c]&&o.transceivers[c].rejected&&(o.transceivers[c]=o._createTransceiver(p,!0));var R,k,O=iR.parseRtpParameters(r);h||(R=iR.getIceParameters(r,u),(k=iR.getDtlsParameters(r,u)).role="client"),w=iR.parseRtpEncodingParameters(r);var N=iR.parseRtcpParameters(r),x=iR.matchPrefix(r,"a=end-of-candidates",u).length>0,D=iR.matchPrefix(r,"a=candidate:").map((function(e){return iR.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!h&&d&&c>0&&o.transceivers[c]&&(o._disposeIceAndDtlsTransports(c),o.transceivers[c].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[c].iceTransport=o.transceivers[0].iceTransport,o.transceivers[c].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[c].rtpSender&&o.transceivers[c].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[c].rtpReceiver&&o.transceivers[c].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||h)"answer"!==i.type||h||(y=(E=o.transceivers[c]).iceGatherer,b=E.iceTransport,C=E.dtlsTransport,_=E.rtpReceiver,I=E.sendEncodingParameters,S=E.localCapabilities,o.transceivers[c].recvEncodingParameters=w,o.transceivers[c].remoteCapabilities=O,o.transceivers[c].rtcpParameters=N,D.length&&"new"===b.state&&(!l&&!x||d&&0!==c?D.forEach((function(e){cR(E.iceTransport,e)})):b.setRemoteCandidates(D)),d&&0!==c||("new"===b.state&&b.start(y,R,"controlling"),"new"===C.state&&C.start(k)),!aR(E.localCapabilities,E.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&E.sendEncodingParameters[0].rtx&&delete E.sendEncodingParameters[0].rtx,o._transceive(E,"sendrecv"===g||"recvonly"===g,"sendrecv"===g||"sendonly"===g),!_||"sendrecv"!==g&&"sendonly"!==g?delete E.rtpReceiver:(T=_.track,A?(a[A.stream]||(a[A.stream]=new e.MediaStream),n(T,a[A.stream]),s.push([T,_,a[A.stream]])):(a.default||(a.default=new e.MediaStream),n(T,a.default),s.push([T,_,a.default]))));else{(E=o.transceivers[c]||o._createTransceiver(p)).mid=m,E.iceGatherer||(E.iceGatherer=o._createIceGatherer(c,d)),D.length&&"new"===E.iceTransport.state&&(!x||d&&0!==c?D.forEach((function(e){cR(E.iceTransport,e)})):E.iceTransport.setRemoteCandidates(D)),S=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(S.codecs=S.codecs.filter((function(e){return"rtx"!==e.name}))),I=E.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var L,P=!1;"sendrecv"===g||"sendonly"===g?(P=!E.rtpReceiver,_=E.rtpReceiver||new e.RTCRtpReceiver(E.dtlsTransport,p),P&&(T=_.track,A&&"-"===A.stream||(A?(a[A.stream]||(a[A.stream]=new e.MediaStream,Object.defineProperty(a[A.stream],"id",{get:function(){return A.stream}})),Object.defineProperty(T,"id",{get:function(){return A.track}}),L=a[A.stream]):(a.default||(a.default=new e.MediaStream),L=a.default)),L&&(n(T,L),E.associatedRemoteMediaStreams.push(L)),s.push([T,_,L]))):E.rtpReceiver&&E.rtpReceiver.track&&(E.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===E.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),E.associatedRemoteMediaStreams=[]),E.localCapabilities=S,E.remoteCapabilities=O,E.rtpReceiver=_,E.rtcpParameters=N,E.sendEncodingParameters=I,E.recvEncodingParameters=w,o._transceive(o.transceivers[c],!1,P)}}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",i)}))}s.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&r(o,t,i,[n])}))}})),s.forEach((function(e){e[2]||r(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},i.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},i.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},i.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},i.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(uR("InvalidStateError","Can not call createOffer after close"));var r=n.transceivers.filter((function(e){return"audio"===e.kind})).length,i=n.transceivers.filter((function(e){return"video"===e.kind})).length,o=arguments[0];if(o){if(o.mandatory||o.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==o.offerToReceiveAudio&&(r=!0===o.offerToReceiveAudio?1:!1===o.offerToReceiveAudio?0:o.offerToReceiveAudio),void 0!==o.offerToReceiveVideo&&(i=!0===o.offerToReceiveVideo?1:!1===o.offerToReceiveVideo?0:o.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--r<0&&(e.wantReceive=!1):"video"===e.kind&&--i<0&&(e.wantReceive=!1)}));r>0||i>0;)r>0&&(n._createTransceiver("audio"),r--),i>0&&(n._createTransceiver("video"),i--);var a=iR.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(r,i){var o=r.track,a=r.kind,s=r.mid||iR.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(i,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(a);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=r.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];o&&t>=15019&&"video"===a&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,a)),r.localCapabilities=c,r.sendEncodingParameters=u})),"max-compat"!==n._config.bundlePolicy&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){a+=oR(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),a+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,a+="a="+iR.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(a+="a=end-of-candidates\r\n"))}));var s=new e.RTCSessionDescription({type:"offer",sdp:a});return Promise.resolve(s)},i.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(uR("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(uR("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=iR.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var i=iR.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,o){if(!(o+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var s=aR(e.localCapabilities,e.remoteCapabilities);!s.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=oR(e,s,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var o=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(o)},i.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,i){if(!n._remoteDescription)return i(uR("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){o=a;break}var s=n.transceivers[o];if(!s)return i(uR("OperationError","Can not add ICE candidate"));if(s.rejected)return r();var c=Object.keys(e.candidate).length>0?iR.parseCandidate(e.candidate):{};if("tcp"===c.protocol&&(0===c.port||9===c.port))return r();if(c.component&&1!==c.component)return r();if((0===o||o>0&&s.iceTransport!==n.transceivers[0].iceTransport)&&!cR(s.iceTransport,c))return i(uR("OperationError","Can not add ICE candidate"));var u=e.candidate.trim();0===u.indexOf("a=")&&(u=u.substr(2)),(t=iR.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(c.type?u:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=iR.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var l=0;l<n.transceivers.length&&(n.transceivers[l].rejected||(n.transceivers[l].iceTransport.addRemoteCandidate({}),(t=iR.getMediaSections(n._remoteDescription.sdp))[l]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=iR.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));l++);r()}))},i.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw uR("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var o=["createOffer","createAnswer"];return o.forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(o=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),i};function dR(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return wI.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}function fR(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function pR(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=lR(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&ag("RTCIceServer.url","RTCIceServer.urls");var r="string"==typeof t;return r&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}(e.iceServers,t.version),og("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function hR(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}var vR=Object.freeze({__proto__:null,shimPeerConnection:pR,shimReplaceTrack:hR,shimGetUserMedia:dR,shimGetDisplayMedia:fR}),gR=di,AR=fi,mR=w,ER=de,yR=oe,bR=ia,CR=ms,_R=pn.exports;if(gR({target:"Promise",proto:!0,real:!0,forced:!!AR&&mR((function(){AR.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=bR(this,ER("Promise")),n=yR(e);return this.then(n?function(n){return CR(t,e()).then((function(){return n}))}:e,n?function(n){return CR(t,e()).then((function(){throw n}))}:e)}}),yR(AR)){var IR=ER("Promise").prototype.finally;AR.prototype.finally!==IR&&_R(AR.prototype,"finally",IR,{unsafe:!0})}function wR(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){ag("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},r&&r.prototype.getSettings){var a=r.prototype.getSettings;r.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function SR(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function TR(e,t){if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=A({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],a=e[2];return r.apply(this,[i||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(o,a)}}}function RR(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):wI.resolve(new Map)}}}function kR(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),ng(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function OR(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;ag("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function NR(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function xR(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===Object.keys(o.encodings[0]).length)&&(o.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function DR(e){if("object"==typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function LR(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?wI.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function PR(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?wI.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}var MR=Object.freeze({__proto__:null,shimOnTrack:SR,shimPeerConnection:TR,shimSenderGetStats:RR,shimReceiverGetStats:kR,shimRemoveStream:OR,shimRTCDataChannel:NR,shimAddTransceiver:xR,shimGetParameters:DR,shimCreateOffer:LR,shimCreateAnswer:PR,shimGetUserMedia:wR,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,wI.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}});function BR(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function UR(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function jR(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),wI.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),wI.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),wI.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),wI.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),wI.resolve()):r},t.addIceCandidate=s}}function FR(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(QR(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function QR(e){return e&&void 0!==e.video?Object.assign({},e,{video:ug(e.video)}):e}function VR(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(ag("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function GR(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function HR(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function qR(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var KR=Object.freeze({__proto__:null,shimLocalStreamsAPI:BR,shimRemoteStreamsAPI:UR,shimCallbacksAPI:jR,shimGetUserMedia:FR,shimConstraints:QR,shimRTCIceServerUrls:VR,shimTrackEventTransceiver:GR,shimCreateOfferLegacy:HR,shimAudioContext:qR}),WR="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",YR=Pu,zR=Dm,JR=nu("".replace),XR="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",ZR=RegExp("^"+XR+XR+"*"),$R=RegExp(XR+XR+"*$"),ek=function(e){return function(t){var n=zR(YR(t));return 1&e&&(n=JR(n,ZR,"")),2&e&&(n=JR(n,$R,"")),n}},tk={start:ek(1),end:ek(2),trim:ek(3)},nk=UE.PROPER,rk=zc,ik=WR,ok=tk.trim;gf({target:"String",proto:!0,forced:function(e){return rk((function(){return!!ik[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||nk&&ik[e].name!==e}))}("trim")},{trim:function(){return ok(this)}});var ak=Uf("String").trim,sk=ru,ck=ak,uk=String.prototype,lk=function(e){var t=e.trim;return"string"==typeof e||e===uk||sk(uk,e)&&t===uk.trim?ck:t},dk=O;di({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return dk(URL.prototype.toString,this)}});var fk={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return lk(e).call(e).split("\n").map((function(e){return lk(e).call(e)}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){var n;return lk(n=t>0?"m="+e:e).call(n)+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++){var o,a;t=lk(o=r[i]).call(o).split("="),n[lk(a=t[0]).call(a)]=t[1]}return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(fk);var pk=fk.exports;function hk(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=pk.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,ng(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function vk(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=pk.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=pk.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=pk.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76&&"plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),n(arguments[0])){var e,s=r(arguments[0]),c=i(s),u=o(arguments[0],s);e=0===c&&0===u?Number.POSITIVE_INFINITY:0===c||0===u?Math.max(c,u):Math.min(c,u);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return e}}),this._sctp=l}return a.apply(this,arguments)}}}function gk(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},ng(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function Ak(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function mk(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==lk(e).call(e)})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function Ek(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?wI.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),wI.resolve())})}}var yk,bk,Ck=Object.freeze({__proto__:null,shimRTCIceCandidate:hk,shimMaxMessageSize:vk,shimSendThrowTypeError:gk,shimConnectionState:Ak,removeExtmapAllowMixed:mk,shimAddIceCandidateNullOrEmpty:Ek});!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=og,r=sg(e),i={browserDetails:r,commonShim:Ck,extractVersion:tg,disableLog:rg,disableWarnings:ig};switch(r.browser){case"chrome":if(!nR||!eR||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=nR,Ek(e,r),KT(e,r),WT(e),eR(e,r),YT(e),$T(e,r),zT(e),JT(e),XT(e),tR(e,r),hk(e),Ak(e),vk(e,r),gk(e),mk(e,r);break;case"firefox":if(!MR||!TR||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=MR,Ek(e,r),wR(e,r),TR(e,r),SR(e),OR(e),RR(e),kR(e),NR(e),xR(e),DR(e),LR(e),PR(e),hk(e),Ak(e),vk(e,r),gk(e);break;case"edge":if(!vR||!pR||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=vR,dR(e),fR(e),pR(e,r),hR(e),vk(e,r),gk(e);break;case"safari":if(!KR||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=KR,Ek(e,r),VR(e),HR(e),jR(e),BR(e),UR(e),GR(e),FR(e),qR(e),hk(e),vk(e,r),gk(e),mk(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(yk||(yk={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(bk||(bk={}));var _k={exports:{}};!function(e,t){!function(n,r){var i="function",o="object",a="string",s="model",c="name",u="type",l="vendor",d="version",f="architecture",p="console",h="mobile",v="tablet",g="smarttv",A="wearable",m="embedded",E={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===a&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},y={rgx:function(e,t){for(var n,a,s,c,u,l,d=0;d<t.length&&!u;){var f=t[d],p=t[d+1];for(n=a=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(s=0;s<p.length;s++)l=u[++a],typeof(c=p[s])===o&&c.length>0?2==c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3==c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):r:this[c[0]]=l?c[1].call(this,l,c[2]):r:4==c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):r):this[c]=l||r;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(E.has(t[n][i],e))return"?"===n?r:n}else if(E.has(t[n],e))return"?"===n?r:n;return e}},b={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},C={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[c,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[c,d],[/opios[\/\s]+([\w\.]+)/i],[d,[c,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[d,[c,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,d],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[d,[c,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[d,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[c,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[d,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure Browser"],d],[/focus\/([\w\.]+)/i],[d,[c,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[d,[c,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[d,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[c,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[c,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[d,[c,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[c,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],d],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[c,d],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[c],[/;fbav\/([\w\.]+);/i],[d,[c,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[c,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[c,d],[/\bgsa\/([\w\.]+)\s.*safari\//i],[d,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[c,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,"Chrome WebView"],d],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[d,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,d],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[c,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[d,y.str,b.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[c,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],d],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[d,[c,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,E.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",E.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,E.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[s,[l,"Samsung"],[u,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[s,[l,"Samsung"],[u,h]],[/\((ip(?:hone|od)[\s\w]*);/i],[s,[l,"Apple"],[u,h]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[l,"Apple"],[u,v]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[s,[l,"Huawei"],[u,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[s,[l,"Huawei"],[u,h]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[s,/_/g," "],[l,"Xiaomi"],[u,h]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[s,/_/g," "],[l,"Xiaomi"],[u,v]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[s,[l,"OPPO"],[u,h]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[s,[l,"Vivo"],[u,h]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[s,[l,"Realme"],[u,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[s,[l,"Motorola"],[u,h]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[u,v]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[s,[l,"LG"],[u,v]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[s,[l,"LG"],[u,h]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[s,[l,"Lenovo"],[u,v]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[s,/_/g," "],[l,"Nokia"],[u,h]],[/droid.+;\s(pixel\sc)[\s)]/i],[s,[l,"Google"],[u,v]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[s,[l,"Google"],[u,h]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,"Sony"],[u,h]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[s,"Xperia Tablet"],[l,"Sony"],[u,v]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[s,[l,"OnePlus"],[u,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[s,[l,"Amazon"],[u,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[s,"Fire Phone"],[l,"Amazon"],[u,h]],[/\((playbook);[\w\s\),;-]+(rim)/i],[s,l,[u,v]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[u,h]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[s,[l,"ASUS"],[u,v]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[s,[l,"ASUS"],[u,h]],[/(nexus\s9)/i],[s,[l,"HTC"],[u,v]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[u,h]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[l,"Acer"],[u,v]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[s,[l,"Meizu"],[u,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[u,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[l,s,[u,v]],[/\s(surface\sduo)\s/i],[s,[l,"Microsoft"],[u,v]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[s,[l,"Fairphone"],[u,h]],[/\s(u304aa)\sbuild/i],[s,[l,"AT&T"],[u,h]],[/sie-(\w*)/i],[s,[l,"Siemens"],[u,h]],[/[;\/]\s?(rct\w+)\sbuild/i],[s,[l,"RCA"],[u,v]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[s,[l,"Dell"],[u,v]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[s,[l,"Verizon"],[u,v]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[s,[l,"Barnes & Noble"],[u,v]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[s,[l,"NuVision"],[u,v]],[/;\s(k88)\sbuild/i],[s,[l,"ZTE"],[u,v]],[/;\s(nx\d{3}j)\sbuild/i],[s,[l,"ZTE"],[u,h]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[s,[l,"Swiss"],[u,h]],[/[;\/]\s?(zur\d{3})\sbuild/i],[s,[l,"Swiss"],[u,v]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[s,[l,"Zeki"],[u,v]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[u,v]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[u,v]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[s,[l,"NextBook"],[u,v]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[l,"Voice"],s,[u,h]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[l,"LvTel"],s,[u,h]],[/;\s(ph-1)\s/i],[s,[l,"Essential"],[u,h]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[s,[l,"Envizen"],[u,v]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[s,[l,"MachSpeed"],[u,v]],[/[;\/]\s?tu_(1491)\sbuild/i],[s,[l,"Rotor"],[u,v]],[/(shield[\w\s]+)\sbuild/i],[s,[l,"Nvidia"],[u,v]],[/(sprint)\s(\w+)/i],[l,s,[u,h]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[u,h]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[l,"Zebra"],[u,v]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[l,"Zebra"],[u,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[l,s,[u,p]],[/droid.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[u,p]],[/(playstation\s[345portablevi]+)/i],[s,[l,"Sony"],[u,p]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[s,[l,"Microsoft"],[u,p]],[/smart-tv.+(samsung)/i],[l,[u,g]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[u,g]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[l,"LG"],[u,g]],[/(apple)\s?tv/i],[l,[s,"Apple TV"],[u,g]],[/crkey/i],[[s,"Chromecast"],[l,"Google"],[u,g]],[/droid.+aft([\w])(\sbuild\/|\))/i],[s,[l,"Amazon"],[u,g]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[u,g]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,E.trim],[s,E.trim],[u,g]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[u,g]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[u,A]],[/droid.+;\s(glass)\s\d/i],[s,[l,"Google"],[u,A]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[s,[l,"Zebra"],[u,A]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[l,[u,m]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[s,[u,h]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[s,[u,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,E.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]],[/(phone)/i],[[u,h]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[c,[d,y.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,y.str,b.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[c,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[c,"Mac OS"],[d,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[c,d],[/\(bb(10);/i],[d,[c,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[d,[c,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[c,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[c,d],[/(sunos)\s?([\w\.\d]*)/i],[[c,"Solaris"],d],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[c,d]]},_=function e(t,i){if("object"==typeof t&&(i=t,t=r),!(this instanceof e))return new e(t,i).getResult();var o=t||(void 0!==n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),s=i?E.extend(C,i):C;return this.getBrowser=function(){var e={name:r,version:r};return y.rgx.call(e,o,s.browser),e.major=E.major(e.version),e},this.getCPU=function(){var e={architecture:r};return y.rgx.call(e,o,s.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return y.rgx.call(e,o,s.device),e},this.getEngine=function(){var e={name:r,version:r};return y.rgx.call(e,o,s.engine),e},this.getOS=function(){var e={name:r,version:r};return y.rgx.call(e,o,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===a&&e.length>255?E.trim(e,255):e,this},this.setUA(o),this};_.VERSION="0.7.28",_.BROWSER={NAME:c,MAJOR:"major",VERSION:d},_.CPU={ARCHITECTURE:f},_.DEVICE={MODEL:s,VENDOR:l,TYPE:u,CONSOLE:p,MOBILE:h,SMARTTV:g,TABLET:v,WEARABLE:A,EMBEDDED:m},_.ENGINE={NAME:c,VERSION:d},_.OS={NAME:c,VERSION:d},e.exports&&(t=e.exports=_),t.UAParser=_;var I=void 0!==n&&(n.jQuery||n.Zepto);if(I&&!I.ua){var w=new _;I.ua=w.getResult(),I.ua.get=function(){return w.getUA()},I.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)I.ua[n]=t[n]}}}("object"==typeof window?window:b)}(_k,_k.exports);var Ik=new(0,_k.exports),wk=Ik.getResult();function Sk(e){return e&&Ik.setUA(e),{name:Tk(wk=Ik.getResult()),version:Rk(wk),os:kk(wk),osVersion:wk.os.version}}function Tk(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return bk.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return bk.CHROME;case"Safari":case"Mobile Safari":return bk.SAFARI;case"Edge":return bk.EDGE;case"Firefox":return bk.FIREFOX;case"QQBrowser":return bk.QQ;case"Opera":return bk.OPERA;case"WeChat":return bk.WECHAT;default:return e.browser.name||""}}function Rk(e){return("Blink"===e.engine.name?e.engine.version||"":e.browser.version||"").split(".")[0]}function kk(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}function Ok(){return Sk().os}function Nk(){var e=Sk();return!!("WebKit"===wk.engine.name&&e.os===yk.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==bk.SAFARI||Bk()&&e.name!==bk.SAFARI)}function xk(){var e=Sk();if(Nk()){if(e.os===yk.MAC_OS)return!0;if(e.os===yk.IOS){var t=wk.os.version&&wk.os.version.split(".");if(t&&14===Number(t[0])&&t[1]&&Number(t[1])>=3)return!0;if(t&&Number(t[0])>14)return!0}}return!1}function Dk(){return"WebKit"===wk.engine.name}function Lk(){return Sk().name===bk.CHROME}function Pk(){return Sk().name===bk.SAFARI}function Mk(){return Sk().name===bk.FIREFOX}function Bk(){return Sk().os===yk.IOS}function Uk(){var e=Sk();if(e.os!==yk.IOS||!e.osVersion)return!1;var t=e.osVersion.split(".");return 13===Number(t[0])}function jk(){var e=Sk();if(e.os!==yk.IOS||!e.osVersion)return!1;var t=e.osVersion.split(".");return 15===Number(t[0])}function Fk(){var e=Sk();if(e.os!==yk.IOS||!e.osVersion)return!1;var t=e.osVersion.split(".");return 15===Number(t[0])&&0===Number(t[1])}function Qk(){var e=Sk();if(e.os!==yk.IOS||!e.osVersion)return!1;var t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function Vk(){var e=Sk();if(e.os!==yk.IOS||!e.osVersion)return!1;var t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}function Gk(){return Pk()&&navigator.maxTouchPoints>0}function Hk(){return Sk().name===bk.WECHAT}function qk(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function Kk(){var e=Sk();return e.name!==bk.EDGE&&e.name!==bk.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function Wk(){return Sk().os===yk.ANDROID}var Yk={exports:{}},zk=gf,Jk=pu,Xk=Bd.f;zk({target:"Object",stat:!0,forced:Object.defineProperty!==Xk,sham:!Jk},{defineProperty:Xk});var Zk=Qu.Object,$k=Yk.exports=function(e,t,n){return Zk.defineProperty(e,t,n)};Zk.defineProperty.sham&&($k.sham=!0);var eO=Yk.exports;function tO(e,t,n){return t in e?eO(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nO,rO={exports:{}},iO=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},oO=iO,aO=Object.prototype.toString,sO=(nO=Object.create(null),function(e){var t=aO.call(e);return nO[t]||(nO[t]=t.slice(8,-1).toLowerCase())});function cO(e){return e=e.toLowerCase(),function(t){return sO(t)===e}}function uO(e){return Array.isArray(e)}function lO(e){return void 0===e}var dO=cO("ArrayBuffer");function fO(e){return null!==e&&"object"==typeof e}function pO(e){if("object"!==sO(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var hO=cO("Date"),vO=cO("File"),gO=cO("Blob"),AO=cO("FileList");function mO(e){return"[object Function]"===aO.call(e)}var EO=cO("URLSearchParams");function yO(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),uO(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var bO=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array)),CO={isArray:uO,isArrayBuffer:dO,isBuffer:function(e){return null!==e&&!lO(e)&&null!==e.constructor&&!lO(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||aO.call(e)===t||mO(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&dO(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:fO,isPlainObject:pO,isUndefined:lO,isDate:hO,isFile:vO,isBlob:gO,isFunction:mO,isStream:function(e){return fO(e)&&mO(e.pipe)},isURLSearchParams:EO,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:yO,merge:function e(){var t={};function n(n,r){pO(t[r])&&pO(n)?t[r]=e(t[r],n):pO(n)?t[r]=e({},n):uO(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)yO(arguments[r],n);return t},extend:function(e,t,n){return yO(t,(function(t,r){e[r]=n&&"function"==typeof t?oO(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=r[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:sO,kindOfTest:cO,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(lO(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:bO,isFileList:AO},_O=CO;function IO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var wO=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(_O.isURLSearchParams(t))r=t.toString();else{var i=[];_O.forEach(t,(function(e,t){null!=e&&(_O.isArray(e)?t+="[]":e=[e],_O.forEach(e,(function(e){_O.isDate(e)?e=e.toISOString():_O.isObject(e)&&(e=JSON.stringify(e)),i.push(IO(t)+"="+IO(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},SO=CO;function TO(){this.handlers=[]}TO.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},TO.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},TO.prototype.forEach=function(e){SO.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var RO=TO,kO=CO,OO=CO;function NO(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}OO.inherits(NO,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var xO=NO.prototype,DO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){DO[e]={value:e}})),Object.defineProperties(NO,DO),Object.defineProperty(xO,"isAxiosError",{value:!0}),NO.from=function(e,t,n,r,i,o){var a=Object.create(xO);return OO.toFlatObject(e,a,(function(e){return e!==Error.prototype})),NO.call(a,e.message,t,n,r,i),a.name=e.name,o&&Object.assign(a,o),a};var LO=NO,PO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MO=CO,BO=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":MO.isDate(e)?e.toISOString():MO.isArrayBuffer(e)||MO.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,o){if(MO.isPlainObject(i)||MO.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+o);n.push(i),MO.forEach(i,(function(n,i){if(!MO.isUndefined(n)){var a,s=o?o+"."+i:i;if(n&&!o&&"object"==typeof n)if(MO.endsWith(i,"{}"))n=JSON.stringify(n);else if(MO.endsWith(i,"[]")&&(a=MO.toArray(n)))return void a.forEach((function(e){!MO.isUndefined(e)&&t.append(s,r(e))}));e(n,s)}})),n.pop()}else t.append(o,r(i))}(e),t},UO=LO,jO=CO,FO=jO.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),jO.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),jO.isString(r)&&a.push("path="+r),jO.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},QO=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},VO=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},GO=function(e,t){return e&&!QO(t)?VO(e,t):t},HO=CO,qO=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],KO=CO,WO=KO.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=KO.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},YO=LO;function zO(e){YO.call(this,null==e?"canceled":e,YO.ERR_CANCELED),this.name="CanceledError"}CO.inherits(zO,YO,{__CANCEL__:!0});var JO=zO,XO=CO,ZO=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new UO("Request failed with status code "+n.status,[UO.ERR_BAD_REQUEST,UO.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)},$O=FO,eN=wO,tN=GO,nN=function(e){var t,n,r,i={};return e?(HO.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=HO.trim(e.substr(0,r)).toLowerCase(),n=HO.trim(e.substr(r+1)),t){if(i[t]&&qO.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i},rN=WO,iN=PO,oN=LO,aN=JO,sN=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},cN=function(e){return new Promise((function(t,n){var r,i=e.data,o=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}XO.isFormData(i)&&XO.isStandardBrowserEnv()&&delete o["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(u+":"+l)}var d=tN(e.baseURL,e.url);function f(){if(c){var r="getAllResponseHeaders"in c?nN(c.getAllResponseHeaders()):null,i={data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c};ZO((function(e){t(e),s()}),(function(e){n(e),s()}),i),c=null}}if(c.open(e.method.toUpperCase(),eN(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(n(new oN("Request aborted",oN.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new oN("Network Error",oN.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||iN;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new oN(t,r.clarifyTimeoutError?oN.ETIMEDOUT:oN.ECONNABORTED,e,c)),c=null},XO.isStandardBrowserEnv()){var p=(e.withCredentials||rN(d))&&e.xsrfCookieName?$O.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&XO.forEach(o,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),XO.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&"json"!==a&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new aN:e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),i||(i=null);var h=sN(d);h&&-1===["http","https","file"].indexOf(h)?n(new oN("Unsupported protocol "+h+":",oN.ERR_BAD_REQUEST,e)):c.send(i)}))},uN=CO,lN=function(e,t){kO.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},dN=LO,fN=BO,pN={"Content-Type":"application/x-www-form-urlencoded"};function hN(e,t){!uN.isUndefined(e)&&uN.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var vN,gN={transitional:PO,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(vN=cN),vN),transformRequest:[function(e,t){if(lN(t,"Accept"),lN(t,"Content-Type"),uN.isFormData(e)||uN.isArrayBuffer(e)||uN.isBuffer(e)||uN.isStream(e)||uN.isFile(e)||uN.isBlob(e))return e;if(uN.isArrayBufferView(e))return e.buffer;if(uN.isURLSearchParams(e))return hN(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=uN.isObject(e),i=t&&t["Content-Type"];if((n=uN.isFileList(e))||r&&"multipart/form-data"===i){var o=this.env&&this.env.FormData;return fN(n?{"files[]":e}:e,o&&new o)}return r||"application/json"===i?(hN(t,"application/json"),function(e,t,n){if(uN.isString(e))try{return(t||JSON.parse)(e),uN.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||gN.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&uN.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw dN.from(e,dN.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};uN.forEach(["delete","get","head"],(function(e){gN.headers[e]={}})),uN.forEach(["post","put","patch"],(function(e){gN.headers[e]=uN.merge(pN)}));var AN=gN,mN=CO,EN=AN,yN=function(e){return!(!e||!e.__CANCEL__)},bN=CO,CN=function(e,t,n){var r=this||EN;return mN.forEach(n,(function(n){e=n.call(r,e,t)})),e},_N=yN,IN=AN,wN=JO;function SN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wN}var TN=CO,RN=function(e,t){t=t||{};var n={};function r(e,t){return TN.isPlainObject(e)&&TN.isPlainObject(t)?TN.merge(e,t):TN.isPlainObject(t)?TN.merge({},t):TN.isArray(t)?t.slice():t}function i(n){return TN.isUndefined(t[n])?TN.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!TN.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return TN.isUndefined(t[n])?TN.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return TN.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,r=t(e);TN.isUndefined(r)&&t!==s||(n[e]=r)})),n},kN="0.27.2",ON=kN,NN=LO,xN={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){xN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var DN={};xN.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ON+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new NN(r(i," has been removed"+(t?" in "+t:"")),NN.ERR_DEPRECATED);return t&&!DN[i]&&(DN[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var LN=CO,PN=wO,MN=RO,BN=function(e){return SN(e),e.headers=e.headers||{},e.data=CN.call(e,e.data,e.headers,e.transformRequest),e.headers=bN.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),bN.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||IN.adapter)(e).then((function(t){return SN(e),t.data=CN.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return _N(t)||(SN(e),t&&t.response&&(t.response.data=CN.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},UN=RN,jN=GO,FN={assertOptions:function(e,t,n){if("object"!=typeof e)throw new NN("options must be an object",NN.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new NN("option "+o+" must be "+c,NN.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new NN("Unknown option "+o,NN.ERR_BAD_OPTION)}},validators:xN},QN=FN.validators;function VN(e){this.defaults=e,this.interceptors={request:new MN,response:new MN}}VN.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=UN(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&FN.assertOptions(n,{silentJSONParsing:QN.transitional(QN.boolean),forcedJSONParsing:QN.transitional(QN.boolean),clarifyTimeoutError:QN.transitional(QN.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var s=[BN,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),o=Promise.resolve(t);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=t;r.length;){var u=r.shift(),l=r.shift();try{c=u(c)}catch(e){l(e);break}}try{o=BN(c)}catch(e){return Promise.reject(e)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},VN.prototype.getUri=function(e){e=UN(this.defaults,e);var t=jN(e.baseURL,e.url);return PN(t,e.params,e.paramsSerializer)},LN.forEach(["delete","get","head","options"],(function(e){VN.prototype[e]=function(t,n){return this.request(UN(n||{},{method:e,url:t,data:(n||{}).data}))}})),LN.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(UN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}VN.prototype[e]=t(),VN.prototype[e+"Form"]=t(!0)}));var GN=VN,HN=JO;function qN(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new HN(e),t(n.reason))}))}qN.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},qN.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},qN.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},qN.source=function(){var e;return{token:new qN((function(t){e=t})),cancel:e}};var KN=qN,WN=CO,YN=CO,zN=iO,JN=GN,XN=RN,ZN=function e(t){var n=new JN(t),r=zN(JN.prototype.request,n);return YN.extend(r,JN.prototype,n),YN.extend(r,n),r.create=function(n){return e(XN(t,n))},r}(AN);ZN.Axios=JN,ZN.CanceledError=JO,ZN.CancelToken=KN,ZN.isCancel=yN,ZN.VERSION=kN,ZN.toFormData=BO,ZN.AxiosError=LO,ZN.Cancel=ZN.CanceledError,ZN.all=function(e){return Promise.all(e)},ZN.spread=function(e){return function(t){return e.apply(null,t)}},ZN.isAxiosError=function(e){return WN.isObject(e)&&!0===e.isAxiosError},rO.exports=ZN,rO.exports.default=ZN;var $N,ex=rO.exports,tx=function(){function e(t){v(this,e),tO(this,"logger",void 0),tO(this,"prefixLists",[]),this.logger=t}return g(e,[{key:"debug",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.logger).debug.apply(e,h(this.prefixLists).concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.logger).info.apply(e,h(this.prefixLists).concat(n))}},{key:"warning",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.logger).warning.apply(e,h(this.prefixLists).concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.logger).error.apply(e,h(this.prefixLists).concat(n))}},{key:"prefix",value:function(e){return this.prefixLists.push(e),this}},{key:"popPrefix",value:function(){return this.prefixLists.pop(),this}}]),e}(),nx=function(){function e(){v(this,e),tO(this,"_events",{}),tO(this,"addListener",this.on)}return g(e,[{key:"getListeners",value:function(e){return this._events[e]?this._events[e].map((function(e){return e.listener})):[]}},{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}},{key:"once",value:function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}},{key:"off",value:function(e,t){if(this._events[e]){var n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}}},{key:"removeAllListeners",value:function(e){e?delete this._events[e]:this._events={}}},{key:"emit",value:function(e){this._events[e]||(this._events[e]=[]);for(var t=this._events[e].map((function(e){return e})),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o+=1){var a=t[o];a.once&&this.off(e,a.listener),a.listener.apply(this,r||[])}}},{key:"_indexOfListener",value:function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}}]),e}(),rx=new(function(e){f(n,e);var t=p(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"reportLogUploadError",value:function(e){this.emit("REPORT_LOG_UPLOAD",e)}}]),n}(nx));!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED"}($N||($N={}));var ix=function(e){f(n,e);var t=p(n);function n(e){var r;v(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;return r=t.call(this,i),tO(l(r),"code",void 0),tO(l(r),"message",void 0),tO(l(r),"data",void 0),tO(l(r),"name","AgoraRTCException"),r.code=e,r.message="AgoraRTCError ".concat(r.code,": ").concat(i),r.data=o,r}return g(n,[{key:"toString",value:function(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return"error"===e&&px.error(this.toString()),"warning"===e&&px.warning(this.toString()),this}},{key:"throw",value:function(){throw this.print(),this}}]),n}(d(Error)),ox={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function ax(e,t){var n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function sx(e,t,n,r){var i=Object.assign({},ox,r),o=i.timeout,a=function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return new wI((function(t){window.setTimeout(t,e)}))}(o);case 2:o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=!1,l=new wI(function(){var r=u(c().mark((function r(o,u){var l,d;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=t||function(){return!1},n=n||function(){return!0},l=0;case 2:if(!(l<i.maxRetryCount)){r.next=28;break}if(!s){r.next=5;break}return r.abrupt("return",u(new ix($N.OPERATION_ABORTED)));case 5:return r.prev=5,r.next=8,e();case 8:if(d=r.sent,t(d,l)){r.next=11;break}return r.abrupt("return",o(d));case 11:if(l+1!==i.maxRetryCount){r.next=13;break}return r.abrupt("return",o(d));case 13:return r.next=15,a();case 15:r.next=25;break;case 17:if(r.prev=17,r.t0=r.catch(5),n(r.t0,l)){r.next=21;break}return r.abrupt("return",u(r.t0));case 21:if(l+1!==i.maxRetryCount){r.next=23;break}return r.abrupt("return",u(r.t0));case 23:return r.next=25,a();case 25:l+=1,r.next=2;break;case 28:case"end":return r.stop()}}),r,null,[[5,17]])})));return function(e,t){return r.apply(this,arguments)}}());return l.cancel=function(){return s=!0},l}function cx(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}var ux,lx={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},dx=Date.now(),fx=function(e){for(var t in lx)if(Object.prototype.hasOwnProperty.call(lx,t)&&lx[t]===e)return t;return"DEFAULT"},px=new(function(){function e(){var t=this;v(this,e),tO(this,"proxyServerURL",void 0),tO(this,"logLevel",lx.DEBUG),tO(this,"uploadState","collecting"),tO(this,"uploadLogWaitingList",[]),tO(this,"uploadLogUploadingList",[]),tO(this,"uploadErrorCount",0),tO(this,"currentLogID",0),tO(this,"url",void 0),tO(this,"extLog",(function(e,n){t.appendLogToWaitingList(e,n)}))}return g(e,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[lx.DEBUG].concat(t);this.log.apply(this,r)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[lx.INFO].concat(t);this.log.apply(this,r)}},{key:"warning",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[lx.WARNING].concat(t);this.log.apply(this,r)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[lx.ERROR].concat(t);this.log.apply(this,r)}},{key:"upload",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[lx.DEBUG].concat(t);this.uploadLog.apply(this,r)}},{key:"setLogLevel",value:function(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}},{key:"enableLogUpload",value:function(){Xx("UPLOAD_LOG",!0)}},{key:"disableLogUpload",value:function(){Xx("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}},{key:"setProxyServer",value:function(e){this.proxyServerURL=e}},{key:"prefix",value:function(e){return new tx(this).prefix(e)}},{key:"log",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Date.now()-dx<100)setTimeout((function(){e.log.apply(e,n)}),Date.now()-dx);else{var i=Math.max(0,Math.min(4,n[0]));if(n[0]=cx()+" Agora-SDK [".concat(fx(i),"]:"),this.appendLogToWaitingList(i,n),!(i<this.logLevel)){var o=cx()+" %cAgora-SDK [".concat(fx(i),"]:"),a=[];if(!Zx("USE_NEW_LOG"))switch(i){case lx.DEBUG:a=[o,"color: #64B5F6;"].concat(n.slice(1)),console.log.apply(console,a);break;case lx.INFO:a=[o,"color: #1E88E5; font-weight: bold;"].concat(n.slice(1)),console.log.apply(console,a);break;case lx.WARNING:a=[o,"color: #FB8C00; font-weight: bold;"].concat(n.slice(1)),console.warn.apply(console,a);break;case lx.ERROR:a=[o,"color: #B00020; font-weight: bold;"].concat(n.slice(1)),console.error.apply(console,a)}}}}},{key:"uploadLog",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Date.now()-dx<100)setTimeout((function(){e.uploadLog.apply(e,n)}),Date.now()-dx);else{var i=Math.max(0,Math.min(4,n[0]));n[0]=cx()+" Agora-SDK [".concat(fx(i),"]:"),this.appendLogToWaitingList(i,n)}}},{key:"appendLogToWaitingList",value:function(e){if(Zx("UPLOAD_LOG")){for(var t="",n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((function(e){"object"==typeof e&&(e=JSON.stringify(e)),t+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:t,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}}},{key:"startUpload",value:function(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}},{key:"uploadLogs",value:function(){var e=u(c().mark((function e(){var t,n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.uploadLogUploadingList,n={sdk_version:Fx,process_id:Zx("PROCESS_ID"),payload:JSON.stringify(t)},e.abrupt("return",sx(u(c().mark((function e(){var t,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ex.post(r.url||(r.proxyServerURL?"https://".concat(r.proxyServerURL,"/ls/?h=").concat(Zx("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(Zx("LOG_UPLOAD_SERVER"),"/upload/v1")),n,{responseType:"text"});case 2:if("OK"===(t=e.sent).data){e.next=6;break}throw(i=new Error("unexpected upload log response")).response=t,i;case 6:case"end":return e.stop()}}),e)}))),(function(){return r.uploadLogUploadingList=[],!1}),(function(e){return e.response?rx.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?rx.reportLogUploadError({status:e.request.status,message:e.message}):rx.reportLogUploadError({status:-1,message:e.message}),!0}),{timeout:Zx("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:Zx("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"uploadLogInterval",value:function(){var e=this;0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,Zx("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((function(){e.uploadErrorCount=0,e.uploadLogWaitingList.length>0&&window.setTimeout((function(){return e.uploadLogInterval()}),Zx("UPLOAD_LOG_INTERVAL"))})).catch((function(t){e.uploadErrorCount+=1,e.uploadErrorCount<2?window.setTimeout((function(){return e.uploadLogInterval()}),Zx("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((function(){return e.uploadLogInterval()}),Zx("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}}]),e}()),hx={debug:console.log,info:console.log,warning:console.warn,error:console.error},vx={debug:"color: #64B5F6;",info:"color: #1E88E5; font-weight: bold;",warning:"color: #FB8C00; font-weight: bold;",error:"color: #B00020; font-weight: bold;"},gx={debug:0,info:1,warning:2,error:3},Ax=[],mx=0,Ex=0,yx=!1;function bx(){var e=new Date;return[e.getTime(),e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()]}function Cx(e){if(Zx("UPLOAD_LOG")){var t;switch(e.type){case JD.MISC:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.msg]];break;case JD.INTERNAL_EVENT:case JD.PUBLIC_EVENT:case JD.WEB_EVENT:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.event,e.msg]];break;case JD.INTERNAL_API:case JD.PUBLIC_API:case JD.WEB_API:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.api,e.args,e.result]]}Ax.push(t)}}function _x(e,t){var n,r=bx(),i=s(r,2),o=i[0],a=i[1],c="warning",u="".concat(a," %cAgora-SDK [").concat(c,"] [INTERNAL API]:"),l=(n={},A(n,JD.WEB_API,"logWebAPI"),A(n,JD.PUBLIC_API,"logPublicAPI"),A(n,JD.INTERNAL_API,"logInternalAPI"),A(n,JD.WEB_EVENT,"logWebEvent"),A(n,JD.PUBLIC_EVENT,"logPublicEvent"),A(n,JD.INTERNAL_EVENT,"logInternalEvent"),A(n,JD.MISC,"logMisc"),n)[e],d=[u,vx.warning,"Log.".concat(l),t];Zx("USE_NEW_LOG")&&(wx(c)&&hx.warning.apply(console,d),Cx({timestamp:o,level:c,module:"Log",instanceId:void 0,type:JD.INTERNAL_API,api:l,args:void 0,result:t.toString()}))}function Ix(e){if(Array.isArray(e)){var t=s(e,2),n=t[0];return n||(n="Global"),{module:n,instanceId:t[1]}}var r,i;if("string"!=typeof e.__moduleName)throw new Error("Cannot get __moduleName from log instance.");r=e.__moduleName;try{i=e.__instanceId}catch(e){throw new Error("Cannot get __instanceId from log instance.")}return{module:r,instanceId:i}}function wx(e){return gx[e]>=Ex}function Sx(e,t,n,r,i,o){if(e===JD.PUBLIC_API||e===JD.WEB_API||e===JD.INTERNAL_API)try{var a,c=Ix(n),u=c.module,l=c.instanceId;i=i&&JSON.stringify(i),o=o instanceof Error?o.toString():o&&JSON.stringify(o);var d=bx(),f=s(d,2),p=f[0],h=f[1],v=["".concat(h," %cAgora-SDK [").concat(t,"] [").concat((a={},A(a,JD.PUBLIC_API,"PUBLIC API"),A(a,JD.WEB_API,"WEB API"),A(a,JD.INTERNAL_API,"INTERNAL API"),a)[e],"]:"),vx[t],"".concat(u).concat(l?"<".concat(l,">"):"",".").concat(r),i,o];Zx("USE_NEW_LOG")&&(wx(t)&&hx[t].apply(console,v),Cx({timestamp:p,level:t,module:u,instanceId:l,type:e,api:r,args:i,result:o}))}catch(t){_x(e,t)}}function Tx(e,t,n,r,i){if(e===JD.WEB_EVENT||e===JD.INTERNAL_EVENT||e===JD.PUBLIC_EVENT)try{var o,a=Ix(n),c=a.module,u=a.instanceId;"string"!=typeof i&&(i=i instanceof Error?i.toString():JSON.stringify(i));var l=bx(),d=s(l,2),f=d[0],p=d[1],h=["".concat(p," %cAgora-SDK [").concat(t,"] [").concat((o={},A(o,JD.WEB_EVENT,"WEB EVENT"),A(o,JD.PUBLIC_EVENT,"PUBLIC EVENT"),A(o,JD.INTERNAL_EVENT,"INTERNAL EVENT"),o)[e],"]:"),vx[t],"".concat(c).concat(u?"<".concat(u,">"):"",".on(").concat(r,")"),i||""];Zx("USE_NEW_LOG")&&(wx(t)&&hx[t].apply(console,h),Cx({timestamp:f,level:t,module:c,instanceId:u,type:e,event:r,msg:i}))}catch(t){_x(e,t)}}function Rx(e){ux=e}function kx(e,t,n){try{var r=Ix(t),i=r.module,o=r.instanceId,a=bx(),c=s(a,2),u=c[0],l=c[1],d=["".concat(l," %cAgora-SDK [").concat(e,"] [MISC]:"),vx[e],"".concat(i).concat(o?"<".concat(o,">"):""),'"'.concat(n,'"')];Zx("USE_NEW_LOG")&&(wx(e)&&hx[e].apply(console,d),Cx({timestamp:u,level:e,module:i,instanceId:o,type:JD.MISC,msg:n}))}catch(e){Dx("warning",["log"],"logMisc",void 0,e)}}function Ox(e,t,n,r){Tx(JD.INTERNAL_EVENT,e,t,n,r)}function Nx(e,t,n,r){Tx(JD.PUBLIC_EVENT,e,t,n,r)}function xx(e,t,n,r){Tx(JD.WEB_EVENT,e,t,n,r)}function Dx(e,t,n,r,i){Sx(JD.INTERNAL_API,e,t,n,r,i)}function Lx(e,t,n,r,i){Sx(JD.WEB_API,e,t,n,r,i)}function Px(e,t,n,r,i){Sx(JD.PUBLIC_API,e,t,n,r,i)}function Mx(e,t){return function(n){return function(n){f(i,n);var r=p(i);function i(){return v(this,i),r.apply(this,arguments)}return g(i,[{key:"__moduleName",get:function(){return e}},{key:"__instanceId",get:function(){if(t){if("function"==typeof this[t])return this[t]();var e=t.split(".");return e.length>0?Hf(e).call(e,(function(e,t){try{return e?e[t]:e}catch(e){return}}),this):this[t]}}}]),i}(n)}}function Bx(e){return Ux.apply(this,arguments)}function Ux(){return Ux=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!yx){e.next=2;break}return e.abrupt("return");case 2:if(yx=!0,Zx("UPLOAD_LOG")){e.next=4;break}return e.abrupt("return",void setTimeout((function(){return Bx(!0)}),Zx("UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF")));case 4:if(0!==Ax.length){e.next=6;break}return e.abrupt("return",void setTimeout((function(){return Bx(!0)}),Zx("UPLOAD_LOG_INTERVAL")));case 6:return n=Ax.slice(0,Zx("UPLOAD_LOG_LENGTH_EACH_TIME")),r={sdk_version:Fx,log_version:Zx("LOG_VERSION"),process_id:Zx("PROCESS_ID"),index:mx,logs:JSON.stringify(n)},e.next=9,sx(u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ex.post(ux?"https://".concat(ux,"/ls/?h=").concat(Zx("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(Zx("LOG_UPLOAD_SERVER"),"/upload/v1"),r,{responseType:"text"});case 2:if("OK"===(t=e.sent).data){e.next=5;break}throw new Error("Log service response error ".concat(t.data));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),void 0,void 0,{timeout:Zx("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:Zx("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")});case 9:Ax.splice(0,Zx("UPLOAD_LOG_LENGTH_EACH_TIME")),mx+=n.length,setTimeout((function(){return Bx(!0)}),Zx("UPLOAD_LOG_INTERVAL"));case 12:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}var jx="v4.13.0-0-g14700235-dirty(7/25/2022, 7:29:54 PM)",Fx=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;var t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){var n=t[1],r=t[2];return"".concat(n,".").concat(r)}var i=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(i&&i[1]&&i[2]){var o=i[1],a=i[2];return"".concat(o,".").concat(100*(Number(a)+1))}return"4.0.0.999"}("4.13.0"),Qx=function(){try{return!0===JSON.parse("true")}catch(b){return!0}}(),Vx={username:"test",password:"111111",turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1},Gx={"90p":nD(160,90),"90p_1":nD(160,90),"120p":nD(160,120,15,30,65),"120p_1":nD(160,120,15,30,65),"120p_3":nD(120,120,15,30,50),"120p_4":nD(212,120),"180p":nD(320,180,15,30,140),"180p_1":nD(320,180,15,30,140),"180p_3":nD(180,180,15,30,100),"180p_4":nD(240,180,15,30,120),"240p":nD(320,240,15,40,200),"240p_1":nD(320,240,15,40,200),"240p_3":nD(240,240,15,40,140),"240p_4":nD(424,240,15,40,220),"360p":nD(640,360,15,80,400),"360p_1":nD(640,360,15,80,400),"360p_3":nD(360,360,15,80,260),"360p_4":nD(640,360,30,80,600),"360p_6":nD(360,360,30,80,400),"360p_7":nD(480,360,15,80,320),"360p_8":nD(480,360,30,80,490),"360p_9":nD(640,360,15,80,800),"360p_10":nD(640,360,24,80,800),"360p_11":nD(640,360,24,80,1e3),"480p":nD(640,480,15,100,500),"480p_1":nD(640,480,15,100,500),"480p_2":nD(640,480,30,100,1e3),"480p_3":nD(480,480,15,100,400),"480p_4":nD(640,480,30,100,750),"480p_6":nD(480,480,30,100,600),"480p_8":nD(848,480,15,100,610),"480p_9":nD(848,480,30,100,930),"480p_10":nD(640,480,10,100,400),"720p":nD(1280,720,15,120,1130),"720p_1":nD(1280,720,15,120,1130),"720p_2":nD(1280,720,30,120,2e3),"720p_3":nD(1280,720,30,120,1710),"720p_5":nD(960,720,15,120,910),"720p_6":nD(960,720,30,120,1380),"1080p":nD(1920,1080,15,120,2080),"1080p_1":nD(1920,1080,15,120,2080),"1080p_2":nD(1920,1080,30,120,3e3),"1080p_3":nD(1920,1080,30,120,3150),"1080p_5":nD(1920,1080,60,120,4780),"1440p":nD(2560,1440,30,120,4850),"1440p_1":nD(2560,1440,30,120,4850),"1440p_2":nD(2560,1440,60,120,7350),"4k":nD(3840,2160,30,120,8910),"4k_1":nD(3840,2160,30,120,8910),"4k_3":nD(3840,2160,60,120,13500)},Hx={"480p":rD(640,480,5),"480p_1":rD(640,480,5),"480p_2":rD(640,480,30),"480p_3":rD(640,480,15),"720p":rD(1280,720,5),"720p_1":rD(1280,720,5),"720p_2":rD(1280,720,30),"720p_3":rD(1280,720,15),"1080p":rD(1920,1080,5),"1080p_1":rD(1920,1080,5),"1080p_2":rD(1920,1080,30),"1080p_3":rD(1920,1080,15)},qx={"1SL1TL":iD(1,1),"3SL3TL":iD(3,3),"2SL3TL":iD(2,3)};function Kx(e){return"string"==typeof e?Object.assign({},Gx[e]):e}function Wx(e){return"string"==typeof e?Object.assign({},Hx[e]):e}function Yx(e){return"string"==typeof e?Object.assign({},qx[e]):e}var zx={speech_low_quality:tD(16e3,!1),speech_standard:tD(32e3,!1,18),music_standard:tD(48e3,!1),standard_stereo:tD(48e3,!0,56),high_quality:tD(48e3,!1,128),high_quality_stereo:tD(48e3,!0,192)};function Jx(e){return"string"==typeof e?Object.assign({},zx[e]):e}function Xx(e,t,n){Object.keys($x).includes(e)&&(!n&&Object.keys(eD).includes(e)||($x[e]=t))}function Zx(e){return $x[e]}var $x={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TCC:!0,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION:2e3,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0},eD={};function tD(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function nD(e,t,n,r,i){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:i}}function rD(e,t,n,r,i){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:i}}function iD(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}Qx||($x.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],$x.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],$x.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],$x.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],$x.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],$x.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],$x.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",$x.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",$x.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",$x.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",$x.AREAS=["NORTH_AMERICA","OVERSEA"]);var oD=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],aD=[],sD=[],cD=cd,uD=Bd,lD=_u,dD=function(e,t,n){var r=cD(t);r in e?uD.f(e,r,lD(0,n)):e[r]=n},fD=Bg,pD=_f,hD=dD,vD=ou.Array,gD=Math.max,AD=function(e,t,n){for(var r=pD(e),i=fD(t,r),o=fD(void 0===n?r:n,r),a=vD(gD(o-i,0)),s=0;i<o;i++,s++)hD(a,s,e[i]);return a.length=s,a},mD=AD,ED=Math.floor,yD=function e(t,n){var r=t.length,i=ED(r/2);return r<8?bD(t,n):CD(t,e(mD(t,0,i),n),e(mD(t,i),n),n)},bD=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},CD=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},_D=yD,ID=Wu.match(/firefox\/(\d+)/i),wD=!!ID&&+ID[1],SD=/MSIE|Trident/.test(Wu),TD=Wu.match(/AppleWebKit\/(\d+)\./),RD=!!TD&&+TD[1],kD=gf,OD=nu,ND=gl,xD=xl,DD=_f,LD=Dm,PD=zc,MD=_D,BD=xf,UD=wD,jD=SD,FD=el,QD=RD,VD=[],GD=OD(VD.sort),HD=OD(VD.push),qD=PD((function(){VD.sort(void 0)})),KD=PD((function(){VD.sort(null)})),WD=BD("sort"),YD=!PD((function(){if(FD)return FD<70;if(!(UD&&UD>3)){if(jD)return!0;if(QD)return QD<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)VD.push({k:t+r,v:n})}for(VD.sort((function(e,t){return t.v-e.v})),r=0;r<VD.length;r++)t=VD[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));kD({target:"Array",proto:!0,forced:qD||!KD||!WD||!YD},{sort:function(e){void 0!==e&&ND(e);var t=xD(this);if(YD)return void 0===e?GD(t):GD(t,e);var n,r,i=[],o=DD(t);for(r=0;r<o;r++)r in t&&HD(i,t[r]);for(MD(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:LD(t)>LD(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<o;)delete t[r++];return t}});var zD,JD,XD,ZD=Uf("Array").sort,$D=ru,eL=ZD,tL=Array.prototype,nL=function(e){var t=e.sort;return e===tL||$D(tL,e)&&t===tL.sort?eL:t};function rL(e,t){if("boolean"!=typeof e)throw new ix($N.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function iL(e,t,n){if(!n.includes(e))throw new ix($N.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function oL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!pL(e))throw new ix($N.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function aL(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new ix($N.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&oL(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&oL(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&oL(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&oL(e.ideal,"".concat(t,".ideal"),1,1/0)}else oL(e,t,1,1/0)}function sL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new ix($N.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!fL(e,n,r,i))throw new ix($N.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))}function cL(e,t){if(!Array.isArray(e))throw new ix($N.INVALID_PARAMS,"".concat(t," should be an array"))}function uL(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw px.error("Invalid Channel Name ".concat(e)),new ix($N.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function lL(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&t<=4294967295||fL(e,1,255)))throw px.error("Invalid UID ".concat(e," ").concat(typeof e)),new ix($N.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&px.warning("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}function dL(e){return null==e}function fL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||hL(e))}function pL(e){return"number"==typeof e&&e%1==0}function hL(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t+=1){var n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}!function(e){e.FREE="free",e.UPLOADING="uploading"}(zD||(zD={})),function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}(JD||(JD={})),function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata"}(XD||(XD={}));var vL={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};function gL(e){return sL(e.reportId,"params.reportId",0,100,!1),sL(e.category,"params.category",0,100,!1),sL(e.event,"params.event",0,100,!1),sL(e.label,"params.label",0,100,!1),oL(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}var AL,mL,EL,yL,bL,CL,_L,IL,wL,SL,TL,RL,kL,OL,NL,xL,DL,LL,PL,ML,BL,UL,jL,FL,QL={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};function VL(e){return oL(e.timeout,"config.timeout",0,1e5),oL(e.timeoutFactor,"config.timeoutFactor",0,100,!1),oL(e.maxRetryCount,"config.maxRetryConfig",0,1/0),oL(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function GL(e){return iL(e.codec,"config.codec",["vp8","vp9","av1","h264"]),iL(e.mode,"config.mode",["rtc","live"]),void 0!==e.audioCodec&&iL(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&sL(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&qL(e.turnServer),void 0!==e.httpRetryConfig&&VL(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&VL(e.websocketRetryConfig),!0}function HL(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((function(e){if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function qL(e){return sL(e.turnServerURL,"turnServerURL"),sL(e.username,"username"),sL(e.password,"password"),e.udpport&&oL(e.udpport,"udpport",1,99999,!0),e.forceturn&&rL(e.forceturn,"forceturn"),e.security&&rL(e.security,"security"),e.tcpport&&oL(e.tcpport,"tcpport",1,99999,!0),!0}function KL(e){return void 0!==e.level&&iL(e.level,"level",[1,2,3]),!0}!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics"}(AL||(AL={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed"}(mL||(mL={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}(EL||(EL={})),function(e){e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(yL||(yL={})),function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",e.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage"}(bL||(bL={})),function(e){e.TRACER="tracer"}(CL||(CL={})),function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(_L||(_L={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(IL||(IL={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(wL||(wL={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(SL||(SL={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(TL||(TL={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(RL||(RL={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(kL||(kL={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(OL||(OL={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK"}(NL||(NL={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result"}(xL||(xL={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(DL||(DL={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}(LL||(LL={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response"}(PL||(PL={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.SUBSCRIBE="subscribe",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter"}(ML||(ML={})),function(e){e.PUBLISH_STATS="publish_stats",e.PUBLISH_RELATED_STATS="publish_related_stats",e.SUBSCRIBE_STATS="subscribe_stats",e.SUBSCRIBE_RELATED_STATS="subscribe_related_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.TRANSPORT_STATS="transport_stats"}(BL||(BL={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list"}(UL||(UL={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(jL||(jL={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source"}(FL||(FL={}));var WL,YL,zL,JL={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,currentPacketLossRate:0},XL={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},ZL={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},$L={uplinkNetworkQuality:0,downlinkNetworkQuality:0},eP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};!function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(WL||(WL={})),function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(YL||(YL={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",e[e.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",e[e.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(zL||(zL={}));var tP={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},nP={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function rP(e,t){sL(e.url,"".concat(t,".url"),1,1e3,!1),dL(e.x)||oL(e.x,"".concat(t,".x"),0,1e4),dL(e.y)||oL(e.y,"".concat(t,".y"),0,1e4),dL(e.width)||oL(e.width,"".concat(t,".width"),0,1e4),dL(e.height)||oL(e.height,"".concat(t,".height"),0,1e4),dL(e.zOrder)||oL(e.zOrder,"".concat(t,".zOrder"),0,255),dL(e.alpha)||oL(e.alpha,"".concat(t,".alpha"),0,1,!1)}var iP,oP,aP,sP,cP,uP,lP,dP,fP,pP,hP,vP,gP,AP,mP,EP,yP,bP,CP={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},_P={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};function IP(e){if(!e.channelName)throw new ix($N.INVALID_PARAMS,"invalid channelName in info");if(!e.uid||"number"!=typeof e.uid)throw new ix($N.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&sL(e.token,"info.token",1,2047),lL(e.uid),uL(e.channelName),!0}function wP(e){return iL(e,"mediaSource",["screen","window","application"]),!0}!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(iP||(iP={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(oP||(oP={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(aP||(aP={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(sP||(sP={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(cP||(cP={})),function(e){e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(uP||(uP={})),function(e){e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(lP||(lP={})),function(e){e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}(dP||(dP={})),function(e){e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low"}(fP||(fP={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response"}(pP||(pP={})),function(e){e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data"}(hP||(hP={})),function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track"}(vP||(vP={})),function(e){e.SCREEN_TRACK="screen_track",e.LOW_STREAM="low_stream"}(gP||(gP={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(AP||(AP={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY"}(mP||(mP={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed"}(EP||(EP={})),function(e){e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status"}(yP||(yP={})),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(bP||(bP={}));var SP,TP=[bP.AFRICA,bP.ASIA,bP.CHINA,bP.EUROPE,bP.GLOBAL,bP.INDIA,bP.JAPAN,bP.NORTH_AMERICA,bP.OCEANIA,bP.OVERSEA,bP.SOUTH_AMERICA];!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(SP||(SP={}));var RP,kP,OP,NP,xP,DP,LP,PP,MP={CHINA:{},ASIA:{CODE:SP.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:SP.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:SP.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:SP.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:SP.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:SP.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:SP.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:SP.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:SP.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:SP.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:SP.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:SP.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:SP.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};Qx&&(MP.CHINA={CODE:SP.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),function(e){e.UPDATE_BITRATE_LIMIT="update_bitrate_limit"}(RP||(RP={}));var BP=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this),tO(l(i),"onICEConnectionStateChange",void 0),tO(l(i),"onConnectionStateChange",void 0),tO(l(i),"onDTLSTransportStateChange",void 0),tO(l(i),"onDTLSTransportError",void 0),tO(l(i),"onICETransportStateChange",void 0),tO(l(i),"onFirstAudioReceived",void 0),tO(l(i),"onFirstVideoReceived",void 0),tO(l(i),"onFirstAudioDecoded",void 0),tO(l(i),"onFirstVideoDecoded",void 0),tO(l(i),"onFirstVideoDecodedTimeout",void 0),tO(l(i),"onSelectedLocalCandidateChanged",void 0),tO(l(i),"onSelectedRemoteCandidateChanged",void 0),i}return g(n)}(nx);!function(e){e.SEND="sendonly",e.RECV="recvonly",e.SENDRECV="sendrecv",e.INACTIVE="inactive"}(kP||(kP={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(OP||(OP={})),function(e){e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack"}(NP||(NP={})),function(e){e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected"}(xP||(xP={})),function(e){e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter"}(DP||(DP={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(LP||(LP={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(PP||(PP={}));var UP,jP,FP,QP,VP,GP={join:["startJoin","startRequestAp","startJoinGateway","finishJoin"],publish:["startPublish"]};!function(e){e.ON_TRACK="on_track",e.ON_NODE="on_node"}(UP||(UP={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints"}(jP||(jP={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(FP||(FP={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(QP||(QP={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(VP||(VP={}));var HP={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1};function qP(){return HP}var KP="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,WP=pr,YP=yr,zP=_.RangeError,JP=function(e){if(void 0===e)return 0;var t=WP(e),n=YP(t);if(t!==n)throw zP("Wrong length or index");return n},XP=_.Array,ZP=Math.abs,$P=Math.pow,eM=Math.floor,tM=Math.log,nM=Math.LN2,rM={pack:function(e,t,n){var r,i,o,a=XP(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?$P(2,-24)-$P(2,-77):0,d=e<0||0===e&&1/e<0?1:0,f=0;for((e=ZP(e))!=e||e===1/0?(i=e!=e?1:0,r=c):(r=eM(tM(e)/nM),e*(o=$P(2,-r))<1&&(r--,o*=2),(e+=r+u>=1?l/o:l*$P(2,1-u))*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(e*o-1)*$P(2,t),r+=u):(i=e*$P(2,u-1)*$P(2,t),r=0));t>=8;)a[f++]=255&i,i/=256,t-=8;for(r=r<<t|i,s+=t;s>0;)a[f++]=255&r,r/=256,s-=8;return a[--f]|=128*d,a},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;)l=256*l+e[c--],s-=8;for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;)n=256*n+e[c--],s-=8;if(0===l)l=1-a;else{if(l===o)return n?NaN:u?-1/0:1/0;n+=$P(2,t),l-=a}return(u?-1:1)*n*$P(2,l-t)}},iM=$e,oM=Ar,aM=Cr,sM=kt,cM=qt,uM=B,lM=Ar,dM=Cr,fM=function(e,t,n){var r=sM(t);r in e?cM.f(e,r,uM(0,n)):e[r]=n},pM=_.Array,hM=Math.max,vM=function(e,t,n){for(var r=dM(e),i=lM(t,r),o=lM(void 0===n?r:n,r),a=pM(hM(o-i,0)),s=0;i<o;i++,s++)fM(a,s,e[i]);return a.length=s,a},gM=_,AM=G,mM=S,EM=KP,yM=$n,bM=fn,CM=hi,_M=w,IM=Li,wM=pr,SM=yr,TM=JP,RM=rM,kM=ph,OM=Ci,NM=lr.f,xM=qt.f,DM=function(e){for(var t=iM(this),n=aM(t),r=arguments.length,i=oM(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:oM(o,n);a>i;)t[i++]=e;return t},LM=vM,PM=Si,MM=yM.PROPER,BM=yM.CONFIGURABLE,UM=Wn.get,jM=Wn.set,FM="ArrayBuffer",QM="DataView",VM="Wrong index",GM=gM.ArrayBuffer,HM=GM,qM=HM&&HM.prototype,KM=gM.DataView,WM=KM&&KM.prototype,YM=Object.prototype,zM=gM.Array,JM=gM.RangeError,XM=AM(DM),ZM=AM([].reverse),$M=RM.pack,eB=RM.unpack,tB=function(e){return[255&e]},nB=function(e){return[255&e,e>>8&255]},rB=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},iB=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},oB=function(e){return $M(e,23,4)},aB=function(e){return $M(e,52,8)},sB=function(e,t){xM(e.prototype,t,{get:function(){return UM(this)[t]}})},cB=function(e,t,n,r){var i=TM(n),o=UM(e);if(i+t>o.byteLength)throw JM(VM);var a=UM(o.buffer).bytes,s=i+o.byteOffset,c=LM(a,s,s+t);return r?c:ZM(c)},uB=function(e,t,n,r,i,o){var a=TM(n),s=UM(e);if(a+t>s.byteLength)throw JM(VM);for(var c=UM(s.buffer).bytes,u=a+s.byteOffset,l=r(+i),d=0;d<t;d++)c[u+d]=l[o?d:t-d-1]};if(EM){var lB=MM&&GM.name!==FM;if(_M((function(){GM(1)}))&&_M((function(){new GM(-1)}))&&!_M((function(){return new GM,new GM(1.5),new GM(NaN),lB&&!BM})))lB&&BM&&bM(GM,"name",FM);else{(HM=function(e){return IM(this,qM),new GM(TM(e))}).prototype=qM;for(var dB,fB=NM(GM),pB=0;fB.length>pB;)(dB=fB[pB++])in HM||bM(HM,dB,GM[dB]);qM.constructor=HM}OM&&kM(WM)!==YM&&OM(WM,YM);var hB=new KM(new HM(2)),vB=AM(WM.setInt8);hB.setInt8(0,2147483648),hB.setInt8(1,2147483649),!hB.getInt8(0)&&hB.getInt8(1)||CM(WM,{setInt8:function(e,t){vB(this,e,t<<24>>24)},setUint8:function(e,t){vB(this,e,t<<24>>24)}},{unsafe:!0})}else qM=(HM=function(e){IM(this,qM);var t=TM(e);jM(this,{bytes:XM(zM(t),0),byteLength:t}),mM||(this.byteLength=t)}).prototype,WM=(KM=function(e,t,n){IM(this,WM),IM(e,qM);var r=UM(e).byteLength,i=wM(t);if(i<0||i>r)throw JM("Wrong offset");if(i+(n=void 0===n?r-i:SM(n))>r)throw JM("Wrong length");jM(this,{buffer:e,byteLength:n,byteOffset:i}),mM||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,mM&&(sB(HM,"byteLength"),sB(KM,"buffer"),sB(KM,"byteLength"),sB(KM,"byteOffset")),CM(WM,{getInt8:function(e){return cB(this,1,e)[0]<<24>>24},getUint8:function(e){return cB(this,1,e)[0]},getInt16:function(e){var t=cB(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=cB(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return iB(cB(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return iB(cB(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return eB(cB(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return eB(cB(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){uB(this,1,e,tB,t)},setUint8:function(e,t){uB(this,1,e,tB,t)},setInt16:function(e,t){uB(this,2,e,nB,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){uB(this,2,e,nB,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){uB(this,4,e,rB,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){uB(this,4,e,rB,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){uB(this,4,e,oB,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){uB(this,8,e,aB,t,arguments.length>2?arguments[2]:void 0)}});PM(HM,FM),PM(KM,QM);var gB={ArrayBuffer:HM,DataView:KM},AB=di,mB=G,EB=w,yB=Xt,bB=Ar,CB=yr,_B=ia,IB=gB.ArrayBuffer,wB=gB.DataView,SB=wB.prototype,TB=mB(IB.prototype.slice),RB=mB(SB.getUint8),kB=mB(SB.setUint8);AB({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:EB((function(){return!new IB(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(TB&&void 0===t)return TB(yB(this),e);for(var n=yB(this).byteLength,r=bB(e,n),i=bB(void 0===t?n:t,n),o=new(_B(this,IB))(CB(i-r)),a=new wB(this),s=new wB(o),c=0;r<i;)kB(s,c++,RB(a,r++));return o}});var OB,NB,xB,DB={exports:{}},LB=KP,PB=S,MB=_,BB=oe,UB=se,jB=nt,FB=Zi,QB=xe,VB=fn,GB=pn.exports,HB=qt.f,qB=fe,KB=ph,WB=Ci,YB=mt,zB=st,JB=MB.Int8Array,XB=JB&&JB.prototype,ZB=MB.Uint8ClampedArray,$B=ZB&&ZB.prototype,eU=JB&&KB(JB),tU=XB&&KB(XB),nU=Object.prototype,rU=MB.TypeError,iU=YB("toStringTag"),oU=zB("TYPED_ARRAY_TAG"),aU=zB("TYPED_ARRAY_CONSTRUCTOR"),sU=LB&&!!WB&&"Opera"!==FB(MB.opera),cU=!1,uU={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},lU={BigInt64Array:8,BigUint64Array:8},dU=function(e){if(!UB(e))return!1;var t=FB(e);return jB(uU,t)||jB(lU,t)};for(OB in uU)(xB=(NB=MB[OB])&&NB.prototype)?VB(xB,aU,NB):sU=!1;for(OB in lU)(xB=(NB=MB[OB])&&NB.prototype)&&VB(xB,aU,NB);if((!sU||!BB(eU)||eU===Function.prototype)&&(eU=function(){throw rU("Incorrect invocation")},sU))for(OB in uU)MB[OB]&&WB(MB[OB],eU);if((!sU||!tU||tU===nU)&&(tU=eU.prototype,sU))for(OB in uU)MB[OB]&&WB(MB[OB].prototype,tU);if(sU&&KB($B)!==tU&&WB($B,tU),PB&&!jB(tU,iU))for(OB in cU=!0,HB(tU,iU,{get:function(){return UB(this)?this[oU]:void 0}}),uU)MB[OB]&&VB(MB[OB],oU,OB);var fU={NATIVE_ARRAY_BUFFER_VIEWS:sU,TYPED_ARRAY_CONSTRUCTOR:aU,TYPED_ARRAY_TAG:cU&&oU,aTypedArray:function(e){if(dU(e))return e;throw rU("Target is not a typed array")},aTypedArrayConstructor:function(e){if(BB(e)&&(!WB||qB(eU,e)))return e;throw rU(QB(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(PB){if(n)for(var i in uU){var o=MB[i];if(o&&jB(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}tU[e]&&!n||GB(tU,e,n?t:sU&&XB[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(PB){if(WB){if(n)for(r in uU)if((i=MB[r])&&jB(i,e))try{delete i[e]}catch(e){}if(eU[e]&&!n)return;try{return GB(eU,e,n?t:sU&&eU[e]||t)}catch(e){}}for(r in uU)!(i=MB[r])||i[e]&&!n||GB(i,e,t)}},isView:function(e){if(!UB(e))return!1;var t=FB(e);return"DataView"===t||jB(uU,t)||jB(lU,t)},isTypedArray:dU,TypedArray:eU,TypedArrayPrototype:tU},pU=_,hU=w,vU=xo,gU=fU.NATIVE_ARRAY_BUFFER_VIEWS,AU=pU.ArrayBuffer,mU=pU.Int8Array,EU=!gU||!hU((function(){mU(1)}))||!hU((function(){new mU(-1)}))||!vU((function(e){new mU,new mU(null),new mU(1.5),new mU(e)}),!0)||hU((function(){return 1!==new mU(new AU(2),1,void 0).length})),yU=se,bU=Math.floor,CU=Number.isInteger||function(e){return!yU(e)&&isFinite(e)&&bU(e)===e},_U=pr,IU=_.RangeError,wU=function(e){var t=_U(e);if(t<0)throw IU("The argument can't be less than 0");return t},SU=_.RangeError,TU=function(e,t){var n=wU(e);if(n%t)throw SU("Wrong offset");return n},RU=Ui,kU=O,OU=ea,NU=$e,xU=Cr,DU=lo,LU=ro,PU=Gi,MU=fU.aTypedArrayConstructor,BU=W,UU=_,jU=Array.isArray||function(e){return"Array"==BU(e)},FU=Jo,QU=se,VU=mt("species"),GU=UU.Array,HU=function(e){var t;return jU(e)&&(t=e.constructor,(FU(t)&&(t===GU||jU(t.prototype))||QU(t)&&null===(t=t[VU]))&&(t=void 0)),void 0===t?GU:t},qU=Ui,KU=$,WU=$e,YU=Cr,zU=function(e,t){return new(HU(e))(0===t?0:t)},JU=G([].push),XU=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){for(var f,p,h=WU(c),v=KU(h),g=qU(u,l),A=YU(v),m=0,E=d||zU,y=t?E(c,A):n||a?E(c,0):void 0;A>m;m++)if((s||m in v)&&(p=g(f=v[m],m,h),e))if(t)y[m]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return m;case 2:JU(y,f)}else switch(e){case 4:return!1;case 7:JU(y,f)}return o?-1:r||i?i:y}},ZU={forEach:XU(0),map:XU(1),filter:XU(2),some:XU(3),every:XU(4),find:XU(5),findIndex:XU(6),filterReject:XU(7)},$U=di,ej=_,tj=O,nj=S,rj=EU,ij=fU,oj=gB,aj=Li,sj=B,cj=fn,uj=CU,lj=yr,dj=JP,fj=TU,pj=kt,hj=nt,vj=Zi,gj=se,Aj=Oe,mj=_p,Ej=fe,yj=Ci,bj=lr.f,Cj=function(e){var t,n,r,i,o,a,s=OU(this),c=NU(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=LU(c);if(f&&!PU(f))for(a=(o=DU(c,f)).next,c=[];!(i=kU(a,o)).done;)c.push(i.value);for(d&&u>2&&(l=RU(l,arguments[2])),n=xU(c),r=new(MU(s))(n),t=0;n>t;t++)r[t]=d?l(c[t],t):c[t];return r},_j=ZU.forEach,Ij=Ni,wj=qt,Sj=I,Tj=Cv,Rj=Wn.get,kj=Wn.set,Oj=wj.f,Nj=Sj.f,xj=Math.round,Dj=ej.RangeError,Lj=oj.ArrayBuffer,Pj=Lj.prototype,Mj=oj.DataView,Bj=ij.NATIVE_ARRAY_BUFFER_VIEWS,Uj=ij.TYPED_ARRAY_CONSTRUCTOR,jj=ij.TYPED_ARRAY_TAG,Fj=ij.TypedArray,Qj=ij.TypedArrayPrototype,Vj=ij.aTypedArrayConstructor,Gj=ij.isTypedArray,Hj="BYTES_PER_ELEMENT",qj="Wrong length",Kj=function(e,t){Vj(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},Wj=function(e,t){Oj(e,t,{get:function(){return Rj(this)[t]}})},Yj=function(e){var t;return Ej(Pj,e)||"ArrayBuffer"==(t=vj(e))||"SharedArrayBuffer"==t},zj=function(e,t){return Gj(e)&&!Aj(t)&&t in e&&uj(+t)&&t>=0},Jj=function(e,t){return t=pj(t),zj(e,t)?sj(2,e[t]):Nj(e,t)},Xj=function(e,t,n){return t=pj(t),!(zj(e,t)&&gj(n)&&hj(n,"value"))||hj(n,"get")||hj(n,"set")||n.configurable||hj(n,"writable")&&!n.writable||hj(n,"enumerable")&&!n.enumerable?Oj(e,t,n):(e[t]=n.value,e)};nj?(Bj||(Sj.f=Jj,wj.f=Xj,Wj(Qj,"buffer"),Wj(Qj,"byteOffset"),Wj(Qj,"byteLength"),Wj(Qj,"length")),$U({target:"Object",stat:!0,forced:!Bj},{getOwnPropertyDescriptor:Jj,defineProperty:Xj}),DB.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,i=e+(n?"Clamped":"")+"Array",o="get"+e,a="set"+e,s=ej[i],c=s,u=c&&c.prototype,l={},d=function(e,t){Oj(e,t,{get:function(){return function(e,t){var n=Rj(e);return n.view[o](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=Rj(e);n&&(i=(i=xj(i))<0?0:i>255?255:255&i),o.view[a](t*r+o.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};Bj?rj&&(c=t((function(e,t,n,i){return aj(e,u),Tj(gj(t)?Yj(t)?void 0!==i?new s(t,fj(n,r),i):void 0!==n?new s(t,fj(n,r)):new s(t):Gj(t)?Kj(c,t):tj(Cj,c,t):new s(dj(t)),e,c)})),yj&&yj(c,Fj),_j(bj(s),(function(e){e in c||cj(c,e,s[e])})),c.prototype=u):(c=t((function(e,t,n,i){aj(e,u);var o,a,s,l=0,f=0;if(gj(t)){if(!Yj(t))return Gj(t)?Kj(c,t):tj(Cj,c,t);o=t,f=fj(n,r);var p=t.byteLength;if(void 0===i){if(p%r)throw Dj(qj);if((a=p-f)<0)throw Dj(qj)}else if((a=lj(i)*r)+f>p)throw Dj(qj);s=a/r}else s=dj(t),o=new Lj(a=s*r);for(kj(e,{buffer:o,byteOffset:f,byteLength:a,length:s,view:new Mj(o)});l<s;)d(e,l++)})),yj&&yj(c,Fj),u=c.prototype=mj(Qj)),u.constructor!==c&&cj(u,"constructor",c),cj(u,Uj,c),jj&&cj(u,jj,i),l[i]=c,$U({global:!0,forced:c!=s,sham:!Bj},l),Hj in c||cj(c,Hj,r),Hj in u||cj(u,Hj,r),Ij(i)}):DB.exports=function(){},(0,DB.exports)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Zj=Cr,$j=pr,eF=fU.aTypedArray;(0,fU.exportTypedArrayMethod)("at",(function(e){var t=eF(this),n=Zj(t),r=$j(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:t[i]}));var tF=_,nF=O,rF=fU,iF=Cr,oF=TU,aF=$e,sF=w,cF=tF.RangeError,uF=tF.Int8Array,lF=uF&&uF.prototype,dF=lF&&lF.set,fF=rF.aTypedArray,pF=rF.exportTypedArrayMethod,hF=!sF((function(){var e=new Uint8ClampedArray(2);return nF(dF,e,{length:1,0:3},1),3!==e[1]})),vF=hF&&rF.NATIVE_ARRAY_BUFFER_VIEWS&&sF((function(){var e=new uF(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));pF("set",(function(e){fF(this);var t=oF(arguments.length>1?arguments[1]:void 0,1),n=aF(e);if(hF)return nF(dF,this,n,t);var r=this.length,i=iF(n),o=0;if(i+t>r)throw cF("Wrong length");for(;o<i;)this[t+o]=n[o++]}),!hF||vF);var gF=vM,AF=Math.floor,mF=function e(t,n){var r=t.length,i=AF(r/2);return r<8?EF(t,n):yF(t,e(gF(t,0,i),n),e(gF(t,i),n),n)},EF=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},yF=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},bF=mF,CF=pe.match(/firefox\/(\d+)/i),_F=!!CF&&+CF[1],IF=/MSIE|Trident/.test(pe),wF=pe.match(/AppleWebKit\/(\d+)\./),SF=!!wF&&+wF[1],TF=_,RF=G,kF=w,OF=Me,NF=bF,xF=fU,DF=_F,LF=IF,PF=ye,MF=SF,BF=TF.Array,UF=xF.aTypedArray,jF=xF.exportTypedArrayMethod,FF=TF.Uint16Array,QF=FF&&RF(FF.prototype.sort),VF=!(!QF||kF((function(){QF(new FF(2),null)}))&&kF((function(){QF(new FF(2),{})}))),GF=!!QF&&!kF((function(){if(PF)return PF<74;if(DF)return DF<67;if(LF)return!0;if(MF)return MF<602;var e,t,n=new FF(516),r=BF(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(QF(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));jF("sort",(function(e){return void 0!==e&&OF(e),GF?QF(this,e):NF(UF(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!GF||VF);var HF,qF=Ni,KF="ArrayBuffer",WF=gB.ArrayBuffer;di({global:!0,forced:_.ArrayBuffer!==WF},{ArrayBuffer:WF}),qF(KF),function(e){e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"}(HF||(HF={}));var YF=Tu,zF=Array.isArray||function(e){return"Array"==YF(e)},JF=ou,XF=zF,ZF=db,$F=Fu,eQ=Xl("species"),tQ=JF.Array,nQ=function(e){var t;return XF(e)&&(t=e.constructor,(ZF(t)&&(t===tQ||XF(t.prototype))||$F(t)&&null===(t=t[eQ]))&&(t=void 0)),void 0===t?tQ:t},rQ=function(e,t){return new(nQ(e))(0===t?0:t)},iQ=Md,oQ=Du,aQ=xl,sQ=_f,cQ=rQ,uQ=nu([].push),lQ=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){for(var f,p,h=aQ(c),v=oQ(h),g=iQ(u,l),A=sQ(v),m=0,E=d||cQ,y=t?E(c,A):n||a?E(c,0):void 0;A>m;m++)if((s||m in v)&&(p=g(f=v[m],m,h),e))if(t)y[m]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return m;case 2:uQ(y,f)}else switch(e){case 4:return!1;case 7:uQ(y,f)}return o?-1:r||i?i:y}},dQ={forEach:lQ(0),map:lQ(1),filter:lQ(2),some:lQ(3),every:lQ(4),find:lQ(5),findIndex:lQ(6),filterReject:lQ(7)},fQ=dQ.forEach,pQ=xf("forEach")?[].forEach:function(e){return fQ(this,e,arguments.length>1?arguments[1]:void 0)};gf({target:"Array",proto:!0,forced:[].forEach!=pQ},{forEach:pQ});var hQ=Uf("Array").forEach,vQ=em,gQ=Pl,AQ=ru,mQ=hQ,EQ=Array.prototype,yQ={DOMTokenList:!0,NodeList:!0},bQ=function(e){var t=e.forEach;return e===EQ||AQ(EQ,e)&&t===EQ.forEach||gQ(yQ,vQ(e))?mQ:t},CQ=xl,_Q=pA;gf({target:"Object",stat:!0,forced:zc((function(){_Q(1)}))},{keys:function(e){return _Q(CQ(e))}});var IQ=Qu.Object.keys,wQ=Gf,SQ=gf,TQ=zF,RQ=nu([].reverse),kQ=[1,2];SQ({target:"Array",proto:!0,forced:String(kQ)===String(kQ.reverse())},{reverse:function(){return TQ(this)&&(this.length=this.length),RQ(this)}});var OQ=Uf("Array").reverse,NQ=ru,xQ=OQ,DQ=Array.prototype,LQ=function(e){var t=e.reverse;return e===DQ||NQ(DQ,e)&&t===DQ.reverse?xQ:t},PQ=zc,MQ=el,BQ=Xl("species"),UQ=function(e){return MQ>=51||!PQ((function(){var t=[];return(t.constructor={})[BQ]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},jQ=gf,FQ=ou,QQ=zF,VQ=db,GQ=Fu,HQ=Bg,qQ=_f,KQ=Uu,WQ=dD,YQ=Xl,zQ=Eb,JQ=UQ("slice"),XQ=YQ("species"),ZQ=FQ.Array,$Q=Math.max;jQ({target:"Array",proto:!0,forced:!JQ},{slice:function(e,t){var n,r,i,o=KQ(this),a=qQ(o),s=HQ(e,a),c=HQ(void 0===t?a:t,a);if(QQ(o)&&(n=o.constructor,(VQ(n)&&(n===ZQ||QQ(n.prototype))||GQ(n)&&null===(n=n[XQ]))&&(n=void 0),n===ZQ||void 0===n))return zQ(o,s,c);for(r=new(void 0===n?ZQ:n)($Q(c-s,0)),i=0;s<c;s++,i++)s in o&&WQ(r,i,o[s]);return r.length=i,r}});var eV=Uf("Array").slice,tV=ru,nV=eV,rV=Array.prototype,iV=function(e){var t=e.slice;return e===rV||tV(rV,e)&&t===rV.slice?nV:t};function oV(e,t,n,r,i){var o,a,s,c={};return bQ(o=IQ(r)).call(o,(function(e){c[e]=r[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=wQ(a=LQ(s=iV(n).call(n)).call(s)).call(a,(function(n,r){return r(e,t,n)||n}),c),i&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(i):void 0,c.initializer=void 0),void 0===c.initializer&&(eO(e,t,c),c=null),c}var aV=Uf("Array").keys,sV=em,cV=Pl,uV=ru,lV=aV,dV=Array.prototype,fV={DOMTokenList:!0,NodeList:!0},pV=function(e){var t=e.keys;return e===dV||uV(dV,e)&&t===dV.keys||cV(fV,sV(e))?lV:t};function hV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hV(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gV(e,t,n,r){return new wI((function(i,o){t.timeout=t.timeout||Zx("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),QH(t.data)):n&&(t.data.size?t.data.size:t.data instanceof FormData?function(e){var t=0;/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((function(e){t+="string"==typeof e?QH(e):e.size}))}(t.data):QH(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,ex.request(t).then((function(e){"string"==typeof e.data?QH(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?e.data.byteLength:QH(JSON.stringify(e.data)),r&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((function(e){ex.isCancel(e)?o(new ix($N.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new ix($N.NETWORK_TIMEOUT,e.message)):e.response?o(new ix($N.NETWORK_RESPONSE_ERROR,e.response.status)):o(new ix($N.NETWORK_ERROR,e.message))}))}))}function AV(e,t){return mV.apply(this,arguments)}function mV(){return mV=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([n.data],{type:"buffer"}),e.next=3,gV(t,vV(vV({},n),{},{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),mV.apply(this,arguments)}var EV=new(function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"_moduleName","network-indicator"),tO(l(e),"_networkState",LP.ONLINE),tO(l(e),"onlineWaiter",void 0),window.addEventListener("online",(function(){e.networkState=LP.ONLINE})),window.addEventListener("offline",(function(){e.networkState=LP.OFFLINE})),e}return g(n,[{key:"networkState",get:function(){return this._networkState},set:function(e){var t=this;px.info("[".concat(this._moduleName,"]")+"network state changed, "+this._networkState+" -> "+e),this.emit(PP.NETWORK_STATE_CHANGE,e,this._networkState),e===LP.ONLINE?this.emit(PP.ONLINE):e===LP.OFFLINE&&(this.onlineWaiter=new wI((function(e){t.once(PP.ONLINE,(function(){t.onlineWaiter=void 0,e(LP.ONLINE)}))})),this.emit(PP.OFFLINE)),this._networkState=e}}]),n}(nx)),yV=!1,bV=new(function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),tO(l(e),"onAutoplayFailed",void 0),tO(l(e),"onAudioAutoplayFailed",void 0),e}return g(n)}(nx));function CV(){var e=Sk();if(!yV){var t=function t(n){n.preventDefault(),yV=!1,"Android"!==e.os||"Chrome"!==e.name&&e.name!==bk.WECHAT?(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0)):document.body.removeEventListener("click",t,!0)};yV=!0,"Android"!==e.os||"Chrome"!==e.name&&e.name!==bk.WECHAT?(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)):document.body.addEventListener("click",t,!0),px.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),bV.onAutoplayFailed?bV.onAutoplayFailed():bV.onAudioAutoplayFailed?px.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):px.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),bV.emit("autoplay-failed")}}function _V(e){return(new TextEncoder).encode(e)}var IV,wV=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},SV=function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){var n="";return new Uint8Array(e).forEach((function(e){n+=e.toString(t).padStart(2,"0")})),n},e.next=3,crypto.subtle.digest("SHA-256",_V(t));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,16));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function TV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TV(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:NV};return function(t,n,r){var i=t[n];if("function"==typeof i){var o="AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name;r.value=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=e.report.reportApiInvoke(this._sessionId||null,{name:"".concat(o,".").concat(n),options:r,tag:CL.TRACER,reportResult:e.reportResult});try{var c=i.apply(this,r);return s.onSuccess(e.reportResult&&c),c}catch(e){throw s.onError(e),e}}}return r}}function OV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:NV};return function(t,n,r){var i,o=r.value;return"function"==typeof o&&(i=e.className?e.className:"AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name,r.value=u(c().mark((function t(){var r,a,s,u,l,d,f=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=f.length,s=new Array(a),u=0;u<a;u++)s[u]=f[u];try{s.length>0&&(JSON.stringify(s),r=s)}catch(e){px.warning("arguments for method ".concat(i,".").concat(n," not serializable from apiInvoke.")),r=[]}return l=(e.report||NV).reportApiInvoke(this._sessionId||null,{name:"".concat(i,".").concat(n),options:r,tag:CL.TRACER}),t.prev=3,t.next=6,o.apply(this,s);case 6:return d=t.sent,t.abrupt("return",(l.onSuccess(),d));case 10:throw t.prev=10,t.t0=t.catch(3),l.onError(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,this,[[3,10]])})))),r}}var NV=new(Mx("AgoraRTCEventReport")(IV=function(){function e(){var t=this;v(this,e),tO(this,"baseInfoMap",new Map),tO(this,"proxyServer",void 0),tO(this,"clientList",aD),tO(this,"eventUploadTimer",void 0),tO(this,"setSessionIdTimer",void 0),tO(this,"url",void 0),tO(this,"backupUrl",void 0),tO(this,"_appId",void 0),tO(this,"keyEventUploadPendingItems",[]),tO(this,"normalEventUploadPendingItems",[]),tO(this,"apiInvokeUploadPendingItems",[]),tO(this,"apiInvokeCount",0),tO(this,"ltsList",[]),tO(this,"lastSendNormalEventTime",Date.now()),tO(this,"customReportCounterTimer",void 0),tO(this,"customReportCount",0),tO(this,"extApiInvoke",function(){var e=u(c().mark((function e(n){var r,i,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a(n);try{for(r.s();!(i=r.n()).done;)o=i.value,s=RV(RV({},o),{},{sid:null,invokeId:++t.apiInvokeCount,tag:CL.TRACER}),t.sendApiInvoke(s)}catch(c){r.e(c)}finally{r.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),Zx("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),Zx("EVENT_REPORT_SEND_INTERVAL"))}return g(e,[{key:"adjustSessionStartTime",value:function(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return px.error("adjust session ".concat(e," start time, sid is not exist or info is undefined")),void Dx("error",this,"adjustSessionStartTime","adjust session ".concat(e," start time, sid is not exist or info is undefined"));var t=this.baseInfoMap.get(e),n=Date.now(),r=t.startTime;t.startTime=n,px.debug("rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),Dx("debug",this,"adjustSessionStartTime",void 0,"rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),this.baseInfoMap.set(e,t)}},{key:"setAppId",value:function(e){this._appId=e}},{key:"reportApiInvoke",value:function(e,t,n){var r=this;t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;var i=Date.now();this.apiInvokeCount+=1;var o=this.apiInvokeCount,a=function(){return{tag:t.tag,invokeId:o,sid:e,name:t.name,apiInvokeTime:i,options:t.options,states:t.states||null}},s=!!Zx("SHOW_REPORT_INVOKER_LOG");s&&px.info("".concat(t.name," start"),t.options);var c=!1;VH(t.timeout).then((function(){c||(r.sendApiInvoke(RV(RV({},a()),{},{error:$N.API_INVOKE_TIMEOUT,success:!1})),px.debug("".concat(t.name," timeout")))}));var u=new ix($N.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:function(e){var i=function(){if(c)throw u;return c=!0,r.sendApiInvoke(RV(RV({},a()),{},{success:!0},t.reportResult&&{result:e})),s&&px.info("".concat(t.name," onSuccess")),e};return n?cq(i,t.name+"Success",n,(function(){return c=!0})):i()},onError:function(e){var i=function(){if(c)throw e;c=!0,r.sendApiInvoke(RV(RV({},a()),{},{success:!1,error:e})),s&&px.info("".concat(t.name," onFailure"),e.toString())};return n?cq(i,t.name+"Error",n,(function(){return c=!0})):i()}}}},{key:"sessionInit",value:function(e,t){if(!this.baseInfoMap.has(e)){var n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;var i=Object.assign({},{willUploadConsoleLog:Zx("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:Qx?"global":"oversea",areas:Zx("AREAS")&&Zx("AREAS").join(",")},t.extend),o=Date.now(),a=RV(RV({},r),{},{eventType:AL.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:jx,lts:o,elapse:o-n,extend:JSON.stringify(i),mode:t.mode,process:Zx("PROCESS_ID"),appType:Zx("APP_TYPE"),success:!0,version:Fx});this.send({type:mL.SESSION,data:a},!0)}}},{key:"joinChooseServer",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{eventType:AL.JOIN_CHOOSE_SERVER,lts:i,eventElapse:i-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:i-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:mL.JOIN_CHOOSE_SERVER,data:o},!0)}}},{key:"reqUserAccount",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{eventType:AL.REQ_USER_ACCOUNT,lts:i,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:i-n.startTime,eventElapse:i-t.lts,extend:JSON.stringify(t.extend)});this.send({type:mL.REQ_USER_ACCOUNT,data:o},!0)}}},{key:"joinGateway",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;var i=Date.now(),o=t.firstSuccess,a=t.avoidJoinStartTime,s=t.isProxy,c=t.addr,u=i-(o&&a?a:n.startTime),l=RV(RV({},r),{},{eventType:AL.JOIN_GATEWAY,lts:i,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:u,eventElapse:i-t.lts,firstSuccess:o}),d=l.success?1:0;if(t.succ&&(n.lastJoinSuccessTime=i),o)this.send({type:mL.JOIN_GATEWAY,data:l},!0);else{var f;if(c)if(s){var p=c.match(/h=(\d{1,3}-){3}\d{1,3}/g),h=c.match(/p=[0-9]{1,6}/g);f={isSuccess:d,gatewayIp:p&&p.length?p[0].split("=")[1].replace(/-/g,"."):"",port:h&&h.length?h[0].split("=")[1]:"",isProxy:s?1:0}}else{var v=c.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),g=c.match(/:[0-9]{1,6}/g);f={isSuccess:d,gatewayIp:v&&v.length?v[0].split("//")[1].replace(/-/g,"."):"",port:g&&g.length?g[0].split(":")[1]:"",isProxy:s?1:0}}else f={isSuccess:d,gatewayIp:"",port:"",isProxy:s?1:0};delete l.success,delete l.eventType,delete l.firstSuccess,l.vid=Number(l.vid);var A=Object.assign({},l,f,{eventType:AL.REJOIN_GATEWAY});this.send({type:mL.RE_JOIN_GATEWAY,data:A},!0)}}}},{key:"joinChannelTimeout",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=Date.now(),i=RV(RV({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:mL.JOIN_CHANNEL_TIMEOUT,data:i},!0)}}},{key:"publish",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{eventType:AL.PUBLISH,lts:i,eventElapse:t.eventElapse,elapse:i-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:mL.PUBLISH,data:o},!0)}}},{key:"subscribe",value:function(e,t,n){var r=this.baseInfoMap.get(e);if(r){var i=r.info,o=Date.now(),a=RV(RV({},i),{},{eventType:AL.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:mL.SUBSCRIBE,data:a},!0)}}},{key:"wsCompressorInit",value:function(e){var t,n=h(pV(t=this.baseInfoMap).call(t)),r=n.length?n[0]:"UnableToGetSid",i=this.baseInfoMap.get(r);if(i){var o=i.info,a=Date.now(),s=RV(RV({},o),{},{eventType:AL.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-i.startTime,status:e.status?1:2});this.send({type:mL.WS_COMPRESSOR_INIT,data:s},!0)}}},{key:"firstRemoteVideoDecode",value:function(e,t,n,r){var i=this.baseInfoMap.get(e);if(i){var o=i.info,a=Date.now(),s=RV(RV(RV({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max(a-i.startTime,0),apEnd:Math.max(r.apEnd-i.startTime,0),apStart:Math.max(r.apStart-i.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-i.startTime,0),joinGwStart:Math.max(r.joinGwStart-i.startTime,0),pcEnd:Math.max(r.pcEnd-i.startTime,0),pcStart:Math.max(r.pcStart-i.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-i.startTime,0),subscriberStart:Math.max(r.subscriberStart-i.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-i.startTime,0)});this.send({type:n,data:s},!0)}}},{key:"firstRemoteFrame",value:function(e,t,n,r){var i=this.baseInfoMap.get(e);if(i){var o=i.info,a=Date.now(),s=RV(RV(RV({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}}},{key:"onGatewayStream",value:function(e,t,n,r){var i=this.baseInfoMap.get(e);if(i){var o=i.info,a=Date.now(),s=RV(RV(RV({},o),r),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}}},{key:"streamSwitch",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{eventType:AL.STREAM_SWITCH,lts:i,isDual:t.isdual,elapse:i-n.startTime,success:t.succ});this.send({type:mL.STREAM_SWITCH,data:o},!0)}}},{key:"requestProxyAppCenter",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{eventType:AL.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:mL.REQUEST_PROXY_APPCENTER,data:o},!0)}}},{key:"requestProxyWorkerManager",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{eventType:AL.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:mL.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}}},{key:"setProxyServer",value:function(e){this.proxyServer=e,e?px.debug("reportProxyServerurl: ".concat(e)):px.debug("disable reportProxyServerurl: ".concat(e)),Dx("debug",this,"setProxyServer",e)}},{key:"peerPublishStatus",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:i,elapse:i-n.startTime,joinChannelSuccessElapse:i-(n.lastJoinSuccessTime||i),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:mL.PEER_PUBLISH_STATUS,data:o},!0)}}},{key:"workerEvent",value:function(e,t){var n=this,r=this.baseInfoMap.get(e);if(r){var i=r.info,o=Date.now();(function(e,t,n){var r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";for(var i=QH(JSON.stringify(e)),o=0,a=[],s=0,c=0;c<r.length;c++)(s+=r.charCodeAt(c)<=127?1:3)<=n-i||(a[a.length]=FH(FH({},e),{},A({},t,r.substring(o,c))),o=c,s=r.charCodeAt(c)<=127?1:3);return o!==r.length-1&&(a[a.length]=FH(FH({},e),{},A({},t,r.substring(o)))),a})(RV(RV(RV({},i),t),{},{elapse:o-r.startTime,lts:o,productType:"WebRTC"}),"payload",1300).forEach((function(e){return n.send({type:mL.WORKER_EVENT,data:e},!0)}))}}},{key:"apworkerEvent",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV(RV({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:mL.AP_WORKER_EVENT,data:o},!0)}}},{key:"joinWebProxyAP",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV(RV({},r),t),{},{elapse:i-n.startTime,lts:i,extend:t.extend||void 0});this.send({type:mL.JOIN_WEB_PROXY_AP,data:o},!0)}}},{key:"WebSocketQuit",value:function(e,t){var n=this.baseInfoMap.get(e);if(n){var r=n.info,i=Date.now(),o=RV(RV(RV({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:mL.WEBSOCKET_QUIT,data:o},!0)}}},{key:"sendCustomReportMessage",value:function(){var e=u(c().mark((function e(t,n){var r,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.customReportCount+=n.length,!(this.customReportCount>Zx("CUSTOM_REPORT_LIMIT"))){e.next=2;break}throw new ix($N.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);case 2:if(this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((function(){i.customReportCount=0}),5e3)),r=n.map((function(e){return{type:mL.USER_ANALYTICS,data:RV({sid:t},e)}})),e.prev=4,!Zx("NEW_REPORT_SERVER")){e.next=10;break}return e.next=8,this.postDataToStatsCollector2(r);case 8:e.next=12;break;case 10:return e.next=12,this.postDataToStatsCollector(r);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(4),px.error("send custom report message failed",e.t0.toString()),new ix($N.CUSTOM_REPORT_SEND_FAILED,e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"autoplayFailed",value:function(e,t,n,r){if(e){var i=this.baseInfoMap.get(e);if(i){var o=i.info,a=Date.now(),s=RV(RV({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:a,elapse:a-i.startTime,cbRegistered:bV.onAutoplayFailed||bV.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});this.send({type:mL.AUTOPLAY_FAILED,data:s},!0)}}}},{key:"sendApiInvoke",value:function(e){var t=Zx("NOT_REPORT_EVENT");if(e.tag&&t.includes&&t.includes(e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;var n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;var r=n.info,i=r.cname,o=r.uid,a=r.cid;e.lts=e.lts||Date.now();var s=void 0;if(e.error)if(e.error instanceof ix){var c=e.error,u=c.code,l=c.message;s=u||l||e.error.toString()}else s=e.error.toString();var d={invokeId:e.invokeId,sid:e.sid,cname:i,cid:a,uid:o,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?s:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:mL.API_INVOKE,data:d},!1),!0}},{key:"appendSessionId",value:function(){var e=this;this.clientList.forEach((function(t){if(t._sessionId)for(var n=e.apiInvokeUploadPendingItems.length,r=0;r<n;r++){var i=e.apiInvokeUploadPendingItems.shift();i&&(i.sid=t._sessionId,e.sendApiInvoke(Object.assign({},i)))}}))}},{key:"send",value:function(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>Zx("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}},{key:"doSend",value:function(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}},{key:"sendItems",value:function(e,t){for(var n=this,r=[],i=[];e.length;){var o=e.shift();r.length<20?r.push(o):i.push(o)}e.push.apply(e,i);for(var a=0,s=[].concat(r);a<s.length;a++){var c,u=s[a];-1!==this.ltsList.indexOf(u.data.lts)?(u.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(u.data.lts)):(this.ltsList.push(u.data.lts),nL(c=this.ltsList).call(c,(function(e,t){return e-t})))}return t||(this.lastSendNormalEventTime=Date.now()),r.length&&(Zx("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(r):this.postDataToStatsCollector(r)).catch(function(e){return function(r){Zx("EVENT_REPORT_RETRY")&&(t?n.keyEventUploadPendingItems=n.keyEventUploadPendingItems.concat(e):(n.normalEventUploadPendingItems=n.normalEventUploadPendingItems.concat(e),n.normalEventUploadPendingItems.length>Zx("NORMAL_EVENT_QUEUE_CAPACITY")&&(n.normalEventUploadPendingItems.splice(0,n.normalEventUploadPendingItems.length-Zx("NORMAL_EVENT_QUEUE_CAPACITY")),px.warning("report: drop normal events"))))}}(r)),e}},{key:"postDataToStatsCollector2",value:function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=EV.networkState===LP.OFFLINE,!e.t0){e.next=4;break}return e.next=4,wI.race([EV.onlineWaiter,VH(2*ox.maxRetryTimeout)]);case 4:n=function(e){var t=new Uint8Array;return e.forEach((function(e){var n=_V(JSON.stringify(e.data)),r=new ArrayBuffer(5),i=function(e){var t=0;return Object.entries(mL).forEach((function(n){var r=s(n,2),i=r[0];r[1]===e.type&&(t=yL[i])})),t}(e),o=new DataView(r);o.setUint16(0,n.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),t=wV(t,new Uint8Array(r)),t=wV(t,n)})),t},r="event",i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Zx("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(r):"https://".concat(Zx("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(r),o=0;case 7:if(!(o<2)){e.next=23;break}return 1===o&&(i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Zx("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(r):"https://".concat(Zx("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(r)),e.prev=9,e.next=12,gV(i,{timeout:1e4,data:n(t),headers:RV(RV({token:"32f24ab2ddb74f508aa9286c356cec84",biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0);case 12:e.next=19;break;case 14:if(e.prev=14,e.t1=e.catch(9),1!==o){e.next=18;break}throw e.t1;case 18:return e.abrupt("continue",20);case 19:return e.abrupt("return");case 20:o+=1,e.next=7;break;case 23:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"postDataToStatsCollector",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s=this,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]&&u[1],r={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:t.map((function(e){return JSON.stringify(e)})),vid:function(e){var t=e&&e.data.sid&&s.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0}(t[0])},e.t0=EV.networkState===LP.OFFLINE,!e.t0){e.next=6;break}return e.next=6,wI.race([EV.onlineWaiter,VH(2*ox.maxRetryTimeout)]);case 6:i=n?"/events/proto-raws":"/events/messages",o=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Zx("EVENT_REPORT_DOMAIN"),"&p=").concat(Zx("STATS_COLLECTOR_PORT"),"&d=").concat(i):"https://".concat(Zx("EVENT_REPORT_DOMAIN"),":").concat(Zx("STATS_COLLECTOR_PORT")).concat(i)),a=0;case 9:if(!(a<2)){e.next=30;break}if(1===a&&(o=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Zx("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(Zx("STATS_COLLECTOR_PORT"),"&d=").concat(i):"https://".concat(Zx("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(Zx("STATS_COLLECTOR_PORT")).concat(i))),e.prev=11,!n){e.next=17;break}return e.next=15,AV(o,{timeout:1e4,data:r});case 15:e.next=19;break;case 17:return e.next=19,gV(o,{timeout:1e4,data:r});case 19:e.next=26;break;case 21:if(e.prev=21,e.t1=e.catch(11),1!==a){e.next=25;break}throw e.t1;case 25:return e.abrupt("continue",27);case 26:return e.abrupt("return");case 27:a+=1,e.next=9;break;case 30:case"end":return e.stop()}}),e,this,[[11,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createBaseInfo",value:function(e,t){var n=Object.assign({},QL);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}},{key:"reportResourceTiming",value:function(e,t){var n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:CL.TRACER}).onSuccess()}}]),e}())||IV);rx.on("REPORT_LOG_UPLOAD",(function(e){e.networkState=EV.networkState,NV.reportApiInvoke(null,{name:"logUploadError",options:e,tag:CL.TRACER})}));var xV,DV,LV,PV=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this),tO(l(i),"trackMediaType",void 0),tO(l(i),"_ID",void 0),tO(l(i),"_hints",[]),tO(l(i),"_isClosed",!1),tO(l(i),"_originMediaStreamTrack",void 0),tO(l(i),"_mediaStreamTrack",void 0),tO(l(i),"_external",{}),i._ID=r||HH(8,"track-"),i._originMediaStreamTrack=e,i._mediaStreamTrack=e,function(e){sD.includes(e)||sD.push(e)}(l(i)),i}return g(n,[{key:"toString",value:function(){return this._ID}},{key:"getTrackId",value:function(){return this._ID}},{key:"getMediaStreamTrack",value:function(e){if(!e){var t=NV.reportApiInvoke(null,{name:bL.GET_MEDIA_STREAM_TRACK,options:[],tag:CL.TRACER});this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?t.onSuccess(this._mediaStreamTrack.label):t.onSuccess("")}return this._mediaStreamTrack}},{key:"getMediaStreamTrackSettings",value:function(){return this.getMediaStreamTrack(!0).getSettings()}},{key:"close",value:function(){this._isClosed=!0,function(e){var t=sD.indexOf(e);-1!==t&&sD.splice(t,1)}(this),this.emit(EP.CLOSED)}}]),n}(nx),MV=1,BV=function(){function e(t){v(this,e),tO(this,"lockingPromise",wI.resolve()),tO(this,"locks",0),tO(this,"name",""),tO(this,"lockId",void 0),this.lockId=MV++,t&&(this.name=t),px.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}return g(e,[{key:"isLocked",get:function(){return this.locks>0}},{key:"lock",value:function(e){var t,n=this;this.locks+=1,px.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));var r=new wI((function(r){t=function(){n.locks-=1,px.debug("[lock-".concat(n.name,"-").concat(n.lockId,"] is not locked, current queue ").concat(n.locks,". ").concat("string"==typeof e?e:"")),r()}})),i=this.lockingPromise.then((function(){return t}));return this.lockingPromise=this.lockingPromise.then((function(){return r})),i}}]),e}();function UV(e,t){return function(n,r,i){var o=i.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return i.value=u(c().mark((function n(){var i,a,s,u,l,d=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=this[t]){n.next=3;break}throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));case 3:return n.next=5,i.lock("From ".concat(e,".").concat(r));case 5:for(a=n.sent,n.prev=6,s=d.length,u=new Array(s),l=0;l<s;l++)u[l]=d[l];return n.next=10,o.apply(this,u);case 10:return n.abrupt("return",n.sent);case 11:return n.prev=11,a(),n.finish(11);case 14:case"end":return n.stop()}}),n,this,[[6,,11,14]])}))),i}}var jV=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this,e,r),tO(l(i),"_enabled",!0),tO(l(i),"_muted",!1),tO(l(i),"_isClosed",!1),tO(l(i),"_trackProcessors",[]),tO(l(i),"_enabledMutex",void 0),tO(l(i),"processor",void 0),tO(l(i),"processorContext",void 0),tO(l(i),"_handleTrackEnded",(function(){i.onTrackEnded()})),i._enabledMutex=new BV("".concat(r)),e.addEventListener("ended",i._handleTrackEnded),i}return g(n,[{key:"muted",get:function(){return this._muted}},{key:"enabled",get:function(){return this._enabled}},{key:"getTrackLabel",value:function(){return this._originMediaStreamTrack.label}},{key:"close",value:function(){this._isClosed||(this.stop(),this._trackProcessors.forEach((function(e){return e.destroy()})),this._trackProcessors=[],this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,px.debug("[".concat(this.getTrackId(),"] close")),Dx("debug",this,"close"),this.emit(vP.NEED_CLOSE),i(o(n.prototype),"close",this).call(this))}},{key:"_registerTrackProcessor",value:function(){var e=u(c().mark((function e(t){var n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===this._trackProcessors.indexOf(t)){e.next=2;break}return e.abrupt("return");case 2:if(n=this._trackProcessors[this._trackProcessors.length-1],this._trackProcessors.push(t),t.onOutputChange=u(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.output||r._originMediaStreamTrack,r._mediaStreamTrack=n,r._updatePlayerSource(),e.next=5,JH(r,vP.NEED_REPLACE_TRACK,r);case 5:case"end":return e.stop()}}),e)}))),!n){e.next=11;break}return n.onOutputChange=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.output,!e.t0){e.next=4;break}return e.next=4,t.setInput(n.output);case 4:case"end":return e.stop()}}),e)}))),e.next=9,t.setInput(n.output||n.input||this._originMediaStreamTrack);case 9:e.next=13;break;case 11:return e.next=13,t.setInput(this._originMediaStreamTrack);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_getOutputFromProcessors",value:function(){if(0===this._trackProcessors.length)return this._originMediaStreamTrack;var e=this._trackProcessors[this._trackProcessors.length-1];return e.output||e.input||this._originMediaStreamTrack}},{key:"_updateOriginMediaStreamTrack",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._originMediaStreamTrack){e.next=13;break}if(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop(),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,!(this._trackProcessors.length>0)){e.next=8;break}return e.next=4,this._trackProcessors[0].setInput(t);case 4:r=this._getOutputFromProcessors(),this._mediaStreamTrack=r,e.next=9;break;case 8:this._mediaStreamTrack=this._originMediaStreamTrack;case 9:return this._updatePlayerSource(),e.next=12,JH(this,vP.NEED_REPLACE_TRACK,this);case 12:this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext});case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getDefaultPlayerConfig",value:function(){return{}}},{key:"onTrackEnded",value:function(){px.debug("[".concat(this.getTrackId(),"] track ended")),xx("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(EP.TRACK_ENDED)}},{key:"stateCheck",value:function(e,t){if(px.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),Dx("debug",this,"stateCheck",{stateName:e,state:t,muted:this._muted,enabled:this._enabled}),rL(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new ix($N.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print();if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new ix($N.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print()}},{key:"getProcessorStats",value:function(){return this.processorContext.gatherStats()}}]),n}(PV);!function(e){e.IOS_15_INTERRUPTION_START="ios15-interruption-start",e.IOS_15_INTERRUPTION_END="ios15-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change"}(xV||(xV={})),function(e){e.AUDIO_CONTEXT_CREATED="audio_context_created"}(DV||(DV={})),function(e){e.AIDenoiser="AIDenoiser"}(LV||(LV={}));var FV={audioContextInitOptions:{}},QV=new(function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"registeredPlugins",[]),e}return g(n,[{key:"setOptions",value:function(e,t){FV[e]&&(FV[e]=t)}},{key:"getOptions",value:function(e){return FV[e]}},{key:"installPlugin",value:function(e){e instanceof Object&&e.name&&this.registeredPlugins.push(e.name)}}]),n}(nx));function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VV(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HV=window.AudioContext||window.webkitAudioContext,qV=null,KV=new(function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),tO(l(e),"prevState",void 0),tO(l(e),"curState",void 0),tO(l(e),"currentTime",void 0),tO(l(e),"currentTimeStuckAt",void 0),tO(l(e),"interruptDetectorTrack",void 0),tO(l(e),"onLocalAudioTrackMute",(function(){px.info("ios15-interruption-start"),Ox("info",["WebAudio"],"ios15-interruption-start"),e.emit(xV.IOS_15_INTERRUPTION_START)})),tO(l(e),"onLocalAudioTrackUnmute",u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(px.info("ios15-interruption-end"),Ox("info",["WebAudio"],"ios15-interruption-end"),"running"===e.curState&&!e.duringInterruption){t.next=6;break}px.info("ios15-interruption-end-canceled"),t.next=11;break;case 6:if(t.t0=qV,!t.t0){t.next=10;break}return t.next=10,qV.suspend();case 10:e.emit(xV.IOS_15_INTERRUPTION_END);case 11:case"end":return t.stop()}}),t)})))),e}return g(n,[{key:"duringInterruption",get:function(){return"running"===this.prevState&&"interrupted"===this.curState}},{key:"bindInterruptDetectorTrack",value:function(e){px.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),Dx("debug",["WebAudio"],"bindInterruptDetectorTrack",e.getTrackId()),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}},{key:"unbindInterruptDetectorTrack",value:function(e){px.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),Dx("debug",["WebAudio"],"unbindInterruptDetectorTrack",e.getTrackId()),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}}]),n}(nx));function WV(){if(!HV)return px.error("your browser is not support web audio"),void kx("error",["WebAudio"],"your browser is not support web audio");px.info("create audio context"),Lx("info",["WebAudio"],"WebAudioContext");var e=GV(GV({},QV.getOptions("audioContextInitOptions")),Zx("WEBAUDIO_INIT_OPTIONS"));px.debug("audio context init option:",JSON.stringify(e)),qV=new HV(e),QV.emit(DV.AUDIO_CONTEXT_CREATED,qV),KV.curState=qV.state,qV.onstatechange=function(){KV.prevState=KV.curState,KV.curState=qV?qV.state:void 0,(Bk()||Gk())&&"running"===KV.prevState&&"interrupted"===KV.curState&&(px.info("ios-interruption-start"),Ox("info",["AudioState"],"ios-interruption-start"),KV.emit(xV.IOS_INTERRUPTION_START)),(Bk()||Gk())&&"interrupted"===KV.prevState&&"running"===KV.curState&&(px.info("ios-interruption-end"),Ox("info",["AudioState"],"ios-interruption-end"),KV.emit(xV.IOS_INTERRUPTION_END)),KV.prevState!==KV.curState&&(px.debug("AudioContext State Change","".concat(KV.prevState,"=>").concat(KV.curState)),xx("debug",["AudioContext",void 0],"statechange","".concat(KV.prevState,"=>").concat(KV.curState)),KV.emit(xV.STATE_CHANGE))},setInterval((function(){var e,t=null===(e=qV)||void 0===e?void 0:e.currentTime;KV.currentTime!==t?(KV.currentTimeStuckAt&&(px.debug("AudioContext current time resume at ".concat(t)),KV.currentTimeStuckAt=void 0),KV.currentTime=t):(t!==KV.currentTimeStuckAt&&px.warning("AudioContext current time stuck at ".concat(t)),KV.currentTimeStuckAt=t)}),5e3),function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s,u,l,d,f,p,h,v,g,A,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g=function(){p(!0)},v=function(){r.removeEventListener("playing",v),r.removeEventListener("abort",v),r.removeEventListener("error",v),a=!1,p(!1)},h=function(e){if(o!==e){o=e;for(var t=0,r=n;t<r.length;t++){var i=r[t];e?window.addEventListener(i,g,{capture:!0,passive:!0}):window.removeEventListener(i,g,{capture:!0,passive:!0})}}},p=function(e){if(!a)if(r.paused)if(e){h(!1),a=!0;var t=void 0;try{(t=r.play())?t.then(v,v):(r.addEventListener("playing",v),r.addEventListener("abort",v),r.addEventListener("error",v))}catch(e){v()}}else h(!0);else h(!1)},f=function(){s(!0)},d=function(){s(!1)},l=function(){s(!0)},u=function(e){if(i!==e){i=e;for(var t=0,r=n;t<r.length;t+=1){var o=r[t];e?window.addEventListener(o,f,{capture:!0,passive:!0}):window.removeEventListener(o,f,{capture:!0,passive:!0})}}},s=function(e){"running"===t.state?u(!1):Bk()||Gk()?"suspended"===t.state&&(u(!0),e&&t.resume().then(d,d)):"closed"!==t.state&&(u(!0),e&&t.resume().then(d,d))},n=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"],i=!1,o=!1,a=!1,Bk()&&(A=t.createMediaStreamDestination(),(m=document.createElement("div")).innerHTML="<audio x-webkit-airplay='deny'></audio>",(r=m.children.item(0)).controls=!1,r.disableRemotePlayback=!0,r.preload="auto",r.srcObject=A.stream,p(!0)),KV.on(xV.STATE_CHANGE,l),s(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(qV)}function YV(){if(!qV){if(WV(),!qV)throw new ix($N.NOT_SUPPORTED,"can not create audio context");return qV}return qV}function zV(e){if(!function(){if(null!==JV)return JV;var e=YV(),t=e.createBufferSource(),n=e.createGain(),r=e.createGain();t.connect(n),t.connect(r),t.disconnect(n);var i=!1;try{t.disconnect(n)}catch(e){i=!0}return t.disconnect(),JV=i,i}()){Dx("debug",["WebAudio"],"polyfillAudioNode");var t=e.connect,n=e.disconnect;e.connect=function(n,r,i){return e._inputNodes||(e._inputNodes=[]),e._inputNodes.includes(n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,i)):t.call(e,n,r)),e},e.disconnect=function(r,i,o){n.call(e),r?$H(e._inputNodes,r):e._inputNodes=[];var s,c=a(e._inputNodes);try{for(c.s();!(s=c.n()).done;){var u=s.value;t.call(e,u)}}catch(l){c.e(l)}finally{c.f()}}}}var JV=null;function XV(e,t){var n=1/t,r=YV(),i=r.createGain();i.gain.value=0,i.connect(r.destination);var o=!1,a=function t(){if(o)i=null;else{var a=r.createOscillator();a.onended=t,a.connect(i),a.start(0),a.stop(r.currentTime+n),e(r.currentTime)}};return a(),function(){o=!0}}var ZV=px.prefix("[inject-node]"),$V=function(){function e(){v(this,e),tO(this,"nodeLists",[]),tO(this,"prevNode",void 0),tO(this,"nextNode",void 0)}return g(e,[{key:"firstNode",get:function(){return this.nodeLists[0]}},{key:"lastNode",get:function(){return this.nodeLists[this.nodeLists.length-1]}},{key:"isActive",get:function(){return!!this.nodeLists.length}},{key:"isConnected",get:function(){return!(!this.prevNode||!this.nextNode)}},{key:"connect",value:function(e,t){var n=this;ZV.debug("connect audio node, current list:"+this.nodeLists.length),this.nodeLists.length?(this.prevNode&&this.prevNode.disconnect(),e.connect(this.firstNode),this.nextNode&&this.lastNode&&this.lastNode.disconnect(),this.lastNode.connect(t),this.nodeLists.forEach((function(e,t){var r=n.nodeLists[t+1];r&&e.connect(r)}))):e.connect(t),this.nextNode=t,this.prevNode=e}},{key:"disconnect",value:function(){var e;ZV.debug("disconnect audio node, current list:"+this.nodeLists.length),this.nodeLists.forEach((function(e){e.disconnect()})),null===(e=this.prevNode)||void 0===e||e.disconnect(),this.prevNode=void 0,this.nextNode=void 0}},{key:"addNode",value:function(e){ZV.debug("add node in inject node, current list:",this.nodeLists.length),this.prevNode&&this.nextNode?(this.firstNode||(ZV.debug("new node is the first node"),this.prevNode.disconnect(),this.prevNode.connect(e),e.connect(this.nextNode)),this.nextNode&&this.lastNode&&(this.lastNode.disconnect(this.nextNode),this.lastNode.connect(e),e.connect(this.nextNode)),this.nodeLists.push(e)):ZV.debug("add node is called before inject node connected")}},{key:"removeNode",value:function(e){ZV.debug("remove node in inject node, current list:",this.nodeLists.length);var t=this.nodeLists.indexOf(e);if(-1!==t){var n=this.nodeLists[t+1],r=this.nodeLists[t-1];0===t&&this.prevNode&&this.nextNode&&(this.prevNode.disconnect(e),n?this.prevNode.connect(n):this.prevNode.connect(this.nextNode)),t===this.nodeLists.length-1&&this.nextNode&&r&&(r.disconnect(e),r.connect(this.nextNode)),0!==t&&t!==this.nodeLists.length-1&&(r.disconnect(e),r.connect(n)),ZV.debug("remove node in inject node success, current list:",this.nodeLists.length)}else ZV.debug("$[inject-node] cannot find the node to be removed")}}]),e}(),eG=function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"outputNode",void 0),tO(l(e),"outputTrack",void 0),tO(l(e),"isPlayed",!1),tO(l(e),"sourceNode",void 0),tO(l(e),"analyserNode",void 0),tO(l(e),"context",void 0),tO(l(e),"audioBufferNode",void 0),tO(l(e),"destNode",void 0),tO(l(e),"injectNode",void 0),tO(l(e),"audioOutputLevel",0),tO(l(e),"_processedNode",void 0),tO(l(e),"playNode",void 0),tO(l(e),"isDestroyed",!1),tO(l(e),"onNoAudioInput",void 0),tO(l(e),"isNoAudioInput",!1),tO(l(e),"_noAudioInputCount",0),e.context=YV(),e.playNode=e.context.destination,e.outputNode=e.context.createGain(),zV(e.outputNode),e.analyserNode=e.context.createAnalyser(),e.analyserNode.smoothingTimeConstant=.4,e.analyserNode.fftSize=2048,e.injectNode=new $V,e}return g(n,[{key:"processSourceNode",get:function(){return this.sourceNode}},{key:"processedNode",get:function(){return this._processedNode},set:function(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}},{key:"startGetAudioBuffer",value:function(e){var t=this;this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=function(e){t.emit(FL.ON_AUDIO_BUFFER,function(e){for(var t=0;t<e.outputBuffer.numberOfChannels;t+=1)for(var n=e.outputBuffer.getChannelData(t),r=0;r<n.length;r+=1)n[r]=0;return e.inputBuffer}(e))})}},{key:"stopGetAudioBuffer",value:function(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}},{key:"createOutputTrack",value:function(){if(!qP().webAudioMediaStreamDest)throw new ix($N.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}},{key:"play",value:function(e){"running"!==this.context.state&&tq((function(){KV.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}},{key:"stop",value:function(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(b){}this.isPlayed=!1}},{key:"getAccurateVolumeLevel",value:function(){if(!this.context||Bk()||Gk()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;var e=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(e);for(var t=0,n=0;n<e.length;n++)t+=n<64?Math.abs(10*e[n]):Math.abs(6*e[n]/15);return t/e.length/255}},{key:"checkHasAudioInput",value:function(){var e=u(c().mark((function e(){var t,n,r,i,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=o.length>0&&void 0!==o[0]?o[0]:0)>5)){e.next=3;break}return e.abrupt("return",(this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1));case 3:if(Bk()||Gk()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume(),this.analyserNode){e.next=5;break}return e.abrupt("return",!1);case 5:for(n=new Uint8Array(this.analyserNode.frequencyBinCount),this.analyserNode.getByteFrequencyData(n),r=!1,i=0;i<n.length;i++)0!==n[i]&&(r=!0);if(!r){e.next=13;break}e.t0=(this.isNoAudioInput=!1,!0),e.next=21;break;case 13:return e.next=15,VH(200);case 15:return e.next=17,this.checkHasAudioInput(t?t+1:1);case 17:if(e.t1=e.sent,!e.t1){e.next=20;break}e.t1=r;case 20:e.t0=e.t1;case 21:return e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAudioVolume",value:function(){return this.outputNode.gain.value}},{key:"setVolume",value:function(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}},{key:"destroy",value:function(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}},{key:"injectAudioNode",value:function(e){this.injectNode.addNode(e)}},{key:"removeAudioNode",value:function(e){this.injectNode.removeNode(e)}},{key:"disconnect",value:function(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}},{key:"connect",value:function(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.outputNode.connect(this.analyserNode)}}]),n}(nx),tG=function(e){f(n,e);var t=p(n);function n(e,i){var o,a;if(v(this,n),o=t.call(this),tO(l(o),"sourceNode",void 0),tO(l(o),"track",void 0),tO(l(o),"audioElement",void 0),tO(l(o),"isCurrentTrackCloned",!1),tO(l(o),"isRemoteTrack",!1),tO(l(o),"rebuildWebAudio",u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(px.debug("ready to rebuild web audio, state:",o.context.state),e.t0=o.isNoAudioInput,!e.t0){e.next=5;break}return e.next=5,o.checkHasAudioInput();case 5:if(o.isNoAudioInput&&!o.isDestroyed){e.next=7;break}return e.abrupt("return",(document.body.removeEventListener("click",o.rebuildWebAudio,!0),void px.debug("rebuild web audio success, current volume status",o.getAccurateVolumeLevel())));case 7:o.context.resume().then((function(){return px.info("resume success")})),px.debug("rebuild web audio because of ios 12 bugs"),o.disconnect(),t=o.track,o.track=o.track.clone(),o.isCurrentTrackCloned?t.stop():o.isCurrentTrackCloned=!0,n=new MediaStream([o.track]),o.sourceNode=o.context.createMediaStreamSource(n),zV(o.sourceNode),o.analyserNode=o.context.createAnalyser(),r=o.outputNode.gain.value,o.outputNode=o.context.createGain(),o.outputNode.gain.setValueAtTime(r,o.context.currentTime),zV(o.outputNode),o.emit(FL.UPDATE_SOURCE),o.connect(),o.audioElement.srcObject=n,o.isPlayed&&o.play(o.playNode),o.checkHasAudioInput();case 14:case"end":return e.stop()}}),e)})))),"audio"!==e.kind)throw new ix($N.UNEXPECTED_ERROR);o.track=e;var s=new MediaStream([o.track]);o.isRemoteTrack=!!i,o.sourceNode=o.context.createMediaStreamSource(s),zV(o.sourceNode),o.connect(),o.audioElement=document.createElement("audio"),o.audioElement.srcObject=s;var d=Sk();return i&&d.os===yk.IOS&&Number(null===(a=d.osVersion)||void 0===a?void 0:a.split(".")[0])<15&&(KV.on(xV.STATE_CHANGE,(function(){"suspended"===o.context.state?document.body.addEventListener("click",o.rebuildWebAudio,!0):"running"===o.context.state&&o.rebuildWebAudio()})),o.checkHasAudioInput().then((function(e){e||document.body.addEventListener("click",o.rebuildWebAudio,!0)}))),r(o)}return g(n,[{key:"isFreeze",get:function(){return!1}},{key:"updateTrack",value:function(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;var t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),zV(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(FL.UPDATE_SOURCE),this.audioElement.srcObject=t}},{key:"destroy",value:function(){this.audioElement.srcObject=null,this.audioElement.remove(),KV.off("state-change",this.rebuildWebAudio),i(o(n.prototype),"destroy",this).call(this)}},{key:"createMediaStreamSourceNode",value:function(e){return this.context.createMediaStreamSource(new MediaStream([e]))}}]),n}(eG);function nG(e,t){return rG.apply(this,arguments)}function rG(){return rG=u(c().mark((function e(t,n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e,t){return e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t},i={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxHeight:r(n.height,1080),maxWidth:r(n.width,1920)}}},n.frameRate&&"number"!=typeof n.frameRate?(i.video.mandatory.maxFrameRate=n.frameRate.max,i.video.mandatory.minFrameRate=n.frameRate.min):"number"==typeof n.frameRate&&(i.video.mandatory.maxFrameRate=n.frameRate),e.next=4,navigator.mediaDevices.getUserMedia(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),rG.apply(this,arguments)}function iG(e){return oG.apply(this,arguments)}function oG(){return oG=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aG(t.mediaSource);case 2:return n=e.sent,e.next=5,function(e){return new wI((function(t,n){var r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");var a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var s=document.createElement("div");s.setAttribute("style","text-align: right; padding: 16px 0;");var c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=function(){document.body.removeChild(u);var e=new Error("NotAllowedError");e.name="NotAllowedError",n(e)},s.appendChild(c),i.appendChild(o),i.appendChild(a),i.appendChild(s);var u=document.createElement("div");u.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),u.appendChild(r),u.appendChild(i),document.body.appendChild(u),e.map((function(e){if(e.id){var n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");var r=e.thumbnail;r.getSize().width>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=function(){document.body.removeChild(u),t(e.id)},a.appendChild(n)}}))}))}(n);case 5:return r=e.sent,e.next=8,nG(r,t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),oG.apply(this,arguments)}function aG(e){return sG.apply(this,arguments)}function sG(){return sG=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=["window","screen"],"application"!==t&&"window"!==t||(n=["window"]),"screen"===t&&(n=["screen"]),r=uG()){e.next=5;break}throw new ix($N.ELECTRON_IS_NULL);case 5:i=null;try{i=r.desktopCapturer.getSources({types:n})}catch(t){i=null}return i&&i.then||(i=new wI((function(e,t){r.desktopCapturer.getSources({types:n},(function(n,r){n?t(n):e(r)}))}))),e.prev=8,e.next=11,i;case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),new ix($N.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.t0.toString());case 17:case"end":return e.stop()}}),e,null,[[8,14]])}))),sG.apply(this,arguments)}var cG=null;function uG(){if(cG)return cG;try{return cG=window.require("electron")}catch(b){return null}}var lG=new BV("safari"),dG=!1,fG=!1;function pG(e,t){return hG.apply(this,arguments)}function hG(){return hG=u(c().mark((function e(t,n){var r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,i=null;case 1:if(!(r<2)){e.next=24;break}return e.prev=2,e.next=5,vG(t,n,r>0);case 5:return i=e.sent,e.abrupt("break",24);case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof ix)){e.next=13;break}throw px.error("[".concat(n,"] ").concat(e.t0.toString())),Dx("error",[],"getLocalStream",{config:t,id:n},e.t0.toString()),e.t0;case 13:if((o=AG(e.t0.name||e.t0.code||e.t0,e.t0.message)).code!==$N.MEDIA_OPTION_INVALID){e.next=21;break}return px.debug("[".concat(n,"] detect media option invalid, retry")),kx("debug",[],"[".concat(n,"] detect media option invalid, retry")),r+=1,e.next=20,VH(500);case 20:return e.abrupt("continue",22);case 21:throw px.error("[".concat(n,"] ").concat(o.toString())),Dx("error",[],"getLocalStream",{config:t,id:n},o.toString()),o;case 22:e.next=1;break;case 24:if(i){e.next=26;break}throw new ix($N.UNEXPECTED_ERROR,"can not find stream after getUserMedia");case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,null,[[2,9]])}))),hG.apply(this,arguments)}function vG(e,t,n){return gG.apply(this,arguments)}function gG(){return gG=u(c().mark((function e(t,n,r){var i,o,a,s,u,l,d,f,p,v,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new ix($N.NOT_SUPPORTED,"can not find getUserMedia");case 2:if(r&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height)),i=qP(),o=new MediaStream,t.audioSource&&o.addTrack(t.audioSource),t.videoSource&&o.addTrack(t.videoSource),t.audio||t.video||t.screen){e.next=6;break}return e.abrupt("return",(px.debug("Using Video Source/ Audio Source"),kx("debug",[],"Using Video Source/ Audio Source"),o));case 6:if(!t.screen){e.next=64;break}if(!uG()){e.next=25;break}if(!t.screen.sourceId){e.next=17;break}return e.t0=mG,e.t1=o,e.next=13,nG(t.screen.sourceId,t.screen);case 13:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=23;break;case 17:return e.t3=mG,e.t4=o,e.next=21,iG(t.screen);case 21:e.t5=e.sent,(0,e.t3)(e.t4,e.t5);case 23:e.next=64;break;case 25:if(!(Lk()&&t.screen.extensionId&&t.screen.mandatory)){e.next=41;break}if(i.getStreamFromExtension){e.next=28;break}throw new ix($N.NOT_SUPPORTED,"This browser does not support screen sharing");case 28:return px.debug("[".concat(n,'] Screen access on chrome stable, looking for extension"')),kx("debug",[],"[".concat(n,'] Screen access on chrome stable, looking for extension"')),e.next=31,l=t.screen.extensionId,d=n,new wI((function(e,t){try{chrome.runtime.sendMessage(l,{getStream:!0},(function(n){if(!n||!n.streamId)return px.error("[".concat(d,"] No response from Chrome Plugin. Plugin not installed properly"),n),Dx("error",[],"getSourceIdFromExtension",{extensionId:l,streamId:d},"No response from Chrome Plugin. Plugin not installed properly, ".concat(n)),void t(new ix($N.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(e){px.error("[".concat(d,"] AgoraRTC screensharing plugin is not accessible(").concat(l,")"),e.toString()),Dx("error",[],"getSourceIdFromExtension",{extensionId:l,streamId:d},"AgoraRTC screensharing plugin is not accessible(".concat(l,"), ").concat(e.toString())),t(new ix($N.CHROME_PLUGIN_NOT_INSTALL))}}));case 31:return a=e.sent,t.screen.mandatory.chromeMediaSourceId=a,e.t6=mG,e.t7=o,e.next=37,navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}});case 37:e.t8=e.sent,(0,e.t6)(e.t7,e.t8),e.next=64;break;case 41:if(!i.getDisplayMedia){e.next=53;break}return t.screen.mediaSource&&wP(t.screen.mediaSource),s={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:"screen"===t.screen.mediaSource?"monitor":t.screen.mediaSource},px.debug("[".concat(n,"] getDisplayMedia:"),JSON.stringify({video:s,audio:!!t.screenAudio})),Lx("debug",["mediaDevices",n],"getDisplayMedia",{video:s,audio:!!t.screenAudio,trackId:n}),e.t9=mG,e.t10=o,e.next=49,navigator.mediaDevices.getDisplayMedia({video:s,audio:!!t.screenAudio});case 49:e.t11=e.sent,(0,e.t9)(e.t10,e.t11),e.next=64;break;case 53:if(Mk()){e.next=55;break}throw px.error("[".concat(n,"] This browser does not support screenSharing")),new ix($N.NOT_SUPPORTED,"This browser does not support screen sharing");case 55:return t.screen.mediaSource&&wP(t.screen.mediaSource),u={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}},px.debug("[".concat(n,"] getUserMedia: ").concat(JSON.stringify(u))),Lx("debug",["mediaDevices",n],"getUserMedia",u),e.t12=mG,e.t13=o,e.next=62,navigator.mediaDevices.getUserMedia(u);case 62:e.t14=e.sent,(0,e.t12)(e.t13,e.t14);case 64:if(t.video||t.audio){e.next=66;break}return e.abrupt("return",o);case 66:if(f={video:t.video,audio:t.audio},p=Zx("MEDIA_DEVICE_CONSTRAINTS"))try{"string"==typeof p&&(p=JSON.parse(p)),f=function e(t,n){if(!lq(t)||!lq(n))return n;if(Array.isArray(t)&&!Array.isArray(n)||!Array.isArray(t)&&Array.isArray(n))return n;if(Array.isArray(n)&&Array.isArray(t)){for(var r=h(t),i=0;i<n.length;i++)r[i]=e(t[i],n[i]);return r}var o=FH({},t);for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(Object.prototype.hasOwnProperty.call(t,a)?o[a]=e(t[a],n[a]):o[a]=n[a]);return o}(f,p),kx("debug",["mediaDevices",n],"merge configConstraints ".concat(JSON.stringify(p)))}catch(t){}if(px.debug("[".concat(n,"] GetUserMedia"),JSON.stringify(f)),Lx("debug",["mediaDevices",n],"getUserMedia",f),Sk(),g=null,e.t15=Pk()||Bk()||Nk(),!e.t15){e.next=75;break}return e.next=74,lG.lock();case 74:g=e.sent;case 75:return e.prev=75,e.next=78,navigator.mediaDevices.getUserMedia(f);case 78:v=e.sent,e.next=84;break;case 81:throw e.prev=81,e.t16=e.catch(75),g&&g(),e.t16;case 84:return e.abrupt("return",(f.audio&&(dG=!0),f.video&&(fG=!0),mG(o,v),g&&g(),o));case 85:case"end":return e.stop()}}),e,null,[[75,81]])}))),gG.apply(this,arguments)}function AG(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new ix($N.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new ix($N.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new ix($N.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new ix($N.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new ix($N.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new ix($N.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return px.error("getUserMedia unexpected error",e),Dx("error",[],"handleGetUserMediaError",void 0,e),new ix($N.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function mG(e,t){var n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],i=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(r&&e.removeTrack(r),e.addTrack(o)),i&&(n&&e.removeTrack(n),e.addTrack(i))}var EG,yG=new(function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"_state",_L.IDLE),tO(l(e),"isAccessMicrophonePermission",!1),tO(l(e),"isAccessCameraPermission",!1),tO(l(e),"lastAccessMicrophonePermission",!1),tO(l(e),"lastAccessCameraPermission",!1),tO(l(e),"checkdeviceMatched",!1),tO(l(e),"deviceInfoMap",new Map),e.init().then((function(){navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",e.updateDevicesInfo.bind(l(e))),window.setInterval((function(){(Zx("ENUMERATE_DEVICES_INTERVAL")||Wk()&&Kk())&&e.updateDevicesInfo()}),Zx("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((function(e){return px.error(e.toString())})),e}return g(n,[{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this.emit(IL.STATE_CHANGE,e),this._state=e)}},{key:"enumerateDevices",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s,u,l,d,f,p,h,v,g=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>2&&void 0!==g[2]&&g[2],navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=3;break}return e.abrupt("return",new ix($N.NOT_SUPPORTED,"enumerateDevices() not supported.").throw());case 3:return e.next=5,navigator.mediaDevices.enumerateDevices();case 5:if(i=e.sent,o=this.checkMediaDeviceInfoIsOk(i),a=!this.isAccessMicrophonePermission&&t,s=!this.isAccessCameraPermission&&n,o.audio&&(a=!1),o.video&&(s=!1),u=null,l=null,d=null,r||!a&&!s){e.next=65;break}if(!lG.isLocked){e.next=18;break}return px.debug("[device manager] wait GUM lock"),e.next=15,lG.lock();case 15:e.t0=e.sent,(0,e.t0)(),px.debug("[device manager] GUM unlock");case 18:if(dG&&(a=!1,this.isAccessMicrophonePermission=!0),fG&&(s=!1,this.isAccessCameraPermission=!0),px.debug("[device manager] check media device permissions",t,n,a,s),!a||!s){e.next=34;break}return e.prev=19,e.next=22,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 22:d=e.sent,e.next=31;break;case 25:if(e.prev=25,e.t1=e.catch(19),(f=AG(e.t1.name||e.t1.code||e.t1,e.t1.message)).code!==$N.PERMISSION_DENIED){e.next=30;break}throw f;case 30:px.warning("getUserMedia failed in getDevices",f);case 31:this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0,e.next=64;break;case 34:if(!a){e.next=50;break}return e.prev=35,e.next=38,navigator.mediaDevices.getUserMedia({audio:t});case 38:u=e.sent,e.next=47;break;case 41:if(e.prev=41,e.t2=e.catch(35),(p=AG(e.t2.name||e.t2.code||e.t2,e.t2.message)).code!==$N.PERMISSION_DENIED){e.next=46;break}throw p;case 46:px.warning("getUserMedia failed in getDevices",p);case 47:this.isAccessMicrophonePermission=!0,e.next=64;break;case 50:if(!s){e.next=64;break}return e.prev=51,e.next=54,navigator.mediaDevices.getUserMedia({video:n});case 54:l=e.sent,e.next=63;break;case 57:if(e.prev=57,e.t3=e.catch(51),(h=AG(e.t3.name||e.t3.code||e.t3,e.t3.message)).code!==$N.PERMISSION_DENIED){e.next=62;break}throw h;case 62:px.warning("getUserMedia failed in getDevices",h);case 63:this.isAccessCameraPermission=!0;case 64:px.debug("[device manager] mic permission",t,"cam permission",n);case 65:return e.prev=65,e.next=68,navigator.mediaDevices.enumerateDevices();case 68:return v=e.sent,e.abrupt("return",(u&&u.getTracks().forEach((function(e){return e.stop()})),l&&l.getTracks().forEach((function(e){return e.stop()})),d&&d.getTracks().forEach((function(e){return e.stop()})),u=null,l=null,d=null,v));case 72:return e.prev=72,e.t4=e.catch(65),u&&u.getTracks().forEach((function(e){return e.stop()})),l&&l.getTracks().forEach((function(e){return e.stop()})),d&&d.getTracks().forEach((function(e){return e.stop()})),u=null,l=null,d=null,e.abrupt("return",new ix($N.ENUMERATE_DEVICES_FAILED,e.t4.toString()).throw());case 76:case"end":return e.stop()}}),e,this,[[19,25],[35,41],[51,57],[65,72]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRecordingDevices",value:function(){var e=u(c().mark((function e(){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.enumerateDevices(!0,!1,t);case 3:return e.abrupt("return",e.sent.filter((function(e){return"audioinput"===e.kind})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCamerasDevices",value:function(){var e=u(c().mark((function e(){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.enumerateDevices(!1,!0,t);case 3:return e.abrupt("return",e.sent.filter((function(e){return"videoinput"===e.kind})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSpeakers",value:function(){var e=u(c().mark((function e(){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.enumerateDevices(!0,!1,t);case 3:return e.abrupt("return",e.sent.filter((function(e){return"audiooutput"===e.kind})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchDeviceIdByName",value:function(e){var t=null;return this.deviceInfoMap.forEach((function(n){n.device.label===e&&(t=n.device.deviceId)})),t}},{key:"getDeviceById",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices(!0,!0,!0);case 2:if(n=e.sent.find((function(e){return e.deviceId===t}))){e.next=5;break}throw new ix($N.DEVICE_NOT_FOUND,"deviceId: ".concat(t));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state=_L.INITING,e.prev=1,e.next=4,this.updateDevicesInfo();case 4:this.state=_L.INITEND,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),px.warning("Device Detection functionality cannot start properly.",e.t0.toString()),this.state=_L.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new ix($N.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDevicesInfo",value:function(){var e=u(c().mark((function e(){var t,n,r,i,o,a,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices(!0,!0,!0);case 2:if(t=e.sent,n=Date.now(),r=[],t[0]&&t[0].label&&!1===this.checkdeviceMatched&&(this.checkdeviceMatched=!0,i=t.find((function(e){return"audioinput"===e.kind&&"default"===e.deviceId})),o=t.find((function(e){return"audiooutput"===e.kind&&"default"===e.deviceId})),i&&o?o.groupId===i.groupId?px.debug("[device-check] default input ".concat(i.label," and output ").concat(o.label," is the same group")):px.warning("[device-check] default input ".concat(i.label," and output ").concat(o.label," is not the same group")):px.debug("[device-check] default input or output not found")),a=this.checkMediaDeviceInfoIsOk(t),t.forEach((function(e){if(e.deviceId){var t=s.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(t?t.state:"INACTIVE")){var i={initAt:n,updateAt:n,device:e,state:"ACTIVE"};s.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),i),r.push(i)}t&&(t.updateAt=n)}})),this.deviceInfoMap.forEach((function(e,t){"ACTIVE"===e.state&&e.updateAt!==n&&(e.state="INACTIVE",r.push(e))})),this.state===_L.INITEND){e.next=9;break}return e.abrupt("return",(a.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(a.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0))));case 9:r.forEach((function(e){switch(e.device.kind){case"audioinput":s.lastAccessMicrophonePermission&&s.isAccessMicrophonePermission&&s.emit(IL.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":s.lastAccessCameraPermission&&s.isAccessCameraPermission&&s.emit(IL.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":s.lastAccessMicrophonePermission&&s.isAccessMicrophonePermission&&s.emit(IL.PLAYOUT_DEVICE_CHANGED,e)}})),a.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),a.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkMediaDeviceInfoIsOk",value:function(e){var t,n=e.filter((function(e){return"audioinput"===e.kind})),r=e.filter((function(e){return"videoinput"===e.kind})),i={audio:!1,video:!1},o=a(n);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.label&&s.deviceId){i.audio=!0;break}}}catch(d){o.e(d)}finally{o.f()}var c,u=a(r);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.label&&l.deviceId){i.video=!0;break}}}catch(d){u.e(d)}finally{u.f()}return i}}]),n}(nx)),bG=Mx("AudioElementPlayCenter")(EG=function(){function e(){var t=this;v(this,e),tO(this,"onAutoplayFailed",void 0),tO(this,"elementMap",new Map),tO(this,"elementStateMap",new Map),tO(this,"elementsNeedToResume",[]),tO(this,"sinkIdMap",new Map),tO(this,"autoResumeAfterInterruption",(function(){Array.from(t.elementMap.entries()).forEach((function(e){var n=s(e,2),r=n[0],i=n[1],o=t.elementStateMap.get(r),a=i.srcObject.getAudioTracks()[0];jk()?a&&"live"===a.readyState&&"running"===KV.curState&&(px.debug("auto resume after interruption for iOS 15"),kx("debug",["AudioElementPlayCenter",r],"auto resume after interruption for iOS15"),i.pause(),i.play()):o&&"paused"===o&&a&&"live"===a.readyState&&"running"===KV.curState&&(px.debug("auto resume after interruption for iOS"),kx("debug",["AudioElementPlayCenter",r],"auto resume after interruption for iOS"),i.play())}))})),tO(this,"autoResumeAfterInterruptionOnIOS15",(function(){Array.from(t.elementMap.entries()).forEach((function(e){var t=s(e,2),n=t[0],r=t[1],i=r.srcObject.getAudioTracks()[0];i&&"live"===i.readyState&&(px.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),Dx("debug",["AudioElementPlayCenter",n],"autoResumeAfterInterruptionOnIOS15"),r.pause(),r.play())}))})),this.autoResumeAudioElement(),KV.on(xV.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),KV.on(xV.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),KV.on(xV.STATE_CHANGE,(function(){Bk()&&"suspended"===KV.prevState&&"running"===KV.curState&&t.autoResumeAfterInterruption()}))}return g(e,[{key:"setSinkID",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.elementMap.get(t),this.sinkIdMap.set(t,n),!r){e.next=10;break}return e.prev=2,e.next=5,r.setSinkId(n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new ix($N.PERMISSION_DENIED,"can not set sink id: "+e.t0.toString());case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"play",value:function(e,t,n,r){var i=this;if(!this.elementMap.has(t)){var o=document.createElement("audio");o.autoplay=!0,o.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,o),this.elementMap.set(t,o),this.elementStateMap.set(t,XD.INIT),this.setVolume(t,n);var a=this.sinkIdMap.get(t);if(a)try{o.setSinkId(a).catch((function(e){px.warning("[".concat(t,"] set sink id failed"),e.toString()),Lx("warning",["HTMLAudioElement",t],"setSinkId",e.toString())}))}catch(e){px.warning("[".concat(t,"] set sink id failed"),e.toString())}var s=o.play();s&&s.then&&s.catch((function(e){r&&NV.autoplayFailed(r,"audio",e.message,t),px.warning("audio element play warning",e.toString()),Lx("warning",["HTMLAudioElement",t],"play",e.toString()),i.elementMap.has(t)&&"NotAllowedError"===e.name&&(px.warning("detected audio element autoplay failed"),Dx("warning",["AudioElementPlayCenter",t],"play",e.toString()),i.elementsNeedToResume.push(o),tq((function(){i.onAutoplayFailed&&i.onAutoplayFailed(),CV()})))}))}}},{key:"updateTrack",value:function(e,t){var n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}},{key:"isPlaying",value:function(e){return this.elementMap.has(e)}},{key:"setVolume",value:function(e,t){var n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}},{key:"stop",value:function(e){var t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),t){var n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}}},{key:"bindAudioElementEvents",value:function(e,t){var n=this;CG.forEach((function(r){t.addEventListener(r,(function(t){var r=n.elementStateMap.get(e),i="pause"===t.type?"paused":t.type;px.debug("[".concat(e,"] audio-element-status change ").concat(r," => ").concat(i)),xx("debug",["HTMLAudioElement",e],"statusChange","".concat(r," => ").concat(i)),n.elementStateMap.set(e,i)}))}))}},{key:"getPlayerState",value:function(e){return this.elementStateMap.get(e)||"uninit"}},{key:"autoResumeAudioElement",value:function(){var e=this,t=function(){e.elementsNeedToResume.forEach((function(e){e.play().then((function(e){px.debug("Auto resume audio element success"),Dx("debug",["AudioElementPlayCenter"],"autoResumeAudioElement")})).catch((function(e){px.warning("Auto resume audio element failed!",e),Dx("warning",["AudioElementPlayCenter"],"autoResumeAudioElement",e.toString())}))})),e.elementsNeedToResume=[]};new wI((function(e){document.body?e():window.addEventListener("load",(function(){return e()}))})).then((function(){var e=Sk();"Android"!==e.os||"Chrome"!==e.name&&e.name!==bk.WECHAT?(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)):document.body.addEventListener("click",t,!0)}))}}]),e}())||EG,CG=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended"],_G=new bG;function IG(){return function(e,t,n){var r=n.value;return"function"==typeof r&&(n.value=function(){this._isClosed&&new ix($N.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.apply(this,t);return i instanceof wI?new wI((function(e,t){i.then(e).catch(t)})):i}),n}}var wG,SG,TG,RG,kG,OG,NG,xG,DG,LG,PG,MG,BG,UG,jG,FG,QG,VG,GG,HG,qG,KG,WG,YG,zG,JG,XG,ZG,$G,eH,tH=Uf("Array").values,nH=em,rH=Pl,iH=ru,oH=tH,aH=Array.prototype,sH={DOMTokenList:!0,NodeList:!0},cH=function(e){var t=e.values;return e===aH||iH(aH,e)&&t===aH.values||rH(sH,nH(e))?oH:t},uH=function(e){f(n,e);var t=p(n);function n(e){var r;return v(this,n),r=t.call(this),tO(l(r),"name","VideoProcessorDestination"),tO(l(r),"ID","0"),tO(l(r),"_source",void 0),tO(l(r),"videoContext",void 0),tO(l(r),"inputTrack",void 0),r.videoContext=e,r}return g(n,[{key:"kind",get:function(){return"video"}},{key:"enabled",get:function(){return!0}},{key:"pipe",value:function(){throw new ix($N.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}},{key:"unpipe",value:function(){throw new ix($N.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"updateInput",value:function(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.inputTrack=e.track,this.emit(UP.ON_TRACK,e.track))}},{key:"reset",value:function(){this.inputTrack=void 0,this.emit(UP.ON_TRACK,void 0)}}]),n}(nx),lH=function(e){f(n,e);var t=p(n);function n(e){var r;return v(this,n),r=t.call(this),tO(l(r),"constraintsMap",new Map),tO(l(r),"statsRegistry",[]),tO(l(r),"trackId",void 0),r.trackId=e,r}return g(n,[{key:"getConstraints",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zH(this,jP.REQUEST_CONSTRAINTS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestApplyConstraints",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(px.info("processor ".concat(n.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(n,t),JH(this,jP.REQUEST_UPDATE_CONSTRAINTS,Array.from(cH(r=this.constraintsMap).call(r)))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"requestRevertConstraints",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.constraintsMap.has(t)){e.next=2;break}return e.abrupt("return",(px.info("processor ".concat(t.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(t),JH(this,jP.REQUEST_UPDATE_CONSTRAINTS,Array.from(cH(n=this.constraintsMap).call(n)))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerStats",value:function(e,t,n){this.statsRegistry.find((function(n){return n.processorID===e.ID&&n.processorName===e.name&&n.type===t}))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}},{key:"unregisterStats",value:function(e,t){}},{key:"gatherStats",value:function(){return this.statsRegistry.map((function(e){return{processorID:e.processorID,processorName:e.processorName,type:e.type,stats:(0,e.cb)()}}))}}]),n}(nx),dH=function(e){f(n,e);var t=p(n);function n(e){var r;return v(this,n),r=t.call(this),tO(l(r),"name","AudioProcessorDestination"),tO(l(r),"ID","0"),tO(l(r),"inputTrack",void 0),tO(l(r),"inputNode",void 0),tO(l(r),"audioProcessorContext",void 0),tO(l(r),"_source",void 0),r.audioProcessorContext=e,r}return g(n,[{key:"kind",get:function(){return"audio"}},{key:"enabled",get:function(){return!0}},{key:"pipe",value:function(){throw new ix($N.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}},{key:"unpipe",value:function(){throw new ix($N.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"reset",value:function(){this.inputTrack=void 0,this.inputNode=void 0,this.emit(UP.ON_TRACK,void 0),this.emit(UP.ON_NODE,void 0)}},{key:"updateInput",value:function(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,this.emit(UP.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,this.emit(UP.ON_NODE,this.inputNode))}}]),n}(nx),fH=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this),tO(l(i),"constraintsMap",new Map),tO(l(i),"statsRegistry",[]),tO(l(i),"audioContext",void 0),tO(l(i),"trackId",void 0),i.audioContext=e,i.trackId=r,i}return g(n,[{key:"getConstraints",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zH(this,jP.REQUEST_CONSTRAINTS));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAudioContext",value:function(){return this.audioContext}},{key:"requestApplyConstraints",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(px.info("processor ".concat(n.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(n,t),JH(this,jP.REQUEST_UPDATE_CONSTRAINTS,Array.from(cH(r=this.constraintsMap).call(r)))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"requestRevertConstraints",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.constraintsMap.has(t)){e.next=2;break}return e.abrupt("return",(this.constraintsMap.delete(t),JH(this,jP.REQUEST_UPDATE_CONSTRAINTS,Array.from(cH(n=this.constraintsMap).call(n)))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"registerStats",value:function(e,t,n){this.statsRegistry.find((function(n){return n.processorID===e.ID&&n.processorName===e.name&&n.type===t}))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}},{key:"unregisterStats",value:function(e,t){}},{key:"gatherStats",value:function(){return this.statsRegistry.map((function(e){return{processorID:e.processorID,processorName:e.processorName,type:e.type,stats:(0,e.cb)()}}))}}]),n}(nx);function pH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pH(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vH=(wG=Mx("LocalAudioTrack","getTrackId"),SG=IG(),TG=UV("LocalAudioTrack","_enabledMutex"),RG=OV({className:"LocalAudioTrack"}),kG=IG(),OG=UV("LocalAudioTrack","_enabledMutex"),NG=OV({className:"LocalAudioTrack"}),xG=IG(),DG=IG(),LG=IG(),PG=IG(),MG=IG(),wG((oV((UG=function(e){f(n,e);var t=p(n);function n(e,r,i){var o;return v(this,n),o=t.call(this,e,i),tO(l(o),"trackMediaType","audio"),tO(l(o),"_encoderConfig",void 0),tO(l(o),"_source",void 0),tO(l(o),"_enabled",!0),tO(l(o),"_volume",100),tO(l(o),"_useAudioElement",!1),tO(l(o),"_bypassWebAudio",!1),tO(l(o),"processor",void 0),tO(l(o),"processorContext",void 0),tO(l(o),"processorDestination",void 0),o._encoderConfig=r,o._source=new tG(e),Zx("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(o._useAudioElement=!0),o.processorContext=new fH(o._source.context,o.getTrackId()),o.processorDestination=new dH(o.processorContext),o.bindProcessorDestinationEvents(),o._source.on(FL.UPDATE_SOURCE,(function(){o.processor&&o.processor.updateInput({node:o._source.processSourceNode,context:o.processorContext})})),o}return g(n,[{key:"isPlaying",get:function(){return this._useAudioElement?_G.isPlaying(this.getTrackId()):this._source.isPlayed}},{key:"setVolume",value:function(e){var t=this;oL(e,"volume",0,1e3);var n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_AUDIO_TRACK_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&_G.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return px.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio.")),void n.onSuccess();var r=this._source.createOutputTrack();this._mediaStreamTrack!==r&&(this._mediaStreamTrack=r,JH(this,vP.NEED_REPLACE_TRACK,this).then((function(){px.debug("[".concat(t.getTrackId(),"] replace web audio track success")),kx("debug",t,"replace web audio track success")})).catch((function(e){px.warning("[".concat(t.getTrackId(),"] replace web audio track failed"),e),kx("warning",t,"replace web audio track failed ".concat(e.toString()))})))}catch(e){}n.onSuccess()}},{key:"getVolumeLevel",value:function(){return this._source.getAccurateVolumeLevel()}},{key:"setPlaybackDevice",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),t]}),this._useAudioElement){e.next=3;break}throw new ix($N.NOT_SUPPORTED,"your browser does not support setting the audio output device");case 3:return e.prev=3,e.next=6,_G.setSinkID(this.getTrackId(),t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),n.onError(e.t0),e.t0;case 11:n.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnabled",value:function(){var e=u(c().mark((function e(t,n,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setEnabled(t,n,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"_setEnabled",value:function(){var e=u(c().mark((function e(t,n,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:if(px.info("[".concat(this.getTrackId(),"] start setEnabled"),t),Dx("info",this,"setEnabled",t),!t){e.next=19;break}return this._originMediaStreamTrack.enabled=!0,e.prev=6,r||(this._enabled=!0),e.next=10,JH(this,vP.NEED_ENABLE_TRACK,this);case 10:px.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(t," success")),Dx("info",this,"setEnabled",t,"success"),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),r||(this._enabled=!1),px.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.t0.toString()),Dx("error",this,"setEnabled",t,e.t0.toString()),e.t0;case 17:e.next=28;break;case 19:return this._originMediaStreamTrack.enabled=!1,r||(this._enabled=!1),e.prev=20,e.next=23,JH(this,vP.NEED_DISABLE_TRACK,this);case 23:e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(20),r||(this._enabled=!0),px.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t1.toString()),Dx("info",this,"setEnabled",t,e.t1.toString()),e.t1;case 28:case"end":return e.stop()}}),e,this,[[6,14],[20,25]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"setMuted",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._muted,!e.t0){e.next=14;break}if(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,px.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),Dx("debug",this,"setMuted",t),!t){e.next=12;break}return e.next=10,JH(this,vP.NEED_MUTE_TRACK,this);case 10:e.next=14;break;case 12:return e.next=14,JH(this,vP.NEED_UNMUTE_TRACK,this);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStats",value:function(){var e=this;return iq((function(){px.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead"),kx("warning",e,"LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),XH(this,vP.GET_STATS)||hH({},JL)}},{key:"setAudioFrameCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(FL.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(FL.ON_AUDIO_BUFFER),this._source.on(FL.ON_AUDIO_BUFFER,(function(t){return e(t)}))}},{key:"play",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});px.debug("[".concat(this.getTrackId(),"] start audio playback")),Dx("debug",this,"play"),this._useAudioElement?(px.debug("[".concat(this.getTrackId(),"] start audio playback in element")),kx("debug",this,"start audio playback in element"),_G.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play(),e.onSuccess()}},{key:"stop",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_AUDIO_TRACK_STOP,options:[this.getTrackId()]});px.debug("[".concat(this.getTrackId(),"] stop audio playback")),Dx("debug",this,"stop"),this._useAudioElement?_G.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}},{key:"close",value:function(){i(o(n.prototype),"close",this).call(this),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}},{key:"_updatePlayerSource",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];px.debug("[".concat(this.getTrackId(),"] update player source track")),Dx("debug",this,"_updatePlayerSource"),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&_G.updateTrack(this.getTrackId(),this._mediaStreamTrack)}},{key:"_updateOriginMediaStreamTrack",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._originMediaStreamTrack!==t,!e.t0){e.next=15;break}if(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t.addEventListener("ended",this._handleTrackEnded),n&&this._originMediaStreamTrack.stop(),this._originMediaStreamTrack=t,this.processor&&this.processor.updateInput({track:t,context:this.processorContext}),this._mediaStreamTrack===this._source.outputTrack){e.next=14;break}return this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),e.next=12,JH(this,vP.NEED_REPLACE_TRACK,this);case 12:e.next=15;break;case 14:this._source.updateTrack(this._originMediaStreamTrack);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"renewMediaStreamTrack",value:function(e){return wI.resolve(void 0)}},{key:"pipe",value:function(e){if(this._bypassWebAudio)throw new ix($N.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new ix($N.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}},{key:"unpipe",value:function(){var e;if(this.processor){var t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}}},{key:"bindProcessorDestinationEvents",value:function(){var e=this;this.processorDestination.on(UP.ON_TRACK,function(){var t=u(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=10;break}if(t.t0=n!==e._mediaStreamTrack,!t.t0){t.next=8;break}return e._mediaStreamTrack=n,e._updatePlayerSource(!1),e._source.processedNode=e._source.createMediaStreamSourceNode(n),t.next=8,JH(e,vP.NEED_REPLACE_TRACK,e);case 8:t.next=16;break;case 10:if(t.t1=e._mediaStreamTrack!==e._originMediaStreamTrack,!t.t1){t.next=16;break}return e._mediaStreamTrack=e._originMediaStreamTrack,e._updatePlayerSource(),t.next=16,JH(e,vP.NEED_REPLACE_TRACK,e);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.processorDestination.on(UP.ON_NODE,(function(t){e._source.processedNode=t}))}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(UP.ON_TRACK),this.processorDestination.removeAllListeners(UP.ON_NODE)}},{key:"unbindProcessorContextEvents",value:function(){this.processorContext.removeAllListeners(jP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(jP.REQUEST_CONSTRAINTS)}}]),n}(jV)).prototype,"setPlaybackDevice",[SG],Object.getOwnPropertyDescriptor(UG.prototype,"setPlaybackDevice"),UG.prototype),oV(UG.prototype,"setEnabled",[TG,RG,kG],Object.getOwnPropertyDescriptor(UG.prototype,"setEnabled"),UG.prototype),oV(UG.prototype,"setMuted",[OG,NG,xG],Object.getOwnPropertyDescriptor(UG.prototype,"setMuted"),UG.prototype),oV(UG.prototype,"getStats",[DG],Object.getOwnPropertyDescriptor(UG.prototype,"getStats"),UG.prototype),oV(UG.prototype,"setAudioFrameCallback",[LG],Object.getOwnPropertyDescriptor(UG.prototype,"setAudioFrameCallback"),UG.prototype),oV(UG.prototype,"play",[PG],Object.getOwnPropertyDescriptor(UG.prototype,"play"),UG.prototype),oV(UG.prototype,"stop",[MG],Object.getOwnPropertyDescriptor(UG.prototype,"stop"),UG.prototype),BG=UG))||BG),gH=(jG=Mx("MicrophoneAudioTrack","getTrackId"),FG=IG(),QG=UV("MicrophoneAudioTrack","_enabledMutex"),VG=OV({className:"MicrophoneAudioTrack"}),GG=IG(),jG((oV((qG=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this,e,r.encoderConfig?Jx(r.encoderConfig):{},o),tO(l(a),"_config",void 0),tO(l(a),"_deviceName","default"),tO(l(a),"_constraints",void 0),tO(l(a),"_originalConstraints",void 0),tO(l(a),"_enabled",!0),Px("info",l(a),"constructor",{trackId:o,deviceId:e.label,constraints:i}),a._config=r,a._constraints=i,a._originalConstraints=i,a._deviceName=e.label,"boolean"==typeof r.bypassWebAudio&&(a._bypassWebAudio=r.bypassWebAudio),jk()&&KV.bindInterruptDetectorTrack(l(a)),a.bindProcessorContextEvents(),a}return g(n,[{key:"setDevice",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.MIC_AUDIO_TRACK_SET_DEVICE,options:[this.getTrackId(),t]}),px.info("[".concat(this.getTrackId(),"] start set device to ").concat(t)),Dx("info",this,"setDevice",t),!this._enabled){e.next=37;break}return e.prev=2,e.next=5,yG.getDeviceById(t);case 5:return r=e.sent,(i={}).audio=hH({},this._constraints),i.audio.deviceId={exact:t},this._originMediaStreamTrack.stop(),o=null,e.prev=9,e.next=12,pG(i,this.getTrackId());case 12:o=e.sent,e.next=25;break;case 15:return e.prev=15,e.t0=e.catch(9),px.error("[".concat(this.getTrackId(),"] setDevice failed"),e.t0.toString()),Dx("error",this,"setDevice",t,e.t0.toString()),e.next=21,pG({video:this._constraints},this.getTrackId());case 21:return o=e.sent,e.next=24,this._updateOriginMediaStreamTrack(o.getAudioTracks()[0],!1);case 24:throw e.t0;case 25:return e.next=27,this._updateOriginMediaStreamTrack(o.getAudioTracks()[0],!1);case 27:this._deviceName=r.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t},e.next=35;break;case 32:throw e.prev=32,e.t1=e.catch(2),n.onError(e.t1),px.error("[".concat(this.getTrackId(),"] setDevice error"),e.t1.toString()),Dx("error",this,"setDevice",t,e.t1.toString()),e.t1;case 35:e.next=47;break;case 37:return e.prev=37,e.next=40,yG.getDeviceById(t);case 40:a=e.sent,this._deviceName=a.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t},e.next=47;break;case 44:throw e.prev=44,e.t2=e.catch(37),n.onError(e.t2),px.error("[".concat(this.getTrackId(),"] setDevice error"),e.t2.toString()),Dx("error",this,"setDevice",t,e.t2.toString()),e.t2;case 47:n.onSuccess(),px.info("[".concat(this.getTrackId(),"] set device to ").concat(t," success")),Dx("info",this,"setDevice",t,"success");case 48:case"end":return e.stop()}}),e,this,[[2,32],[9,15],[37,44]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnabled",value:function(){var e=u(c().mark((function e(t,r,a){var s,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return px.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),kx("debug",this,"setEnabled false (do not close microphone)"),e.next=5,i(o(n.prototype),"_setEnabled",this).call(this,t);case 5:return e.abrupt("return",e.sent);case 6:if(a){e.next=10;break}if(t!==this._enabled){e.next=9;break}return e.abrupt("return");case 9:this.stateCheck("enabled",t);case 10:if(px.info("[".concat(this.getTrackId(),"] start setEnabled"),t),Dx("info",this,"setEnabled",t),t){e.next=21;break}return this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),a||(this._enabled=!1),e.prev=12,e.next=15,JH(this,vP.NEED_DISABLE_TRACK,this);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(12),px.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.t0.toString()),Dx("error",this,"setEnabled",t,e.t0.toString()),e.t0;case 20:return e.abrupt("return");case 21:return s=hH({},this._constraints),(u=yG.searchDeviceIdByName(this._deviceName))&&!s.deviceId&&(s.deviceId=u),e.prev=23,a||(this._enabled=!0),e.next=27,pG({audio:this._constraints},this.getTrackId());case 27:return l=e.sent,e.next=30,this._updateOriginMediaStreamTrack(l.getAudioTracks()[0],!1);case 30:return e.next=32,JH(this,vP.NEED_ENABLE_TRACK,this);case 32:e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(23),a||(this._enabled=!1),px.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.t1.toString()),Dx("error",this,"setEnabled",t,e.t1.toString()),e.t1;case 37:px.info("[".concat(this.getTrackId(),"] setEnabled success")),Dx("info",this,"setEnabled",t,"success");case 38:case"end":return e.stop()}}),e,this,[[12,17],[23,34]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){i(o(n.prototype),"close",this).call(this),jk()&&KV.unbindInterruptDetectorTrack(this)}},{key:"onTrackEnded",value:function(){var e=this;if((Bk()||Gk())&&this._enabled&&!this._isClosed&&KV.duringInterruption){var t=function(){var n=u(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(KV.off(xV.IOS_INTERRUPTION_END,t),n.t0=e._enabled&&!e._isClosed,!n.t0){n.next=9;break}return px.debug("[".concat(e.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),kx("debug",e,"try capture microphone media device for interrupted iOS device"),n.next=7,e.setEnabled(!1);case 7:return n.next=9,e.setEnabled(!0);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();KV.on(xV.IOS_INTERRUPTION_END,t)}else px.debug("[".concat(this.getTrackId(),"] track ended")),xx("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(EP.TRACK_ENDED)}},{key:"renewMediaStreamTrack",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||this._constraints,(r=yG.searchDeviceIdByName(this._deviceName))&&!n.deviceId&&(n.deviceId=r),this._constraints=n,this._originMediaStreamTrack.stop(),e.next=4,pG({audio:this._constraints},this.getTrackId());case 4:return i=e.sent,e.next=7,this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!0);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bindProcessorContextEvents",value:function(){var e=this;this.processorContext.on(jP.REQUEST_UPDATE_CONSTRAINTS,function(){var t=u(c().mark((function t(n,r,i){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=Object.assign.apply(Object,[{},e._originalConstraints].concat(h(n))),t.next=4,e.renewMediaStreamTrack(o);case 4:r(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()),this.processorContext.on(jP.REQUEST_CONSTRAINTS,function(){var t=u(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(e._originMediaStreamTrack.getSettings());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),n}(vH)).prototype,"setDevice",[FG],Object.getOwnPropertyDescriptor(qG.prototype,"setDevice"),qG.prototype),oV(qG.prototype,"setEnabled",[QG,VG,GG],Object.getOwnPropertyDescriptor(qG.prototype,"setEnabled"),qG.prototype),HG=qG))||HG),AH=(KG=Mx("BufferSourceAudioTrack","getTrackId"),WG=IG(),YG=IG(),zG=IG(),JG=IG(),XG=IG(),KG((oV(($G=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;v(this,n),a=t.call(this,r.createOutputTrack(),i,o),tO(l(a),"source",void 0),tO(l(a),"_bufferSource",void 0),Px("info",l(a),"constructor",{trackId:o}),a.source=e,a._bufferSource=r,a._bufferSource.on(FL.AUDIO_SOURCE_STATE_CHANGE,(function(e){a.emit(EP.SOURCE_STATE_CHANGE,e)}));try{a._mediaStreamTrack=a._source.createOutputTrack()}catch(e){}return a}return g(n,[{key:"currentState",get:function(){return this._bufferSource.currentState}},{key:"duration",get:function(){return this._bufferSource.duration}},{key:"getCurrentTime",value:function(){return this._bufferSource.currentTime}},{key:"startProcessAudioBuffer",value:function(e){var t=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.BUFFER_AUDIO_TRACK_START,options:[this.getTrackId(),e,this.duration]});e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer(),t.onSuccess()}},{key:"pauseProcessAudioBuffer",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.BUFFER_AUDIO_TRACK_PAUSE,options:[this.getTrackId()]});this._bufferSource.pauseProcessAudioBuffer(),e.onSuccess()}},{key:"seekAudioBuffer",value:function(e){var t=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.BUFFER_AUDIO_TRACK_SEEK,options:[this.getTrackId()]});this._bufferSource.seekAudioBuffer(e),t.onSuccess()}},{key:"resumeProcessAudioBuffer",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.BUFFER_AUDIO_TRACK_RESUME,options:[this.getTrackId()]});this._bufferSource.resumeProcessAudioBuffer(),e.onSuccess()}},{key:"stopProcessAudioBuffer",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.BUFFER_AUDIO_TRACK_STOP,options:[this.getTrackId()]});this._bufferSource.stopProcessAudioBuffer(),e.onSuccess()}}]),n}(vH)).prototype,"startProcessAudioBuffer",[WG],Object.getOwnPropertyDescriptor($G.prototype,"startProcessAudioBuffer"),$G.prototype),oV($G.prototype,"pauseProcessAudioBuffer",[YG],Object.getOwnPropertyDescriptor($G.prototype,"pauseProcessAudioBuffer"),$G.prototype),oV($G.prototype,"seekAudioBuffer",[zG],Object.getOwnPropertyDescriptor($G.prototype,"seekAudioBuffer"),$G.prototype),oV($G.prototype,"resumeProcessAudioBuffer",[JG],Object.getOwnPropertyDescriptor($G.prototype,"resumeProcessAudioBuffer"),$G.prototype),oV($G.prototype,"stopProcessAudioBuffer",[XG],Object.getOwnPropertyDescriptor($G.prototype,"stopProcessAudioBuffer"),$G.prototype),ZG=$G))||ZG),mH=Mx("MixingAudioTrack","getTrackId")(eH=function(e){f(n,e);var t=p(n);function n(){var e;v(this,n);var r=YV().createMediaStreamDestination();e=t.call(this,r.stream.getAudioTracks()[0],void 0,HH(8,"track-mix-")),tO(l(e),"trackList",void 0),tO(l(e),"destNode",void 0);try{e._mediaStreamTrack=e._source.createOutputTrack()}catch(r){}return e.destNode=r,e.trackList=[],e}return g(n,[{key:"isActive",get:function(){var e,t=a(this.trackList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n._enabled&&!n._isClosed&&!n.muted)return!0}}catch(r){t.e(r)}finally{t.f()}return!1}},{key:"hasAudioTrack",value:function(e){return-1!==this.trackList.indexOf(e)}},{key:"addAudioTrack",value:function(e){if(-1!==this.trackList.indexOf(e))return px.debug("track ".concat(e.getTrackId()," is already added")),void kx("debug",this,"track already added");px.debug("add ".concat(e.getTrackId()," to mixing track")),Dx("debug",this,"addAudioTrack",e.getTrackId()),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()}},{key:"removeAudioTrack",value:function(e){if(-1!==this.trackList.indexOf(e)){px.debug("remove ".concat(e.getTrackId()," from mixing track")),Dx("debug",this,"removeAudioTrack",e.getTrackId());try{e._source.outputNode.disconnect(this.destNode)}catch(e){}$H(this.trackList,e),this.updateEncoderConfig()}}},{key:"updateEncoderConfig",value:function(){var e={};this.trackList.forEach((function(t){t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}}]),n}(vH))||eH,EH=function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.apply(this,arguments),tO(l(e),"resultStorage",new Map),e}return g(n,[{key:"setLocalAudioStats",value:function(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}},{key:"setLocalVideoStats",value:function(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}},{key:"setRemoteAudioStats",value:function(e,t){var n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}},{key:"setRemoteVideoStats",value:function(e,t){var n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}},{key:"record",value:function(e,t,n){this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});var r=this.resultStorage.get(e);if(r&&(r.result.push(n),r.result.length>=5)){var i=r.result.includes(!0);r.isPrevNormal&&!i&&this.emit("exception",yH[e],e,t),!r.isPrevNormal&&i&&this.emit("exception",yH[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=i,r.result=[]}}},{key:"checkAudioOutputLevel",value:function(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}},{key:"checkAudioInputLevel",value:function(e,t){return t instanceof mH&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}},{key:"checkFramerateInput",value:function(e,t){var n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=OH(t._encoderConfig.frameRate));var r=e.captureFrameRate;return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)}},{key:"checkFramerateSent",value:function(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}},{key:"checkSendVideoBitrate",value:function(e,t){return!!t.muted||0!==e.sendBitrate}},{key:"checkSendAudioBitrate",value:function(e,t){return t instanceof mH&&!t.isActive||!!t.muted||0!==e.sendBitrate}},{key:"checkVideoDecode",value:function(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}]),n}(nx),yH={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},bH=new(function(){function e(){v(this,e)}return g(e,[{key:"markSubscribeStart",value:function(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}},{key:"markPublishStart",value:function(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}},{key:"measureFromSubscribeStart",value:function(e,t){var n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){var r=n[n.length-1];return Math.round(performance.now()-r.startTime)}return 0}},{key:"measureFromPublishStart",value:function(e,t){var n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){var r=n[n.length-1];return Math.round(performance.now()-r.startTime)}return 0}}]),e}());function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var IH=function(){function e(t){var n=this;v(this,e),tO(this,"store",void 0),tO(this,"onStatsException",void 0),tO(this,"onUploadPublishDuration",void 0),tO(this,"localStats",new Map),tO(this,"remoteStats",new Map),tO(this,"updateStatsInterval",void 0),tO(this,"trafficStats",void 0),tO(this,"trafficStatsPeerList",[]),tO(this,"uplinkStats",void 0),tO(this,"exceptionMonitor",void 0),tO(this,"p2pChannel",void 0),tO(this,"updateStats",(function(){n.p2pChannel&&(n.updateRemoteStats(n.p2pChannel),n.updateLocalStats(n.p2pChannel))})),this.store=t,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new EH,this.exceptionMonitor.on("exception",(function(e,t,r){n.onStatsException&&n.onStatsException(e,t,r)}))}return g(e,[{key:"reset",value:function(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}},{key:"getLocalAudioTrackStats",value:function(){return this.localStats.get(NP.LocalAudioTrack)||_H({},JL)}},{key:"getLocalVideoTrackStats",value:function(){return this.localStats.get(NP.LocalVideoTrack)||_H({},XL)}},{key:"getRemoteAudioTrackStats",value:function(e){var t=this,n=function(e,n){if(!t.trafficStats)return n;var r=t.trafficStats.peer_delay.find((function(t){return t.peer_uid===e}));return r&&(n.publishDuration=r.B_ppad+(Date.now()-t.trafficStats.timestamp)),n},r={};if(e){var i,o=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.audioStats;o&&(r[e]=n(e,o))}else Array.from(this.remoteStats.entries()).forEach((function(e){var t=s(e,2),i=t[0],o=t[1].audioStats;o&&(r[i]=n(i,o))}));return r}},{key:"getRemoteNetworkQualityStats",value:function(e){var t={};if(e){var n,r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;r&&(t[e]=r)}else Array.from(this.remoteStats.entries()).forEach((function(e){var n=s(e,2),r=n[0],i=n[1].networkStats;i&&(t[r]=i)}));return t}},{key:"getRemoteVideoTrackStats",value:function(e){var t=this,n=function(e,n){if(!t.trafficStats)return n;var r=t.trafficStats.peer_delay.find((function(t){return t.peer_uid===e}));return r&&(n.publishDuration=r.B_ppvd+(Date.now()-t.trafficStats.timestamp)),n},r={};if(e){var i,o=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.videoStats;o&&(r[e]=n(e,o))}else Array.from(this.remoteStats.entries()).forEach((function(e){var t=s(e,2),i=t[0],o=t[1].videoStats;o&&(r[i]=n(i,o))}));return r}},{key:"getRTCStats",value:function(){var e=0,t=0,n=0,r=0,i=this.localStats.get(NP.LocalAudioTrack);i&&(e+=i.sendBytes,t+=i.sendBitrate);var o=this.localStats.get(NP.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);var a=this.localStats.get(NP.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((function(e){var t=e.audioStats,i=e.videoStats;t&&(n+=t.receiveBytes,r+=t.receiveBitrate),i&&(n+=i.receiveBytes,r+=i.receiveBitrate)}));var s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}},{key:"addLocalStats",value:function(e){this.localStats.set(e,void 0)}},{key:"removeLocalStats",value:function(e){e?this.localStats.delete(e):this.localStats.clear()}},{key:"addRemoteStats",value:function(e){this.remoteStats.set(e,{})}},{key:"removeRemoteStats",value:function(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}},{key:"addP2PChannel",value:function(e){this.p2pChannel=e}},{key:"updateTrafficStats",value:function(e){var t=this;e.peer_delay=e.peer_delay.filter((function(e){return void 0!==e.B_ppad||void 0!==e.B_ppvd})),e.peer_delay.filter((function(e){return-1===t.trafficStatsPeerList.indexOf(e.peer_uid)})).forEach((function(e){var n,r=null===(n=t.p2pChannel)||void 0===n?void 0:n.getRemoteMedia(e.peer_uid),i=null!=r&&r.videoSSRC?bH.measureFromSubscribeStart(t.store.clientId,r.videoSSRC):0,o=null!=r&&r.audioSSRC?bH.measureFromSubscribeStart(t.store.clientId,r.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(t.onUploadPublishDuration&&t.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,i>o?i:o),t.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}},{key:"updateUplinkStats",value:function(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&px.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}},{key:"isLocalVideoFreeze",value:function(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}},{key:"updateLocalStats",value:function(e){var t=this;Array.from(this.localStats.entries()).forEach((function(n){var r=s(n,2),i=r[0],o=r[1];switch(i){case NP.LocalVideoTrack:case NP.LocalVideoLowTrack:var a=o,c=_H({},XL),u=e.getStats(),l=e.getLocalMedia(i);if(u){var d=u.videoSend.find((function(e){return e.ssrc===(null==l?void 0:l.ssrcs[0].ssrcId)}));if(d){var f=e.getLocalVideoSize(),p=e.getEncoderConfig(NP.LocalVideoTrack);"H264"!==d.codec&&"VP8"!==d.codec&&"VP9"!==d.codec&&"AV1X"!==d.codec&&"AV1"!==d.codec||(c.codecType=d.codec),c.sendBytes=d.bytes,c.sendBitrate=a?8*Math.max(0,c.sendBytes-a.sendBytes):0,d.inputFrame?(c.captureFrameRate=d.inputFrame.frameRate,c.captureResolutionHeight=d.inputFrame.height,c.captureResolutionWidth=d.inputFrame.width):f&&(c.captureResolutionWidth=f.width,c.captureResolutionHeight=f.height),d.sentFrame?(c.sendFrameRate=d.sentFrame.frameRate,c.sendResolutionHeight=d.sentFrame.height,c.sendResolutionWidth=d.sentFrame.width):f&&(c.sendResolutionWidth=f.width,c.sendResolutionHeight=f.height),d.avgEncodeMs&&(c.encodeDelay=d.avgEncodeMs),p&&p.bitrateMax&&(c.targetSendBitrate=1e3*p.bitrateMax),c.sendPackets=d.packets,c.sendPacketsLost=d.packetsLost,c.totalDuration=a?a.totalDuration+1:1,c.totalFreezeTime=a?a.totalFreezeTime:0,t.isLocalVideoFreeze(d)&&(c.totalFreezeTime+=1)}t.trafficStats&&(c.sendPacketsLost=t.trafficStats.B_pvlr4/100)}t.localStats.set(i,c),c&&l&&t.exceptionMonitor.setLocalVideoStats(t.store.uid,l.track,c);break;case NP.LocalAudioTrack:var h=o,v=_H({},JL),g=e.getStats(),A=e.getLocalMedia(i);if(g){var m=g.audioSend.find((function(e){return e.ssrc===(null==A?void 0:A.ssrcs[0].ssrcId)}));if(m){if("opus"!==m.codec&&"aac"!==m.codec&&"PCMU"!==m.codec&&"PCMA"!==m.codec&&"G722"!==m.codec||(v.codecType=m.codec),m.inputLevel)v.sendVolumeLevel=Math.round(32767*m.inputLevel);else{var E=e.getLocalAudioVolume();E&&(v.sendVolumeLevel=Math.round(32767*E))}v.sendBytes=m.bytes,v.sendPackets=m.packets,v.sendPacketsLost=m.packetsLost,v.sendBitrate=h?8*Math.max(0,v.sendBytes-h.sendBytes):0}}t.trafficStats&&(v.sendPacketsLost=t.trafficStats.B_pvlr4/100),t.localStats.set(NP.LocalAudioTrack,v),v&&A&&t.exceptionMonitor.setLocalAudioStats(t.store.uid,A.track,v)}}))}},{key:"updateRemoteStats",value:function(t){var n=this;Array.from(this.remoteStats.entries()).forEach((function(r){var i=s(r,2),o=i[0],a=i[1],c=a.videoStats,u=a.audioStats,l=c,d=a.videoPcStats,f=_H({},ZL),p=_H({},eP),h=_H({},$L),v=t.getRemoteMedia(o),g=v.audioTrack,A=v.videoTrack,m=v.audioSSRC,E=v.videoSSRC,y=t.getStats(),b=null==y?void 0:y.audioRecv.find((function(e){return e.ssrc===m})),C=null==y?void 0:y.videoRecv.find((function(e){return e.ssrc===E})),_=n.trafficStats&&n.trafficStats.peer_delay.find((function(e){return e.peer_uid===o}));if(b&&("opus"!==b.codec&&"aac"!==b.codec&&"PCMU"!==b.codec&&"PCMA"!==b.codec&&"G722"!==b.codec||(f.codecType=b.codec),b.outputLevel?f.receiveLevel=Math.round(32767*b.outputLevel):g&&(f.receiveLevel=Math.round(32767*g.getVolumeLevel())),f.receiveBytes=b.bytes,f.receivePackets=b.packets,f.receivePacketsLost=b.packetsLost,f.packetLossRate=f.receivePacketsLost/(f.receivePackets+f.receivePacketsLost),f.receiveBitrate=u?8*Math.max(0,f.receiveBytes-u.receiveBytes):0,f.totalDuration=u?u.totalDuration+1:1,f.totalFreezeTime=u?u.totalFreezeTime:0,f.freezeRate=f.totalFreezeTime/f.totalDuration,f.receiveDelay=b.jitterBufferMs,f.totalDuration>10&&e.isRemoteAudioFreeze(g)&&(f.totalFreezeTime+=1)),C){"H264"!==C.codec&&"VP8"!==C.codec&&"VP9"!==C.codec&&"AV1X"!==C.codec&&"AV1"!==C.codec||(p.codecType=C.codec),p.receiveBytes=C.bytes,p.receiveBitrate=l?8*Math.max(0,p.receiveBytes-l.receiveBytes):0,p.decodeFrameRate=C.decodeFrameRate<0?0:C.decodeFrameRate,p.renderFrameRate=C.decodeFrameRate<0?0:C.decodeFrameRate,C.outputFrame&&(p.renderFrameRate=C.outputFrame.frameRate),C.receivedFrame?(p.receiveFrameRate=C.receivedFrame.frameRate,p.receiveResolutionHeight=C.receivedFrame.height,p.receiveResolutionWidth=C.receivedFrame.width):A&&(p.receiveResolutionHeight=A._videoHeight||0,p.receiveResolutionWidth=A._videoWidth||0),void 0!==C.framesRateFirefox&&(p.receiveFrameRate=Math.round(C.framesRateFirefox)),p.receivePackets=C.packets,p.receivePacketsLost=C.packetsLost,p.packetLossRate=p.receivePacketsLost/(p.receivePackets+p.receivePacketsLost),p.totalDuration=l?l.totalDuration+1:1,p.totalFreezeTime=l?l.totalFreezeTime:0,p.receiveDelay=C.jitterBufferMs||0;var I=!!E&&t.getRemoteVideoIsReady(E);A&&I&&e.isRemoteVideoFreeze(A,C,d)&&(p.totalFreezeTime+=1),p.freezeRate=p.totalFreezeTime/p.totalDuration}_&&(f.end2EndDelay=_.B_ad,p.end2EndDelay=_.B_vd,f.transportDelay=_.B_ed,p.transportDelay=_.B_ed,f.currentPacketLossRate=_.B_ealr4/100,p.currentPacketLossRate=_.B_evlr4/100,h.uplinkNetworkQuality=_.B_punq?_.B_punq:0,h.downlinkNetworkQuality=_.B_pdnq?_.B_pdnq:0),n.remoteStats.set(o,{audioStats:f,videoStats:p,videoPcStats:C,networkStats:h}),g&&n.exceptionMonitor.setRemoteAudioStats(g,f),A&&n.exceptionMonitor.setRemoteVideoStats(A,p)}))}}],[{key:"isRemoteVideoFreeze",value:function(e,t,n){if(!e)return!1;var r=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,i=!n||t.framesDecodeCount>n.framesDecodeCount;return r||!i}},{key:"isRemoteAudioFreeze",value:function(e){return!!e&&e._isFreeze()}}]),e}();function wH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wH(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TH(e){if(!e.address||!e.tcp)throw new ix($N.UNEXPECTED_RESPONSE,"Invalid address format ".concat(e));return e.address.match(/^[\.\:\d]+$/)?"".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(px.info("Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),"".concat(e.address,":").concat(e.tcp))}function RH(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(Zx("TURN_DOMAIN")):(px.info("Cannot recognized as IP address ".concat(e,". Used As Host instead")),e)}function kH(e,t){var n=Zx("GATEWAY_DOMAINS"),r=n[1]&&-1!==t.indexOf(n[1])?1:0;return e.addresses=e.addresses||[],{gatewayAddrs:e.addresses.map((function(e){return e.domain_prefix?{address:"".concat(e.domain_prefix,".").concat(n[r++%n.length],":").concat(e.port)}:e.ip.match(/^[\.\:\d]+$/)?{ip:e.ip,port:e.port,address:"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(n[r++%n.length],":").concat(e.port)}:(px.info("Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),{ip:e.ip,port:e.port,address:"".concat(e.ip,":").concat(e.port)})})),uid:e.uid,cid:e.cid,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function OH(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function NH(e){var t=e._encoderConfig;if(!t)return{};var n={resolution:t.width&&t.height?"".concat(OH(t.width),"x").concat(OH(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function xH(e,t,n){var r,i=t.videoSend.find((function(t){return t.ssrc===e}));if(!i)return null;var o=null==n||null===(r=n.videoSend.find((function(t){return t.ssrc===e})))||void 0===r?void 0:r.inputFrame,a={id:HH(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:i.ssrc.toString()};return i.inputFrame&&(o&&i.inputFrame.height===o.height||(a.A_fhi=i.inputFrame.height?i.inputFrame.height.toString():"0"),o&&i.inputFrame.width===o.width||(a.A_fwi=i.inputFrame.width?i.inputFrame.width.toString():"0"),o&&i.inputFrame.frameRate===o.frameRate||(a.A_fri=i.inputFrame.frameRate?i.inputFrame.frameRate.toString():"0")),a}function DH(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function LH(e,t){var n,r,i=void 0;switch(t){case HF.CHOOSE_SERVER:n=4096,r="choose server";break;case HF.CLOUD_PROXY:n=1048576,r="proxy";break;case HF.CLOUD_PROXY_5:n=4194304,r="proxy5";break;case HF.CLOUD_PROXY_FALLBACK:n=4194310,r="proxy fallback";break;default:throw new ix($N.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((function(t){t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((function(e){return SH(SH({},e),{},{ticket:t.buffer.cert})})),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:SH(SH({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid})})),!i)throw new ix($N.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return i}function PH(e,t){return MH.apply(this,arguments)}function MH(){return MH=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wI.all(t.addresses.map(function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=RH(t.ip),e.t1=t.port,e.t2=t.port,e.t3=n&&Zx("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?n.toString():Vx.username,!(n&&Zx("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext)){e.next=10;break}return e.next=7,SV(n.toString());case 7:e.t4=e.sent,e.next=11;break;case 10:e.t4=Vx.password;case 11:return e.t5=e.t4,e.abrupt("return",{address:e.t0,tcpport:e.t1,udpport:e.t2,username:e.t3,password:e.t5});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),MH.apply(this,arguments)}function BH(e,t){var n=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height;return n?n/OH(e.height):4}function UH(e){var t=e.candidateType,n=e.relayProtocol,r=e.type,i=e.address,o=e.port,a=e.protocol;return"local-candidate"===r?{candidateType:t,relayProtocol:n,protocol:a}:{candidateType:t,relayProtocol:n,address:i,port:o,protocol:a}}function jH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jH(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QH(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function VH(e){return new wI((function(t){window.setTimeout(t,e)}))}function GH(e){var t=new ix($N.TIMEOUT,"timeout");return new wI((function(n,r){window.setTimeout((function(){return r(t)}),e)}))}function HH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0,n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+HH(e-n.length,"")}function qH(){return HH(32,"").toUpperCase()}var KH=function(){};function WH(e){return new wI((function(t,n){var r=!1,i=document.createElement("video");i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.muted=!0,i.autoplay=!0,i.setAttribute("playsinline",""),i.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(i);var o=Bk()?"canplay":"playing";i.addEventListener(o,(function(){var e=i.videoWidth,n=i.videoHeight;!e&&Mk()||(r=!0,i.srcObject=null,i.remove(),t([e,n]))})),i.srcObject=new MediaStream([e]),i.play().catch(KH),setTimeout((function(){r||(i.srcObject=null,i.remove(),t([i.videoWidth,i.videoHeight]))}),4e3)}))}function YH(e){return wI.all(e.map((function(e){return e.then((function(e){throw e}),(function(e){return e}))}))).then((function(e){throw e}),(function(e){return e}))}function zH(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?wI.reject(new ix($N.UNEXPECTED_ERROR,"can not emit promise")):new wI((function(n,i){e.emit.apply(e,[t].concat(r,[n,i]))}))}function JH(e,t){if(0===e.getListeners(t).length)return wI.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return zH.apply(void 0,[e,t].concat(r))}function XH(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return ZH.apply(void 0,[e,t].concat(r))}function ZH(e,t){for(var n=null,r=null,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(e.emit.apply(e,[t].concat(o,[function(e){n=e},function(e){r=e}])),null!==r)throw r;if(null===n)throw new ix($N.UNEXPECTED_ERROR,"handler is not sync");return n}function $H(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function eq(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}function tq(e){wI.resolve().then(e)}function nq(e){return JSON.parse(JSON.stringify(e))}var rq={};function iq(e,t){rq[t]||(rq[t]=!0,e())}function oq(e){for(var t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length)),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n}function aq(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}var sq=new(function(){function e(){v(this,e),tO(this,"fnMap",new Map)}return g(e,[{key:"throttleByKey",value:function(e,t,n,r){for(var i=this,o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];if(this.fnMap.has(t)){var c=this.fnMap.get(t);if(c.threshold!==n){c.fn.apply(c,h(c.args)),clearTimeout(c.timer);var u=window.setTimeout((function(){var e=i.fnMap.get(t);e&&e.fn.apply(e,h(e.args)),i.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:u,args:a,skipFn:r})}else c.skipFn&&c.skipFn.apply(c,h(c.args)),this.fnMap.set(t,FH(FH({},c),{},{fn:e,args:a,skipFn:r}))}else{var l=window.setTimeout((function(){var e=i.fnMap.get(t);e&&e.fn.apply(e,h(e.args)),i.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:l,args:a,skipFn:r})}}}]),e}()),cq=sq.throttleByKey.bind(sq),uq=function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s,l,d,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fragementLength,r=t.referenceList,i=t.asyncMapHandler,o=t.allFailedhandler,a=t.promisesCollector,s=0,l=n,f=0,p=function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=s*l,t=e+l;return r.slice(e,t).map(i)}(),a&&a.push.apply(a,h(t)),e.prev=2,e.next=5,YH(t);case 5:d=e.sent,e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(2),s++,(f+=l)>=r.length){e.next=14;break}return e.next=13,p();case 13:return e.abrupt("return",void e.sent);case 14:o(e.t0);case 15:t.forEach((function(e){return e.cancel()}));case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),e.next=6,p();case 6:return e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function lq(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}var dq=zc,fq=Xl("iterator"),pq=!dq((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[fq]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),hq=pu,vq=nu,gq=gu,Aq=zc,mq=pA,Eq=$g,yq=Au,bq=xl,Cq=Du,_q=Object.assign,Iq=Object.defineProperty,wq=vq([].concat),Sq=!_q||Aq((function(){if(hq&&1!==_q({b:1},_q(Iq({},"a",{enumerable:!0,get:function(){Iq(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=_q({},e)[n]||mq(_q({},t)).join("")!=r}))?function(e,t){for(var n=bq(e),r=arguments.length,i=1,o=Eq.f,a=yq.f;r>i;)for(var s,c=Cq(arguments[i++]),u=o?wq(mq(c),o(c)):mq(c),l=u.length,d=0;l>d;)s=u[d++],hq&&!gq(a,c,s)||(n[s]=c[s]);return n}:_q,Tq=Gd,Rq=gm,kq=Md,Oq=gu,Nq=xl,xq=function(e,t,n,r){try{return r?t(Tq(n)[0],n[1]):t(n)}catch(t){Rq(e,"throw",t)}},Dq=HA,Lq=db,Pq=_f,Mq=dD,Bq=fm,Uq=om,jq=ou.Array,Fq=nu,Qq=2147483647,Vq=/[^\0-\u007E]/,Gq=/[.\u3002\uFF0E\uFF61]/g,Hq="Overflow: input needs wider integers to process",qq=ou.RangeError,Kq=Fq(Gq.exec),Wq=Math.floor,Yq=String.fromCharCode,zq=Fq("".charCodeAt),Jq=Fq([].join),Xq=Fq([].push),Zq=Fq("".replace),$q=Fq("".split),eK=Fq("".toLowerCase),tK=function(e){return e+22+75*(e<26)},nK=function(e,t,n){var r=0;for(e=n?Wq(e/700):e>>1,e+=Wq(e/t);e>455;)e=Wq(e/35),r+=36;return Wq(r+36*e/(e+38))},rK=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=zq(e,n++);if(i>=55296&&i<=56319&&n<r){var o=zq(e,n++);56320==(64512&o)?Xq(t,((1023&i)<<10)+(1023&o)+65536):(Xq(t,i),n--)}else Xq(t,i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&Xq(r,Yq(n));var c=r.length,u=c;for(c&&Xq(r,"-");u<i;){var l=Qq;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var d=u+1;if(l-o>Wq((Qq-a)/d))throw qq(Hq);for(a+=(l-o)*d,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>Qq)throw qq(Hq);if(n==o){for(var f=a,p=36;;){var h=p<=s?1:p>=s+26?26:p-s;if(f<h)break;var v=f-h,g=36-h;Xq(r,Yq(tK(h+v%g))),f=Wq(v/g),p+=36}Xq(r,Yq(tK(f))),s=nK(a,d,u==c),a=0,u++}}a++,o++}return Jq(r,"")},iK=ou.TypeError,oK=gf,aK=ou,sK=Ku,cK=gu,uK=nu,lK=pq,dK=FE,fK=My,pK=iy,hK=dy,vK=xE,gK=Gy,AK=du,mK=Pl,EK=Md,yK=em,bK=Gd,CK=Fu,_K=Dm,IK=DA,wK=_u,SK=fm,TK=om,RK=function(e,t){if(e<t)throw iK("Not enough arguments");return e},kK=_D,OK=Xl("iterator"),NK="URLSearchParams",xK="URLSearchParamsIterator",DK=vK.set,LK=vK.getterFor(NK),PK=vK.getterFor(xK),MK=sK("fetch"),BK=sK("Request"),UK=sK("Headers"),jK=BK&&BK.prototype,FK=UK&&UK.prototype,QK=aK.RegExp,VK=aK.TypeError,GK=aK.decodeURIComponent,HK=aK.encodeURIComponent,qK=uK("".charAt),KK=uK([].join),WK=uK([].push),YK=uK("".replace),zK=uK([].shift),JK=uK([].splice),XK=uK("".split),ZK=uK("".slice),$K=/\+/g,eW=Array(4),tW=function(e){return eW[e-1]||(eW[e-1]=QK("((?:%[\\da-f]{2}){"+e+"})","gi"))},nW=function(e){try{return GK(e)}catch(C){return e}},rW=function(e){var t=YK(e,$K," "),n=4;try{return GK(t)}catch(e){for(;n;)t=YK(t,tW(n--),nW);return t}},iW=/[!'()~]|%20/g,oW={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},aW=function(e){return oW[e]},sW=function(e){return YK(HK(e),iW,aW)},cW=hK((function(e,t){DK(this,{type:xK,iterator:SK(LK(e).entries),kind:t})}),"Iterator",(function(){var e=PK(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),uW=function(e){this.entries=[],this.url=null,void 0!==e&&(CK(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===qK(e,0)?ZK(e,1):e:_K(e)))};uW.prototype={type:NK,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,s,c=TK(e);if(c)for(n=(t=SK(e,c)).next;!(r=cK(n,t)).done;){if(o=(i=SK(bK(r.value))).next,(a=cK(o,i)).done||(s=cK(o,i)).done||!cK(o,i).done)throw VK("Expected sequence with length 2");WK(this.entries,{key:_K(a.value),value:_K(s.value)})}else for(var u in e)mK(e,u)&&WK(this.entries,{key:u,value:_K(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=XK(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=XK(t,"="),WK(this.entries,{key:rW(zK(n)),value:rW(KK(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],WK(n,sW(e.key)+"="+sW(e.value));return KK(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lW=function(){gK(this,dW),DK(this,new uW(arguments.length>0?arguments[0]:void 0))},dW=lW.prototype;if(fK(dW,{append:function(e,t){RK(arguments.length,2);var n=LK(this);WK(n.entries,{key:_K(e),value:_K(t)}),n.updateURL()},delete:function(e){RK(arguments.length,1);for(var t=LK(this),n=t.entries,r=_K(e),i=0;i<n.length;)n[i].key===r?JK(n,i,1):i++;t.updateURL()},get:function(e){RK(arguments.length,1);for(var t=LK(this).entries,n=_K(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){RK(arguments.length,1);for(var t=LK(this).entries,n=_K(e),r=[],i=0;i<t.length;i++)t[i].key===n&&WK(r,t[i].value);return r},has:function(e){RK(arguments.length,1);for(var t=LK(this).entries,n=_K(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){RK(arguments.length,1);for(var n,r=LK(this),i=r.entries,o=!1,a=_K(e),s=_K(t),c=0;c<i.length;c++)(n=i[c]).key===a&&(o?JK(i,c--,1):(o=!0,n.value=s));o||WK(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=LK(this);kK(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=LK(this).entries,r=EK(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new cW(this,"keys")},values:function(){return new cW(this,"values")},entries:function(){return new cW(this,"entries")}},{enumerable:!0}),dK(dW,OK,dW.entries,{name:"entries"}),dK(dW,"toString",(function(){return LK(this).serialize()}),{enumerable:!0}),pK(lW,NK),oK({global:!0,forced:!lK},{URLSearchParams:lW}),!lK&&AK(UK)){var fW=uK(FK.has),pW=uK(FK.set),hW=function(e){if(CK(e)){var t,n=e.body;if(yK(n)===NK)return t=e.headers?new UK(e.headers):new UK,fW(t,"content-type")||pW(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),IK(e,{body:wK(0,_K(n)),headers:wK(0,t)})}return e};if(AK(MK)&&oK({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return MK(e,arguments.length>1?hW(arguments[1]):{})}}),AK(BK)){var vW=function(e){return gK(this,jK),new BK(e,arguments.length>1?hW(arguments[1]):{})};jK.constructor=vW,vW.prototype=jK,oK({global:!0,forced:!0},{Request:vW})}}var gW,AW={URLSearchParams:lW,getState:LK},mW=gf,EW=pu,yW=pq,bW=ou,CW=Md,_W=nu,IW=lA.f,wW=FE,SW=Gy,TW=Pl,RW=Sq,kW=function(e){var t=Nq(e),n=Lq(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=kq(i,r>2?arguments[2]:void 0));var a,s,c,u,l,d,f=Uq(t),p=0;if(!f||this==jq&&Dq(f))for(a=Pq(t),s=n?new this(a):jq(a);a>p;p++)d=o?i(t[p],p):t[p],Mq(s,p,d);else for(l=(u=Bq(t,f)).next,s=n?new this:[];!(c=Oq(l,u)).done;p++)d=o?xq(u,i,[c.value,p],!0):c.value,Mq(s,p,d);return s.length=p,s},OW=AD,NW=aI.codeAt,xW=function(e){var t,n,r=[],i=$q(Zq(eK(e),Gq,"."),".");for(t=0;t<i.length;t++)n=i[t],Xq(r,Kq(Vq,n)?"xn--"+rK(n):n);return Jq(r,".")},DW=Dm,LW=iy,PW=AW,MW=xE,BW=MW.set,UW=MW.getterFor("URL"),jW=PW.URLSearchParams,FW=PW.getState,QW=bW.URL,VW=bW.TypeError,GW=bW.parseInt,HW=Math.floor,qW=Math.pow,KW=_W("".charAt),WW=_W(/./.exec),YW=_W([].join),zW=_W(1..toString),JW=_W([].pop),XW=_W([].push),ZW=_W("".replace),$W=_W([].shift),eY=_W("".split),tY=_W("".slice),nY=_W("".toLowerCase),rY=_W([].unshift),iY="Invalid scheme",oY="Invalid host",aY="Invalid port",sY=/[a-z]/i,cY=/[\d+-.a-z]/i,uY=/\d/,lY=/^0x/i,dY=/^[0-7]+$/,fY=/^\d+$/,pY=/^[\da-f]+$/i,hY=/[\0\t\n\r #%/:<>?@[\\\]^|]/,vY=/[\0\t\n\r #/:<>?@[\\\]^|]/,gY=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,AY=/[\t\n\r]/g,mY=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)rY(t,e%256),e=HW(e/256);return YW(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=zW(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},EY={},yY=RW({},EY,{" ":1,'"':1,"<":1,">":1,"`":1}),bY=RW({},yY,{"#":1,"?":1,"{":1,"}":1}),CY=RW({},bY,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_Y=function(e,t){var n=NW(e,0);return n>32&&n<127&&!TW(t,e)?e:encodeURIComponent(e)},IY={ftp:21,file:null,http:80,https:443,ws:80,wss:443},wY=function(e,t){var n;return 2==e.length&&WW(sY,KW(e,0))&&(":"==(n=KW(e,1))||!t&&"|"==n)},SY=function(e){var t;return e.length>1&&wY(tY(e,0,2))&&(2==e.length||"/"===(t=KW(e,2))||"\\"===t||"?"===t||"#"===t)},TY=function(e){return"."===e||"%2e"===nY(e)},RY={},kY={},OY={},NY={},xY={},DY={},LY={},PY={},MY={},BY={},UY={},jY={},FY={},QY={},VY={},GY={},HY={},qY={},KY={},WY={},YY={},zY=function e(t,n,r){var i,o,a,s=DW(t);if(n){if(o=this.parse(s))throw VW(o);this.searchParams=null}else{if(void 0!==r&&(i=new e(r,!0)),o=this.parse(s,null,i))throw VW(o);(a=FW(new jW)).bindURL(this),this.searchParams=a}};zY.prototype={type:"URL",parse:function(e,t,n){var r,i,o,a,s,c=this,u=t||RY,l=0,d="",f=!1,p=!1,h=!1;for(e=DW(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=ZW(e,gY,"")),e=ZW(e,AY,""),r=kW(e);l<=r.length;){switch(i=r[l],u){case RY:if(!i||!WW(sY,i)){if(t)return iY;u=OY;continue}d+=nY(i),u=kY;break;case kY:if(i&&(WW(cY,i)||"+"==i||"-"==i||"."==i))d+=nY(i);else{if(":"!=i){if(t)return iY;d="",u=OY,l=0;continue}if(t&&(c.isSpecial()!=TW(IY,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&IY[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=QY:c.isSpecial()&&n&&n.scheme==c.scheme?u=NY:c.isSpecial()?u=PY:"/"==r[l+1]?(u=xY,l++):(c.cannotBeABaseURL=!0,XW(c.path,""),u=KY)}break;case OY:if(!n||n.cannotBeABaseURL&&"#"!=i)return iY;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=OW(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=YY;break}u="file"==n.scheme?QY:DY;continue;case NY:if("/"!=i||"/"!=r[l+1]){u=DY;continue}u=MY,l++;break;case xY:if("/"==i){u=BY;break}u=qY;continue;case DY:if(c.scheme=n.scheme,i==gW)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=OW(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())u=LY;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=OW(n.path),c.query="",u=WY;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=OW(n.path),c.path.length--,u=qY;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=OW(n.path),c.query=n.query,c.fragment="",u=YY}break;case LY:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=qY;continue}u=BY}else u=MY;break;case PY:if(u=MY,"/"!=i||"/"!=KW(d,l+1))continue;l++;break;case MY:if("/"!=i&&"\\"!=i){u=BY;continue}break;case BY:if("@"==i){f&&(d="%40"+d),f=!0,o=kW(d);for(var v=0;v<o.length;v++){var g=o[v];if(":"!=g||h){var A=_Y(g,CY);h?c.password+=A:c.username+=A}else h=!0}d=""}else if(i==gW||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(f&&""==d)return"Invalid authority";l-=kW(d).length+1,d="",u=UY}else d+=i;break;case UY:case jY:if(t&&"file"==c.scheme){u=GY;continue}if(":"!=i||p){if(i==gW||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==d)return oY;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",u=HY,t)return;continue}"["==i?p=!0:"]"==i&&(p=!1),d+=i}else{if(""==d)return oY;if(a=c.parseHost(d))return a;if(d="",u=FY,t==jY)return}break;case FY:if(!WW(uY,i)){if(i==gW||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=d){var m=GW(d,10);if(m>65535)return aY;c.port=c.isSpecial()&&m===IY[c.scheme]?null:m,d=""}if(t)return;u=HY;continue}return aY}d+=i;break;case QY:if(c.scheme="file","/"==i||"\\"==i)u=VY;else{if(!n||"file"!=n.scheme){u=qY;continue}if(i==gW)c.host=n.host,c.path=OW(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=OW(n.path),c.query="",u=WY;else{if("#"!=i){SY(YW(OW(r,l),""))||(c.host=n.host,c.path=OW(n.path),c.shortenPath()),u=qY;continue}c.host=n.host,c.path=OW(n.path),c.query=n.query,c.fragment="",u=YY}}break;case VY:if("/"==i||"\\"==i){u=GY;break}n&&"file"==n.scheme&&!SY(YW(OW(r,l),""))&&(wY(n.path[0],!0)?XW(c.path,n.path[0]):c.host=n.host),u=qY;continue;case GY:if(i==gW||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&wY(d))u=qY;else if(""==d){if(c.host="",t)return;u=HY}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",u=HY}continue}d+=i;break;case HY:if(c.isSpecial()){if(u=qY,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=gW&&(u=qY,"/"!=i))continue}else c.fragment="",u=YY;else c.query="",u=WY;break;case qY:if(i==gW||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(s=nY(s=d))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||XW(c.path,"")):TY(d)?"/"==i||"\\"==i&&c.isSpecial()||XW(c.path,""):("file"==c.scheme&&!c.path.length&&wY(d)&&(c.host&&(c.host=""),d=KW(d,0)+":"),XW(c.path,d)),d="","file"==c.scheme&&(i==gW||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)$W(c.path);"?"==i?(c.query="",u=WY):"#"==i&&(c.fragment="",u=YY)}else d+=_Y(i,bY);break;case KY:"?"==i?(c.query="",u=WY):"#"==i?(c.fragment="",u=YY):i!=gW&&(c.path[0]+=_Y(i,EY));break;case WY:t||"#"!=i?i!=gW&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":_Y(i,EY)):(c.fragment="",u=YY);break;case YY:i!=gW&&(c.fragment+=_Y(i,yY))}l++}},parseHost:function(e){var t,n,r;if("["==KW(e,0)){if("]"!=KW(e,e.length-1))return oY;if(!(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return KW(e,d)};if(":"==f()){if(":"!=KW(e,1))return;d+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=n=0;n<4&&WW(pY,f());)t=16*t+GW(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!WW(uY,f()))return;for(;WW(uY,f());){if(o=GW(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(tY(e,1,-1))))return oY;this.host=t}else if(this.isSpecial()){if(e=xW(e),WW(hY,e))return oY;if(null===(t=function(e){var t,n,r,i,o,a,s,c=eY(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==KW(i,0)&&(o=WW(lY,i)?16:8,i=tY(i,8==o?1:2)),""===i)a=0;else{if(!WW(10==o?fY:8==o?dY:pY,i))return e;a=GW(i,o)}XW(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=qW(256,5-t))return null}else if(a>255)return null;for(s=JW(n),r=0;r<n.length;r++)s+=n[r]*qW(256,3-r);return s}(e)))return oY;this.host=t}else{if(WW(vY,e))return oY;for(t="",n=kW(e),r=0;r<n.length;r++)t+=_Y(n[r],EY);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return TW(IY,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&wY(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=mY(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+YW(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw VW(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new JY(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+mY(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(DW(e)+":",RY)},getUsername:function(){return this.username},setUsername:function(e){var t=kW(DW(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=_Y(t[n],CY)}},getPassword:function(){return this.password},setPassword:function(e){var t=kW(DW(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=_Y(t[n],CY)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?mY(e):mY(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,UY)},getHostname:function(){var e=this.host;return null===e?"":mY(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,jY)},getPort:function(){var e=this.port;return null===e?"":DW(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=DW(e))?this.port=null:this.parse(e,FY))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+YW(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,HY))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=DW(e))?this.query=null:("?"==KW(e,0)&&(e=tY(e,1)),this.query="",this.parse(e,WY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=DW(e))?("#"==KW(e,0)&&(e=tY(e,1)),this.fragment="",this.parse(e,YY)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var JY=function(e){var t=SW(this,XY),n=BW(t,new zY(e,!1,arguments.length>1?arguments[1]:void 0));EW||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},XY=JY.prototype,ZY=function(e,t){return{get:function(){return UW(this)[e]()},set:t&&function(e){return UW(this)[t](e)},configurable:!0,enumerable:!0}};if(EW&&IW(XY,{href:ZY("serialize","setHref"),origin:ZY("getOrigin"),protocol:ZY("getProtocol","setProtocol"),username:ZY("getUsername","setUsername"),password:ZY("getPassword","setPassword"),host:ZY("getHost","setHost"),hostname:ZY("getHostname","setHostname"),port:ZY("getPort","setPort"),pathname:ZY("getPathname","setPathname"),search:ZY("getSearch","setSearch"),searchParams:ZY("getSearchParams"),hash:ZY("getHash","setHash")}),wW(XY,"toJSON",(function(){return UW(this).serialize()}),{enumerable:!0}),wW(XY,"toString",(function(){return UW(this).serialize()}),{enumerable:!0}),QW){var $Y=QW.createObjectURL,ez=QW.revokeObjectURL;$Y&&wW(JY,"createObjectURL",CW($Y,QW)),ez&&wW(JY,"revokeObjectURL",CW(ez,QW))}LW(JY,"URL"),mW({global:!0,forced:!yW,sham:!EW},{URL:JY});var tz=Qu.URL,nz=(A(E={},wL.ACCESS_POINT,(A(e={},RL.NO_FLAG_SET,{desc:"flag is zero",retry:!1}),A(e,RL.FLAG_SET_BUT_EMPTY,{desc:"flag is empty",retry:!1}),A(e,RL.INVALID_FALG_SET,{desc:"invalid flag",retry:!1}),A(e,RL.FLAG_SET_BUT_NO_RE,{desc:"flag set unilbs but no request",retry:!1}),A(e,RL.INVALID_SERVICE_ID,{desc:"invalid service id",retry:!1}),A(e,RL.NO_SERVICE_AVAILABLE,{desc:"no service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_P2P,{desc:"no unilbs p2p service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_VOET,{desc:"no unilbs voice service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_WEBRTC,{desc:"no unilbs webrtc service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_CDS,{desc:"no cds service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_CDN,{desc:"no cdn dispatcher service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_TDS,{desc:"no tds service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_REPORT,{desc:"no unilbs report service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_APP_CENTER,{desc:"no app center service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_ENV0,{desc:"no unilbs sig env0 service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_VOET,{desc:"no unilbs voet service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_STRING_UID,{desc:"no string uid service available",retry:!0}),A(e,RL.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS,{desc:"no webrtc unilbs service available",retry:!0}),e)),A(E,wL.UNILBS,(A(t={},TL.INVALID_VENDOR_KEY,{desc:"invalid vendor key, can not find appid",retry:!1}),A(t,TL.INVALID_CHANNEL_NAME,{desc:"invalid channel name",retry:!1}),A(t,TL.INTERNAL_ERROR,{desc:"unilbs internal error",retry:!1}),A(t,TL.NO_AUTHORIZED,{desc:"invalid token, authorized failed",retry:!1}),A(t,TL.DYNAMIC_KEY_TIMEOUT,{desc:"dynamic key or token timeout",retry:!1}),A(t,TL.NO_ACTIVE_STATUS,{desc:"no active status",retry:!1}),A(t,TL.DYNAMIC_KEY_EXPIRED,{desc:"dynamic key expired",retry:!1}),A(t,TL.STATIC_USE_DYNAMIC_KEY,{desc:"static use dynamic key",retry:!1}),A(t,TL.DYNAMIC_USE_STATIC_KEY,{desc:"dynamic use static key",retry:!1}),A(t,TL.USER_OVERLOAD,{desc:"amount of users over load",retry:!1}),A(t,TL.FORBIDDEN_REGION,{desc:"the request is forbidden in this area",retry:!1}),A(t,TL.CANNOT_MEET_AREA_DEMAND,{desc:"unable to allocate services in this area",retry:!1}),t)),A(E,wL.STRING_UID_ALLOCATOR,(A(m={},SL.IIIEGAL_APPID,{desc:"invalid appid",retry:!1}),A(m,SL.IIIEGAL_UID,{desc:"invalid string uid",retry:!1}),A(m,SL.INTERNAL_ERROR,{desc:"string uid allocator internal error",retry:!0}),m)),E);function rz(e){var t=nz[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};var n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===wL.ACCESS_POINT){var r=e%1e4;if("1"===r.toString()[0])return{desc:e.toString(),retry:!1};if("2"===r.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return n}var iz=(A(y={},kL.K_TIMESTAMP_EXPIRED,{desc:"K_TIMESTAMP_EXPIRED",action:"failed"}),A(y,kL.K_CHANNEL_PERMISSION_INVALID,{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"}),A(y,kL.K_CERTIFICATE_INVALID,{desc:"K_CERTIFICATE_INVALID",action:"failed"}),A(y,kL.K_CHANNEL_NAME_EMPTY,{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"}),A(y,kL.K_CHANNEL_NOT_FOUND,{desc:"K_CHANNEL_NOT_FOUND",action:"failed"}),A(y,kL.K_TICKET_INVALID,{desc:"K_TICKET_INVALID",action:"failed"}),A(y,kL.K_CHANNEL_CONFLICTED,{desc:"K_CHANNEL_CONFLICTED",action:"failed"}),A(y,kL.K_SERVICE_NOT_READY,{desc:"K_SERVICE_NOT_READY",action:"tryNext"}),A(y,kL.K_SERVICE_TOO_HEAVY,{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"}),A(y,kL.K_UID_BANNED,{desc:"K_UID_BANNED",action:"failed"}),A(y,kL.K_IP_BANNED,{desc:"K_IP_BANNED",action:"failed"}),A(y,kL.ERR_INVALID_VENDOR_KEY,{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"}),A(y,kL.ERR_INVALID_CHANNEL_NAME,{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"}),A(y,kL.WARN_NO_AVAILABLE_CHANNEL,{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"}),A(y,kL.WARN_LOOKUP_CHANNEL_TIMEOUT,{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"}),A(y,kL.WARN_LOOKUP_CHANNEL_REJECTED,{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"}),A(y,kL.WARN_OPEN_CHANNEL_TIMEOUT,{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"}),A(y,kL.WARN_OPEN_CHANNEL_REJECTED,{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"}),A(y,kL.WARN_REQUEST_DEFERRED,{desc:"WARN_REQUEST_DEFERRED",action:"failed"}),A(y,kL.ERR_DYNAMIC_KEY_TIMEOUT,{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"}),A(y,kL.ERR_NO_AUTHORIZED,{desc:"ERR_NO_AUTHORIZED",action:"failed"}),A(y,kL.ERR_VOM_SERVICE_UNAVAILABLE,{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"}),A(y,kL.ERR_NO_CHANNEL_AVAILABLE_CODE,{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"}),A(y,kL.ERR_MASTER_VOCS_UNAVAILABLE,{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"}),A(y,kL.ERR_INTERNAL_ERROR,{desc:"ERR_INTERNAL_ERROR",action:"tryNext"}),A(y,kL.ERR_NO_ACTIVE_STATUS,{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"}),A(y,kL.ERR_INVALID_UID,{desc:"ERR_INVALID_UID",action:"failed"}),A(y,kL.ERR_DYNAMIC_KEY_EXPIRED,{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"}),A(y,kL.ERR_STATIC_USE_DYANMIC_KE,{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"}),A(y,kL.ERR_DYNAMIC_USE_STATIC_KE,{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"}),A(y,kL.ERR_NO_VOCS_AVAILABLE,{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"}),A(y,kL.ERR_NO_VOS_AVAILABLE,{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"}),A(y,kL.ERR_JOIN_CHANNEL_TIMEOUT,{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"}),A(y,kL.ERR_JOIN_BY_MULTI_IP,{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"}),A(y,kL.ERR_NOT_JOINED,{desc:"ERR_NOT_JOINED",action:"failed"}),A(y,kL.ERR_REPEAT_JOIN_REQUEST,{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"}),A(y,kL.ERR_REPEAT_JOIN_CHANNEL,{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"}),A(y,kL.ERR_INVALID_VENDOR_KEY,{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"}),A(y,kL.ERR_INVALID_CHANNEL_NAME,{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"}),A(y,kL.ERR_INVALID_STRINGUID,{desc:"ERR_INVALID_STRINGUID",action:"failed"}),A(y,kL.ERR_TOO_MANY_USERS,{desc:"ERR_TOO_MANY_USERS",action:"tryNext"}),A(y,kL.ERR_SET_CLIENT_ROLE_TIMEOUT,{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"}),A(y,kL.ERR_SET_CLIENT_ROLE_NO_PERMISSION,{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"}),A(y,kL.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE,{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"}),A(y,kL.ERR_PUBLISH_REQUEST_INVALID,{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"}),A(y,kL.ERR_SUBSCRIBE_REQUEST_INVALID,{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"}),A(y,kL.ERR_NOT_SUPPORTED_MESSAGE,{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"}),A(y,kL.ERR_ILLEAGAL_PLUGIN,{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"}),A(y,kL.ILLEGAL_CLIENT_ROLE_LEVEL,{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"}),A(y,kL.ERR_REJOIN_TOKEN_INVALID,{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"}),A(y,kL.ERR_REJOIN_USER_NOT_JOINED,{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"}),A(y,kL.ERR_INVALID_OPTIONAL_INFO,{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"}),A(y,kL.ERR_TEST_RECOVER,{desc:"ERR_TEST_RECOVER",action:"recover"}),A(y,kL.ERR_TEST_TRYNEXT,{desc:"ERR_TEST_TRYNEXT",action:"recover"}),A(y,kL.ERR_TEST_RETRY,{desc:"ERR_TEST_RETRY",action:"recover"}),A(y,kL.ILLEGAL_AES_PASSWORD,{desc:"ERR_TEST_RETRY",action:"failed"}),A(y,kL.ERR_TOO_MANY_BROADCASTERS,{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"}),A(y,kL.ERR_TOO_MANY_SUBSCRIBERS,{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"}),y);function oz(e){return iz[e]||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}var az={exports:{}};!function(e,t){e.exports=function(){var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{DataViewIndexOutOfBoundsError:function(){return F},DecodeError:function(){return m},Decoder:function(){return G},EXT_TIMESTAMP:function(){return E},Encoder:function(){return k},ExtData:function(){return g},ExtensionCodec:function(){return S},decode:function(){return q},decodeArrayStream:function(){return $},decodeAsync:function(){return Z},decodeMulti:function(){return K},decodeMultiStream:function(){return ee},decodeStream:function(){return te},decodeTimestampExtension:function(){return I},decodeTimestampToTimeSpec:function(){return _},encode:function(){return N},encodeDateToTimeSpec:function(){return b},encodeTimeSpecToTimestamp:function(){return y},encodeTimestampExtension:function(){return C}});var n=4294967295;function r(e,t,n){var r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function i(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s="undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function c(e){for(var t=e.length,n=0,r=0;r<t;){var i=e.charCodeAt(r++);if(0!=(4294967168&i))if(0==(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){var o=e.charCodeAt(r);56320==(64512&o)&&(++r,i=((1023&i)<<10)+(1023&o)+65536)}n+=0==(4294901760&i)?3:4}else n++}return n}var u=s?new TextEncoder:void 0,l=s?"undefined"!=typeof process?200:0:n,d=(null==u?void 0:u.encodeInto)?function(e,t,n){u.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(u.encode(e),n)};function f(e,t,n){for(var r=t,i=r+n,s=[],c="";r<i;){var u=e[r++];if(0==(128&u))s.push(u);else if(192==(224&u)){var l=63&e[r++];s.push((31&u)<<6|l)}else if(224==(240&u)){l=63&e[r++];var d=63&e[r++];s.push((31&u)<<12|l<<6|d)}else if(240==(248&u)){var f=(7&u)<<18|(l=63&e[r++])<<12|(d=63&e[r++])<<6|63&e[r++];f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|1023&f),s.push(f)}else s.push(u);s.length>=4096&&(c+=String.fromCharCode.apply(String,a([],o(s))),s.length=0)}return s.length>0&&(c+=String.fromCharCode.apply(String,a([],o(s)))),c}var p,h=s?new TextDecoder:null,v=s?"undefined"!=typeof process?200:0:n,g=function(e,t){this.type=e,this.data=t},A=(p=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)})),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(n){var r=e.call(this,n)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return A(t,e),t}(Error),E=-1;function y(e){var t,n=e.sec,i=e.nsec;if(n>=0&&i>=0&&n<=17179869183){if(0===i&&n<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var a=n/4294967296,s=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,i<<2|3&a),t.setUint32(4,s),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,i),r(t,4,n),o}function b(e){var t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}function C(e){return e instanceof Date?y(b(e)):null}function _(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:i(t,4),nsec:t.getUint32(0)};default:throw new m("Unrecognized data size for timestamp (expected 4, 8, or 12): "+e.length)}}function I(e){var t=_(e);return new Date(1e3*t.sec+t.nsec/1e6)}var w={type:E,encode:C,decode:I},S=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(w)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var i=1+t;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(i=r(e,t)))return new g(-1-n,i);for(n=0;n<this.encoders.length;n++){var r,i;if(null!=(r=this.encoders[n])&&null!=(i=r(e,t)))return new g(n,i)}return e instanceof g?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new g(t,e)},e.defaultCodec=new e,e}();function T(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var R=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},k=function(){function e(e,t,n,r,i,o,a,s){void 0===e&&(e=S.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=i,this.forceFloat32=o,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>l){var t=c(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),d(e,this.bytes,this.pos),this.pos+=t}else t=c(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,i=n,o=0;o<r;){var a=e.charCodeAt(o++);if(0!=(4294967168&a)){if(0==(4294965248&a))t[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&o<r){var s=e.charCodeAt(o);56320==(64512&s)&&(++o,a=((1023&a)<<10)+(1023&s)+65536)}0==(4294901760&a)?(t[i++]=a>>12&15|224,t[i++]=a>>6&63|128):(t[i++]=a>>18&7|240,t[i++]=a>>12&63|128,t[i++]=a>>6&63|128)}t[i++]=63&a|128}else t[i++]=a}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}var n=T(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n,r,i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else{if(!(i<4294967296))throw new Error("Too large array: "+i);this.writeU8(221),this.writeU32(i)}try{for(var o=R(e),a=o.next();!a.done;a=o.next()){var s=a.value;this.doEncode(s,t+1)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.countWithoutUndefined=function(e,t){var n,r,i=0;try{for(var o=R(t),a=o.next();!a.done;a=o.next())void 0!==e[a.value]&&i++}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype.encodeMap=function(e,t){var n,r,i=Object.keys(e);this.sortKeys&&i.sort();var o=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(o<16)this.writeU8(128+o);else if(o<65536)this.writeU8(222),this.writeU16(o);else{if(!(o<4294967296))throw new Error("Too large map object: "+o);this.writeU8(223),this.writeU32(o)}try{for(var a=R(i),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];this.ignoreUndefined&&void 0===u||(this.encodeString(c),this.doEncode(u,t+1))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),r(this.view,this.pos,e),this.pos+=8},e}(),O={};function N(e,t){return void 0===t&&(t=O),new k(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}function x(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}var D=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){var r,i,o=this.caches[n-1];try{e:for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),s=a.next();!s.done;s=a.next()){for(var c=s.value,u=c.bytes,l=0;l<n;l++)if(u[l]!==e[t+l])continue e;return c.str}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var i=f(e,t,n),o=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(o,i),i},e}(),L=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},P=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},M=function e(t){return this instanceof e?(this.v=t,this):new e(t)},B=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof M?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},U=new DataView(new ArrayBuffer(0)),j=new Uint8Array(U.buffer),F=function(){try{U.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),Q=new F("Insufficient data"),V=new D,G=function(){function e(e,t,r,i,o,a,s,c){void 0===e&&(e=S.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=n),void 0===i&&(i=n),void 0===o&&(o=n),void 0===a&&(a=n),void 0===s&&(s=n),void 0===c&&(c=V),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=i,this.maxArrayLength=o,this.maxMapLength=a,this.maxExtLength=s,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=U,this.bytes=j,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=T(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=T(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=T(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra "+(t.byteLength-n)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return L(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,i,o,a,s,c;return o=this,a=void 0,c=function(){var o,a,s,c,u,l,d,f;return L(this,(function(p){switch(p.label){case 0:o=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),t=P(e),p.label=2;case 2:return[4,t.next()];case 3:if((n=p.sent()).done)return[3,5];if(s=n.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),o=!0}catch(e){if(!(e instanceof F))throw e}this.totalPos+=this.pos,p.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=p.sent(),r={error:c},[3,12];case 7:return p.trys.push([7,,10,11]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=(u=this).headByte,d=u.pos,f=u.totalPos,new RangeError("Insufficient data in parsing "+x(l)+" at "+f+" ("+d+" in the current buffer)")}}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(n,r)}i((c=c.apply(o,a||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return B(this,arguments,(function(){var n,r,i,o,a,s,c,u,l;return L(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),i=P(e),d.label=2;case 2:return[4,M(i.next())];case 3:if((o=d.sent()).done)return[3,12];if(a=o.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,M(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=d.sent())instanceof F))throw s;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),u={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),o&&!o.done&&(l=i.return)?[4,M(l.call(i))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!=(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)n=this.lookU8(),t=this.decodeUtf8String(n,1);else if(218===e)n=this.lookU16(),t=this.decodeUtf8String(n,2);else if(219===e)n=this.lookU32(),t=this.decodeUtf8String(n,4);else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e)r=this.lookU16(),t=this.decodeBinary(r,2);else if(198===e)r=this.lookU32(),t=this.decodeBinary(r,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)r=this.lookU8(),t=this.decodeExtension(r,1);else if(200===e)r=this.lookU16(),t=this.decodeExtension(r,2);else{if(201!==e)throw new m("Unrecognized type byte: "+x(e));r=this.lookU32(),t=this.decodeExtension(r,4)}this.complete();for(var i=this.stack;i.length>0;){var o=i[i.length-1];if(0===o.type){if(o.array[o.position]=t,o.position++,o.position!==o.size)continue e;i.pop(),t=o.array}else{if(1===o.type){if("string"!=(a=typeof t)&&"number"!==a)throw new m("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new m("The key __proto__ is not allowed");o.key=t,o.type=2;continue e}if(o.map[o.key]=t,o.readCount++,o.readCount!==o.size){o.key=null,o.type=1;continue e}i.pop(),t=o.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new m("Unrecognized array type byte: "+x(e))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new m("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new m("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new m("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+t+e)throw Q;var r,i=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>v?function(e,t,n){var r=e.subarray(t,t+n);return h.decode(r)}(this.bytes,i,e):f(this.bytes,i,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new m("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw Q;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new m("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=i(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),H={};function q(e,t){return void 0===t&&(t=H),new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function K(e,t){return void 0===t&&(t=H),new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var W=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Y=function e(t){return this instanceof e?(this.v=t,this):new e(t)},z=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof Y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}};function J(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}function X(e){return null!=e[Symbol.asyncIterator]?e:function(e){return z(this,arguments,(function(){var t,n,r,i;return W(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Y(t.read())];case 3:return n=o.sent(),r=n.done,i=n.value,r?[4,Y(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return J(i),[4,Y(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}function Z(e,t){return void 0===t&&(t=H),n=this,r=void 0,o=function(){var n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){return n=X(e),[2,new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(n)]}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o}function $(e,t){void 0===t&&(t=H);var n=X(e);return new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(n)}function ee(e,t){void 0===t&&(t=H);var n=X(e);return new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(n)}function te(e,t){return void 0===t&&(t=H),ee(e,t)}return t}()}(az),(0,DB.exports)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,DB.exports)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,DB.exports)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,DB.exports)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,DB.exports)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,DB.exports)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,DB.exports)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var sz,cz,uz=function(){return function(e){var t=window.atob(e).split("").map((function(e){return e.charCodeAt(0)}));return new Uint8Array(t,0,t.length/Uint8Array.BYTES_PER_ELEMENT)}("AGFzbQEAAAABMAlgA39/fwF/YAF/AGACf38AYAF/AX9gAn9/AX9gA39/fwBgBH9/f38AYAABf2AAAAI6AgNlbnYWZW1zY3JpcHRlbl9yZXNpemVfaGVhcAADA2VudhVlbXNjcmlwdGVuX21lbWNweV9iaWcAAAMjIggAAAAAAQEDAQEEBAQEAQEGAQYCBQUAAgAHAwEDAAIHAQMEBQFwAQYGBQYBAYACgAIGCQF/AUHQ48ACCweUAQoGbWVtb3J5AgARX193YXNtX2NhbGxfY3RvcnMAAhlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQAGbWFsbG9jABwEZnJlZQAdEF9fZXJybm9fbG9jYXRpb24AGwx6bGliQ29tcHJlc3MAGglzdGFja1NhdmUAIQxzdGFja1Jlc3RvcmUAIgpzdGFja0FsbG9jACMJCwEAQQELBRgZDA0PCq6FAiIDAAELpQcBBH8gAEH//wNxIQMgAEEQdiEEQQEhACACQQFGBEAgAyABLQAAaiIAQfH/A2sgACAAQfD/A0sbIgAgBGoiA0EQdCIEQYCAPGogBCADQfD/A0sbIAByDwsgAQR/IAJBEE8EQAJAAkACQCACQa8rSwRAA0AgAkGwK2shAkHbAiEFIAEhAANAIAMgAC0AAGoiAyAEaiADIAAtAAFqIgNqIAMgAC0AAmoiA2ogAyAALQADaiIDaiADIAAtAARqIgNqIAMgAC0ABWoiA2ogAyAALQAGaiIDaiADIAAtAAdqIgNqIAMgAC0ACGoiA2ogAyAALQAJaiIDaiADIAAtAApqIgNqIAMgAC0AC2oiA2ogAyAALQAMaiIDaiADIAAtAA1qIgNqIAMgAC0ADmoiA2ogAyAALQAPaiIDaiEEIABBEGohACAFQQFrIgUNAAsgBEHx/wNwIQQgA0Hx/wNwIQMgAUGwK2ohASACQa8rSw0ACyACRQ0DIAJBEEkNAQsDQCADIAEtAABqIgAgBGogACABLQABaiIAaiAAIAEtAAJqIgBqIAAgAS0AA2oiAGogACABLQAEaiIAaiAAIAEtAAVqIgBqIAAgAS0ABmoiAGogACABLQAHaiIAaiAAIAEtAAhqIgBqIAAgAS0ACWoiAGogACABLQAKaiIAaiAAIAEtAAtqIgBqIAAgAS0ADGoiAGogACABLQANaiIAaiAAIAEtAA5qIgBqIAAgAS0AD2oiA2ohBCABQRBqIQEgAkEQayICQQ9LDQALIAJFDQELIAJBAWshBiACQQNxIgUEQCABIQADQCACQQFrIQIgAyAALQAAaiIDIARqIQQgAEEBaiIBIQAgBUEBayIFDQALCyAGQQNJDQADQCADIAEtAABqIgAgAS0AAWoiBSABLQACaiIGIAEtAANqIgMgBiAFIAAgBGpqamohBCABQQRqIQEgAkEEayICDQALCyAEQfH/A3AhBCADQfH/A3AhAwsgBEEQdCADcg8LAkAgAkUNACACQQFrIQYgAkEDcSIFBEAgASEAA0AgAkEBayECIAMgAC0AAGoiAyAEaiEEIABBAWoiASEAIAVBAWsiBQ0ACwsgBkEDSQ0AA0AgAyABLQAAaiIAIAEtAAFqIgUgAS0AAmoiBiABLQADaiIDIAYgBSAAIARqampqIQQgAUEEaiEBIAJBBGsiAg0ACwsgBEHx/wNwQRB0IANB8f8DayADIANB8P8DSxtyBSAACwsKACAAIAEgAhADC4UJAQJ/IAFFBEBBAA8LIABBf3MhAAJAIAJFDQAgAUEDcUUNACABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACACQQFrIgRBACABQQFqIgNBA3EbRQRAIAMhASAEIQIMAQsgAS0AASAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEDAkAgAkECayIERQ0AIANBA3FFDQAgAS0AAiAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUEDaiEDAkAgAkEDayIERQ0AIANBA3FFDQAgAS0AAyAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAkEEayECIAFBBGohAQwCCyADIQEgBCECDAELIAMhASAEIQILIAJBH0sEQANAIAEoAhwgASgCGCABKAIUIAEoAhAgASgCDCABKAIIIAEoAgQgASgCACAAcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAcyEAIAFBIGohASACQSBrIgJBH0sNAAsLIAJBA0sEQANAIAEoAgAgAHMiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzIQAgAUEEaiEBIAJBBGsiAkEDSw0ACwsCQCACRQ0AIAJBAXEEfyABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACABQQFqIQEgAkEBawUgAgshAyACQQFGDQADQCABLQABIAEtAAAgAEH/AXFzQQJ0QYAIaigCACAAQQh2cyIAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEBIANBAmsiAw0ACwsgAEF/cwsKACAAIAEgAhAFC9wEAQN/AkBByN8ALQAAQTFHDQAgAEUNACAAQQA2AhggACgCICIBRQRAIABBADYCKCAAQQE2AiBBASEBCyAAKAIkRQRAIABBAjYCJAsgACgCKEEBQcQtIAERAAAiAUUNACAAIAE2AhwgAUEPNgIwIAFBADYCHCABQQA2AhggAUEqNgIEIAEgADYCACABQQs2AlAgAUGAgAI2AiwgAUH//wE2AjQgAUGAEDYCTCABQQQ2AlggAUH/DzYCVCABIAAoAihBgIACQQIgACgCIBEAADYCOCABIAAoAiggASgCLEECIAAoAiARAAA2AkAgACgCKCABKAJMQQIgACgCIBEAACECIAFBADYCwC0gASACNgJEIAFBgAg2ApwtIAEgACgCKEGACEEEIAAoAiARAAAiAjYCCCABIAEoApwtIgNBAnQ2AgwCQAJAIAEoAjhFDQAgASgCQEUNACACRQ0AIAEoAkQNAQsgAUGaBTYCBCAAQbjfACgCADYCGCAAEAgPCyABQQA2AogBIAFBCTYChAEgAUEIOgAkIAEgAiADQQNsajYCmC0gASACIANBfnFqNgKkLSAAEAkNACAAKAIcIgAgACgCLEEBdDYCPCAAKAJEIgEgACgCTEEBdEECayIDakEAOwEAIAEgAxAgIABBADYCtC0gAEKAgICAIDcCdCAAQgA3AmggAEKAgICAIDcCXCAAQQA2AkggACAAKAKEAUEMbCIBQYTIAGovAQA2ApABIAAgAUGAyABqLwEANgKMASAAIAFBgsgAai8BADYCgAEgACABQYbIAGovAQA2AnwLC6kCAQN/AkAgAEUNACAAKAIgRQ0AIAAoAiQiA0UNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgJBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIAJBmgVGDQAgAkEqRw0BCwJ/An8CfyABKAIIIgIEQCAAKAIoIAIgAxECACAAKAIcIQELIAEoAkQiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAkAiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAjgiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAAoAiggASAAKAIkEQIAIABBADYCHAsLlgIBA39BfiECAkAgAEUNACAAKAIgRQ0AIAAoAiRFDQAgACgCHCIBRQ0AIAEoAgAgAEcNAAJAAkAgASgCBCIDQTlrDjkBAgICAgICAgICAgIBAgICAQICAgICAgICAgICAgICAgICAQICAgICAgICAgICAQICAgICAgICAgEACyADQZoFRg0AIANBKkcNAQsgAEECNgIsIABBADYCCCAAQgA3AhQgAUEANgIUIAEgASgCCDYCECABKAIYIgJBf0wEQCABQQAgAmsiAjYCGAsgAUE5QSpB8QAgAhsgAkECRhs2AgQgAAJ/IAJBAkYEQEEAQQBBABAGDAELQQBBAEEAEAQLNgIwQQAhAiABQQA2AiggARAQCyACC9wIAQt/IAAoAiwiB0GGAmshCyAAKAJ0IQUgByEBA0AgACgCPCAFayAAKAJsIghrIQYgASALaiAITQRAIAAoAjgiASABIAdqIAcgBmsQHxogACAAKAJwIAdrNgJwIAAgACgCbCAHayIINgJsIAAgACgCXCAHazYCXCAAKAJMIgRBAWshCiAAKAJEIARBAXRqIQMgACgCLCEBIARBA3EiAgRAA0AgA0ECayIDQQAgAy8BACIFIAFrIgkgBSAJSRs7AQAgBEEBayEEIAJBAWsiAg0ACwsgCkEDTwRAA0AgA0ECayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EEayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EGayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EIayIDQQAgAy8BACICIAFrIgUgAiAFSRs7AQAgBEEEayIEDQALCyABQQFrIQogACgCQCABQQF0aiEDIAEhBCABQQNxIgIEQANAIANBAmsiA0EAIAMvAQAiBSABayIJIAUgCUkbOwEAIARBAWshBCACQQFrIgINAAsLIApBA08EQANAIANBAmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBGsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBCGsiA0EAIAMvAQAiAiABayIFIAIgBUkbOwEAIARBBGsiBA0ACwsgBiAHaiEGCwJAIAAoAgAiASgCBCIERQ0AIAAoAnQhAiAGIAQgBCAGSxsiAwRAIAAoAjghBSABIAQgA2s2AgQgBSAIaiACaiABKAIAIAMQHyEEAkACQAJAIAEoAhwoAhhBAWsOAgABAgsgASABKAIwIAQgAxAENgIwDAELIAEgASgCMCAEIAMQBjYCMAsgASABKAIAIANqNgIAIAEgASgCCCADajYCCCAAKAJ0IQILIAAgAiADaiIFNgJ0AkAgACgCtC0iAyAFakEDSQ0AIAAgACgCOCIJIAAoAmwgA2siAWoiBC0AACICNgJIIAAgACgCVCIIIAQtAAEgAiAAKAJYIgZ0c3EiBDYCSANAIANFDQEgACABIAlqLQACIAQgBnRzIAhxIgQ2AkggACgCQCAAKAI0IAFxQQF0aiAAKAJEIARBAXRqIgIvAQA7AQAgAiABOwEAIAAgA0EBayIDNgK0LSABQQFqIQEgAyAFakECSw0ACwsgBUGFAksNACAAKAIAKAIERQ0AIAAoAiwhAQwBCwsCQCAAKAI8IgQgACgCwC0iAU0NACAAKAJ0IAAoAmxqIgMgAUsEQCAAKAI4IANqIAQgA2siAUGCAiABQYICSRsiARAgIAAgASADajYCwC0PCyADQYICaiIDIAFNDQAgACgCOCABaiAEIAFrIgQgAyABayIBIAEgBEsbIgEQICAAIAAoAsAtIAFqNgLALQsLsSwBCn8CQCAARQ0AIAAoAiBFDQAgACgCJEUNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgNBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIANBmgVGDQAgA0EqRw0BCwJAAkAgACgCDEUNACAAKAIEIgIEQCAAKAIARQ0BCyADQZoFRw0BCyAAQbDfACgCADYCGA8LIAAoAhBFBEAgAEG83wAoAgA2AhgPCyABKAIoIQUgAUEDNgIoAkAgASgCFARAIAEQEwJAIAAoAhAiAyABKAIUIgQgAyAESRsiAkUNACAAKAIMIAEoAhAgAhAfGiAAIAAoAgwgAmo2AgwgASABKAIQIAJqNgIQIAAgACgCFCACajYCFCAAIAAoAhAgAmsiAzYCECABIAEoAhQgAmsiBDYCFCAEDQAgASABKAIINgIQQQAhBAsgAwRAIAEoAgQhAwwCCyABQX82AigPCyACDQAgBUEBdEF3QQAgBUEEShtqQQZIDQAgAEG83wAoAgA2AhgPCwJAAkACQAJAAn8CQAJAAkACQAJAAkAgA0EqRwRAIANBmgVHDQEgACgCBEUNAiAAQbzfACgCADYCGA8LIAEoAjBBDHRBgPABayEDQQAhAgJAIAEoAogBQQFKDQAgASgChAEiBUECSA0AQcAAIQIgBUEGSA0AQYABQcABIAVBBkYbIQILIAEgBEEBajYCFCABKAIIIARqIAIgA3IiAkEgciACIAEoAmwbIgJBCHY6AAAgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQR9wIAJyQR9zOgAAIAEoAmwEQCAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQRh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEQdjoAACAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQQh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAAAsgAEEAQQBBABAENgIwIAFB8QA2AgQgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBCABKAIEIQMLAkACQAJAAkACQAJAAkAgA0E5RgR/IABBAEEAQQAQBjYCMCABIAEoAhQiAkEBajYCFCACIAEoAghqQR86AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakGLAToAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQg6AAAgASgCHCICDQIgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQA6AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAAEECIQIgASgChAEiA0EJRwRAQQQgASgCiAFBAUpBAnQgA0ECSBshAgsgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBAzoAACABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIUDQEgASgCBAUgAwtBxQBrDiMCBgYGAwYGBgYGBgYGBgYGBgYGBgYGBAYGBgYGBgYGBgYGBQYLIAFBfzYCKA8LIAIoAiQhAyACKAIcIQQgAigCECEFIAIoAiwhBiACKAIAIQggASABKAIUIgdBAWo2AhRBAiECIAcgASgCCGogBkEAR0EBdCAIQQBHciAFQQBHQQJ0ciAEQQBHQQN0ciADQQBHQQR0cjoAACABKAIcKAIEIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAhwoAgQhAyABIAEoAhQiBEEBajYCFCAEIAEoAghqIANBCHY6AAAgASgCHC8BBiEDIAEgASgCFCIEQQFqNgIUIAQgASgCCGogAzoAACABKAIcLQAHIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAoQBIgNBCUcEQEEEIAEoAogBQQFKQQJ0IANBAkgbIQILIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAACABKAIcKAIMIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEoAhwiAigCEAR/IAIoAhQhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAI6AAAgASgCHCgCFCECIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEIdjoAACABKAIcBSACCygCLARAIAAgACgCMCABKAIIIAEoAhQQBjYCMAsgAUHFADYCBCABQQA2AiALIAEoAhwiBCgCECIDBEAgASgCFCICIAQvARQgASgCICIGayIFaiABKAIMIgRLBEADQCABKAIIIAJqIAMgBmogBCACayIEEB8aIAEgASgCDCIDNgIUAkAgAiADTw0AIAEoAhwoAixFDQAgACAAKAIwIAEoAgggAmogAyACaxAGNgIwCyABIAEoAiAgBGo2AiAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIGIAMgBkkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQEQCABQX82AigPCyABKAIgIQYgASgCHCgCECEDQQAhAiAFIARrIgUgASgCDCIESw0ACwsgASgCCCACaiADIAZqIAUQHxogASABKAIUIAVqIgM2AhQCQCACIANPDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCACaiADIAJrEAY2AjALIAFBADYCIAsgAUHJADYCBAsgASgCHCgCHARAIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCHCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLAkAgASgCHCgCLEUNACABKAIUIgIgBU0NACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAFBADYCIAsgAUHbADYCBAsCQCABKAIcKAIkRQ0AIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCJCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLIAEoAhwoAixFDQAgASgCFCICIAVNDQAgACAAKAIwIAEoAgggBWogAiAFaxAGNgIwCyABQecANgIECyABKAIcKAIsBEAgASgCDCABKAIUIgJBAmpJBEAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBUEAIQILIAAoAjAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAAoAjAhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAJBCHY6AAAgAEEAQQBBABAGNgIwCyABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIURQ0AIAFBfzYCKA8LIAAoAgQNAQsgASgCdA0AIAEoAgRBmgVGDQgLIAEoAoQBIgJFBEAgAUEDEAwMBAsCQAJAIAEoAogBQQJrDgIAAQQLA0ACQAJAIAEoAnQNACABEAogASgCdA0AIAFBADYCtC0MAQsgAUEANgJgIAEoAjggASgCbGotAAAhAiABKAKkLSABKAKgLSIDQQF0akEAOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAjoAACABIAJBAnRqQZQBaiICIAIvAQBBAWo7AQAgASABKAJ0QQFrNgJ0IAEgASgCbEEBaiICNgJsIAEoAqAtIAEoApwtQQFrRw0BIAEgASgCXCIEQQBOBH8gASgCOCAEagVBAAsgAiAEa0EAEBQgASABKAJsNgJcIAEoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAEoAgAoAhANAQwHCwsgASgCoC1FDQcgASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNBQwHCwNAAkACQAJAIAEoAnQiAkGDAk8EQCABQQA2AmAMAQsgARAKIAEoAnQiAgRAIAFBADYCYCACQQJLDQEgASgCbCEDDAILIAFBADYCtC0gASgCoC1FDQogASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNCAwKCyABKAJsIgNFBEBBACEDDAELIAEoAjggA2oiBkEBayIFLQAAIgQgBi0AAEcNACAEIAUtAAJHDQAgBCAFLQADRw0AIAZBggJqIQlBfyEIAkACQAJAAkACQAJAA0AgBiAIaiIFLQAEIARGBEAgBCAFLQAFRw0CIAQgBS0ABkcNAyAEIAUtAAdHDQQgBCAGIAhBCGoiCmoiBy0AAEcNByAEIAUtAAlHDQUgBCAFLQAKRw0GIAVBC2ohByAIQfYBSg0HIAohCCAEIActAABGDQEMBwsLIAVBBGohBwwFCyAFQQVqIQcMBAsgBUEGaiEHDAMLIAVBB2ohBwwCCyAFQQlqIQcMAQsgBUEKaiEHCyABIAIgByAJa0GCAmoiBCACIARJGyICNgJgIAJBA0kNACABKAKkLSABKAKgLSIDQQF0akEBOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAWpBmAlqIgIgAi8BAEEBajsBACABQYDJAC0AAEECdGpBiBNqIgIgAi8BAEEBajsBACABKAJgIQIgAUEANgJgIAEgASgCdCACazYCdCABIAIgASgCbGoiAjYCbCABKAKgLSABKAKcLUEBa0cNAgwBCyABKAI4IANqLQAAIQIgASgCpC0gASgCoC0iA0EBdGpBADsBACABIANBAWo2AqAtIAMgASgCmC1qIAI6AAAgASACQQJ0akGUAWoiAiACLwEAQQFqOwEAIAEgASgCdEEBazYCdCABIAEoAmxBAWoiAjYCbCABKAKgLSABKAKcLUEBa0cNAQsgASABKAJcIgRBAE4EfyABKAI4IARqBUEACyACIARrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEA0ACwwECyABQX82AigPCyABQX82AigPCyABQQMgAkEMbEGIyABqKAIAEQQACyICQX5xQQJGBEAgAUGaBTYCBAsgAkF9cQ0BCyAAKAIQDQMgAUF/NgIoDwsgAkEBRw0BCyABQQBBAEEAEBIgASgCRCICIAEoAkxBAXRBAmsiA2pBADsBACACIAMQICABKAJ0RQRAIAFBADYCtC0gAUEANgJcIAFBADYCbAsgACgCHCICEBMCQCAAKAIQIgQgAigCFCIDIAMgBEsbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrIgQ2AhAgAiACKAIUIANrIgM2AhQgAw0AIAIgAigCCDYCEAsgBA0AIAFBfzYCKAsLC7YNAQt/IAAoAgAiBCgCBCEJQQEhCAJAIAQoAhAiAyAAKAK8LUEqakEDdSICSQ0AIAAoAiwiBSAAKAIMQQVrIgYgBSAGSRshCiABQQRHIQsDQCAKIAMgAmsiAyAAKAJsIAAoAlxrIgYgBCgCBGoiAkH//wMgAkH//wNJGyIFIAMgBUkbIgNLBEAgAiADRw0CIAFFDQIgCyADRXENAgsgAEEAQQAgAUEERiACIANGcSIHEBIgACgCFCAAKAIIakEEayADOgAAIAAoAhQgACgCCGpBA2sgA0EIdjoAACAAKAIUIAAoAghqQQJrIANBf3MiAjoAACAAKAIUIAAoAghqQQFrIAJBCHY6AAAgACgCACICKAIcIgQQEwJAIAIoAhAiBSAEKAIUIgwgBSAMSRsiBUUNACACKAIMIAQoAhAgBRAfGiACIAIoAgwgBWo2AgwgBCAEKAIQIAVqNgIQIAIgAigCFCAFajYCFCACIAIoAhAgBWs2AhAgBCAEKAIUIAVrIgI2AhQgAg0AIAQgBCgCCDYCEAsCfyAGBEAgACgCACgCDCAAKAI4IAAoAlxqIAMgBiADIAZJGyICEB8aIAAoAgAiBCAEKAIMIAJqNgIMIAQgBCgCECACazYCECAEIAQoAhQgAmo2AhQgACAAKAJcIAJqNgJcIAMgAmshAwsgAwsEQCAAKAIAIgIoAgwhBSADIAIoAgQiBiADIAZJGyIEBEAgAiAGIARrNgIEIAUgAigCACAEEB8hBQJAAkACQCACKAIcKAIYQQFrDgIAAQILIAIgAigCMCAFIAQQBDYCMAwBCyACIAIoAjAgBSAEEAY2AjALIAIgAigCACAEajYCACACIAIoAgggBGo2AgggACgCACICKAIMIQULIAIgAyAFajYCDCACIAIoAhAgA2s2AhAgAiACKAIUIANqNgIUCyAAKAIAIQQgBwRAQQAhCAwCCyAEKAIQIgMgACgCvC1BKmpBA3UiAk8NAAsLAkAgCSAEKAIEayIDRQRAIAAoAmwhAgwBCwJAIAAoAiwiAiADTQRAIABBAjYCsC0gACgCOCAEKAIAIAJrIAIQHxogACAAKAIsIgQ2AmwgBCECDAELAkAgACgCPCAAKAJsIgRrIANLDQAgACAEIAJrIgQ2AmwgACgCOCIFIAIgBWogBBAfGiAAKAKwLSICQQFLDQAgACACQQFqNgKwLQsgACgCOCAAKAJsaiAAKAIAKAIAIANrIAMQHxogACAAKAJsIANqIgI2AmwgACgCLCEECyAAIAI2AlwgACAEIAAoArQtIgVrIgQgAyADIARLGyAFajYCtC0LIAIgACgCwC1LBEAgACACNgLALQtBAyEDAkAgCEUNACAAKAIAIgQoAgQhAwJAAkAgAUF7cUUNACADDQBBASEDIAIgACgCXEYNAiAAKAI8IAJBf3NqIQVBACEDDAELIAMgACgCPCACQX9zaiIFTQ0AIAAoAlwiByAAKAIsIgZIDQAgACACIAZrIgM2AmwgACAHIAZrNgJcIAAoAjgiAiACIAZqIAMQHxogACgCsC0iA0EBTQRAIAAgA0EBajYCsC0LIAAoAiwgBWohBSAAKAIAIgQoAgQhAwsCQCADIAUgAyAFSRsiAkUEQCAAKAJsIQMMAQsgACgCbCEFIAAoAjghBiAEIAMgAms2AgQgBSAGaiAEKAIAIAIQHyEDAkACQAJAIAQoAhwoAhhBAWsOAgABAgsgBCAEKAIwIAMgAhAENgIwDAELIAQgBCgCMCADIAIQBjYCMAsgBCAEKAIAIAJqNgIAIAQgBCgCCCACajYCCCAAIAAoAmwgAmoiAzYCbAsgAyAAKALALUsEQCAAIAM2AsAtCyADIAAoAlwiBmsiBCAAKAIsIgMgACgCDCAAKAK8LUEqakEDdWsiAkH//wMgAkH//wNJGyICIAIgA0sbSQRAQQAhAyABRQ0BIAFBBEYgBEEAR3JFDQEgAiAESQ0BIAAoAgAoAgQNAQtBACEFIAAgACgCOCAGaiACIAQgAiAESRsiAwJ/IAFBBEYEQCAAKAIAKAIERSACIARPcSEFCyAFCxASIAAgACgCXCADajYCXCAAKAIAIgAoAhwiAxATAkAgACgCECICIAMoAhQiBCACIARJGyICRQ0AIAAoAgwgAygCECACEB8aIAAgACgCDCACajYCDCADIAMoAhAgAmo2AhAgACAAKAIUIAJqNgIUIAAgACgCECACazYCECADIAMoAhQgAmsiADYCFCAADQAgAyADKAIINgIQC0ECQQAgBRshAwsgAwu5CwENfwJAA0ACQAJAIAAoAnRBhQJNBEAgABAKIAAoAnQhAgJAIAENACACQYYCTw0AQQAPCyACRQ0EIAJBA0kNAQsgACAAKAJUIAAoAmwiAiAAKAI4ai0AAiAAKAJIIAAoAlh0c3EiAzYCSCAAKAJAIAIgACgCNHFBAXRqIAAoAkQgA0EBdGoiBC8BACIDOwEAIAQgAjsBACADRQ0AIAAoAixBhgJrIAIgA2tJDQAgACAAIAMQDiICNgJgDAELIAAoAmAhAgsCQCACQQNPBEAgACgCpC0gACgCoC0iA0EBdGogACgCbCAAKAJwayIEOwEAIAAgA0EBajYCoC0gAyAAKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAGpBmAlqIgIgAi8BAEEBajsBACAAIARBAWtB//8DcSICIAJBB3ZBgAJqIAJBgAJJG0GAyQBqLQAAQQJ0akGIE2oiAiACLwEAQQFqOwEAIAAgACgCdCAAKAJgIgJrIgM2AnQgACgCnC1BAWshBiAAKAKgLSEHAkAgA0EDSQ0AIAIgACgCgAFLDQAgACACQQFrIgM2AmAgACgCSCEEIAAoAmwhAiAAKAI0IQggACgCQCEJIAAoAkQhCiAAKAJUIQsgACgCOCEMIAAoAlghDQNAIAAgAiIFQQFqIgI2AmwgACAFIAxqLQADIAQgDXRzIAtxIgQ2AkggCSACIAhxQQF0aiAKIARBAXRqIg4vAQA7AQAgDiACOwEAIAAgA0EBayIDNgJgIAMNAAsgACAFQQJqIgI2AmwgBiAHRw0DDAILIABBADYCYCAAIAAoAmwgAmoiAjYCbCAAIAAoAjggAmoiAy0AACIENgJIIAAgACgCVCADLQABIAQgACgCWHRzcTYCSCAGIAdHDQIMAQsgACgCOCAAKAJsai0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBACAAIAAoAnRBAWs2AnQgACAAKAJsQQFqIgI2AmwgACgCoC0gACgCnC1BAWtHDQELQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQALQQAPCyAAIAAoAmwiAkECIAJBAkkbNgK0LSABQQRGBEBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EBEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALQQNBAiAAKAIAKAIQGw8LAkAgACgCoC1FDQBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EAEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAAoAgAoAhANAEEADwtBAQukBAEQfyAAKAJ8IgMgA0ECdiAAKAJ4IgQgACgCjAFJGyEJQQAgACgCbCIDIAAoAixrQYYCaiICIAIgA0sbIQwgACgCdCIHIAAoApABIgIgAiAHSxshDSAAKAI4Ig4gA2oiBUGCAmohDyAEIAVqIgMtAAAhCiADQQFrLQAAIQsgACgCNCEQIAAoAkAhEQNAAkACQCABIA5qIgMgBGoiAi0AACAKRw0AIAJBAWstAAAgC0cNACADLQAAIAUtAABHDQBBAiEGIAMtAAEgBS0AAUcNAAJAAkACQAJAAkACQAJAA0AgBSAGaiICLQABIAMtAANHDQYgAi0AAiADLQAERw0FIAItAAMgAy0ABUcNBCACLQAEIAMtAAZHDQMgAi0ABSADLQAHRw0CIAItAAYgAy0ACEcNASACLQAHIAMtAAlGBEAgBkH5AUshCCAFIAZBCGoiBmohAiAIDQggAy0ACiEIIANBCGohAyACLQAAIAhGDQEMCAsLIAJBB2ohAgwGCyACQQZqIQIMBQsgAkEFaiECDAQLIAJBBGohAgwDCyACQQNqIQIMAgsgAkECaiECDAELIAJBAWohAgsgAiAPayICQYICaiIDIARMDQAgACABNgJwIAMgDU4EQCADIQQMAgsgAyAFai0AACEKIAIgBWotAIECIQsgAyEECyAJQQFrIglFDQAgDCARIAEgEHFBAXRqLwEAIgFJDQELCyAHIAQgBCAHSxsL3Q4BB38DQAJAAkACQCAAKAJ0QYUCSw0AIAAQCiAAKAJ0IQICQCABDQAgAkGGAk8NAEEADwsgAkUNAiACQQJLDQAgACAAKAJgIgI2AnggACAAKAJwNgJkQQIhAyAAQQI2AmAMAQtBAiEDIAAgACgCVCAAKAJsIgIgACgCOGotAAIgACgCSCAAKAJYdHNxIgQ2AkggACgCQCACIAAoAjRxQQF0aiAAKAJEIARBAXRqIgUvAQAiBDsBACAFIAI7AQAgACAAKAJgIgI2AnggACAAKAJwNgJkIABBAjYCYCAERQ0AAkAgAiAAKAKAAU8NACAAKAIsQYYCayAAKAJsIARrSQ0AIAAgACAEEA4iAzYCYCADQQVLDQAgACgCiAFBAUcEQCADQQNHDQFBAyEDIAAoAmwgACgCcGtBgSBJDQELQQIhAyAAQQI2AmALIAAoAnghAgsCQCACQQNJDQAgAiADSQ0AIAAoAnQhBCAAKAKkLSAAKAKgLSIDQQF0aiAAKAJsIgUgACgCZEF/c2oiBjsBACAAIANBAWo2AqAtIAMgACgCmC1qIAJBA2siAjoAACACQf8BcUGAzQBqLQAAQQJ0IABqQZgJaiICIAIvAQBBAWo7AQAgACAGQQFrQf//A3EiAiACQQd2QYACaiACQYACSRtBgMkAai0AAEECdGpBiBNqIgIgAi8BAEEBajsBACAAIAAoAngiAkECayIDNgJ4IAAgACgCdCACa0EBajYCdCAEIAVqQQNrIQUgACgCnC1BAWshByAAKAJsIQIgACgCoC0hCANAIAAgAiIEQQFqIgI2AmwgAiAFTQRAIAAgACgCVCAEIAAoAjhqLQADIAAoAkggACgCWHRzcSIGNgJIIAAoAkAgACgCNCACcUEBdGogACgCRCAGQQF0aiIGLwEAOwEAIAYgAjsBAAsgACADQQFrIgM2AnggAw0ACyAAQQI2AmAgAEEANgJoIAAgBEECaiICNgJsIAcgCEcNAkEAIQMgACAAKAJcIgRBAE4EfyAAKAI4IARqBSADCyACIARrQQAQFCAAIAAoAmw2AlwgACgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACgCACgCEA0CQQAPCyAAKAJoBEAgACgCbCAAKAI4akEBay0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBAAJAIAAoAqAtIAAoApwtQQFrRw0AQQAhAyAAIAAoAlwiAkEATgR/IAAoAjggAmoFIAMLIAAoAmwgAmtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACAAKAJsQQFqNgJsIAAgACgCdEEBazYCdCAAKAIAKAIQDQJBAA8FIABBATYCaCAAIAAoAmxBAWo2AmwgACAAKAJ0QQFrNgJ0DAILAAsLIAAoAmgEQCAAKAJsIAAoAjhqQQFrLQAAIQIgACgCpC0gACgCoC0iA0EBdGpBADsBACAAIANBAWo2AqAtIAMgACgCmC1qIAI6AAAgACACQQJ0akGUAWoiAiACLwEAQQFqOwEAIABBADYCaAsgACAAKAJsIgJBAiACQQJJGzYCtC0gAUEERgRAQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBARAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQC0EDQQIgACgCACgCEBsPCwJAIAAoAqAtRQ0AQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQBBAA8LQQELYQAgAEEANgK8LSAAQQA7AbgtIABBuBZqQajPADYCACAAIABB/BRqNgKwFiAAQawWakGUzwA2AgAgACAAQYgTajYCpBYgAEGgFmpBgM8ANgIAIAAgAEGUAWo2ApgWIAAQEQvwBAEDfyAAQZQBaiECA0AgAiABQQJ0IgNqQQA7AQAgAiADQQRyakEAOwEAIAFBAmoiAUGeAkcNAAsgAEEAOwH8FCAAQQA7AYgTIABBxBVqQQA7AQAgAEHAFWpBADsBACAAQbwVakEAOwEAIABBuBVqQQA7AQAgAEG0FWpBADsBACAAQbAVakEAOwEAIABBrBVqQQA7AQAgAEGoFWpBADsBACAAQaQVakEAOwEAIABBoBVqQQA7AQAgAEGcFWpBADsBACAAQZgVakEAOwEAIABBlBVqQQA7AQAgAEGQFWpBADsBACAAQYwVakEAOwEAIABBiBVqQQA7AQAgAEGEFWpBADsBACAAQYAVakEAOwEAIABB/BNqQQA7AQAgAEH4E2pBADsBACAAQfQTakEAOwEAIABB8BNqQQA7AQAgAEHsE2pBADsBACAAQegTakEAOwEAIABB5BNqQQA7AQAgAEHgE2pBADsBACAAQdwTakEAOwEAIABB2BNqQQA7AQAgAEHUE2pBADsBACAAQdATakEAOwEAIABBzBNqQQA7AQAgAEHIE2pBADsBACAAQcQTakEAOwEAIABBwBNqQQA7AQAgAEG8E2pBADsBACAAQbgTakEAOwEAIABBtBNqQQA7AQAgAEGwE2pBADsBACAAQawTakEAOwEAIABBqBNqQQA7AQAgAEGkE2pBADsBACAAQaATakEAOwEAIABBnBNqQQA7AQAgAEGYE2pBADsBACAAQZQTakEAOwEAIABBkBNqQQA7AQAgAEGME2pBADsBACAAQgA3AqwtIABBlAlqQQE7AQAgAEEANgKoLSAAQQA2AqAtC7IDAQJ/IAAgAC8BuC0gA0H//wNxIgUgACgCvC0iBHRyIgM7AbgtAkACQAJ/IARBDk4EQCAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAM6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAAQbktai0AADoAACAAIAVBECAAKAK8LSIEa3YiAzsBuC0gBEENawwBCyAEQQNqCyIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGohBCAAQbktai0AACEDDAELIARBAUgNASAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQLIAQgAzoAAAsgAEEANgK8LSAAQQA7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAjoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAJBCHY6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiACQX9zIgM6AAAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADQQh2OgAAIAAoAgggACgCFGogASACEB8aIAAgACgCFCACajYCFAusAQEBfwJAIAACfyAAKAK8LSIBQRBGBEAgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIAAoAhQiAUEBajYCFCABIAAoAghqIABBuS1qLQAAOgAAIABBADsBuC1BAAwBCyABQQhIDQEgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIABBuS1qLQAAOwG4LSAAKAK8LUEIaws2ArwtCwuhEwENfwJ/AkACQAJAIAAoAoQBQQFOBEAgACgCACIGKAIsQQJHDQNB/4D/n38hBANAAkAgBEEBcUUNACAAIAVBAnRqLwGUAUUNAEEAIQQMBAsCQCAEQQJxRQ0AIAAgBUECdEEEcmovAZQBRQ0AQQAhBAwECyAEQQJ2IQQgBUECaiIFQSBHDQALDAELIAJBBWoiBQwDCwJAIAAvAbgBDQAgAC8BvAENACAALwHIAQ0AQSAhBQNAIAAgBUECdCIEai8BlAENASAAIARBBHJqLwGUAQ0BIAAgBEEIcmovAZQBDQEgACAEQQxyai8BlAENAUEAIQQgBUEEaiIFQYACRw0ACwwBC0EBIQQLIAYgBDYCLAsgACAAQZgWahAVIAAgAEGkFmoQFSAALwGWASEEIAAgAEGcFmooAgAiCkECdGpB//8DOwGaASAKQQBOBEBBB0GKASAEGyEJQQRBAyAEGyELIABBwBVqIQ4gAEHEFWohDyAAQbwVaiEQQX8hDANAIAQhBSAAIAgiDUEBaiIIQQJ0ai8BlgEhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgAEGKE2ovAQAhBCAAIABBqBZqKAIAIgpBAnRqQY4TakH//wM7AQBBACEHIApBAE4EQEEHQYoBIAQbIQlBBEEDIAQbIQsgAEHAFWohDiAAQcQVaiEPIABBvBVqIRBBfyEMQQAhCANAIAQhBSAAIAgiDUEBaiIIQQJ0akGKE2ovAQAhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgACAAQbAWahAVIAAgACgCqC0Cf0ESIABBuhVqLwEADQAaQREgAEGCFWovAQANABpBECAAQbYVai8BAA0AGkEPIABBhhVqLwEADQAaQQ4gAEGyFWovAQANABpBDSAAQYoVai8BAA0AGkEMIABBrhVqLwEADQAaQQsgAEGOFWovAQANABpBCiAAQaoVai8BAA0AGkEJIABBkhVqLwEADQAaQQggAEGmFWovAQANABpBByAAQZYVai8BAA0AGkEGIABBohVqLwEADQAaQQUgAEGaFWovAQANABpBBCAAQZ4Vai8BAA0AGkEDQQIgAEH+FGovAQAbCyIIQQNsaiIEQRFqNgKoLSAEQRtqQQN2IgQgACgCrC1BCmpBA3YiBSAEIAVJGwshBAJAAkAgAUUNACACQQRqIARLDQAgACABIAIgAxASDAELIAAoArwtIQYCQCAEIAVHBEAgACgCiAFBBEcNAQsgACAALwG4LSADQQJqQf//A3EiBCAGdHIiBTsBuC0gAAJ/IAZBDk4EQCAAIAAoAhQiBkEBajYCFCAGIAAoAghqIAU6AAAgACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAAQbktai0AADoAACAAIARBECAAKAK8LSIFa3Y7AbgtIAVBDWsMAQsgBkEDags2ArwtIABBwM8AQcDYABAWDAELIAAvAbgtIANBBGpB//8DcSIHIAZ0ciEFAkAgBkEOTgRAIAAgBTsBuC0gACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAFOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUENayEEIAdBECAFa3YhBQwBCyAGQQNqIQQLIAAgBDYCvC0gAEGcFmooAgAiCkGA/gNqQf//A3EiByAEdCEGIABBqBZqKAIAIQkCfyAEQQxOBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBC2shBCAHQRAgBWt2DAELIARBBWohBCAFIAZyCyEFIAAgBDYCvC0gCUH//wNxIgcgBHQhBgJ/IARBDE4EQCAAIAUgBnIiBDsBuC0gACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAEOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUELayEEIAdBECAFa3YMAQsgBEEFaiEEIAUgBnILIQUgACAENgK8LSAIQf3/A2pB//8DcSIHIAR0IQYCfyAEQQ1OBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBDGshBCAHQRAgBWt2DAELIARBBGohBCAFIAZyCyEGIAAgBDYCvC1BACEFIABBuS1qIQ0DQCAAIAYgACAFQZDcAGotAABBAnRqQf4Uai8BACIHIAR0ciIGOwG4LSAAAn8gBEEOTgRAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogBjoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIA0tAAA6AAAgACAHQRAgACgCvC0iBGt2IgY7AbgtIARBDWsMAQsgBEEDagsiBDYCvC0gBSAIRyEHIAVBAWohBSAHDQALIAAgAEGUAWoiBCAKEBcgACAAQYgTaiIFIAkQFyAAIAQgBRAWCyAAEBEgAwRAAkACfyAAKAK8LSIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAALQC4LToAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQgAEG5LWotAAAMAQsgBEEBSA0BIAAgACgCFCIEQQFqNgIUIAQgACgCCGohBCAALQC4LQshBSAEIAU6AAALIABBADYCvC0gAEEAOwG4LQsLsRUBFX8jAEEgayEKIAEoAgAhCSABKAIIIgIoAgAhBSACKAIMIQ0gAEKAgICA0McANwLQKEF/IRACQCANQQBKBEBBACECA0ACQCAJIAJBAnRqIgMvAQAEQCAAIAAoAtAoQQFqIgM2AtAoIAAgA0ECdGpB3BZqIAI2AgAgACACakHYKGpBADoAACACIRAMAQsgA0EAOwECCyACQQFqIgIgDUcNAAsgACgC0CgiBEEBSg0BCwNAIAAgBEEBaiICNgLQKCAAIAJBAnRqQdwWaiAQQQFqIgNBACAQQQJIIgQbIgI2AgAgCSACQQJ0IgdqQQE7AQAgACACakHYKGpBADoAACAAIAAoAqgtQQFrNgKoLSAFBEAgACAAKAKsLSAFIAdqLwECazYCrC0LIAMgECAEGyEQIAAoAtAoIgRBAkgNAAsLIAEgEDYCBCAEQQF2IQgDQCAAIAhBAnRqQdwWaigCACELAkAgCCICQQF0IgMgBEoNACAAIAtqQdgoaiEPIAkgC0ECdGohBiAIIQUDQAJAIAMgBE4EQCADIQIMAQsgCSAAQdwWaiICIANBAXIiBEECdGooAgAiDkECdGovAQAiByAJIAIgA0ECdGooAgAiDEECdGovAQAiAk8EQCACIAdHBEAgAyECDAILIAMhAiAAQdgoaiIDIA5qLQAAIAMgDGotAABLDQELIAQhAgsgBi8BACIEIAkgACACQQJ0akHcFmooAgAiA0ECdGovAQAiB0kEQCAFIQIMAgsCQCAEIAdHDQAgDy0AACAAIANqQdgoai0AAEsNACAFIQIMAgsgACAFQQJ0akHcFmogAzYCACACIQUgAkEBdCIDIAAoAtAoIgRMDQALCyAAIAJBAnRqQdwWaiALNgIAIAhBAk4EQCAIQQFrIQggACgC0CghBAwBCwsgACgC0CghAwNAIA0hCCAAIANBAWsiBDYC0CggACgC4BYhCyAAIAAgA0ECdGpB3BZqKAIAIg02AuAWQQEhAgJAIANBA0gNACAAIA1qQdgoaiEPQQIhAyAJIA1BAnRqIQZBASEFA0ACQCADIAROBEAgAyECDAELIAkgAEHcFmoiAiADQQFyIgRBAnRqKAIAIg5BAnRqLwEAIgcgCSACIANBAnRqKAIAIgxBAnRqLwEAIgJPBEAgAiAHRwRAIAMhAgwCCyADIQIgAEHYKGoiAyAOai0AACADIAxqLQAASw0BCyAEIQILIAYvAQAiBCAJIAAgAkECdGpB3BZqKAIAIgNBAnRqLwEAIgdJBEAgBSECDAILAkAgBCAHRw0AIA8tAAAgACADakHYKGotAABLDQAgBSECDAILIAAgBUECdGpB3BZqIAM2AgAgAiEFIAJBAXQiAyAAKALQKCIETA0ACwtBAiEDIABB3BZqIgYgAkECdGogDTYCACAAIAAoAtQoQQFrIgQ2AtQoIAAoAuAWIQIgBiAEQQJ0aiALNgIAIAAgACgC1ChBAWsiBDYC1CggBiAEQQJ0aiACNgIAIAkgCEECdGoiDiAJIAJBAnRqIgQvAQAgCSALQQJ0aiIFLwEAajsBACAAQdgoaiIMIAhqIg8gAiAMai0AACICIAsgDGotAAAiByACIAdLG0EBajoAACAEIAg7AQIgBSAIOwECIAAgCDYC4BZBASEFQQEhAgJAIAAoAtAoIgRBAkgNAANAAn8gAyADIARODQAaIAkgBiADQQFyIgRBAnRqKAIAIgtBAnRqLwEAIgIgCSAGIANBAnRqKAIAIg1BAnRqLwEAIgdPBEAgAyACIAdHDQEaIAMgCyAMai0AACAMIA1qLQAASw0BGgsgBAshAiAOLwEAIgQgCSAAIAJBAnRqQdwWaigCACIDQQJ0ai8BACIHSQRAIAUhAgwCCwJAIAQgB0cNACAPLQAAIAAgA2pB2ChqLQAASw0AIAUhAgwCCyAAIAVBAnRqQdwWaiADNgIAIAIhBSACQQF0IgMgACgC0CgiBEwNAAsLIAhBAWohDSAAIAJBAnRqQdwWaiAINgIAIAAoAtAoIgNBAUoNAAsgACAAKALUKEEBayICNgLUKCAAQdwWaiIDIAJBAnRqIAAoAuAWNgIAIAEoAgQhByABKAIIIgIoAhAhBiACKAIIIREgAigCBCETIAIoAgAhEiABKAIAIQwgAEHUFmoiAUIANwEAIABBzBZqIhRCADcBACAAQcQWaiIVQgA3AQAgAEG8FmoiFkIANwEAQQAhCCAMIAMgACgC1ChBAnRqKAIAQQJ0akEAOwECAkAgACgC1CgiAkG7BEoNACACQQFqIQJBACEOA0AgDCAAIAJBAnRqQdwWaigCACIEQQJ0Ig1qIgUgDCAFLwECQQJ0ai8BAiIDQQFqIAYgAyAGSBsiDzsBAiADIAZOIQMCQCAEIAdKDQAgACAPQQF0akG8FmoiCyALLwEAQQFqOwEAQQAhCyAEIBFOBEAgEyAEIBFrQQJ0aigCACELCyAAIAAoAqgtIAUvAQAiBCALIA9qbGo2AqgtIBJFDQAgACAAKAKsLSALIA0gEmovAQJqIARsajYCrC0LIAMgDmohDiACQQFqIgJBvQRHDQALIA5FDQAgACAGQQF0akG8FmohDwNAIAYhAgNAIAAgAiIDQQFrIgJBAXRqQbwWaiIELwEAIgVFDQALIAQgBUEBazsBACAAIANBAXRqQbwWaiICIAIvAQBBAmo7AQAgDyAPLwEAQQFrIgI7AQAgDkECSiEDIA5BAmshDiADDQALIAZFDQBBvQQhBQNAIAJB//8DcSEDIAUhAgNAIAMEQCAAIAJBAWsiAkECdGpB3BZqKAIAIgQgB0oNASAMIARBAnRqIgQvAQIiBSAGRwRAIAAgACgCqC0gBC8BACAGIAVrbGo2AqgtIAQgBjsBAgsgA0EBayEDIAIhBQwBCwsgBkEBayIGRQ0BIAAgBkEBdGpBvBZqLwEAIQIMAAsACyAKIBYvAQBBAXQiAjsBAiAKIAIgAEG+FmovAQBqQQF0IgI7AQQgCiACIABBwBZqLwEAakEBdCICOwEGIAogAiAAQcIWai8BAGpBAXQiAjsBCCAKIAIgFS8BAGpBAXQiAjsBCiAKIAIgAEHGFmovAQBqQQF0IgI7AQwgCiACIABByBZqLwEAakEBdCICOwEOIAogAiAAQcoWai8BAGpBAXQiAjsBECAKIAIgFC8BAGpBAXQiAjsBEiAKIAIgAEHOFmovAQBqQQF0IgI7ARQgCiACIABB0BZqLwEAakEBdCICOwEWIAogAiAAQdIWai8BAGpBAXQiAjsBGCAKIAEvAQAgAmpBAXQiAjsBGiAKIABB1hZqLwEAIAJqQQF0IgI7ARwgCiACIABB2BZqLwEAakEBdDsBHiAQQQBOBEADQCAJIAhBAnRqIgcvAQIiBARAIAogBEEBdGoiACAALwEAIgBBAWo7AQAgBEEDcSEDQQAhAiAEQQFrQQNPBEAgBEH8/wNxIQUDQCAAQQN2QQFxIABBAnZBAXEgAEECcSACIABBAXFyQQJ0cnJBAXRyIgRBAXQhAiAAQQR2IQAgBUEEayIFDQALCyADBEADQCACIABBAXFyIgRBAXQhAiAAQQF2IQAgA0EBayIDDQALCyAHIAQ7AQALIAggEEchACAIQQFqIQggAA0ACwsL2QgBCn8CQCAAKAKgLUUEQCAAKAK8LSEDDAELIABBuS1qIQgDQCAEQQFqIQogACgCmC0gBGotAAAhBQJAIAACfyAAKAKkLSAEQQF0ai8BACIHRQRAIAEgBUECdGoiAy8BAiEEIAAgAC8BuC0gAy8BACIFIAAoArwtIgN0ciIHOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAgsgAyAEagwBCyAFQYDNAGotAAAiC0ECdCIJQYAIciABaiIDLwEGIQQgACAALwG4LSADLwEEIgwgACgCvC0iBnRyIgM7AbgtIAACf0EQIARrIAZIBEAgACAAKAIUIgZBAWo2AhQgBiAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIGa3YiAzsBuC0gBCAGakEQawwBCyAEIAZqCyIENgK8LSALQQhrQRNNBEAgACADIAUgCUGw3ABqKAIAa0H//wNxIgYgBHRyIgM7AbgtIAACf0EQIAlBwNkAaigCACIFayAESARAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAzoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBGt2IgM7AbgtIAQgBWpBEGsMAQsgBCAFagsiBDYCvC0LIAIgB0EBayIFIAVBB3ZBgAJqIAVBgAJJG0GAyQBqLQAAIgtBAnQiCWoiBi8BAiEHIAAgAyAGLwEAIgwgBHRyIgY7AbgtIAACf0EQIAdrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAGOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIEa3YiBjsBuC0gBCAHakEQawwBCyAEIAdqCyIDNgK8LSALQQRJDQEgACAGIAUgCUGw3QBqKAIAa0H//wNxIgUgA3RyIgc7AbgtQRAgCUHA2gBqKAIAIgRrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAoiBCAAKAKgLUkNAAsLIAFBgghqLwEAIQQgACAALwG4LSABLwGACCIKIAN0ciIFOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAFOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAEG5LWotAAA6AAAgACAKQRAgACgCvC0iA2t2OwG4LSAAIAMgBGpBEGs2ArwtDwsgACADIARqNgK8LQuXCwEMfyACQQBOBEBBBEEDIAEvAQIiChshBkEHQYoBIAobIQMgAEG5LWohCEF/IQcDQCAKIQkgASALIgxBAWoiC0ECdGovAQIhCgJAAkAgBUEBaiIEIANODQAgCSAKRw0AIAQhBQwBCwJAIAQgBkgEQCAAIAlBAnRqIgVB/BRqIQ0gBUH+FGohDiAAKAK8LSEFA0AgDi8BACEDIAAgAC8BuC0gDS8BACIGIAV0ciIHOwG4LSAAAn9BECADayAFSARAIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBzoAACAAIAAoAhQiBUEBajYCFCAFIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBWt2OwG4LSADIAVqQRBrDAELIAMgBWoLIgU2ArwtIARBAWsiBA0ACwwBCyAAAn8gCQRAAkAgByAJRgRAIAAoArwtIQMgBCEFDAELIAAgCUECdGoiBEH+FGovAQAhAyAAIAAvAbgtIARB/BRqLwEAIgYgACgCvC0iBHRyIgc7AbgtIAACf0EQIANrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAHOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAZBECAAKAK8LSIEa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAAvAbgtIAAvAbwVIgcgA3RyIQQCQEEQIAAvAb4VIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQf3/A2pB//8DcSIFIAN0ciIEOwG4LSADQQ9OBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBDmsMAgsgA0ECagwBCyAFQQlMBEAgAC8BuC0gAC8BwBUiByAAKAK8LSIDdHIhBAJAQRAgAC8BwhUiBmsgA0gEQCAAIAQ7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogBDoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAgtAAA6AAAgBiAAKAK8LSIEakEQayEDIAdBECAEa3YhBAwBCyADIAZqIQMLIAAgAzYCvC0gACAEIAVB/v8DakH//wNxIgUgA3RyIgQ7AbgtIANBDk4EQCAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAAgBUEQIAAoArwtIgNrdjsBuC0gA0ENawwCCyADQQNqDAELIAAvAbgtIAAvAcQVIgcgACgCvC0iA3RyIQQCQEEQIAAvAcYVIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQfb/A2pB//8DcSIFIAN0ciIEOwG4LSADQQpOBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBCWsMAQsgA0EHags2ArwtC0EAIQUCfyAKRQRAQYoBIQNBAwwBC0EGQQcgCSAKRiIEGyEDQQNBBCAEGwshBiAJIQcLIAIgDEcNAAsLCwkAIAEgAmwQHAsGACABEB0LXwEBfyMAQUBqIgMkACADQQA2AjAgA0IANwMoIAMgADYCCCADIAI2AhQgAyABNgIMIAMgAUEDbDYCGCADQQhqEAcgA0EIahALIANBCGoQCCADKAIcIQEgA0FAayQAIAELBgBB1N8AC6QuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB2N8AKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiAkEDdCIDQYjgAGooAgAiAUEIaiEAAkAgASgCCCIEIANBgOAAaiIDRgRAQdjfACAGQX4gAndxNgIADAELIAQgAzYCDCADIAQ2AggLIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDA0LIARB4N8AKAIAIghNDQEgAARAAkAgACABdEECIAF0IgBBACAAa3JxIgBBACAAa3FBAWsiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiICQQN0IgNBiOAAaigCACIBKAIIIgAgA0GA4ABqIgNGBEBB2N8AIAZBfiACd3EiBjYCAAwBCyAAIAM2AgwgAyAANgIICyABQQhqIQAgASAEQQNyNgIEIAEgBGoiAyACQQN0IgUgBGsiAkEBcjYCBCABIAVqIAI2AgAgCARAIAhBA3YiBUEDdEGA4ABqIQRB7N8AKAIAIQECfyAGQQEgBXQiBXFFBEBB2N8AIAUgBnI2AgAgBAwBCyAEKAIICyEFIAQgATYCCCAFIAE2AgwgASAENgIMIAEgBTYCCAtB7N8AIAM2AgBB4N8AIAI2AgAMDQtB3N8AKAIAIglFDQEgCUEAIAlrcUEBayIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QYjiAGooAgAiAygCBEF4cSAEayEBIAMhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAEayICIAEgASACSyICGyEBIAAgAyACGyEDIAAhAgwBCwsgAyAEaiILIANNDQIgAygCGCEKIAMgAygCDCIFRwRAIAMoAggiAEHo3wAoAgBJGiAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEHc3wAoAgAiCEUNAEEfIQcgBEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcaiEHC0EAIARrIQECQAJAAkAgB0ECdEGI4gBqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QYjiAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFB4N8AKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCSAFIAUoAgwiA0cEQCAFKAIIIgBB6N8AKAIASRogACADNgIMIAMgADYCCAwKCyAFQRRqIgIoAgAiAEUEQCAFKAIQIgBFDQQgBUEQaiECCwNAIAIhBiAAIgNBFGoiAigCACIADQAgA0EQaiECIAMoAhAiAA0ACyAGQQA2AgAMCQsgBEHg3wAoAgAiAE0EQEHs3wAoAgAhAQJAIAAgBGsiAkEQTwRAQeDfACACNgIAQezfACABIARqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACABIARBA3I2AgQMAQtB7N8AQQA2AgBB4N8AQQA2AgAgASAAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIECyABQQhqIQAMCwsgBEHk3wAoAgAiA0kEQEHk3wAgAyAEayIBNgIAQfDfAEHw3wAoAgAiACAEaiICNgIAIAIgAUEBcjYCBCAAIARBA3I2AgQgAEEIaiEADAsLQQAhACAEQS9qIggCf0Gw4wAoAgAEQEG44wAoAgAMAQtBvOMAQn83AgBBtOMAQoCggICAgAQ3AgBBsOMAIAxBDGpBcHFB2KrVqgVzNgIAQcTjAEEANgIAQZTjAEEANgIAQYAgCyIBaiIGQQAgAWsiB3EiBSAETQ0KQZDjACgCACIBBEBBiOMAKAIAIgIgBWoiCSACTQ0LIAEgCUkNCwtBlOMALQAAQQRxDQUCQAJAQfDfACgCACIBBEBBmOMAIQADQCABIAAoAgAiAk8EQCACIAAoAgRqIAFLDQMLIAAoAggiAA0ACwtBABAeIgNBf0YNBiAFIQZBtOMAKAIAIgBBAWsiASADcQRAIAUgA2sgASADakEAIABrcWohBgsgBCAGTw0GIAZB/v///wdLDQZBkOMAKAIAIgAEQEGI4wAoAgAiASAGaiICIAFNDQcgACACSQ0HCyAGEB4iACADRw0BDAgLIAYgA2sgB3EiBkH+////B0sNBSAGEB4iAyAAKAIAIAAoAgRqRg0EIAMhAAsCQCAEQTBqIAZNDQAgAEF/Rg0AQbjjACgCACIBIAggBmtqQQAgAWtxIgFB/v///wdLBEAgACEDDAgLIAEQHkF/RwRAIAEgBmohBiAAIQMMCAtBACAGaxAeGgwFCyAAIQMgAEF/Rw0GDAQLAAtBACEFDAcLQQAhAwwFCyADQX9HDQILQZTjAEGU4wAoAgBBBHI2AgALIAVB/v///wdLDQEgBRAeIgNBABAeIgBPDQEgA0F/Rg0BIABBf0YNASAAIANrIgYgBEEoak0NAQtBiOMAQYjjACgCACAGaiIANgIAQYzjACgCACAASQRAQYzjACAANgIACwJAAkACQEHw3wAoAgAiAQRAQZjjACEAA0AgAyAAKAIAIgIgACgCBCIFakYNAiAAKAIIIgANAAsMAgtB6N8AKAIAIgBBACAAIANNG0UEQEHo3wAgAzYCAAtBACEAQZzjACAGNgIAQZjjACADNgIAQfjfAEF/NgIAQfzfAEGw4wAoAgA2AgBBpOMAQQA2AgADQCAAQQN0IgFBiOAAaiABQYDgAGoiAjYCACABQYzgAGogAjYCACAAQQFqIgBBIEcNAAtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiAWsiAjYCAEHw3wAgASADaiIBNgIAIAEgAkEBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCAAwCCyABIANPDQAgASACSQ0AIAAoAgxBCHENACAAIAUgBmo2AgRB8N8AIAFBeCABa0EHcUEAIAFBCGpBB3EbIgBqIgI2AgBB5N8AQeTfACgCACAGaiIDIABrIgA2AgAgAiAAQQFyNgIEIAEgA2pBKDYCBEH03wBBwOMAKAIANgIADAELQejfACgCACADSwRAQejfACADNgIACyADIAZqIQJBmOMAIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQZjjACEAA0AgASAAKAIAIgJPBEAgAiAAKAIEaiICIAFLDQMLIAAoAgghAAwACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiBiAHayAEayECIAQgB2ohBCABIAZGBEBB8N8AIAQ2AgBB5N8AQeTfACgCACACaiIANgIAIAQgAEEBcjYCBAwDCyAGQezfACgCAEYEQEHs3wAgBDYCAEHg3wBB4N8AKAIAIAJqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwDCyAGKAIEIgBBA3FBAUYEQCAAQXhxIQgCQCAAQf8BTQRAIAYoAggiASAAQQN2IgVBA3RBgOAAakYaIAEgBigCDCIARgRAQdjfAEHY3wAoAgBBfiAFd3E2AgAMAgsgASAANgIMIAAgATYCCAwBCyAGKAIYIQkCQCAGIAYoAgwiA0cEQCAGKAIIIgAgAzYCDCADIAA2AggMAQsCQCAGQRRqIgAoAgAiAQ0AIAZBEGoiACgCACIBDQBBACEDDAELA0AgACEFIAEiA0EUaiIAKAIAIgENACADQRBqIQAgAygCECIBDQALIAVBADYCAAsgCUUNAAJAIAYgBigCHCIBQQJ0QYjiAGoiACgCAEYEQCAAIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAGRhtqIAM2AgAgA0UNAQsgAyAJNgIYIAYoAhAiAARAIAMgADYCECAAIAM2AhgLIAYoAhQiAEUNACADIAA2AhQgACADNgIYCyAGIAhqIQYgAiAIaiECCyAGIAYoAgRBfnE2AgQgBCACQQFyNgIEIAIgBGogAjYCACACQf8BTQRAIAJBA3YiAUEDdEGA4ABqIQACf0HY3wAoAgAiAkEBIAF0IgFxRQRAQdjfACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMAwtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QYjiAGohAQJAQdzfACgCACIDQQEgAHQiBXFFBEBB3N8AIAMgBXI2AgAgASAENgIAIAQgATYCGAwBCyACQQBBGSAAQQF2ayAAQR9GG3QhACABKAIAIQMDQCADIgEoAgRBeHEgAkYNAyAAQR12IQMgAEEBdCEAIAEgA0EEcWpBEGoiBSgCACIDDQALIAUgBDYCACAEIAE2AhgLIAQgBDYCDCAEIAQ2AggMAgtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHw3wAgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCACABIAJBJyACa0EHcUEAIAJBJ2tBB3EbakEvayIAIAAgAUEQakkbIgVBGzYCBCAFQaDjACkCADcCECAFQZjjACkCADcCCEGg4wAgBUEIajYCAEGc4wAgBjYCAEGY4wAgAzYCAEGk4wBBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QYDgAGohAAJ/QdjfACgCACIDQQEgAnQiAnFFBEBB2N8AIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwEC0EfIQAgAUIANwIQIAZB////B00EQCAGQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgIgAkGA4B9qQRB2QQRxIgJ0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAnIgA3JrIgBBAXQgBiAAQRVqdkEBcXJBHGohAAsgASAANgIcIABBAnRBiOIAaiECAkBB3N8AKAIAIgNBASAAdCIFcUUEQEHc3wAgAyAFcjYCACACIAE2AgAgASACNgIYDAELIAZBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhAwNAIAMiAigCBEF4cSAGRg0EIABBHXYhAyAAQQF0IQAgAiADQQRxakEQaiIFKAIAIgMNAAsgBSABNgIAIAEgAjYCGAsgASABNgIMIAEgATYCCAwDCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLIAdBCGohAAwFCyACKAIIIgAgATYCDCACIAE2AgggAUEANgIYIAEgAjYCDCABIAA2AggLQeTfACgCACIAIARNDQBB5N8AIAAgBGsiATYCAEHw3wBB8N8AKAIAIgAgBGoiAjYCACACIAFBAXI2AgQgACAEQQNyNgIEIABBCGohAAwDC0HU3wBBMDYCAEEAIQAMAgsCQCAJRQ0AAkAgBSgCHCICQQJ0QYjiAGoiACgCACAFRgRAIAAgAzYCACADDQFB3N8AIAhBfiACd3EiCDYCAAwCCyAJQRBBFCAJKAIQIAVGG2ogAzYCACADRQ0BCyADIAk2AhggBSgCECIABEAgAyAANgIQIAAgAzYCGAsgBSgCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgAUEPTQRAIAUgASAEaiIAQQNyNgIEIAAgBWoiACAAKAIEQQFyNgIEDAELIAUgBEEDcjYCBCAHIAFBAXI2AgQgASAHaiABNgIAIAFB/wFNBEAgAUEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACICQQEgAXQiAXFFBEBB2N8AIAEgAnI2AgAgAAwBCyAAKAIICyEBIAAgBzYCCCABIAc2AgwgByAANgIMIAcgATYCCAwBC0EfIQAgAUH///8HTQRAIAFBCHYiACAAQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcaiEACyAHIAA2AhwgB0IANwIQIABBAnRBiOIAaiECAkACQCAIQQEgAHQiBHFFBEBB3N8AIAQgCHI2AgAgAiAHNgIAIAcgAjYCGAwBCyABQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQQDQCAEIgIoAgRBeHEgAUYNAiAAQR12IQQgAEEBdCEAIAIgBEEEcWpBEGoiAygCACIEDQALIAMgBzYCACAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIICyAFQQhqIQAMAQsCQCAKRQ0AAkAgAygCHCICQQJ0QYjiAGoiACgCACADRgRAIAAgBTYCACAFDQFB3N8AIAlBfiACd3E2AgAMAgsgCkEQQRQgCigCECADRhtqIAU2AgAgBUUNAQsgBSAKNgIYIAMoAhAiAARAIAUgADYCECAAIAU2AhgLIAMoAhQiAEUNACAFIAA2AhQgACAFNgIYCwJAIAFBD00EQCADIAEgBGoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARBA3I2AgQgCyABQQFyNgIEIAEgC2ogATYCACAIBEAgCEEDdiIEQQN0QYDgAGohAkHs3wAoAgAhAAJ/QQEgBHQiBCAGcUUEQEHY3wAgBCAGcjYCACACDAELIAIoAggLIQQgAiAANgIIIAQgADYCDCAAIAI2AgwgACAENgIIC0Hs3wAgCzYCAEHg3wAgATYCAAsgA0EIaiEACyAMQRBqJAAgAAvMDAEHfwJAIABFDQAgAEEIayICIABBBGsoAgAiAUF4cSIAaiEFAkAgAUEBcQ0AIAFBA3FFDQEgAiACKAIAIgFrIgJB6N8AKAIASQ0BIAAgAWohACACQezfACgCAEcEQCABQf8BTQRAIAIoAggiBCABQQN2IgdBA3RBgOAAakYaIAQgAigCDCIBRgRAQdjfAEHY3wAoAgBBfiAHd3E2AgAMAwsgBCABNgIMIAEgBDYCCAwCCyACKAIYIQYCQCACIAIoAgwiA0cEQCACKAIIIgEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQeDfACAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgAiAFTw0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHw3wAoAgBGBEBB8N8AIAI2AgBB5N8AQeTfACgCACAAaiIANgIAIAIgAEEBcjYCBCACQezfACgCAEcNA0Hg3wBBADYCAEHs3wBBADYCAA8LIAVB7N8AKAIARgRAQezfACACNgIAQeDfAEHg3wAoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgQgAUEDdiIHQQN0QYDgAGpGGiAEIAUoAgwiAUYEQEHY3wBB2N8AKAIAQX4gB3dxNgIADAILIAQgATYCDCABIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEAgBSgCCCIBQejfACgCAEkaIAEgAzYCDCADIAE2AggMAQsCQCAFQRRqIgEoAgAiBA0AIAVBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAAJAIAUgBSgCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAM2AgAgA0UNAQsgAyAGNgIYIAUoAhAiAQRAIAMgATYCECABIAM2AhgLIAUoAhQiAUUNACADIAE2AhQgASADNgIYCyACIABBAXI2AgQgACACaiAANgIAIAJB7N8AKAIARw0BQeDfACAANgIADwsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACIEQQEgAXQiAXFFBEBB2N8AIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCA8LQR8hASACQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiBCAEQYDgH2pBEHZBBHEiBHQiAyADQYCAD2pBEHZBAnEiA3RBD3YgASAEciADcmsiAUEBdCAAIAFBFWp2QQFxckEcaiEBCyACIAE2AhwgAUECdEGI4gBqIQQCQAJAAkBB3N8AKAIAIgNBASABdCIFcUUEQEHc3wAgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQfjfAEH43wAoAgBBAWsiAkF/IAIbNgIACwtVAQJ/QdDfACgCACIBIABBA2pBfHEiAmohAAJAIAJBAU5BACAAIAFNGw0APwBBEHQgAEkEQCAAEABFDQELQdDfACAANgIAIAEPC0HU3wBBMDYCAEF/C4IEAQN/IAJBgARPBEAgACABIAIQARogAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCACQQFIBEAgACECDAELIABBA3FFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANPDQEgAkEDcQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC9YCAQJ/AkAgAUUNACAAIAFqIgJBAWtBADoAACAAQQA6AAAgAUEDSQ0AIAJBAmtBADoAACAAQQA6AAEgAkEDa0EAOgAAIABBADoAAiABQQdJDQAgAkEEa0EAOgAAIABBADoAAyABQQlJDQAgAEEAIABrQQNxIgNqIgJBADYCACACIAEgA2tBfHEiA2oiAUEEa0EANgIAIANBCUkNACACQQA2AgggAkEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgA0EZSQ0AIAJBADYCGCACQQA2AhQgAkEANgIQIAJBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAyACQQRxQRhyIgNrIgFBIEkNACACIANqIQIDQCACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwAgAkEgaiECIAFBIGsiAUEfSw0ACwsLBAAjAAsGACAAJAALEAAjACAAa0FwcSIAJAAgAAsLvVYIAEGECAvxQJYwB3csYQ7uulEJmRnEbQeP9GpwNaVj6aOVZJ4yiNsOpLjceR7p1eCI2dKXK0y2Cb18sX4HLbjnkR2/kGQQtx3yILBqSHG5895BvoR91Noa6+TdbVG11PTHhdODVphsE8Coa2R6+WL97Mllik9cARTZbAZjYz0P+vUNCI3IIG47XhBpTORBYNVycWei0eQDPEfUBEv9hQ3Sa7UKpfqotTVsmLJC1sm720D5vKzjbNgydVzfRc8N1txZPdGrrDDZJjoA3lGAUdfIFmHQv7X0tCEjxLNWmZW6zw+lvbieuAIoCIgFX7LZDMYk6Quxh3xvLxFMaFirHWHBPS1mtpBB3HYGcdsBvCDSmCoQ1e+JhbFxH7W2BqXkv58z1LjooskHeDT5AA+OqAmWGJgO4bsNan8tPW0Il2xkkQFcY+b0UWtrYmFsHNgwZYVOAGLy7ZUGbHulARvB9AiCV8QP9cbZsGVQ6bcS6ri+i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTp0ALyj4jC71EGl30rXldg9bcTRpPv01tNq6WlD/NluNEaIZ63QuGDacy0EROUdAzNfTAqqyXwN3TxxBVCqQQInEBALvoYgDMkltWhXs4VvIAnUZrmf5GHODvneXpjJ2SkimNCwtKjXxxc9s1mBDbQuO1y9t61susAgg7jttrO/mgzitgOa0rF0OUfV6q930p0VJtsEgxbccxILY+OEO2SUPmptDahaanoLzw7knf8JkyeuAAqxngd9RJMP8NKjCIdo8gEe/sIGaV1XYvfLZ2WAcTZsGecGa252G9T+4CvTiVp62hDMSt1nb9+5+fnvvo5DvrcX1Y6wYOij1tZ+k9GhxMLYOFLy30/xZ7vRZ1e8pt0GtT9LNrJI2isN2EwbCq/2SgM2YHoEQcPvYN9V32eo745uMXm+aUaMs2HLGoNmvKDSbyU24mhSlXcMzANHC7u5FgIiLyYFVb47usUoC72yklq0KwRqs1yn/9fCMc/QtYue2Swdrt5bsMJkmybyY+yco2p1CpNtAqkGCZw/Ng7rhWcHchNXAAWCSr+VFHq44q4rsXs4G7YMm47Skg2+1eW379x8Id/bC9TS04ZC4tTx+LPdaG6D2h/NFr6BWya59uF3sG93R7cY5loIiHBqD//KOwZmXAsBEf+eZY9prmL40/9rYUXPbBZ44gqg7tIN11SDBE7CswM5YSZnp/cWYNBNR2lJ23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Pskfp/7UwHPK9vYrCusowk7NTpqO0JAU20LqTBtfNKVfeVL9n2SMuemazuEphxAIbaF2UK28qN74LtKGODMMb3wVaje8CLQAAAABBMRsZgmI2MsNTLSsExWxkRfR3fYanWlbHlkFPCIrZyEm7wtGK6O/6y9n04wxPtaxNfq61ji2Dns8cmIdREsJKECPZU9Nw9HiSQe9hVdeuLhTmtTfXtZgcloSDBVmYG4IYqQCb2/otsJrLNqldXXfmHGxs/98/QdSeDlrNoiSEleMVn4wgRrKnYXepvqbh6PHn0PPoJIPew2Wyxdqqrl1d659GRCjMa29p/XB2rmsxOe9aKiAsCQcLbTgcEvM2Rt+yB13GcVRw7TBla/T38yq7tsIxonWRHIk0oAeQ+7yfF7qNhA553qklOO+yPP9583O+SOhqfRvFQTwq3lgFT3nwRH5i6YctT8LGHFTbAYoVlEC7Do2D6COmwtk4vw3FoDhM9Lshj6eWCs6WjRMJAMxcSDHXRYti+m7KU+F3VF27uhVsoKPWP42Ilw6WkVCY194RqczH0vrh7JPL+vVc12JyHeZ5a961VECfhE9ZWBIOFhkjFQ/acDgkm0EjPadr/WXmWuZ8JQnLV2Q40E6jrpEB4p+KGCHMpzNg/bwqr+Ekre7QP7QtgxKfbLIJhqskSMnqFVPQKUZ++2h3ZeL2eT8vt0gkNnQbCR01KhIE8rxTS7ONSFJw3mV5Me9+YP7z5ue/wv3+fJHQ1T2gy8z6NoqDuweRmnhUvLE5ZaeoS5iDOwqpmCLJ+rUJiMuuEE9d718ObPRGzT/ZbYwOwnRDElrzAiNB6sFwbMGAQXfYR9c2lwbmLY7FtQClhIQbvBqKQXFbu1pomOh3Q9nZbFoeTy0VX342DJwtGyfdHAA+EgCYuVMxg6CQYq6L0VO1khbF9N1X9O/ElKfC79WW2fbpvAeuqI0ct2veMZwq7yqF7XlryqxIcNNvG134LipG4eE23magB8V/Y1ToVCJl803l87ICpMKpG2eRhDAmoJ8puK7F5Pmf3v06zPPWe/3oz7xrqYD9WrKZPgmfsn84hKuwJBws8RUHNTJGKh5zdzEHtOFwSPXQa1E2g0Z6d7JdY07X+ssP5uHSzLXM+Y2E1+BKEpavCyONtshwoJ2JQbuERl0jAwdsOBrEPxUxhQ4OKEKYT2cDqVR+wPp5VYHLYkwfxTiBXvQjmJ2nDrPclhWqGwBU5VoxT/yZYmLX2FN5zhdP4UlWfvpQlS3Xe9QczGITio0tUruWNJHoux/Q2aAG7PN+Xq3CZUdukUhsL6BTdeg2EjqpBwkjalQkCCtlPxHkeaeWpUi8j2YbkaQnKoq94LzL8qGN0Oti3v3AI+/m2b3hvBT80KcNP4OKJn6ykT+5JNBw+BXLaTtG5kJ6d/1btWtl3PRafsU3CVPudjhI97GuCbjwnxKhM8w/inL9JJMAAAAAN2rCAW7UhANZvkYC3KgJB+vCywayfI0EhRZPBbhREw6PO9EP1oWXDeHvVQxk+RoJU5PYCAotngo9R1wLcKMmHEfJ5B0ed6IfKR1gHqwLLxubYe0awt+rGPW1aRnI8jUS/5j3E6YmsRGRTHMQFFo8FSMw/hR6jrgWTeR6F+BGTTjXLI85jpLJO7n4Czo87kQ/C4SGPlI6wDxlUAI9WBdeNm99nDc2w9o1AakYNIS/VzGz1ZUw6mvTMt0BETOQ5Wskp4+pJf4x7yfJWy0mTE1iI3snoCIimeYgFfMkISi0eCof3rorRmD8KXEKPij0HHEtw3azLJrI9S6tojcvwI2acPfnWHGuWR5zmTPcchwlk3crT1F2cvEXdEWb1XV43Il+T7ZLfxYIDX0hYs98pHSAeZMeQnjKoAR6/crGe7AuvGyHRH5t3vo4b+mQ+m5shrVrW+x3agJSMWg1OPNpCH+vYj8VbWNmqythUcHpYNTXpmXjvWRkugMiZo1p4Gcgy9dIF6EVSU4fU0t5dZFK/GPeT8sJHE6St1pMpd2YTZiaxEav8AZH9k5ARcEkgkREMs1Bc1gPQCrmSUIdjItDUGjxVGcCM1U+vHVXCda3VozA+FO7qjpS4hR8UNV+vlHoOeJa31MgW4btZlmxh6RYNJHrXQP7KVxaRW9ebS+tX4AbNeG3cffg7s+x4tmlc+Ncszzma9n+5zJnuOUFDXrkOEom7w8g5O5WnqLsYfRg7eTiL+jTiO3pijar671caerwuBP9x9LR/J5sl/6pBlX/LBAa+ht62PtCxJ75da5c+EjpAPN/g8LyJj2E8BFXRvGUQQn0oyvL9fqVjffN/0/2YF142Vc3utgOifzaOeM+27z1cd6Ln7Pf0iH13eVLN9zYDGvX72ap1rbY79SBsi3VBKRi0DPOoNFqcObTXRok0hD+XsUnlJzEfiraxklAGMfMVlfC+zyVw6KC08GV6BHAqK9Ny5/Fj8rGe8nI8RELyXQHRMxDbYbNGtPAzy25As5Alq+Rd/xtkC5CK5IZKOmTnD6mlqtUZJfy6iKVxYDglPjHvJ/PrX6elhM4nKF5+p0kb7WYEwV3mUq7MZt90fOaMDWJjQdfS4xe4Q2OaYvPj+ydgIrb90KLgkkEibUjxoiIZJqDvw5YguawHoDR2tyBVMyThGOmUYU6GBeHDXLVhqDQ4qmXuiCozgRmqvlupKt8eOuuSxIprxKsb60lxq2sGIHxpy/rM6Z2VXWkQT+3pcQp+KDzQzqhqv18o52XvqLQc8S15xkGtL6nQLaJzYK3DNvNsjuxD7NiD0mxVWWLsGgi17tfSBW6BvZTuDGckbm0it68g+AcvdpeWr/tNJi+AAAAAGVnvLiLyAmq7q+1EleXYo8y8N433F9rJbk4153vKLTFik8IfWTgvW8BhwHXuL/WSt3YavIzd9/gVhBjWJ9XGVD6MKXoFJ8Q+nH4rELIwHvfrafHZ0MIcnUmb87NcH+tlRUYES37t6Q/ntAYhyfozxpCj3OirCDGsMlHegg+rzKgW8iOGLVnOwrQAIeyaThQLwxf7Jfi8FmFh5flPdGHhmW04DrdWk+Pzz8oM3eGEOTq43dYUg3Y7UBov1H4ofgr8MSfl0gqMCJaT1ee4vZvSX+TCPXHfadA1RjA/G1O0J81K7cjjcUYlp+gfyonGUf9unwgQQKSj/QQ9+hIqD1YFJtYP6gjtpAdMdP3oYlqz3YUD6jKrOEHf76EYMMG0nCgXrcXHOZZuKn0PN8VTIXnwtHggH5pDi/Le2tId8OiDw3Lx2ixcynHBGFMoLjZ9ZhvRJD/0/x+UGbuGzfaVk0nuQ4oQAW2xu+wpKOIDBwasNuBf9dnOZF40iv0H26TA/cmO2aQmoOIPy+R7ViTKVRgRLQxB/gM36hNHrrP8abs35L+ibguRmcXm1QCcCfsu0jwcd4vTMkwgPnbVedFY5ygP2v5x4PTF2g2wXIPinnLN13krlDhXED/VE4lmOj2c4iLrhbvNxb4QIIEnSc+vCQf6SFBeFWZr9fgi8qwXDM7tlntXtHlVbB+UEfVGez/bCE7YglGh9rn6TLIgo6OcNSe7Six+VGQX1bkgjoxWDqDCY+n5m4zHwjBhg1tpjq1pOFAvcGG/AUvKUkXSk71r/N2IjKWEZ6KeL4rmB3ZlyBLyfR4Lq5IwMAB/dKlZkFqHF6W93k5Kk+Xlp9d8vEj5QUZa01gftf1jtFi5+u23l9SjgnCN+m1etlGAGi8IbzQ6jHfiI9WYzBh+dYiBJ5qmr2mvQfYwQG/Nm60rVMJCBWaTnId/ynOpRGGe7d04ccPzdkQkqi+rCpGERk4I3algHVmxtgQAXpg/q7PcpvJc8oi8aRXR5YY76k5rf3MXhFFBu5NdmOJ8c6NJkTc6EH4ZFF5L/k0HpNB2rEmU7/WmuvpxvmzjKFFC2IO8BkHaUyhvlGbPNs2J4Q1mZKWUP4uLpm5VCb83uieEnFdjHcW4TTOLjapq0mKEUXmPwMggYO7dpHg4xP2XFv9WelJmD5V8SEGgmxEYT7Uqs6Lxs+pN344QX/WXSbDbrOJdnzW7srEb9YdWQqxoeHkHhTzgXmoS9dpyxOyDnerXKHCuTnGfgGA/qmc5ZkVJAs2oDZuURyOpxZmhsJx2j4s3m8sSbnTlPCBBAmV5rixe0kNox4usRtIPtJDLVlu+8P22+mmkWdRH6mwzHrODHSUYblm8QYF3gAAAAB3BzCW7g5hLJkJUboHbcQZcGr0j+ljpTWeZJWjDtuIMnncuKTg1ekel9LZiAm2TCt+sXy957gtB5C/HZEdtxBkarAg8vO5cUiEvkHeGtrUfW3d5Ov01LVRg9OFxxNsmFZka6jA/WL5eoplyewUAVxPYwZs2foPPWONCA31O24gyExpEF7VYEHkomdxcjwD5NFLBNRH0g2F/aUKtWs1taj6QrKYbNu7ydasvPlAMths40XfXHXc1g3Pq9E9WSbZMKxR3gA6yNdRgL/QYRYhtPS1VrPEI8+6lZm4vaUPKAK4nl8FiAjGDNmysQvpJC9vfIdYaEwRwWEdq7ZmLT123EGQAdtxBpjSILzv1RAqcbGFiQa2tR+fv+Sl6LjUM3gHyaIPAPk0lgmojuEOmBh/ag27CG09LZFkbJfmY1wBa2tR9BxsYWKFZTDY8mIATmwGle0bAaV7ggj0wfUPxFdlsNnGErfpUIu+uOr8uYh8Yt0d3xXaLUmM03zz+9RMZU2yYVg6tVHOo7wAdNS7MOJK36VBPdiV16TRxG3T1vT7Q2npajRu2fytZ4hG2mC40EQELXMzAx3lqgpMX90NfMlQBXE8JwJBqr4LEBDJDCCGV2i1JSBvhbO5ZtQJzmHkn17e+Q4p2cmYsNCYIsfXqLRZsz0XLrQNgbe9XDvAumyt7biDIJq/s7YDtuIMdLHSmurVRzmd0nevBNsmFXPcFoPjYwsSlGQ7hA1taj56alqo5A7PC5MJ/50KAK4nfQeesfAPk0SHCKPSHgHyaGkGwv73YlddgGVnyxlsNnFuawbn/tQbdonTK+AQ2npaZ91KzPm532+Ovu/5F7e+Q2CwjtXW1qPoodGTfjjYwsRP3/JS0btn8aa8V2c/tQbdSLI2S9gNK9qvChtMNgNK9kEEemDfYO/DqGffVTFuju9Gab55y2GzjLxmgxolb9KgUmjiNswMd5W7C0cDIgIWuVUFJi/Fuju+sr0LKCu0WpJcs2oEwtf/p7XQzzEs2Z6LW96uHZtkwrDsY/ImdWqjnAJtkwqcCQap6w42P3IHZ4UFAFcTlb9KguK4ehR7sSuuDLYbOJLSjpvl1b4NfNzvtwvb3yGG09LU8dTiQmjds/gf2oNugb4Wzfa5JltvsHfhGLdHd4gIWub/D2pwZgY7yhEBC1yPZZ7/+GKuaWFr/9MWbM9FoArieNcN0u5OBINUOQOzwqdnJmHQYBb3SWlHTT5ud9uu0WpK2dZa3EDfC2Y32DvwqbyuU967nsVHss9/MLX/6b298hzKusKKU7OTMCS0o6a60DYFzdcGk1TeVykj2We/s2Z6LsRhSrhdaBsCKm8rlLQLvjfDDI6hWgXfGy0C740AAAAAGRsxQTI2YoIrLVPDZGzFBH139EVWWqeGT0GWx8jZigjRwrtJ+u/oiuP02custU8Mta5+TZ6DLY6HmBzPSsISUVPZIxB49HDTYe9Bki6u11U3teYUHJi11wWDhJaCG5hZmwCpGLAt+tupNsua5nddXf9sbBzUQT/fzVoOnpWEJKKMnxXjp7JGIL6pd2Hx6OGm6PPQ58PegyTaxbJlXV2uqkRGn+tva8wodnD9aTkxa64gKlrvCwcJLBIcOG3fRjbzxl0Hsu1wVHH0a2Uwuyrz96IxwraJHJF1kAegNBefvPsOhI26JaneeTyy7zhz83n/auhIvkHFG31Y3io88HlPBelifkTCTy2H21QcxpQVigGNDrtApiPog7842cI4oMUNIbv0TAqWp48TjZbOXMwACUXXMUhu+mKLd+FTyrq7XVSjoGwViI0/1pGWDpfe15hQx8ypEezh+tL1+suTcmLXXGt55h1AVLXeWU+EnxYOElgPFSMZJDhw2j0jQZtl/WunfOZa5lfLCSVO0DhkAZGuoxiKn+Izp8whKrz9YK0k4a+0P9DunxKDLYYJsmzJSCSr0FMV6vt+RiniZXdoLz959jYkSLcdCRt0BBIqNUtTvPJSSI2zeWXecGB+7zHn5vP+/v3Cv9XQkXzMy6A9g4o2+pqRB7uxvFR4qKdlOTuDmEsimKkKCbX6yRCuy4hf711PRvRsDm3ZP810wg6M81oSQ+pBIwLBbHDB2HdBgJc210eOLeYGpQC1xbwbhIRxQYoaaFq7W0N36JhabNnZFS1PHgw2fl8nGy2cPgAc3bmYABKggzFTi65ikJK1U9Hd9MUWxO/0V+/Cp5T22ZbVrge86bccjaicMd5rhSrvKspree3TcEis+F0bb+FGKi5m3jbhf8UHoFToVGNN82UiArLz5RupwqQwhJFnKZ+gJuTFrrj93p/51vPMOs/o/XuAqWu8mbJa/bKfCT6rhDh/LBwksDUHFfEeKkYyBzF3c0hw4bRRa9D1ekaDNmNdsnfL+tdO0uHmD/nMtczg14SNr5YSSraNIwudoHDIhLtBiQMjXUYaOGwHMRU/xCgODoVnT5hCflSpA1V5+sBMYsuBgTjFH5gj9F6zDqedqhWW3OVUABv8TzFa12Jimc55U9hJ4U8XUPp+VnvXLZVizBzULY2KEzSWu1Ifu+iRBqDZ0F5+8+xHZcKtbEiRbnVToC86EjboIwkHqQgkVGoRP2Urlqd55I+8SKWkkRtmvYoqJ/LLvODr0I2hwP3eYtnm7yMUvOG9DafQ/CaKgz8/kbJ+cNAkuWnLFfhC5kY7W/13etxla7XFflr07lMJN/dIOHa4Ca6xoRKf8Io/zDOTJP1yAAAAAAHCajcDhNRuAka+WQcJqNwGy8LrBI18sgVPFoUOE1G4D9E7jw2XhdYMVe/hCRr5ZAjYk1MKni0KC1xHPRwmo3Ad5MlHH6J3Hh5gHSkbLwusGu1hmxir38IZabX1EjXyyBP3mP8RsSamEHNMkRU8WhQU/jAjFriOehd65E04TUbgOY8s1zvJko46C/i5P0TuPD6GhAs8wDpSPQJQZTZeF1g3nH1vNdrDNjQYqQExV7+EMJXVszLTa+ozEQHdJGvlkCWpj6cn7zH+Ji1bySNiTUwioCd7IOaZIiEk8xUqeLQoK7reHyn8YEYoPgpxLXEc9CyzdsMu9ciaLzeirXCajcBxWOf3cx5ZrnLcM5l3kyUcdlFPK3QX8XJ11ZtFfonceH9Ltk99DQgWfM9iIXmAdKR4Qh6TegSgynvGyv1svC6wbX5Eh284+t5u+pDpa7WGbGp37FtoMVICafM4NWKvfwhjbRU/YSurZmDpwVFlptfUZGS942YiA7pn4GmNSNfLIEkVoRdLUx9OSpF1eU/eY/xOHAnLTFq3kk2Y3aVGxJqYRwbwr0VATvZEgiTBQc0yREAPWHNCSeYqQ4uMHVTxaFBVMwJnV3W8Pla31glT+MCMUjqqu1B8FOJRvn7VWuI56FsgU99ZZu2GWKSHsV3rkTRcKfsDXm9FWl+tL23hNRuA4Pdxt+Kxz+7jc6XZ5jyzXOf+2WvluGcy5HoNBe8mSjju5CAP7KKeVu1g9GHoL+Lk6e2I0+urNorqaVy9/RO48PzR0sf+l2ye/1UGqfoaECz72Hob+Z7EQvhcrnXzAOlI8sKDf/CEPSbxRlcR9AlBlPXLK6P3jZX69k//zdl4XWDYujdX2vyJDts+4znecfW837Ofi931IdLcN0vl12sM2NapZu/U79i21S2ygdBipATRoM4z0+ZwatIkGl3FXv4QxJyUJ8baKn7HGEBJwldWzMOVPPvB04KiwBHolctNr6jKj8WfyMl7xskLEfHMRAd0zYZtQ8/A0xrOArktka+WQJBt/HeSK0Iuk+koGZamPpyXZFSrlSLq8pTggMWfvMf4nn6tz5w4E5ad+nmhmLVvJJl3BRObMbtKmvPRfY2JNTCMS18Hjg3hXo/Pi2mKgJ3si0L324kESYKIxiO1g5pkiIJYDr+AHrDmgdza0YSTzFSFUaZjhxcYOobVcg2p4tCgqCC6l6pmBM6rpG75rut4fK8pEkutb6wSrK3GJafxgRimM+svpHVVdqW3P0Gg+CnEoTpD86N8/aqivpedtcRz0LQGGee2QKe+t4LNibLN2wyzD7E7sUkPYrCLZVW71yJouhVIX7hT9ga5kZwxvN6KtL0c4IO/Wl7avpg07QAAAAC4vGdlqgnIixK1r+6PYpdXN97wMiVrX9yd1zi5xbQo730IT4pvveBk1wGHAUrWv7jyatjd4N93M1hjEFZQGVef6KUw+voQnxRCrPhx33vAyGfHp611cghDzc5vJpWtf3AtERgVP6S3+4cY0J4az+gnonOPQrDGIKwIekfJoDKvPhiOyFsKO2e1socA0C9QOGmX7F8MhVnw4j3ll4dlhofR3TrgtM+PT1p3Myg/6uQQhlJYd+NA7dgN+FG/aPAr+KFIl5/EWiIwKuKeV09/SW/2x/UIk9VAp31t/MAYNZ/QTo0jtyuflhjFJyp/oLr9RxkCQSB8EPSPkqhI6PebFFg9I6g/WDEdkLaJoffTFHbPaqzKqA++fwfhBsNghF6gcNLmHBe39Km4WUwV3zzRwueFaX6A4HvLLw7Dd0hryw0PonOxaMdhBMcp2bigTERvmPX80/+Q7mZQflbaNxsOuSdNtgVAKKSw78YcDIijgduwGjln138r0niRk24f9Dsm9wODmpBmkS8/iCmTWO20RGBUDPgHMR5NqN+m8c+6/pLf7EYuuIlUmxdn7CdwAnHwSLvJTC/e2/mAMGNF51VrP6Cc04PH+cE2aBd5ig9y5F03y1zhUK5OVP9A9uiYJa6LiHMWN+8WBIJA+Lw+J50h6R8kmVV4QYvg168zXLDK7Vm2O1Xl0V5HUH6w/+wZ1WI7IWzah0YJyDLp53COjoIo7Z7UkFH5sYLkVl86WDE6p48Jgx8zbuYNhsEItTqmbb1A4aQF/IbBF0kpL6/1TkoyInbzip4Rlpgrvnggl9kdePTJS8BIri7S/QHAakFmpfeWXhxPKjl5XZ+Wl+Uj8fJNaxkF9dd+YOdi0Y5f3rbrwgmOUnq16TdoAEbZ0LwhvIjfMeowY1aPItb5YZpqngQHvaa9vwHB2K20bjYVCAlTHXJOmqXOKf+3e4YRD8fhdJIQ2c0qrL6oOBkRRoCldiPYxmZ1YHoBEHLPrv7Kc8mbV6TxIu8Ylkf9rTmpRRFezHZN7gbO8Ylj3EQmjWT4Qej5L3lRQZMeNFMmsdrrmta/s/nG6QtFoYwZ8A5ioUxpBzybUb6EJzbblpKZNS4u/lAmVLmZnuje/IxdcRI04RZ3qTYuzhGKSasDP+ZFu4OBIOPgkXZbXPYTSelZ/fFVPphsggYh1D5hRMaLzqp+N6nP1n9BOG7DJl18domzxMru1lkd1m/hobEK8xQe5EuoeYETy2nXq3cOsrnCoVwBfsY5nKn+gCQVmeU2oDYLjhxRboZmFqc+2nHCLG/eLJTTuUkJBIHwsbjmlaMNSXsbsS4eQ9I+SPtuWS3p2/bDUWeRpsywqR90DM56ZrlhlN4FBvEAAAAAAAAAAAMAAAAEAAQACAAEAAQAAAAEAAUAEAAIAAQAAAAEAAYAIAAgAAQAAAAEAAQAEAAQAAUAAAAIABAAIAAgAAUAAAAIABAAgACAAAUAAAAIACAAgAAAAQUAAAAgAIAAAgEABAUAAAAgAAIBAgEAEAUAQYHJAAu2EAECAwQEBQUGBgYGBwcHBwgICAgICAgICQkJCQkJCQkKCgoKCgoKCgoKCgoKCgoKCwsLCwsLCwsLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwAAEBESEhMTFBQUFBUVFRUWFhYWFhYWFhcXFxcXFxcXGBgYGBgYGBgYGBgYGBgYGBkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0AAQIDBAUGBwgICQkKCgsLDAwMDA0NDQ0ODg4ODw8PDxAQEBAQEBAQERERERERERESEhISEhISEhMTExMTExMTFBQUFBQUFBQUFBQUFBQUFBUVFRUVFRUVFRUVFRUVFRUWFhYWFhYWFhYWFhYWFhYWFxcXFxcXFxcXFxcXFxcXFxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxscwCcAAMAsAAABAQAAHgEAAA8AAABALAAAQC0AAAAAAAAeAAAADwAAAAAAAADALQAAAAAAABMAAAAHAAAAAAAAAAwACACMAAgATAAIAMwACAAsAAgArAAIAGwACADsAAgAHAAIAJwACABcAAgA3AAIADwACAC8AAgAfAAIAPwACAACAAgAggAIAEIACADCAAgAIgAIAKIACABiAAgA4gAIABIACACSAAgAUgAIANIACAAyAAgAsgAIAHIACADyAAgACgAIAIoACABKAAgAygAIACoACACqAAgAagAIAOoACAAaAAgAmgAIAFoACADaAAgAOgAIALoACAB6AAgA+gAIAAYACACGAAgARgAIAMYACAAmAAgApgAIAGYACADmAAgAFgAIAJYACABWAAgA1gAIADYACAC2AAgAdgAIAPYACAAOAAgAjgAIAE4ACADOAAgALgAIAK4ACABuAAgA7gAIAB4ACACeAAgAXgAIAN4ACAA+AAgAvgAIAH4ACAD+AAgAAQAIAIEACABBAAgAwQAIACEACAChAAgAYQAIAOEACAARAAgAkQAIAFEACADRAAgAMQAIALEACABxAAgA8QAIAAkACACJAAgASQAIAMkACAApAAgAqQAIAGkACADpAAgAGQAIAJkACABZAAgA2QAIADkACAC5AAgAeQAIAPkACAAFAAgAhQAIAEUACADFAAgAJQAIAKUACABlAAgA5QAIABUACACVAAgAVQAIANUACAA1AAgAtQAIAHUACAD1AAgADQAIAI0ACABNAAgAzQAIAC0ACACtAAgAbQAIAO0ACAAdAAgAnQAIAF0ACADdAAgAPQAIAL0ACAB9AAgA/QAIABMACQATAQkAkwAJAJMBCQBTAAkAUwEJANMACQDTAQkAMwAJADMBCQCzAAkAswEJAHMACQBzAQkA8wAJAPMBCQALAAkACwEJAIsACQCLAQkASwAJAEsBCQDLAAkAywEJACsACQArAQkAqwAJAKsBCQBrAAkAawEJAOsACQDrAQkAGwAJABsBCQCbAAkAmwEJAFsACQBbAQkA2wAJANsBCQA7AAkAOwEJALsACQC7AQkAewAJAHsBCQD7AAkA+wEJAAcACQAHAQkAhwAJAIcBCQBHAAkARwEJAMcACQDHAQkAJwAJACcBCQCnAAkApwEJAGcACQBnAQkA5wAJAOcBCQAXAAkAFwEJAJcACQCXAQkAVwAJAFcBCQDXAAkA1wEJADcACQA3AQkAtwAJALcBCQB3AAkAdwEJAPcACQD3AQkADwAJAA8BCQCPAAkAjwEJAE8ACQBPAQkAzwAJAM8BCQAvAAkALwEJAK8ACQCvAQkAbwAJAG8BCQDvAAkA7wEJAB8ACQAfAQkAnwAJAJ8BCQBfAAkAXwEJAN8ACQDfAQkAPwAJAD8BCQC/AAkAvwEJAH8ACQB/AQkA/wAJAP8BCQAAAAcAQAAHACAABwBgAAcAEAAHAFAABwAwAAcAcAAHAAgABwBIAAcAKAAHAGgABwAYAAcAWAAHADgABwB4AAcABAAHAEQABwAkAAcAZAAHABQABwBUAAcANAAHAHQABwADAAgAgwAIAEMACADDAAgAIwAIAKMACABjAAgA4wAIAAAABQAQAAUACAAFABgABQAEAAUAFAAFAAwABQAcAAUAAgAFABIABQAKAAUAGgAFAAYABQAWAAUADgAFAB4ABQABAAUAEQAFAAkABQAZAAUABQAFABUABQANAAUAHQAFAAMABQATAAUACwAFABsABQAHAAUAFwAFAEHg2QALTQEAAAABAAAAAQAAAAEAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAFAAAABQAAAAUAAAAFAEHQ2gALZQEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAEGA3AALIwIAAAADAAAABwAAAAAAAAAQERIACAcJBgoFCwQMAw0CDgEPAEG03AALaQEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACgAAAAwAAAAOAAAAEAAAABQAAAAYAAAAHAAAACAAAAAoAAAAMAAAADgAAABAAAAAUAAAAGAAAABwAAAAgAAAAKAAAADAAAAA4ABBtN0AC5oCAQAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAAAAAEAAIABAAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAABuZWVkIGRpY3Rpb25hcnkAc3RyZWFtIGVuZAAAZmlsZSBlcnJvcgBzdHJlYW0gZXJyb3IAZGF0YSBlcnJvcgBpbnN1ZmZpY2llbnQgbWVtb3J5AGJ1ZmZlciBlcnJvcgBpbmNvbXBhdGlibGUgdmVyc2lvbgAAAAAoLwAAOC8AAEMvAABELwAATy8AAFwvAABnLwAAey8AAIgvAABDLwAAMS4yLjExAEHQ3wALA9AxUA==")};function lz(){return dz.apply(this,arguments)}function dz(){return dz=u(c().mark((function e(){var t,n,r,i,o,a,s,l,d,f,p,h,v,g,A,m,E,y,b,C,_,I,w,S,T,R,k,O,N,x,D;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D=function(e){function n(){k||(k=!0,t.calledRun=!0,l||(w(m),w(E),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),y.unshift(e);var e;w(y)}()))}b>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),A.unshift(e);var e;w(A)}(),b>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n()))},w=function(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?g.get(r)():g.get(r)(n.arg):r(void 0===n.arg?null:n.arg)}else n(t)}},_=function(e){throw t.onAbort&&t.onAbort(e),s(e+=""),l=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)},f=function(e,t,n,r,i){var o={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){!function(e,t,n,r){if(!(r>0))return 0;for(var i=n+r-1,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),a<=127){if(n>=i)break;t[n++]=a}else if(a<=2047){if(n+1>=i)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=i)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=i)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}t[n]=0}(e,v,t,n)}(e,t=x(n),n)}return t},array:function(e){var t,n,r=x(e.length);return t=e,n=r,h.set(t,n),r}},a=d(e),s=[],c=0;if(r)for(var u=0;u<r.length;u++){var l=o[n[u]];l?(0===c&&(c=O()),s[u]=l(r[u])):s[u]=r[u]}var f=a.apply(null,s);return f=function(e){return"string"===t?(n=e)?function(e,t,n){for(var r=t+n,i=t,o="";e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&p)return p.decode(e.subarray(t,i));for(;t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}(v,n,r):"":"boolean"===t?Boolean(e):e;var n,r}(f),0!==c&&N(c),f},d=function(e){var n=t["_"+e];return n||_("Assertion failed: Cannot call unknown function "+e+", make sure it is exported"),n},!sz){e.next=7;break}return e.abrupt("return",sz);case 7:for(n in r={},t={})Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);for(n in i=!1,o=!1,i="object"==typeof window,o="function"==typeof importScripts,"object"==typeof process&&"object"==typeof process.versions&&process.versions.node,a="",(i||o)&&(o?a=self.location.href:"undefined"!=typeof document&&document.currentScript&&(a=document.currentScript.src),a=0!==a.indexOf("blob:")?a.substr(0,a.lastIndexOf("/")+1):""),t.print||console.log.bind(console),s=t.printErr||console.warn.bind(console),r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return r=null,t.arguments,t.thisProgram,t.quit,t.wasmBinary,t.noExitRuntime,"object"!=typeof WebAssembly&&_("no native wasm support detected"),l=!1,p="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),t.INITIAL_MEMORY,A=[],E=[],y=[],(m=[]).push({func:function(){T()}}),b=0,C=null,t.preloadedImages={},t.preloadedAudios={},(I="deflate.wasm").startsWith("data:application/octet-stream;base64,")||(I=function(e){return t.locateFile?t.locateFile(e,a):a+e}(I)),S={emscripten_memcpy_big:function(e,t,n){v.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){_("OOM")}},e.next=29,u(c().mark((function e(){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){return new wI((function(e,t){e(uz().buffer)})).then((function(e){return WebAssembly.instantiate(e,n)})).then(e,(function(e){s("failed to asynchronously prepare wasm: "+e),_(e)}))},i=function(e){r(e.instance)},r=function(e,n){var r,i=e.exports;t.asm=i,r=t.asm.memory.buffer,t.HEAP8=h=new Int8Array(r),t.HEAP16=new Int16Array(r),t.HEAP32=new Int32Array(r),t.HEAPU8=v=new Uint8Array(r),t.HEAPU16=new Uint16Array(r),t.HEAPU32=new Uint32Array(r),t.HEAPF32=new Float32Array(r),t.HEAPF64=new Float64Array(r),g=t.asm.__indirect_function_table,function(e){if(b--,t.monitorRunDependencies&&t.monitorRunDependencies(b),0==b&&C){var n=C;C=null,n()}}()},n={env:S,wasi_snapshot_preview1:S},b++,t.monitorRunDependencies&&t.monitorRunDependencies(b),!t.instantiateWasm){e.next=12;break}return e.prev=5,e.abrupt("return",t.instantiateWasm(n,r));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",(s("Module.instantiateWasm callback failed with error: "+e.t0),!1));case 12:return e.next=14,o(i);case 14:return e.abrupt("return",{});case 15:case"end":return e.stop()}}),e,null,[[5,9]])})))();case 29:if(T=t.___wasm_call_ctors=function(){return(T=t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},R=t._malloc=function(){return(R=t._malloc=t.asm.malloc).apply(null,arguments)},t._free=function(){return(t._free=t.asm.free).apply(null,arguments)},t.___errno_location=function(){return(t.___errno_location=t.asm.__errno_location).apply(null,arguments)},t._zlibCompress=function(){return(t._zlibCompress=t.asm.zlibCompress).apply(null,arguments)},O=t.stackSave=function(){return(O=t.stackSave=t.asm.stackSave).apply(null,arguments)},N=t.stackRestore=function(){return(N=t.stackRestore=t.asm.stackRestore).apply(null,arguments)},x=t.stackAlloc=function(){return(x=t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},t.ccall=f,t.cwrap=function(e,t,n,r){var i=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&i&&!r?d(e):function(){return f(e,t,n,arguments)}},t.allocate=function(e,t){var n;return n=1==t?x(e.length):R(e.length),e.subarray||e.slice?v.set(e,n):v.set(new Uint8Array(e),n),n},C=function e(){k||D(),k||(C=e)},t.run=D,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return e.abrupt("return",(D(),sz=t,t));case 34:case"end":return e.stop()}}),e)}))),dz.apply(this,arguments)}var fz,pz,hz=Uint8Array.BYTES_PER_ELEMENT,vz={bytesReceived:"br",frameDropped:"fd",frameReceived:"fr",googJitterReceived:"jr",isAudioMute:"am",isFreeze:"fz",mediaType:"mt",packetsLost:"pl",packetsReceived:"pr",peerId:"pid",id:"id",ssrc:"ssrc",timestamp:"ts",type:"tp",frameRateInput:"fi",frameRateSent:"fs",googRtt:"rt",isVideoMute:"vm"},gz={stats:"sts",state:"st",stream_id:"stid",session_id:"seid",stream_type:"stt",app_id:"aid",channel_key:"ck",channel_name:"cn",sdk_version:"sv",browser:"b",process_id:"pcid",mode:"m",codec:"c",role:"r",has_changed_gateway:"hcg",ap_response:"ar",extends:"es",details:"d",features:"ft",p2p_id:"ppid",sdp:"sdp",audio:"a",video:"v",attributes:"at",hq:"h",lq:"l",stereo:"str",speech:"spe",extend:"e",pingpongElapse:"ppe"},Az={_message:"m",_type:"t",_id:"id"},mz={join_v2:"j2",publish:"pub",publish_related_stats:"prs",ping:"pi",traffic_stats:"ts",ping_back:"pib",publish_stats:"pubs"},Ez=function(){function e(){v(this,e),tO(this,"zlibCompress",void 0)}return g(e,[{key:"init",value:function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fz){e.next=5;break}return e.next=3,u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cz,e.t0){e.next=5;break}return e.next=4,lz();case 4:cz=e.sent;case 5:return e.abrupt("return",{zlibCompress:function(e){for(var t=new Uint8Array(e),n=hz*t.byteLength,r=cz._malloc(n),i=cz._malloc(3*n),o=0;o<n;o++)cz.HEAP8[r/hz+o]=t[o];var a=cz._zlibCompress(r,n,i),s=new Uint8Array(cz.HEAP8.slice(i,i+a));return cz._free(r),cz._free(i),s}});case 6:case"end":return e.stop()}}),e)})))();case 3:t=e.sent,fz=t.zlibCompress;case 5:this.zlibCompress=fz;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"msgPackCompress",value:function(e){return az.exports.encode(e)}},{key:"compress",value:function(e){var t=Date.now(),n=this.compressKeyAndValue(JSON.parse(JSON.stringify(e))),r=this.msgPackCompress(n),i=this.zlibCompress(r),o=new Uint8Array([49,49,49,50].concat(h(Array.from(i))));return{origin:Object.assign({},e),originLength:JSON.stringify(e).length,shortKeyAndValue:n,msgpackSer:r,compressed:o,compressedLength:o.length,time:Date.now()-t}}},{key:"compressKeyAndValue",value:function(e){return this._ObjectKeyCompress(this._typeCompress(e))}},{key:"_typeCompress",value:function(e){var t=e._type;if(!t)return e;var n=mz[t];return e._type=n||t,e}},{key:"_ObjectKeyCompress",value:function(e){var t=e._message;if(t){var n=t.stats;n&&(t.stats=this._statsCompress(n)),e._message=this._messageCompress(t)}return this._reportCompress(e)}},{key:"_statsCompress",value:function(e){return this._keyCompress(e,vz)}},{key:"_messageCompress",value:function(e){return this._keyCompress(e,gz)}},{key:"_reportCompress",value:function(e){return this._keyCompress(e,Az)}},{key:"_keyCompress",value:function(e,t){var n={},r=Object.keys(e);return Hf(r).call(r,(function(r,i){var o=e[i];return t[i]?n[t[i]]=o:n[i]=o,n}),n),n}}]),e}(),yz=function(e){f(n,e);var t=p(n);function n(e){var r;return v(this,n),r=t.call(this),tO(l(r),"lowPriorityQueue",[]),tO(l(r),"highPriorityQueue",[]),tO(l(r),"AgoraWebSocketManager",void 0),r.AgoraWebSocketManager=e,r}return g(n,[{key:"queue",get:function(){return[].concat(h(this.highPriorityQueue),h(this.lowPriorityQueue))}},{key:"reset",value:function(){this.lowPriorityQueue=[],this.highPriorityQueue=[]}},{key:"pushMessage",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.highPriorityQueue.push(e):this.lowPriorityQueue.push(e),this.sendMessage()}},{key:"sendMessage",value:function(){var e=this,t=this.queue.length;setTimeout((function(){e._sendMessage()}),t<5?15*t:60+3*(t-4))}},{key:"_sendMessage",value:function(){if(this.queue.length){var e=this.AgoraWebSocketManager.getConnection();if(e&&1===e.readyState){var t=this.queue.shift();return this.lowPriorityQueue.includes(t)?this.lowPriorityQueue.shift():this.highPriorityQueue.shift(),e.send(t.compressed),t}}}}]),n}(nx);function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Cz,_z,Iz=Mx("AgoraWebSocketManager","connectionID")(pz=function(e){f(n,e);var t=p(n);function n(e,r){var i;v(this,n);var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;i=t.call(this),tO(l(i),"connectionID",0),tO(l(i),"currentURLIndex",0),tO(l(i),"urls",void 0),tO(l(i),"_reconnectMode","tryNext"),tO(l(i),"reconnectReason",void 0),tO(l(i),"_initMutex",new BV("websocket")),tO(l(i),"name",void 0),tO(l(i),"_state","closed"),tO(l(i),"reconnectInterrupter",void 0),tO(l(i),"websocket",void 0),tO(l(i),"retryConfig",void 0),tO(l(i),"reconnectCount",0),tO(l(i),"forceCloseTimeout",5e3),tO(l(i),"onlineReconnectListener",void 0),tO(l(i),"compressor",new Ez),tO(l(i),"compressorInitStatus","initializing"),tO(l(i),"compress",void 0),tO(l(i),"messageSender",void 0),tO(l(i),"useCompress",void 0),tO(l(i),"tryDoubleDomain",!1),tO(l(i),"wsInflateLength",0),tO(l(i),"wsDeflateLength",0),tO(l(i),"closeEstablishingWs",(function(){})),tO(l(i),"store",void 0),tO(l(i),"joinChannelServiceRecordIndex",void 0),i.store=s,i.name=e,i.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bz(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),i.useCompress=o,i.tryDoubleDomain=a;var c=r.timeout,u=r.timeoutFactor,d=Math.max(300,Math.floor(3*c/5)),f=Math.max(1.2,Math.floor(8*u)/10);LP.ONLINE&&(i.retryConfig.timeout=d,i.retryConfig.timeoutFactor=f),EV.on(PP.NETWORK_STATE_CHANGE,(function(e,t){e!==t&&(i.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===LP.ONLINE?(i.retryConfig.timeout=d,i.retryConfig.timeoutFactor=f):(i.retryConfig.timeout=c,i.retryConfig.timeoutFactor=u))}));var p=Date.now();return i.compressor.init().then((function(){i.compressorInitStatus="initialized";var e=Date.now()-p;px.debug("websocket compressor initialized successfully in ".concat(e,"ms")),Dx("debug",i.compressor,"init",void 0,"websocket compressor initialized successfully in ".concat(e,"ms")),NV.wsCompressorInit({status:!0,ec:null,eventElapse:e}),i.compress=i.compressor.compress.bind(i.compressor)})).catch((function(e){i.compressorInitStatus="failed";var t=e?e.message||e.toString():"Empty Error";px.debug("websocket compressor failed to initialize because of ".concat(t)),Dx("debug",i.compressor,"init",void 0,"websocket compressor failed to initialize because of ".concat(t)),NV.wsCompressorInit({status:!1,ec:t,eventElapse:1})})),i}return g(n,[{key:"url",get:function(){return this.websocket?this.websocket.url:null}},{key:"reconnectMode",get:function(){return this._reconnectMode},set:function(e){["tryNext","recover"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}},{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(WL.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(WL.CONNECTED):"closed"===this._state?this.emit(WL.CLOSED):"failed"===this._state&&this.emit(WL.FAILED))}},{key:"resetReconnectCount",value:function(e){px.debug("websocket reset reconnect count, reason: "+e),Dx("debug",this,"resetReconnectCount",e,"websocket reset reconnect count, reason: "+e),this.reconnectCount=0}},{key:"getConnection",value:function(){return this.websocket||void 0}},{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.forceCloseTimeout=n;var r=function(n,r){t.urls=e;var i=t.urls[t.currentURLIndex];t.state="connecting",t.messageSender=new yz(t),t.createWebSocketConnection(i).then(n).catch(r),t.once(WL.CLOSED,(function(){return r(new ix($N.WS_DISCONNECT))})),t.once(WL.CONNECTED,(function(){return n()}))};return this._initMutex.lock().then((function(e){return new wI((function(e,t){r(e,t)})).then((function(){e()})).catch((function(){e()}))}))}},{key:"close",value:function(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var n=this.websocket;t?setTimeout((function(){return n.close()}),500):n.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}},{key:"reconnect",value:function(e,t){if(!this.websocket)return px.warning("[".concat(this.name,"] can not reconnect, no websocket")),void Dx("warning",this,"reconnect","can not reconnect, no websocket");var n;void 0!==e&&(this.reconnectMode=e),px.debug("[".concat(this.name,"] reconnect is triggered initiative")),Dx("debug",this,"reconnect"),"number"==typeof this.joinChannelServiceRecordIndex&&(null===(n=this.store)||void 0===n||n.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinChannelServiceRecordIndex));var r=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),r&&r.bind(this.websocket)({code:9999,reason:t})}},{key:"sendMessageWithJSON",value:function(e){var t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}},{key:"sendMessageWithUint8Array",value:function(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}},{key:"sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new ix($N.WS_ABORT,"websocket is not ready");try{var r=null;if(n)r=this.sendMessageWithUint8Array(e);else if("initialized"===this.compressorInitStatus&&this.useCompress&&Zx("WEBSOCKET_COMPRESS"))try{r=this.compress(e),this.setWsInflateData(r)}catch(t){r=this.sendMessageWithJSON(e)}else r=this.sendMessageWithJSON(e);t?this.websocket.send(r.compressed):this.messageSender.pushMessage(r)}catch(e){throw new ix($N.WS_ERR,"send websocket message error"+e.toString())}}},{key:"setWsInflateData",value:function(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}},{key:"getWsInflateData",value:function(){var e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}},{key:"clearWsInflateData",value:function(){this.wsInflateLength=0,this.wsDeflateLength=0}},{key:"createWebSocketConnection",value:function(){var e=u(c().mark((function e(t,n){var r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.connectionID+=1,this.connectionID,this.joinChannelServiceRecordIndex=void 0,new wI((function(e,i){var o,a=function(){px.debug("[".concat(r.name,"] websocket opened:"),t),xx("debug",["WebSocket",r.connectionID],"open",t),r.reconnectMode="retry",r.state="connected",r.resetReconnectCount("opened"),e()},s=function(){var t=u(c().mark((function t(n){var o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(px.debug("[".concat(r.name,"] websocket close ").concat(r.websocket&&r.websocket.url,", code: ").concat(n.code,", reason: ").concat(n.reason,", current mode: ").concat(r.reconnectMode)),xx("debug",["WebSocket",r.connectionID],"close",{code:n.code,reason:n.reason,url:r.websocket&&r.websocket.url,reconnectMode:r.reconnectMode}),!(r.reconnectCount<r.retryConfig.maxRetryCount)){t.next=13;break}return"connected"===r.state&&(r.reconnectReason=n.reason,r.state="reconnecting"),o=XH(r,WL.WILL_RECONNECT,r.reconnectMode)||r.reconnectMode,t.next=5,r.reconnectWithAction(o);case 5:if(a=t.sent,"closed"!==r.state){t.next=8;break}return t.abrupt("return",(px.debug("[".concat(r.connectionID,"] ws is closed, no need to reconnect")),void kx("debug",r,"ws is closed, no need to reconnect")));case 8:if(a){t.next=10;break}return t.abrupt("return",(i(new ix($N.WS_DISCONNECT,"websocket reconnect failed: ".concat(n.code))),void r.close(!0)));case 10:e(),t.next=14;break;case 13:i(new ix($N.WS_DISCONNECT,"websocket close: ".concat(n.code))),r.close();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(e){r.emit(WL.ON_MESSAGE,e)};r.websocket&&(r.websocket.onclose=null,r.websocket.close()),Zx("GATEWAY_WSS_ADDRESS")&&r.name.startsWith("gateway")&&(t=Zx("GATEWAY_WSS_ADDRESS")),px.debug("[".concat(r.name,"] start connect, url: ").concat(t)),kx("debug",r,"start connect, url: ".concat(t));var d=null===(o=r.store)||void 0===o?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});r.chooseBestWebsocketConnection(t,!!n,d).then((function(e){var t;r.websocket=e,a&&a(),e.onclose=s,e.onmessage=l,null===(t=r.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:"success"},d),r.joinChannelServiceRecordIndex=d})).catch((function(e){var t;if(null===(t=r.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof ix&&e.code===$N.WS_ABORT?"aborted":"error",errors:[e]},d),"closed"!==r.state){if(e instanceof ix&&e.code===$N.WS_ERR){var n=new ix($N.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return px.error("[".concat(r.name,"]").concat(n)),Dx("error",r,"chooseBestWebsocketConnection",void 0,e.toString()),void i(n)}s&&s(e)}else i(new ix($N.WS_DISCONNECT,"websocket is closed: ".concat(e.toString())))}))}))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"reconnectWithAction",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s,l,d,f=this,p=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(p.length>1&&void 0!==p[1])||p[1],!(this.reconnectCount>=this.retryConfig.maxRetryCount)){e.next=3;break}return e.abrupt("return",!1);case 3:if(this.urls){e.next=5;break}return e.abrupt("return",!1);case 5:if("closed"!==this.state){e.next=7;break}return e.abrupt("return",!1);case 7:if(this.onlineReconnectListener||EV.networkState!==LP.OFFLINE||(this.onlineReconnectListener=EV.onlineWaiter&&EV.onlineWaiter.then((function(){f.onlineReconnectListener=void 0}))),r=!0,this.reconnectInterrupter=function(){r=!1},!n){e.next=15;break}return i=ax(this.reconnectCount,this.retryConfig),px.debug("[".concat(this.name,"] wait ").concat(i,"ms to reconnect websocket, mode: ").concat(t)),Dx("debug",this,"reconnectWithAction",{timeout:i,action:t}),e.next=15,wI.race([VH(i),this.onlineReconnectListener||new wI((function(){}))]);case 15:if("closed"!==this.state&&r){e.next=17;break}return e.abrupt("return",!1);case 17:if(this.reconnectCount+=1,o=function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.emit(WL.RECONNECT_CREATE_CONNECTION,n),e.next=3,f.createWebSocketConnection(t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=19,"retry"!==t){e.next=27;break}return a=this.urls[this.currentURLIndex],this.emit(WL.RECONNECT_WAITTING_FINISH,t),e.next=25,o(a,t);case 25:e.next=51;break;case 27:if("tryNext"!==t){e.next=39;break}if(this.currentURLIndex+=1,!(this.currentURLIndex>=this.urls.length)){e.next=32;break}return e.next=31,this.reconnectWithAction("recover",!1);case 31:return e.abrupt("return",e.sent);case 32:return px.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),kx("debug",this,"websocket url length: ".concat(this.urls.length," current index: ").concat(this.currentURLIndex)),s=this.urls[this.currentURLIndex],this.emit(WL.RECONNECT_WAITTING_FINISH,t),e.next=37,o(s,t);case 37:e.next=51;break;case 39:if("recover"!==t){e.next=51;break}return px.debug("[".concat(this.name,"] request new urls")),kx("debug",this,"request new urls"),this.resetReconnectCount("recover mode"),this.emit(WL.RECONNECT_WAITTING_FINISH,t),e.next=46,zH(this,WL.REQUEST_NEW_URLS);case 46:return this.urls=e.sent,this.currentURLIndex=0,l=this.urls[this.currentURLIndex],e.next=51,o(l,t);case 51:return e.abrupt("return",!0);case 54:if(e.prev=54,e.t0=e.catch(19),px.error("[".concat(this.name,"] reconnect failed"),e.t0.toString()),Dx("error",this,"reconnectWithAction",void 0,e.t0.toString()),!(null!=e.t0&&null!==(d=e.t0.data)&&void 0!==d&&d.desc&&Array.isArray(e.t0.data.desc)&&e.t0.data.desc.length&&e.t0.data.desc.includes("dynamic key expired"))){e.next=62;break}e.t1=(this.emit(WL.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1),e.next=65;break;case 62:return e.next=64,this.reconnectWithAction(t,n);case 64:e.t1=e.sent;case 65:return e.abrupt("return",e.t1);case 66:case"end":return e.stop()}}),e,this,[[19,54]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"chooseBestWebsocketConnection",value:function(){var e=u(c().mark((function e(t,n,r){var i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wI((function(e,o){var a=!1,s=[];i.closeEstablishingWs=function(){px.debug("[choose-best-ws] close establishing websockets"),s.forEach((function(e){e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),o(new ix($N.WS_ABORT,"choose best websocket aborted"))};var c,u=Zx("GATEWAY_DOMAINS"),l=t.indexOf("?h="),d=u.find((function(e){return-1!==l?t.includes(e,l):t.includes(e)}));px.debug("[choose-best-ws] currentDomain: ",d,", domains: ",u),Dx("debug",i,"chooseBestWebsocketConnection",{currentDomain:d,domains:u});var f=!i.tryDoubleDomain||n||!d;if(!f&&d){var p,h=Date.now();try{u.forEach((function(e){var n=-1===l?t.replace(d,e):t.substr(0,l)+t.substr(l).replace(d,e),r=new WebSocket(n);r.binaryType="arraybuffer",s.push(r),px.debug("[choose-best-ws] ws is connecting:",r.url),kx("debug",i,"ws is connecting: ".concat(r.url))}))}catch(t){for(px.debug("[choose-best-ws] ws create failed, fallback to single url"),kx("debug",i,"ws create failed, fallback to single url"),s.forEach((function(e){return e.close()}));s.length;)s.pop();f=!0}null===(p=i.store)||void 0===p||p.recordJoinChannelService({urls:s.map((function(e){return e.url})),service:"gateway"},r),s.forEach((function(t){t.onopen=function(){if(!a){var n=Date.now()-h;px.debug("[choose-best-ws] ws open cost ".concat(n,"ms")),s.filter((function(e){return e!==t})).forEach((function(e){px.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),kx("debug",i,"close backup websocket: ".concat(e.url)),e.close()})),a=!0,e(t)}},t.onclose=function(e){c=e,a||s.find((function(e){return!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)}))||(px.debug("[choose-best-ws] all websocket is closed"),kx("debug",i,"all websocket is closed"),a=!0,o(c))},t.onmessage=function(e){px.debug("[choose-best-ws]".concat(t.url," onmessage: ").concat(e.data)),kx("debug",i,"".concat(t.url," onmessage: ").concat(e.data))}})),VH(i.forceCloseTimeout).then((function(){s.forEach((function(e){e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(f){var v,g;px.debug("[choose-best-ws] use single url: ",t),kx("debug",i,"use single url: ".concat(t)),null===(v=i.store)||void 0===v||v.recordJoinChannelService({urls:[t],service:"gateway"},r);try{g=new WebSocket(t),s.push(g),g.binaryType="arraybuffer"}catch(t){var A=new ix($N.WS_ERR,"init websocket failed! Error: ".concat(t.toString()));return px.error("[".concat(i.name,"]").concat(A)),Dx("error",i,"chooseBestWebsocketConnection",void 0,t.toString()),void o(A)}g.onopen=function(){e(g)},g.onclose=function(e){o(e)},g.onmessage=function(e){px.debug("[choose-best-ws]".concat(g.url," onmessage: ").concat(e.data)),kx("debug",i,"".concat(g.url," onmessage: ").concat(e.data))},VH(i.forceCloseTimeout).then((function(){g&&g.readyState!==WebSocket.OPEN&&g.close()}))}})).then((function(e){return i.closeEstablishingWs=void 0,e})).catch((function(e){throw i.closeEstablishingWs=void 0,e})));case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),n}(nx))||pz,wz=function(){function e(t){v(this,e),tO(this,"input",[]),tO(this,"size",void 0),this.size=t}return g(e,[{key:"add",value:function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}},{key:"mean",value:function(){var e;return 0===this.input.length?0:Hf(e=this.input).call(e,(function(e,t){return e+t}))/this.input.length}}]),e}(),Sz=Mx("AgoraRTCSignal","websocket.connectionID")(Cz=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this),tO(l(i),"_disconnectedReason",void 0),tO(l(i),"_websocketReconnectReason",void 0),tO(l(i),"_connectionState",LL.CLOSED),tO(l(i),"reconnectToken",void 0),tO(l(i),"websocket",void 0),tO(l(i),"openConnectionTime",void 0),tO(l(i),"clientId",void 0),tO(l(i),"lastMsgTime",Date.now()),tO(l(i),"uploadCache",[]),tO(l(i),"uploadCacheInterval",void 0),tO(l(i),"rttRolling",new wz(5)),tO(l(i),"pingpongTimer",void 0),tO(l(i),"wsInflateDataTimer",void 0),tO(l(i),"pingpongTimeoutCount",0),tO(l(i),"joinResponse",void 0),tO(l(i),"multiIpOption",void 0),tO(l(i),"initError",void 0),tO(l(i),"spec",void 0),tO(l(i),"store",void 0),tO(l(i),"onWebsocketMessage",(function(e){if(e.data instanceof ArrayBuffer)i.emit(PL.ON_BINARY_DATA,e.data);else{var t=JSON.parse(e.data);if(i.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){var n="res-@".concat(t._id);i.emit(n,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")&&(i.emit(t._type,t._message),t._type===UL.ON_NOTIFICATION&&i.handleNotification(t._message),t._type===UL.ON_USER_BANNED))switch(t._message.error_code){case 14:i.close(NL.UID_BANNED);break;case 15:i.close(NL.IP_BANNED);break;case 16:i.close(NL.CHANNEL_BANNED)}}})),i.clientId=e.clientId,i.spec=e,i.store=r,i.websocket=new Iz("gateway-".concat(i.clientId),i.spec.retryConfig,!0,!0,r),i.handleWebsocketEvents(),window.addEventListener("offline",(function(){i.connectionState===LL.CONNECTED&&i.reconnect("retry",DL.OFFLINE)})),i}return g(n,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){e!==this._connectionState&&(this._connectionState=e,e===LL.CONNECTED?this.emit(PL.WS_CONNECTED):e===LL.RECONNECTING?this.emit(PL.WS_RECONNECTING,this._websocketReconnectReason):e===LL.CLOSED&&this.emit(PL.WS_CLOSED,this._disconnectedReason))}},{key:"currentURLIndex",get:function(){return this.websocket.currentURLIndex}},{key:"url",get:function(){return this.websocket?this.websocket.url:null}},{key:"rtt",get:function(){return this.rttRolling.mean()}},{key:"request",value:function(){var e=u(c().mark((function e(t,n,r,i){var o,a,s,u,l,d,f,p,h,v=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=HH(6,""),a={_id:o,_type:t,_message:n},s=this.websocket.connectionID,u=function(){return new wI((function(e,n){if(v.connectionState===LL.CONNECTED)return e();var r=function(){v.off(PL.WS_CLOSED,i),e()},i=function(){v.off(PL.WS_CONNECTED,r),n(new ix($N.WS_ABORT))};v.once(PL.WS_CONNECTED,r),v.once(PL.WS_CLOSED,i),t!==ML.PUBLISH&&t!==ML.SUBSCRIBE&&t!==ML.UNSUBSCRIBE&&t!==ML.UNPUBLISH&&t!==ML.CONTROL||v.once(PL.DISCONNECT_P2P,(function(){n(new ix($N.DISCONNECT_P2P))})),t===ML.PUBLISH&&v.once(PL.ABORT_P2P_EXECUTION,(function(){n(new ix($N.DISCONNECT_P2P))}))}))},e.t0=this.connectionState!==LL.CONNECTING&&this.connectionState!==LL.RECONNECTING||t===ML.JOIN||t===ML.REJOIN,e.t0){e.next=5;break}return e.next=5,u();case 5:if(this.websocket.sendMessage(a,!0),!i){e.next=8;break}return e.abrupt("return");case 8:return l=new wI((function(e,r){var i=!1,a=function(r,o){i=!0,e({isSuccess:"success"===r,message:o||{}}),v.off(PL.WS_CLOSED,c),v.off(PL.WS_RECONNECTING,c),v.emit(PL.REQUEST_SUCCESS,t,n)};v.once("res-@".concat(o),a);var c=function e(){r(new ix($N.WS_ABORT,"type: ".concat(t))),v.off(PL.WS_CLOSED,e),v.off(PL.WS_RECONNECTING,e),v.off("res-@".concat(o),a)};v.once(PL.WS_CLOSED,c),v.once(PL.WS_RECONNECTING,c),VH(Zx("SIGNAL_REQUEST_TIMEOUT")).then((function(){v.websocket.connectionID!==s||i||(px.warning("ws request timeout, type: ".concat(t)),kx("warning",v,"ws request timeout, type: ".concat(t)),v.emit(PL.REQUEST_TIMEOUT,t,n))}))})),d=null,e.prev=10,e.next=13,l;case 13:d=e.sent,e.next=35;break;case 16:if(e.prev=16,e.t1=e.catch(10),this.connectionState!==LL.CLOSED&&t!==ML.LEAVE){e.next=20;break}throw new ix($N.WS_ABORT);case 20:if(this.spec.forceWaitGatewayResponse&&!r){e.next=24;break}e.t2=e.t1.throw(),e.next=34;break;case 24:if(t!==ML.JOIN&&t!==ML.REJOIN){e.next=28;break}e.t3=null,e.next=33;break;case 28:return e.next=30,u();case 30:return e.next=32,this.request(t,n);case 32:e.t3=e.sent;case 33:e.t2=e.t3;case 34:return e.abrupt("return",e.t2);case 35:if(!d.isSuccess){e.next=37;break}return e.abrupt("return",d.message);case 37:if(f=Number(d.message.error_code||d.message.code),p=oz(f),h=new ix($N.UNEXPECTED_RESPONSE,"".concat(p.desc,": ").concat(d.message.error_str),{code:f,data:d.message}),"success"!==p.action){e.next=42;break}e.t4=d.message,e.next=68;break;case 42:if(px.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(f,", message: ").concat(p.desc,", action: ").concat(p.action)),kx("warning",this,"unexpected response from type ".concat(t,", error_code: ").concat(f,", message: ").concat(p.desc,", action: ").concat(p.action)),f!==kL.ERR_TOO_MANY_BROADCASTERS){e.next=48;break}e.t5=t===ML.JOIN||t===ML.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw(),e.next=67;break;case 48:if("failed"!==p.action){e.next=52;break}e.t6=h.throw(),e.next=66;break;case 52:if("quit"!==p.action){e.next=56;break}e.t7=(this.initError=h,this.close(),h.throw()),e.next=65;break;case 56:if(f===kL.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,px.warning("[".concat(this.clientId,"] detect multi ip, recover")),kx("warning",this,"detect multi ip, recover"),this.reconnect("recover",DL.MULTI_IP)):this.reconnect(p.action,DL.SERVER_ERROR),t!==ML.JOIN&&t!==ML.REJOIN){e.next=61;break}e.t8=null,e.next=64;break;case 61:return e.next=63,this.request(t,n);case 63:e.t8=e.sent;case 64:e.t7=e.t8;case 65:e.t6=e.t7;case 66:e.t5=e.t6;case 67:e.t4=e.t5;case 68:return e.abrupt("return",e.t4);case 69:case"end":return e.stop()}}),e,this,[[10,16]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"waitMessage",value:function(e,t){var n=this;return new wI((function(r){var i=function i(o){(!t||t(o))&&(n.off(e,i),r(o))};n.on(e,i)}))}},{key:"upload",value:function(e,t){var n=this,r={_type:e,_message:t};try{this.websocket.sendMessage(r)}catch(e){var i=Zx("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(r),this.uploadCache.length>i&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((function(){if(n.connectionState===LL.CONNECTED){var e=n.uploadCache.splice(0,1)[0];0===n.uploadCache.length&&(window.clearInterval(n.uploadCacheInterval),n.uploadCacheInterval=void 0),n.upload(e._type,e._message)}}),Zx("UPLOAD_CACHE_INTERVAL")||2e3))}}},{key:"send",value:function(e,t){var n={_type:e,_message:t};this.websocket.sendMessage(n)}},{key:"init",value:function(e,t){var n=this;return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new wI((function(r,i){n.once(PL.WS_CONNECTED,(function(){return r(n.joinResponse)})),n.once(PL.WS_CLOSED,(function(){return i(n.initError||new ix($N.WS_ABORT))})),n.connectionState=LL.CONNECTING,n.websocket.init(e).catch(i),n.wsInflateDataTimer&&window.clearInterval(n.wsInflateDataTimer),n.wsInflateDataTimer=window.setInterval((function(){n.handleWsInflateData()}),2e4),setTimeout((function(){t&&void 0===n.openConnectionTime&&(px.debug("[".concat(n.clientId,"] init websocket timeout while join with fallback to proxy")),i(new ix($N.INIT_WEBSOCKET_TIMEOUT)))}),Zx("JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION"))}))}},{key:"close",value:function(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||NL.LEAVE,this.connectionState=LL.CLOSED,px.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===NL.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new Iz("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,this.store),this.handleWebsocketEvents())}},{key:"join",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.joinResponse){e.next=11;break}return this.emit(PL.ABORT_P2P_EXECUTION),e.next=4,zH(this,PL.REQUEST_JOIN_INFO);case 4:return t=e.sent,e.next=7,this.request(ML.JOIN,t);case 7:if(n=e.sent){e.next=10;break}return e.abrupt("return",(this.emit(PL.REPORT_JOIN_GATEWAY,$N.TIMEOUT,this.url||""),!1));case 10:this.joinResponse=n,this.emit(PL.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token;case 11:return e.abrupt("return",(this.connectionState=LL.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"rejoin",value:function(){var e=u(c().mark((function e(){var t,n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reconnectToken){e.next=2;break}throw new ix($N.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");case 2:return(t=ZH(this,PL.REQUEST_REJOIN_INFO)).token=this.reconnectToken,e.next=6,this.request(ML.REJOIN,t);case 6:return n=e.sent,e.abrupt("return",!!n&&(this.connectionState=LL.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),n.peers&&n.peers.forEach((function(e){r.emit(UL.ON_USER_ONLINE,{uid:e.uid}),e.audio&&r.emit(UL.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&r.emit(UL.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?r.emit(UL.MUTE_AUDIO,{uid:e.uid}):r.emit(UL.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?r.emit(UL.MUTE_VIDEO,{uid:e.uid}):r.emit(UL.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?r.emit(UL.ENABLE_LOCAL_AUDIO,{uid:e.uid}):r.emit(UL.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?r.emit(UL.ENABLE_LOCAL_VIDEO,{uid:e.uid}):r.emit(UL.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||r.emit(UL.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reconnect",value:function(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}},{key:"handleNotification",value:function(e){px.debug("[".concat(this.clientId,"] receive notification: "),e),Dx("debug",this,"handleNotification",e);var t=oz(e.code);if("success"!==t.action)return"failed"===t.action?(px.error("[".concat(this.clientId,"] ignore error: "),t.desc),void kx("error",this,"ignore error: ".concat(t.desc))):"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(NL.UID_BANNED),void this.close()):void this.reconnect(t.action,DL.SERVER_ERROR)}},{key:"handlePingPong",value:function(){var e=this;if(this.websocket&&"connected"===this.websocket.state){this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;var t=Zx("PING_PONG_TIME_OUT"),n=Date.now();this.pingpongTimeoutCount>=t&&(px.warning("PINGPONG Timeout. Last Socket Message: ".concat(n-this.lastMsgTime,"ms")),kx("warning",this,"PINGPONG Timeout. Last Socket Message: ".concat(n-this.lastMsgTime,"ms")),n-this.lastMsgTime>Zx("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",DL.TIMEOUT):this.request(ML.PING,void 0,!0).then((function(){e.pingpongTimeoutCount=0;var t=Date.now()-n;e.rttRolling.add(t),Zx("REPORT_STATS")&&e.send(ML.PING_BACK,{pingpongElapse:t})})).catch((function(e){}))}}},{key:"handleWsInflateData",value:function(){var e=this.websocket.getWsInflateData(),t=e.wsInflateLength,n=e.wsDeflateLength;0!==t&&0!==n&&this.upload(BL.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:n,ws_inflate_length:t})}},{key:"handleWebsocketEvents",value:function(){var e=this;this.websocket.on(WL.RECONNECT_WAITTING_FINISH,(function(t){e.emit(PL.WS_RECONNECT_WAITTING_FINISH,t)})),this.websocket.on(WL.RECONNECT_CREATE_CONNECTION,(function(t){e.emit(PL.WS_RECONNECT_CREATE_CONNECTION,t)})),this.websocket.on(WL.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(WL.CLOSED,(function(){e.connectionState=LL.CLOSED})),this.websocket.on(WL.FAILED,(function(){e._disconnectedReason=NL.NETWORK_ERROR,e.connectionState=LL.CLOSED})),this.websocket.on(WL.RECONNECTING,(function(t){e._websocketReconnectReason=t,e.joinResponse=void 0,e.connectionState===LL.CONNECTED?e.connectionState=LL.RECONNECTING:e.connectionState=LL.CONNECTING})),this.websocket.on(WL.WILL_RECONNECT,(function(t,n){if(ZH(e,PL.IS_P2P_DISCONNECTED)&&"retry"===t)return px.debug("".concat(e.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),kx("debug",e,"".concat(e.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),e.reconnectToken=void 0,e.emit(PL.NEED_RENEW_SESSION),e.emit(PL.DISCONNECT_P2P),n("tryNext");"retry"!==t&&(px.debug("".concat(e.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(t)),kx("debug",e,"".concat(e.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(t)),e.reconnectToken=void 0,e.emit(PL.NEED_RENEW_SESSION),e.emit(PL.DISCONNECT_P2P)),n(t)})),this.websocket.on(WL.CONNECTED,(function(){e.openConnectionTime=Date.now(),e.reconnectToken?e.rejoin().catch((function(t){px.warning("[".concat(e.clientId,"] rejoin failed ").concat(t)),Dx("warning",e,"rejoin",void 0,t.toString()),e.reconnect("tryNext",DL.SERVER_ERROR)})):e.join().catch((function(t){if(e.emit(PL.REPORT_JOIN_GATEWAY,t.message||t.code,e.url||""),t instanceof ix&&t.code===$N.UNEXPECTED_RESPONSE&&t.data.code===kL.ERR_NO_AUTHORIZED)return px.warning("[".concat(e.clientId,"] reconnect no authorized, recover")),kx("warning",e,"reconnect no authorized, recover"),void e.reconnect("recover",DL.SERVER_ERROR);px.error("[".concat(e.clientId,"] join gateway request failed"),t.toString()),Dx("error",e,"join",void 0,t.toString()),e.spec.forceWaitGatewayResponse?e.reconnect("tryNext",DL.SERVER_ERROR):(e.initError=t,e.close())}))})),this.websocket.on(WL.REQUEST_NEW_URLS,(function(t,n){zH(e,PL.REQUEST_RECOVER,e.multiIpOption).then(t).catch(n)})),this.websocket.on(WL.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){e.emit(UL.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}]),n}(nx))||Cz;function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kz=new Map,Oz=Mx("AgoraRTCGateway","store.clientId")(_z=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this),tO(l(i),"store",void 0),tO(l(i),"joinInfo",void 0),tO(l(i),"key",void 0),tO(l(i),"signal",void 0),tO(l(i),"role",void 0),tO(l(i),"inChannelInfo",{joinAt:null,duration:0}),tO(l(i),"spec",void 0),tO(l(i),"_state","DISCONNECTED"),tO(l(i),"_statsCollector",void 0),tO(l(i),"_disconnectedReason",void 0),tO(l(i),"isSignalRecover",!1),tO(l(i),"hasChangeBGPAddress",!1),tO(l(i),"trafficStatsInterval",void 0),tO(l(i),"networkQualityInterval",void 0),tO(l(i),"_joinGatewayStartTime",0),tO(l(i),"_signalTimeout",!1),tO(l(i),"_clientRoleOptions",void 0),tO(l(i),"_isProactiveJoin",!1),i.store=e,i.spec=r,i.signal=new Sz(Rz(Rz({},r),{},{retryConfig:r.websocketRetryConfig}),e),i._statsCollector=r.statsCollector,i.role=r.role||"audience",i._clientRoleOptions=r.clientRoleOptions,i.handleSignalEvents(),i}return g(n,[{key:"state",get:function(){return this._state},set:function(e){if(e!==this._state){var t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(pP.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(pP.CONNECTION_STATE_CHANGE,e,t)}}},{key:"joinGatewayStartTime",get:function(){return this._joinGatewayStartTime},set:function(e){px.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),Dx("debug",this,"joinGatewayStartTime",e,"[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}},{key:"join",value:function(){var e=u(c().mark((function e(t,n,r){var i,o,a,s,u,l,d=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.joinGatewayStart(),"disabled"!==t.cloudProxyServer&&(this.hasChangeBGPAddress=!0),i=Date.now(),(o=kz.get(t.cname))||(o=new Map,kz.set(t.cname,o)),this._isProactiveJoin=!0,!o.has(t.uid)){e.next=6;break}throw a=new ix($N.UID_CONFLICT),NV.joinGateway(t.sid,{lts:i,succ:!1,ec:a.message,addr:null,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!t.proxyServer}),this._isProactiveJoin=!1,a;case 6:return o.set(t.uid,!0),this.joinInfo=t,this.key=n,s=t.proxyServer,u=s?t.gatewayAddrs.map((function(e){var t=e.address.split(":");return"wss://".concat(s,"/ws/?h=").concat(t[0],"&p=").concat(t[1])})):t.gatewayAddrs.map((function(e){return"wss://".concat(e.address)})),l=0,this.joinGatewayStartTime=i,e.prev=10,e.next=13,this.signal.init(u,r);case 13:l=e.sent.uid,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!e.t0||e.t0.code!==$N.INIT_WEBSOCKET_TIMEOUT){e.next=20;break}throw px.warning("[".concat(this.store.clientId,"] User join failed"),e.t0.toString()),e.t0;case 20:throw px.error("[".concat(this.store.clientId,"] User join failed"),e.t0.toString()),Dx("error",this,"join",void 0,e.t0.toString()),NV.joinGateway(t.sid,{lts:i,succ:!1,ec:e.t0.message,addr:this.signal.url,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!s}),this._isProactiveJoin=!1,o.delete(t.uid),this.signal.close(),e.t0;case 21:return e.abrupt("return",(this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),px.debug("[".concat(this.store.clientId,"] Connected to gateway server")),Dx("debug",this,"join",void 0,"success"),this.trafficStatsInterval=window.setInterval((function(){d.updateTrafficStats().catch((function(e){px.warning("[".concat(d.store.clientId,"] get traffic stats error"),e.toString()),Dx("warning",d,"trafficStatsInterval",void 0,e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((function(){navigator&&void 0!==navigator.onLine&&!navigator.onLine?d.emit(pP.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):d._signalTimeout?d.emit(pP.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===d.state&&d._statsCollector.trafficStats?d.emit(pP.NETWORK_QUALITY,{uplinkNetworkQuality:DH(d._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:DH(d._statsCollector.trafficStats.B_dnq)}):d.emit(pP.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),l));case 22:case"end":return e.stop()}}),e,this,[[10,16]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"leave",value:function(){var e=u(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,"DISCONNECTED"===this.state){e.next=14;break}if(n!==NL.FALLBACK&&(this.state="DISCONNECTING"),e.prev=3,e.t0=t||this.signal.connectionState!==LL.CONNECTED,e.t0){e.next=8;break}return e.next=8,function(e,t){return t===1/0?e:wI.race([e,GH(t)])}(this.signal.request(ML.LEAVE,void 0,!0),3e3);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(3),px.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e.t1),kx("warning",this,"leave request failed, ignore, ".concat(e.t1.toString()));case 13:this.signal.close(n),n!==NL.FALLBACK&&(this.state="DISCONNECTED"),this.reset();case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(){var e=u(c().mark((function e(t,n,r){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new ix($N.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 2:return i={state:"offer",p2p_id:this.store.p2pId,ortc:n,mode:this.spec.mode,extend:Zx("PUB_EXTEND")},e.prev=3,e.next=6,this.signal.request(ML.PUBLISH,i,!0);case 6:return e.abrupt("return",e.sent._message);case 9:if(e.prev=9,e.t0=e.catch(3),!r||!e.t0.data||e.t0.data.code!==kL.ERR_PUBLISH_REQUEST_INVALID){e.next=17;break}return px.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),e.t0.toString()),kx("warning",this,"receive publish error code, retry, ".concat(e.t0.toString())),e.next=16,this.tryUnpubBeforeRepub(t,n);case 16:return e.abrupt("return",this.publish(t,n,!1));case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"unpublish",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=3;break}throw new ix($N.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));case 3:return e.next=5,this.signal.request(ML.UNPUBLISH,{stream_id:n,ortc:t},!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),px.warning("unpublish warning: ",e.t0),Dx("warning",this,"unpublish",void 0,e.t0.toString());case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"subscribe",value:function(){var e=u(c().mark((function e(t,n,r){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new ix($N.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));case 2:return i={stream_id:t,stream_type:n.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,tcc:!!Zx("SUBSCRIBE_TCC"),extend:Zx("SUB_EXTEND"),ssrcId:n.ssrcId},e.prev=3,e.next=6,this.signal.request(ML.SUBSCRIBE,i,!0);case 6:return e.abrupt("return",e.sent._message);case 9:if(e.prev=9,e.t0=e.catch(3),!r||!e.t0.data||e.t0.data.code!==kL.ERR_SUBSCRIBE_REQUEST_INVALID){e.next=19;break}return px.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),e.t0.toString()),kx("warning",this,"receiver subscribe error code, retry"),e.next=16,this.tryUnsubBeforeResub(t,n);case 16:return e.next=18,this.subscribe(t,n,!1);case 18:return e.abrupt("return",e.sent);case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"subscribeAll",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state||"RECONNECTING"===this.state){e.next=2;break}throw new ix($N.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));case 2:return r={p2p_id:this.store.p2pId,users:t,dtx:!1},e.prev=3,e.next=6,this.signal.request(ML.SUBSCRIBE_STREAMS,r,!0);case 6:case 18:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!n||!e.t0.data||e.t0.data.code!==kL.ERR_SUBSCRIBE_REQUEST_INVALID){e.next=19;break}return px.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),e.t0.toString()),kx("warning",this,"receiver massSubscribe error code, retry"),e.next=16,this.tryMassUnsubBeforeResub(t);case 16:return e.next=18,this.subscribeAll(t,!1);case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setVideoProfile",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){if(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width){var t=e.frameRate,n=e.width,r=e.height,i=!0;return"number"!=typeof t&&((t=t.exact||t.ideal||t.max||t.min||0)||(i=!1)),"number"!=typeof n&&((n=n.exact||n.ideal||n.max||n.min||0)||(i=!1)),"number"!=typeof r&&(r=r.exact||r.ideal||r.max||r.min||0,t||(i=!1)),i?{stream_type:0,width:n,height:r,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}}(t),e.abrupt("return",n?this.signal.request(ML.SET_VIDEO_PROFILE,n):(px.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway")),void kx("debug",this,"encoder config is not complete, do not report to gateway")));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unsubscribe",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(ML.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:t,stream_id:n},!0);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),px.warning("unsubscribe warning: ",e.t0),Dx("warning",this,"unsubscribe",void 0,e.t0.toString());case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"massUnsubscribe",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(ML.UNSUBSCRIBE_STREAMS,t,!0);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),px.warning("unsubscribeAll warning: ",e.t0),Dx("warning",this,"unsubscribeAll",void 0,e.t0.toString());case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reconnectPC",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.iceParameters,r=t.dtlsParameters,i=t.rtpCapabilities,e.next=5,this.signal.request(ML.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:i}},!0);case 5:return o=e.sent,a=this.getGatewayIpPort(),e.abrupt("return",{gatewayEstablishParams:o,gatewayIP:null==a?void 0:a.ip,gatewayPort:null==a?void 0:a.port});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getGatewayInfo",value:function(){return this.signal.request(ML.GATEWAY_INFO)}},{key:"renewToken",value:function(e){return this.signal.request(ML.RENEW_TOKEN,e)}},{key:"setClientRole",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&(this._clientRoleOptions=Object.assign({},n)),"CONNECTED"===this.state){e.next=2;break}return e.abrupt("return",void(this.role=t));case 2:return r=void 0,r="audience"===t?this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:0,e.next=6,this.signal.request(ML.SET_CLIENT_ROLE,{role:t,level:r,client_ts:Date.now()});case 6:this.role=t;case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setRemoteVideoStreamType",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(ML.SWITCH_VIDEO_STREAM,{stream_id:t,stream_type:n});case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setDefaultRemoteVideoStreamType",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(ML.DEFAULT_VIDEO_STREAM,{stream_type:t});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setStreamFallbackOption",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(ML.SET_FALLBACK_OPTION,{stream_id:t,fallback_type:n});case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"pickSVCLayer",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(ML.PICK_SVC_LAYER,{stream_id:t,spatial_layer:n.spatialLayer,temporal_layer:n.temporalLayer});case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getInChannelInfo",value:function(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),Rz({},this.inChannelInfo)}},{key:"getGatewayVersion",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(ML.GATEWAY_INFO);case 2:return e.abrupt("return",e.sent.version);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){var e=kz.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}},{key:"updateTurnConfigFromSignal",value:function(){if(this.joinInfo){var e=function(e){var t=e.match(/(wss\:\/\/)?([^:]+):(\d+)/);return t?{username:Vx.username,password:Vx.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(Rz(Rz({},Vx),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}}},{key:"updateTrafficStats",value:function(){var e=u(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.state){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.signal.request(ML.TRAFFIC_STATS,void 0,!0);case 4:(t=e.sent).timestamp=Date.now(),t.peer_delay.forEach((function(e){var t=n._statsCollector.trafficStats&&n._statsCollector.trafficStats.peer_delay.find((function(t){return t.peer_uid===e.peer_uid}));t&&t.B_st!==e.B_st&&tq((function(){n.emit(pP.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getJoinMessage",value:function(e){if(!this.joinInfo||!this.key)throw new ix($N.UNEXPECTED_ERROR,"can not generate join message, no join info");var t=Object.assign({},this.joinInfo.apResponse),n=Zx("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(e){n=void 0}n&&n.length>128&&(n=void 0);var r=Rz({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:Fx,browser:navigator.userAgent,process_id:Zx("PROCESS_ID"),mode:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:Zx("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:Zx("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:Zx("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof Zx("SUBSCRIBE_AUDIO_FILTER_TOPN")?Zx("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof Zx("ENABLE_PUBLISH_AUDIO_FILTER")?Zx("ENABLE_PUBLISH_AUDIO_FILTER"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(r.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(r.aes_mode=this.joinInfo.aesmode,Zx("ENCRYPT_AES")?(r.aes_secret=this.joinInfo.aespassword,r.aes_encrypt=!0):r.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(r.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(r.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(r.default_video_stream=this.joinInfo.defaultVideoStream),r}},{key:"getRejoinMessage",value:function(){if(!this.joinInfo)throw new ix($N.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}},{key:"handleSignalEvents",value:function(){var e=this;this.signal.on(PL.WS_RECONNECT_WAITTING_FINISH,(function(t){["tryNext","recover"].includes(t)&&e.joinInfo&&NV.adjustSessionStartTime(e.joinInfo.sid)})),this.signal.on(PL.WS_RECONNECT_CREATE_CONNECTION,(function(t){e.joinGatewayStartTime=Date.now()})),this.signal.on(PL.WS_RECONNECTING,(function(t){e.joinInfo&&NV.WebSocketQuit(e.joinInfo.sid,{lts:Date.now(),succ:-1,cname:e.joinInfo.cname,uid:e.joinInfo.uid,cid:e.joinInfo.cid,errorCode:t||DL.NETWORK_ERROR}),e.joinInfo&&(e.state="RECONNECTING",NV.sessionInit(e.joinInfo.sid,{lts:(new Date).getTime(),extend:e.isSignalRecover?{recover:!0}:{rejoin:!0},cname:e.joinInfo.cname,appid:e.joinInfo.appId,mode:e.spec.mode}),e.isSignalRecover=!1,e.joinGatewayStartTime=Date.now())})),this.signal.on(PL.WS_CLOSED,(function(t){var n;switch(t){case NL.LEAVE:n=DL.LEAVE;break;case NL.UID_BANNED:case NL.IP_BANNED:case NL.CHANNEL_BANNED:case NL.SERVER_ERROR:n=DL.SERVER_ERROR;break;case NL.FALLBACK:n=DL.FALLBACK;break;default:n=DL.NETWORK_ERROR}px.debug("[signal] websocket closed, reason: ".concat(n||"undefined -> "+DL.NETWORK_ERROR)),Ox("debug",e,"ws_closed","reason: ".concat(t)),e.joinInfo&&NV.WebSocketQuit(e.joinInfo.sid,{lts:Date.now(),succ:t===NL.LEAVE?1:-1,cname:e.joinInfo.cname,uid:e.joinInfo.uid,cid:e.joinInfo.cid,errorCode:n}),e._disconnectedReason=t,t!==NL.FALLBACK&&(e.state="DISCONNECTED"),e.reset()})),this.signal.on(PL.WS_CONNECTED,(function(){if(e.updateTurnConfigFromSignal(),e.state="CONNECTED",e.joinInfo&&("audience"===e.role&&e._clientRoleOptions&&e._clientRoleOptions.level&&(px.debug("[".concat(e.store.clientId,"] patch to send set client role, role: ").concat(e.role,", mode: ").concat(e.spec.mode,", level: ").concat(e._clientRoleOptions&&e._clientRoleOptions.level)),kx("debug",e,"patch to send set client role, role: ".concat(e.role,", mode: ").concat(e.spec.mode,", level: ").concat(e._clientRoleOptions&&e._clientRoleOptions.level)),e.setClientRole(e.role,e._clientRoleOptions)),NV.joinGateway(e.joinInfo.sid,{lts:e.joinGatewayStartTime,succ:!0,ec:null,vid:e.joinInfo.vid,addr:e.signal.url,uid:e.joinInfo.uid,cid:e.joinInfo.cid,firstSuccess:e._isProactiveJoin,avoidJoinStartTime:e.store.avoidJoinStart,isProxy:!!e.joinInfo.proxyServer}),e._isProactiveJoin=!1,e.joinInfo.useLocalAccessPoint)){var t=e.signal.url&&e.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!t)return px.error("[".concat(e.store.clientId,"] set local access point after joined failed: ").concat(t)),void kx("error",e,"set local access point after joined failed: ".concat(t));Xx("EVENT_REPORT_DOMAIN",t[1]),Xx("EVENT_REPORT_BACKUP_DOMAIN",t[1]),Xx("LOG_UPLOAD_SERVER","".concat(t[1],":6444"))}})),this.signal.on(UL.ON_UPLINK_STATS,(function(t){e._statsCollector.updateUplinkStats(t)})),this.signal.on(PL.REQUEST_RECOVER,(function(t,n,r){if(!e.joinInfo)return r(new ix($N.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));t&&(e.joinInfo.multiIP=t,e.hasChangeBGPAddress=!0),e.isSignalRecover=!0,zH(e,pP.REQUEST_NEW_GATEWAY_LIST).then(n).catch(r)})),this.signal.on(PL.REQUEST_JOIN_INFO,function(){var t=u(c().mark((function t(n){var r,i,o,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updateTurnConfigFromSignal(),t.next=3,zH(e,pP.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(r=e.joinInfo)||void 0===r?void 0:r.turnServer});case 3:i=t.sent,o=i.iceParameters,a=i.dtlsParameters,s=i.rtpCapabilities,n(e.getJoinMessage({ortc:{iceParameters:o,dtlsParameters:a,rtpCapabilities:s,version:"2"}}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.signal.on(PL.REQUEST_REJOIN_INFO,(function(t){t(e.getRejoinMessage())})),this.signal.on(PL.REPORT_JOIN_GATEWAY,(function(t,n){e.joinInfo&&(NV.joinGateway(e.joinInfo.sid,{lts:e.joinGatewayStartTime,succ:!1,ec:t,addr:n,uid:e.joinInfo.uid,cid:e.joinInfo.cid,firstSuccess:e._isProactiveJoin,avoidJoinStartTime:e.store.avoidJoinStart,isProxy:!!e.joinInfo.proxyServer}),e._isProactiveJoin=!1)})),this.signal.on(PL.IS_P2P_DISCONNECTED,(function(t){t(ZH(e,pP.IS_P2P_DISCONNECTED))})),this.signal.on(PL.DISCONNECT_P2P,(function(){e.emit(pP.DISCONNECT_P2P)})),this.signal.on(PL.NEED_RENEW_SESSION,(function(){e.emit(pP.NEED_RENEW_SESSION)})),this.signal.on(PL.REQUEST_SUCCESS,(function(){e._signalTimeout=!1})),this.signal.on(PL.REQUEST_TIMEOUT,(function(){e._signalTimeout=!0})),this.signal.on(PL.JOIN_RESPONSE,(function(t){var n=e.getGatewayIpPort();n?e.emit(pP.JOIN_RESPONSE,t,n.ip,n.port):e.emit(pP.JOIN_RESPONSE,t)}))}},{key:"tryUnsubBeforeResub",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(ML.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:t,ortc:[n]},!0);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),px.warning("unsubscribe warning",e.t0),Dx("warning",this,"tryUnsubBeforeResub",t,e.t0.toString()),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"tryUnpubBeforeRepub",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.signal.request(ML.UNPUBLISH,{stream_id:t,ortc:n},!0);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),px.warning("unpublish warning: ",e.t0),Dx("warning",this,"tryUnpubBeforeRepub",t,e.t0.toString()),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"tryMassUnsubBeforeResub",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={users:t.map((function(e){return{stream_id:e.stream_id,stream_type:e.stream_type}}))},e.prev=1,e.next=4,this.signal.request(ML.UNSUBSCRIBE_STREAMS,n,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),px.warning("massUnsubscribe warning",e.t0),Dx("warning",this,"tryUnsubAllBeforeResub",t.map((function(e){return e.stream_id})),e.t0.toString()),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteLocal",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={action:t.find((function(e){return e.stream_type===fP.Audio}))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:n},e.prev=1,e.next=4,this.signal.request(ML.CONTROL,r,!0,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),px.warning("gateway unmuteLocal warning: ",e.t0),Dx("warning",this,"muteLocal",n,e.t0.toString()),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unmuteLocal",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={action:t.find((function(e){return e.stream_type===fP.Audio}))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:n},e.prev=1,e.next=4,this.signal.request(ML.CONTROL,r,!0,!0);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),px.warning("gateway muteLocal warning: ",e.t0),Dx("warning",this,"unmuteLocal",n,e.t0.toString()),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"uploadStats",value:function(e,t){this.signal.upload(e,t)}},{key:"getSignalRTT",value:function(){return this.signal.rtt}},{key:"restartICE",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:t},e.prev=1,e.next=4,this.signal.request(ML.RESTART_ICE,n,!0);case 4:return r=e.sent,i=this.getGatewayIpPort(),e.abrupt("return",{restartICEResponse:r,gatewayIP:null==i?void 0:i.ip,gatewayPort:null==i?void 0:i.port});case 9:throw e.prev=9,e.t0=e.catch(1),px.warning("P2PChannel.restartICE warning: ",e.t0),Dx("warning",this,"restartICE",void 0,e.t0.toString()),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reconnect",value:function(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,DL.P2P_FAILED)}},{key:"getGatewayIpPort",value:function(){var e;if(!Zx("GATEWAY_WSS_ADDRESS")&&null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs){var t=this.joinInfo.gatewayAddrs[this.signal.currentURLIndex];return(t.ip||t.ip6)&&t.port?t.ip6?{ip:t.ip6,port:t.port}:{ip:t.ip,port:t.port}:void 0}}},{key:"setPublishAudioFilterEnabled",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.request(ML.SET_PARAMETER,{enablePublishAudioFilter:t});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(nx))||_z;function Nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nz(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in n))break e;n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}if(o("Symbol",(function(e){function t(e,t){this.A=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var s=i[n[o]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(t(this))}})}return e})),"function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var c;e:{var u={};try{u.__proto__={a:!0},c=u.a;break e}catch(b){}c=!1}n=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var l=n;function d(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function f(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function p(e,t){return e.h=3,{value:t}}function h(e){this.g=new d,this.G=e}function v(e,t,n,r){try{var i=t.call(e.g.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.m=!1,i;var o=i.value}catch(t){return e.g.j=null,e.g.s(t),g(e)}return e.g.j=null,r.call(e.g,o),g(e)}function g(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function A(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){f(e.g);var n=e.g.j;return n?v(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),g(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function m(e,t){return t=new A(new h(t)),l&&e.prototype&&l(t,e.prototype),t}if(d.prototype.o=function(e){this.v=e},d.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},d.prototype.return=function(e){this.l={return:e},this.h=this.u},h.prototype.o=function(e){return f(this.g),this.g.j?v(this,this.g.j.next,e,this.g.o):(this.g.o(e),g(this))},h.prototype.s=function(e){return f(this.g),this.g.j?v(this,this.g.j.throw,e,this.g.o):(this.g.s(e),g(this))},o("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},y=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},C=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},_=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},I="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,w=I.FormData,S=I.XMLHttpRequest&&I.XMLHttpRequest.prototype.send,T=I.Request&&I.fetch,R=I.navigator&&I.navigator.sendBeacon,k=I.Element&&I.Element.prototype,O=I.Symbol&&Symbol.toStringTag;O&&(Blob.prototype[O]||(Blob.prototype[O]="Blob"),"File"in I&&!File.prototype[O]&&(File.prototype[O]="File"));try{new File([],"")}catch(b){I.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),O&&Object.defineProperty(e,O,{value:"File"}),e}}var N=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},x=function(e){this.i=[];var t=this;e&&E(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?E(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?y(e.value):e.value,t.append(e.name,n))}))};if((e=x.prototype).append=function(e,t,n){_(arguments,2),this.i.push(C(e,t,n))},e.delete=function(e){_(arguments,1);var t=[];e=String(e),E(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},e.entries=function e(){var t,n=this;return m(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=p(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){_(arguments,1);for(var n=s(this),r=n.next();!r.done;r=n.next()){var i=s(r.value);r=i.next().value,i=i.next().value,e.call(t,i,r,this)}},e.get=function(e){_(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},e.getAll=function(e){_(arguments,1);var t=[];return e=String(e),E(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},e.has=function(e){_(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,n,r,i=this;return m(e,(function(e){if(1==e.h&&(t=s(i),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,p(e,s(r).next().value));n=t.next(),e.h=2}))},e.set=function(e,t,n){_(arguments,2),e=String(e);var r=[],i=C(e,t,n),o=!0;E(this.i,(function(t){t[0]===e?o&&(o=!r.push(i)):r.push(t)})),o&&r.push(i),this.i=r},e.values=function e(){var t,n,r,i,o=this;return m(e,(function(e){if(1==e.h&&(t=s(o),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,(i=s(r)).next(),p(e,i.next().value));n=t.next(),e.h=2}))},x.prototype._asNative=function(){for(var e=new w,t=s(this),n=t.next();!n.done;n=t.next()){var r=s(n.value);n=r.next().value,r=r.next().value,e.append(n,r)}return e},x.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,r){return"string"==typeof e?t.push(n+N(y(r))+'"\r\n\r\n'+y(e)+"\r\n"):t.push(n+N(y(r))+'"; filename="'+N(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},x.prototype[Symbol.iterator]=function(){return this.entries()},x.prototype.toString=function(){return"[object FormData]"},k&&!k.matches&&(k.matches=k.matchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector||k.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),O&&(x.prototype[O]="FormData"),S){var D=I.XMLHttpRequest.prototype.setRequestHeader;I.XMLHttpRequest.prototype.setRequestHeader=function(e,t){D.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},I.XMLHttpRequest.prototype.send=function(e){e instanceof x?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),S.call(this,e)):S.call(this,e)}}T&&(I.fetch=function(e,t){return t&&t.body&&t.body instanceof x&&(t.body=t.body._blob()),T.call(this,e,t)}),R&&(I.navigator.sendBeacon=function(e,t){return t instanceof x&&(t=t._asNative()),R.call(this,e,t)}),I.FormData=x}}();var Dz=1;function Lz(e,t,n,r,i){Dz+=1;var o,a,s={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:Dz,requestId:Dz,version:Fx,cname:n.cname},l={service_name:t,json_body:JSON.stringify(s)},d=e[0];return sx(u(c().mark((function e(){var n,i,s,u,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Date.now(),e.next=3,gV(d,{data:l,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});case 3:if(n=e.sent,a=Date.now()-o,0===n.code){e.next=7;break}throw i=new ix($N.UNEXPECTED_RESPONSE,"live streaming ap error, code"+n.code,{retry:!0,responseTime:a}),px.error(i.toString()),Dx("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,i.toString()),i;case 7:if(200===(s=JSON.parse(n.json_body)).code){e.next=11;break}throw u=new ix($N.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(s.code,", reason: ").concat(s.reason),{code:s.code,responseTime:a}),px.error(u.toString()),Dx("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,u.toString()),u;case 11:if(s.servers&&0!==s.servers.length){e.next=14;break}throw f=new ix($N.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:s.code,responseTime:a}),px.error(f.toString()),Dx("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,f.toString()),f;case 14:return p=function(e,t){return{addressList:e.servers.map((function(e){return"wss://".concat(e.address.replace(/\./g,"-"),".").concat(Zx("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t))})),workerToken:e.workerToken,vid:e.vid}}(s,t),e.abrupt("return",(Zx("LIVE_STREAMING_ADDRESS")&&(p.addressList=Zx("LIVE_STREAMING_ADDRESS")instanceof Array?Zx("LIVE_STREAMING_ADDRESS"):[Zx("LIVE_STREAMING_ADDRESS")]),xz(xz({},p),{},{responseTime:a})));case 16:case"end":return e.stop()}}),e)}))),(function(r,i){return NV.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(r.addressList),firstSuccess:0===i,responseTime:a,serverIp:e[i%e.length]}),!1}),(function(r,i){return NV.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:a,serverIp:e[i%e.length]}),!!(r.code!==$N.OPERATION_ABORTED&&r.code!==$N.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(d=e[(i+1)%e.length],!0)}),i)}var Pz=1;function Mz(e,t,n,r){var i=e.url,o=e.areaCode;Dx("debug",["AjaxAPI",t.clientId],"requestChooseServer",{url:i,areaCode:o});var a,l=Date.now(),d=Vz(t,o,[HF.CHOOSE_SERVER]),f=s(d,2),p=f[0],h=f[1],v=EV.networkState;return sx(u(c().mark((function e(){var o,s,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=v&&EV.networkState===LP.OFFLINE&&EV.onlineWaiter,!e.t0){e.next=4;break}return e.next=4,wI.race([EV.onlineWaiter,VH(r&&r.maxRetryTimeout||ox.maxRetryTimeout)]);case 4:return v=EV.networkState,e.next=7,gV(i,{data:p,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);case 7:return o=e.sent,s=o.data,u=o.headers,a="1"===u.http3?1:-1,NV.reportResourceTiming(i,t.sid),jz(s,i,t,l,[HF.CHOOSE_SERVER],a),d=LH(s,HF.CHOOSE_SERVER),e.abrupt("return",(Fz(d),kH(d,i)));case 13:case"end":return e.stop()}}),e)}))),(function(e){return e&&NV.joinChooseServer(t.sid,{lts:l,succ:!0,csAddr:i,opid:h,serverList:e.gatewayAddrs.map((function(e){return e.address})),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[HF.CHOOSE_SERVER].toString(),isHttp3:a}),!1}),(function(e){return e.code!==$N.OPERATION_ABORTED&&(e.code===$N.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(NV.joinChooseServer(t.sid,{lts:l,succ:!1,csAddr:i,serverList:null,opid:h,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[HF.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:v}),isHttp3:a}),px.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),kx("warning",["AjaxAPI",t.clientId],"Choose server network error, retry, ".concat(e)),!0))}),r)}function Bz(e,t,n,r){var i,o=e.url,a=e.areaCode,l=e.serviceIds;Dx("debug",["AjaxAPI",t.clientId],"requestMultiUnilbs",{url:o,areaCode:a,serviceIds:l});var d=Date.now(),f=Vz(t,a,l),p=s(f,2),h=p[0],v=p[1],g=void 0;return sx(u(c().mark((function e(){var a,s,u,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=g&&EV.networkState===LP.OFFLINE&&EV.onlineWaiter,!e.t0){e.next=4;break}return e.next=4,wI.race([EV.onlineWaiter,VH(r&&r.maxRetryTimeout||ox.maxRetryTimeout)]);case 4:return g=EV.networkState,e.next=7,gV(o,{data:h,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);case 7:return a=e.sent,s=a.data,u=a.headers,i="1"===u.http3?1:-1,NV.reportResourceTiming(o,t.sid),jz(s,o,t,d,l,i),f=LH(s,HF.CHOOSE_SERVER),p=LH(s,"proxy5"===t.cloudProxyServer?HF.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?HF.CLOUD_PROXY:HF.CLOUD_PROXY_FALLBACK),e.abrupt("return",(Fz(f),{gatewayInfo:kH(f,o),proxyInfo:p,url:o}));case 13:case"end":return e.stop()}}),e)}))),(function(e){return e.gatewayInfo&&NV.joinChooseServer(t.sid,{lts:d,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((function(e){return e.address})),ec:null,opid:v,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:l.toString(),isHttp3:i}),e.proxyInfo&&NV.joinWebProxyAP(t.sid,{lts:d,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((function(e){return e.ip})).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:l.toString()}),!1}),(function(e){return e.code!==$N.OPERATION_ABORTED&&(e.code===$N.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(NV.joinWebProxyAP(t.sid,{lts:d,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:l.toString(),extend:JSON.stringify({networkState:g})}),px.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),kx("warning",["AjaxAPI",t.clientId],"multi unilbs network error, retry, ".concat(e)),!0))}),r)}var Uz,jz=function(e,t,n,r,i,o){var a=[],s=function(a){4096===a.flag?NV.joinChooseServer(n.sid,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:i.toString(),isHttp3:o}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||NV.joinWebProxyAP(n.sid,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:a.error.code,eventType:n.cloudProxyServer,unilbsServerIds:i.toString()})};if(e.response_body.forEach((function(t){var n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)px.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{var r={error:new ix($N.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};a.push(r),s(r)}if(0!==n){var i=rz(n),o={error:new ix($N.CAN_NOT_GET_GATEWAY_SERVER,i.desc,{desc:i.desc,retry:i.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?px.warning(o.error.toString()):a.push(o),s(o)}})),a.length)throw px.warning("[".concat(n.clientId,"] multi unilbs ").concat(t," failed, ").concat(a.map((function(e){return"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry)})).join(" | "))),Dx("warning",["AjaxAPI",n.clientId],"checkMultiUnilbsResponseValid",{url:t},a.map((function(e){return{flag:e.flag,message:e.error.message,retry:e.error.data.retry}}))),new ix($N.CAN_NOT_GET_GATEWAY_SERVER,a.map((function(e){return"flag: ".concat(e.flag,", message: ").concat(e.error.message)})).join(" | "),{retry:!!a.find((function(e){return e.error.data.retry})),csIp:e.detail[502],desc:h(new Set(a.map((function(e){var t,n;return null==e||null===(t=e.error)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.desc})).filter((function(e){return!!e}))))})},Fz=function(e){if(e.addresses&&0===e.addresses.length&&0===e.code)throw new ix($N.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(Zx("GATEWAY_ADDRESS")&&Zx("GATEWAY_ADDRESS").length>0){px.debug("assign gateway address to",Zx("GATEWAY_ADDRESS")),kx("debug",["AjaxAPI"],"assign gateway address to ".concat(JSON.stringify(Zx("GATEWAY_ADDRESS"))));var t=Zx("GATEWAY_ADDRESS").map((function(t){return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket}}));e.addresses=t}},Qz=function(e,t){if(e.response_body&&e.response_body.length){var n=e.response_body[0];if(0!==n.buffer.code){var r=rz(n.buffer.code);throw new ix($N.UPDATE_TICKET_FAILED,"[".concat(n.buffer.code,"]: ").concat(r.desc),{retry:r.retry})}return n.buffer.ticket}throw px.debug("update ticket request received ap response without response body:",t),kx("debug",["AjaxAPI"],"update ticket request received ap response without response body: ".concat(t)),new ix($N.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},Vz=function(e,t,n){var r=Math.floor(Math.random()*Math.pow(10,12)),i={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:{6:e.stringUid,11:t,12:Zx("USE_NEW_TOKEN")?"1":void 0},key:e.token,service_ids:n,uid:e.uid||0}}]};i.request_bodies.forEach((function(t){e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));var o=new FormData;return o.append("request",JSON.stringify(i)),[o,r]},Gz=function(e,t){var n=Math.floor(Math.random()*Math.pow(10,12)),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((function(e){return{ip:e.ip,port:e.port}}))}}]},i=new FormData;return i.append("request",JSON.stringify(r)),[i,n]},Hz=0,qz=function(){var e=Zx("AREAS");return 0===e.length&&e.push(bP.GLOBAL),Hf(e).call(e,(function(e,t,n){var r=Kz(t);return r?0===n?r:"".concat(e,",").concat(r):e}),"")},Kz=function(e){return e===bP.OVERSEA?"".concat(SP.ASIA,",").concat(SP.EUROPE,",").concat(SP.AFRICA,",").concat(SP.NORTH_AMERICA,",").concat(SP.SOUTH_AMERICA,",").concat(SP.OCEANIA):SP[e]},Wz={GLOBAL:{ASIA:[bP.CHINA,bP.JAPAN,bP.INDIA,bP.KOREA,bP.HKMC],EUROPE:[],NORTH_AMERICA:[bP.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},Yz=Object.keys(Wz[bP.GLOBAL]),zz=[bP.CHINA,bP.NORTH_AMERICA,bP.EUROPE,bP.ASIA,bP.JAPAN,bP.INDIA,bP.OCEANIA,bP.SOUTH_AMERICA,bP.AFRICA,bP.KOREA,bP.HKMC,bP.US],Jz=function(e,t){var n,r,i=[];if(e.includes(bP.GLOBAL)){var o=[bP.GLOBAL,bP.OVERSEA],a=Object.keys(MP);if(t===bP.GLOBAL)throw new ix($N.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===bP.CHINA)i=[bP.OVERSEA];else if(r=t,Yz.includes(r)){var s=(n=t,Wz[bP.GLOBAL][n]||[]),c=[].concat(o,[t],h(s));i=a.filter((function(e){return!c.includes(e)}))}else if(function(e){var t=!1;return Yz.forEach((function(n){Wz[bP.GLOBAL][n].includes(e)&&(t=!0)})),t}(t)){var u=function(e){var t;return Yz.forEach((function(n){Wz[bP.GLOBAL][n].includes(e)&&(t=n)})),t}(t),l=[].concat(o,[u,t]);i=a.filter((function(e){return!l.includes(e)}))}else i=e;i=function(e){var t=[];return zz.forEach((function(n){e.includes(n)&&t.push(n)})),t.concat(e.filter((function(e){return!zz.includes(e)})))}(i)}else i=e;return i};function Xz(e,t,n,r){return Zz.apply(this,arguments)}function Zz(){return Zz=u(c().mark((function e(t,n,r,i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=u(c().mark((function e(t,n,r,i){var o,a,s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,a=[],s=function(){var e=u(c().mark((function e(){var o,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Zx("WEBCS_DOMAIN").slice(0,Zx("AJAX_REQUEST_CONCURRENT")).map((function(e){return{url:t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:qz()}})),s=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((function(e){return e.url}))}),e.next=4,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:function(e){return px.debug("[".concat(t.clientId,"] Connect to choose_server:"),e.url),Mz(e,t,n,r)},allFailedhandler:function(e){throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:a});case 4:return u=e.sent,e.abrupt("return",(i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),u));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=u(c().mark((function e(){var s,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VH(1e3);case 2:if(null===o){e.next=4;break}return e.abrupt("return",o);case 4:return s=Zx("WEBCS_DOMAIN_BACKUP_LIST").map((function(e){return{url:t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:qz()}})),u=i.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:s.map((function(e){return e.url}))}),e.next=8,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:s,asyncMapHandler:function(e){return px.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),e.url),Mz(e,t,n,r)},allFailedhandler:function(e){throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},u),e[0]},promisesCollector:a});case 8:return l=e.sent,e.abrupt("return",(i.recordJoinChannelService({endTs:Date.now(),status:"success"},u),l));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,YH([s(),l()]);case 5:return o=e.sent,a.length&&a.forEach((function(e){return e.cancel&&"function"==typeof e.cancel&&e.cancel()})),e.abrupt("return",o);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0[0];case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,n,r,i),e.next=3,o;case 3:return e.t0=e.sent,e.abrupt("return",{gatewayInfo:e.t0});case 5:case"end":return e.stop()}}),e)}))),Zz.apply(this,arguments)}function $z(e,t,n,r,i){return eJ.apply(this,arguments)}function eJ(){return eJ=u(c().mark((function e(t,n,r,i,o){var a,u,l,d,f,p,h,v,g,A,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disabled"!==(a=t.cloudProxyServer)){e.next=18;break}if(i){e.next=4;break}return e.abrupt("return");case 4:if(!t.useLocalAccessPoint){e.next=8;break}return e.next=7,Xz(t,n,r,o);case 7:return e.abrupt("return",e.sent);case 8:if(!Zx("JOIN_WITH_FALLBACK_MEDIA_PROXY")){e.next=15;break}return e.next=11,sJ(t,n,r,o);case 11:return u=e.sent,l=u.gatewayInfo,d=u.proxyInfo,e.abrupt("return",t.turnServer&&"auto"!==t.turnServer.mode?(kx("debug",["Server",t.clientId],"do not set fallback turn because of already having turnserver"),{gatewayInfo:l}):(t.turnServer={mode:"manual",servers:d.map((function(e){return{turnServerURL:e.address,tcpport:e.tcpport||Vx.tcpport,udpport:e.udpport||Vx.udpport,username:e.username||Vx.username,password:e.password||Vx.password,forceturn:Zx("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE"),security:!0}}))},{gatewayInfo:l}));case 15:return e.next=17,Xz(t,n,r,o);case 17:return e.abrupt("return",e.sent);case 18:if(!["443only","normal"].includes(a)){e.next=59;break}if(!i){e.next=42;break}if("normal"===a){e.next=30;break}return e.next=23,wI.all([rJ(t,n,r),Xz(t,n,r,o)]);case 23:p=e.sent,h=s(p,2),v=h[0],f=h[1],e.next=40;break;case 30:return e.next=32,rJ(t,n,r);case 32:return v=e.sent,t.proxyServer=v.addresses[0],NV.setProxyServer(t.proxyServer),px.setProxyServer(t.proxyServer),Rx(t.proxyServer),e.next=39,Xz(t,n,r,o);case 39:f=e.sent;case 40:e.next=56;break;case 42:if(f=void 0,"normal"===a){e.next=49;break}return e.next=46,rJ(t,n,r);case 46:v=e.sent,e.next=56;break;case 49:return e.next=51,rJ(t,n,r);case 51:v=e.sent,t.proxyServer=v.addresses[0],NV.setProxyServer(t.proxyServer),px.setProxyServer(t.proxyServer),Rx(t.proxyServer);case 56:t.turnServer={mode:"manual",servers:v.addresses.map((function(e){return{turnServerURL:e,tcpport:v.serverResponse.tcpport?v.serverResponse.tcpport:Vx.tcpport,udpport:v.serverResponse.udpport?v.serverResponse.udpport:Vx.udpport,username:v.serverResponse.username||Vx.username,password:v.serverResponse.password||Vx.password,forceturn:!0,security:!1}}))},e.next=65;break;case 59:return e.next=61,sJ(t,n,r,o);case 61:g=e.sent,A=g.proxyInfo,m=g.gatewayInfo,f={gatewayInfo:m},t.turnServer={mode:"manual",servers:A.map((function(e){return{turnServerURL:e.address,tcpport:"proxy3"===a?void 0:e.tcpport?e.tcpport:Vx.tcpport,udpport:"proxy4"===a?void 0:e.udpport?e.udpport:Vx.udpport,username:e.username||Vx.username,password:e.password||Vx.password,forceturn:"proxy4"!==a,security:"proxy5"===a}}))};case 65:return e.abrupt("return",(px.debug("[".concat(t.clientId,"] set proxy server: ").concat(t.proxyServer,", mode: ").concat(a)),Dx("debug",["Server",t.clientId],"setCloudProxyServerAndGetServerInfo",{proxyServer:t.proxyServer,mode:t.cloudProxyServer}),f));case 66:case"end":return e.stop()}}),e)}))),eJ.apply(this,arguments)}function tJ(e,t,n,r,i){return nJ.apply(this,arguments)}function nJ(){return nJ=u(c().mark((function e(t,n,r,i,o){var a,s,l,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zx("ACCOUNT_REGISTER").slice(0,Zx("AJAX_REQUEST_CONCURRENT")),s=[],s=n.proxyServer?a.map((function(e){return"https://".concat(n.proxyServer,"/ap/?url=").concat(e+"/api/v1")})):a.map((function(e){return"https://".concat(e,"/api/v1")})),l=null==o?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:s}),e.prev=4,e.next=7,function(){var e=u(c().mark((function e(t,n,r,i,o){var a,s,u,l,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),s={sid:r.sid,opid:10,appid:r.appId,string_uid:n},u=t[0],e.next=4,sx((function(){return gV(u+"".concat(-1===u.indexOf("?")?"?":"&","action=stringuid"),{data:s,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})}),(function(e,r){if(0===e.code){if(e.uid<=0||e.uid>=Math.pow(2,32))throw px.error("Invalid Uint Uid ".concat(n," => ").concat(e.uid),e),Dx("error",["AjaxAPI"],"requestUserAccount","Invalid Uint Uid ".concat(n," => ").concat(e.uid,", ").concat(e)),NV.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:u,stringUid:s.string_uid,uid:e.uid,errorCode:$N.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new ix($N.INVALID_UINT_UID_FROM_STRING_UID);return NV.reqUserAccount(s.sid,{lts:a,success:!0,serverAddr:u,stringUid:s.string_uid,uid:e.uid,errorCode:null,extend:s}),!1}var i=rz(e.code);return i.retry&&(u=t[(r+1)%t.length]),NV.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:u,stringUid:s.string_uid,uid:e.uid,errorCode:i.desc,extend:s}),i.retry}),(function(e,n){return e.code!==$N.OPERATION_ABORTED&&(NV.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:u,stringUid:s.string_uid,uid:null,errorCode:e.code,extend:s}),u=t[(n+1)%t.length],!0)}),o);case 4:if(0===(l=e.sent).code){e.next=8;break}throw d=rz(l.code),new ix($N.UNEXPECTED_RESPONSE,d.desc);case 8:return e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()(s,t,n,r,i);case 7:return d=e.sent,e.abrupt("return",(null==o||o.recordJoinChannelService({status:"success",endTs:Date.now()},l),d.uid));case 11:throw e.prev=11,e.t0=e.catch(4),null==o||o.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e.t0]},l),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),nJ.apply(this,arguments)}function rJ(e,t,n){return iJ.apply(this,arguments)}function iJ(){return iJ=u(c().mark((function e(t,n,r){var i,o,a,s,l,d,f,p,h,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Date.now(),o=t.cloudProxyServer,a=Zx("normal"===o?"PROXY_CS":"WEBCS_DOMAIN").map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"):"https://".concat(e,"/api/v1")})),!["proxy3","proxy4","proxy5"].includes(o)){e.next=12;break}return s=a.map((function(e){return{url:e,areaCode:qz()}})),l=null,e.next=7,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:s,asyncMapHandler:function(e){return function(e,t,n,r){var i=e.url,o=e.areaCode,a=Date.now(),s={opid:133,flag:"proxy5"===t.cloudProxyServer?4194304:1048576,ts:+new Date,key:t.token,cname:t.cname,sid:t.sid,detail:{6:t.stringUid,11:o},uid:t.uid||0};return sx(u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gV(i,{data:s,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":69}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),(function(e){if(0===e.code)return NV.joinWebProxyAP(t.sid,{lts:a,sucess:1,apServerAddr:i,turnServerAddrList:e.addresses.map((function(e){return e.ip})).join(","),errorCode:null,eventType:t.cloudProxyServer}),!1;var n=rz(e.code);throw new ix($N.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{retry:n.retry})}),(function(e){return e.code!==$N.OPERATION_ABORTED&&(e.code===$N.CAN_NOT_GET_GATEWAY_SERVER?(NV.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),px.warning("[".concat(t.clientId,"] proxy ap server ").concat(i," failed, message: ").concat(e.message,", retry: ").concat(e.data.retry)),kx("warning",["AjaxAPI",t.clientId],"proxy ap server ".concat(i," failed, message: ").concat(e.message,", retry: ").concat(e.data.retry)),e.data.retry):(NV.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),!0))}),r)}(e,t,n,r)},allFailedhandler:function(){throw px.error("[".concat(t.clientId,"] can not get proxy server after trying several times")),new ix($N.CAN_NOT_GET_PROXY_SERVER)}});case 7:if(l=e.sent,(d=l.addresses)&&0!==d.length){e.next=11;break}throw px.error("[".concat(t.clientId,"] can not get proxy server, empty proxy server list")),new ix($N.CAN_NOT_GET_PROXY_SERVER,"empty proxy server list");case 11:return e.abrupt("return",{addresses:d.map((function(e){return e.ip})).map(RH),serverResponse:{tcpport:d[0].port||443,udpport:d[0].port||Vx.udpport,username:Vx.username,password:Vx.password}});case 12:return f=null,e.next=15,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:function(e){return function(e,t,n,r){var i=Date.now(),o={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,uid:t.uid,cname:t.cname,ts:Math.floor(Date.now()/1e3),version:Fx,seq:0,requestId:1};return sx(u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gV(e,{data:{service_name:"webrtc_proxy",json_body:JSON.stringify(o)},cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{res:t.t0,url:t.t1});case 5:case"end":return t.stop()}}),t)}))),(function(e){if(!e.res.json_body)throw px.debug("[".concat(t.clientId,"] Get proxy server failed: no json_body")),Dx("error",["AjaxAPI",t.clientId],"requestProxyServerList","Get proxy server failed: no json_body"),new ix($N.UNEXPECTED_RESPONSE,JSON.stringify(e.res));var n=JSON.parse(e.res.json_body);if(200!==n.code)throw px.debug("[".concat(t.clientId,"] Get proxy server failed: response code [").concat(n.code,"], reason [").concat(n.reason,"]")),Dx("error",["AjaxAPI",t.clientId],"requestProxyServerList","Get proxy server failed: response code [".concat(n.code,"], reason [").concat(n.reason,"]")),new ix($N.UNEXPECTED_RESPONSE,JSON.stringify(e.res));return px.debug("[".concat(t.clientId,"] App return server length"),n.servers.length),Dx("debug",["AjaxAPI",t.clientId],"requestProxyServerList","",{length:n.servers.length}),!1}),(function(t){return t.code!==$N.OPERATION_ABORTED&&(NV.requestProxyAppCenter(o.sid,{lts:i,succ:!1,APAddr:e,workerManagerList:null,ec:t.code,response:t.message}),!0)}),r)}(e,t,n,r)},allFailedhandler:function(){throw px.error("[".concat(t.clientId,"] can not get proxy server after trying several times")),new ix($N.CAN_NOT_GET_PROXY_SERVER)}});case 15:if(f=e.sent,p=JSON.parse(f.res.json_body).servers.map(TH),"443only"!==t.cloudProxyServer){e.next=19;break}return e.abrupt("return",{addresses:p,serverResponse:{tcpport:443,udpport:Vx.udpport,username:Vx.username,password:Vx.password}});case 19:return NV.requestProxyAppCenter(t.sid,{lts:i,succ:!0,APAddr:f.url,workerManagerList:JSON.stringify(p),ec:null,response:JSON.stringify(f.res)}),i=Date.now(),h=p.map((function(e){return function(e,t,n,r){var i=Date.now(),o=e;e.startsWith("http")||(o="https://".concat(e,":4000/v2/machine"));var a={command:"request",gatewayType:"http",appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sdkVersion:"2.3.1",sid:t.sid,seq:1,ts:Date.now(),requestId:3,clientRequest:{appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sid:t.sid}};return sx(u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gV(o,{data:a,cancelToken:n});case 2:return t.t0=t.sent,t.t1=e,t.abrupt("return",{res:t.t0,url:t.t1});case 5:case"end":return t.stop()}}),t)}))),(function(e){if(!e.res.serverResponse)throw new ix($N.UNEXPECTED_RESPONSE,"requeet worker manager server failed: serverResponse is undefined");return!1}),(function(t){return t.code!==$N.OPERATION_ABORTED&&(NV.requestProxyWorkerManager(a.sid,{lts:i,succ:!1,workerManagerAddr:e,ec:t.code,response:t.message}),!0)}),r)}(e,t,n,r)})),v=null,e.prev=22,e.next=25,YH(h);case 25:v=e.sent,e.next=31;break;case 28:throw e.prev=28,e.t0=e.catch(22),px.error("[".concat(t.clientId,"] can not get worker manager after trying several times")),new ix($N.CAN_NOT_GET_PROXY_SERVER);case 31:return e.abrupt("return",(h.forEach((function(e){return e.cancel()})),NV.requestProxyWorkerManager(t.sid,{lts:i,succ:!0,workerManagerAddr:v.url,ec:null,response:JSON.stringify(v.res)}),{addresses:[v.url],serverResponse:v.res.serverResponse}));case 32:case"end":return e.stop()}}),e,null,[[22,28]])}))),iJ.apply(this,arguments)}function oJ(e,t,n){return aJ.apply(this,arguments)}function aJ(){return aJ=u(c().mark((function e(t,n,r){var i,o,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zx("CDS_AP").slice(0,Zx("AJAX_REQUEST_CONCURRENT")).map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"):"https://".concat(e,"/api/v1?action=config")})).map((function(e){return function(e,t,n,r){var i=Sk(),o={flag:64,cipher_method:0,features:{device:i.name,system:i.os,system_general:navigator.userAgent,vendor:t.appId,version:Fx,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return sx((function(){return gV(e,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})}),void 0,(function(e){return e.code!==$N.OPERATION_ABORTED}),r)}(e,t,n,r)})),o=null,a=null,s={},e.prev=2,e.next=5,YH(i);case 5:o=e.sent,e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(2),e.t0.code!==$N.OPERATION_ABORTED){e.next=12;break}throw e.t0;case 12:a=e.t0;case 13:if(i.forEach((function(e){return e.cancel()})),NV.reportApiInvoke(t.sid,{name:bL.REQUEST_CONFIG_DISTRIBUTE,options:{error:a,res:o}}).onSuccess(),o&&o.test_tags)try{s=function(e){if(!e.test_tags)return{};var t=e.test_tags,n=Object.keys(t),r={};return n.forEach((function(e){var n,i=lk(n=e.slice(4)).call(n),o=JSON.parse(t[e])[1];r[i]=o})),r}(o)}catch(t){}return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,null,[[2,8]])}))),aJ.apply(this,arguments)}function sJ(e,t,n,r){return cJ.apply(this,arguments)}function cJ(){return cJ=u(c().mark((function e(t,n,r,i){var o,a,s,l,d,f,p,h,v,g,A;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Zx("PROXY_SERVER_TYPE3"),a=function(e,t,n){var r=n||o;return Array.isArray(r)&&(r=t%2==0?o[1]:o[0]),"https://".concat(r,"/ap/?url=").concat(e)},s=null,l=[],d=function(){var e=u(c().mark((function e(){var o,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Zx("WEBCS_DOMAIN").slice(0,Zx("AJAX_REQUEST_CONCURRENT")).map((function(e,n){return{url:"disabled"===t.cloudProxyServer&&t.proxyServer?a("".concat(e,"/api/v2/transpond/webrtc?v=2"),n,t.proxyServer):"disabled"===t.cloudProxyServer||"fallback"===t.cloudProxyServer?"https://".concat(e,"/api/v2/transpond/webrtc?v=2"):a("".concat(e,"/api/v2/transpond/webrtc?v=2"),n),areaCode:qz(),serviceIds:[HF.CHOOSE_SERVER,"proxy5"===t.cloudProxyServer?HF.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?HF.CLOUD_PROXY:HF.CLOUD_PROXY_FALLBACK]}})),s=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((function(e){return e.url}))}),e.next=4,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:function(e){return px.debug("[".concat(t.clientId,"] Connect to choose_server:"),e.url),Bz(e,t,n,r)},allFailedhandler:function(e){throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:l});case 4:return u=e.sent,e.abrupt("return",(i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),u));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=u(c().mark((function e(){var o,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VH(1e3);case 2:if(null===s){e.next=4;break}return e.abrupt("return",s);case 4:return o=Zx("WEBCS_DOMAIN_BACKUP_LIST").map((function(e,n){return{url:"disabled"===t.cloudProxyServer&&t.proxyServer?a("".concat(e,"/api/v2/transpond/webrtc?v=2"),n,t.proxyServer):"disabled"===t.cloudProxyServer||"fallback"===t.cloudProxyServer?"https://".concat(e,"/api/v2/transpond/webrtc?v=2"):a("".concat(e,"/api/v2/transpond/webrtc?v=2"),n),areaCode:qz(),serviceIds:[HF.CHOOSE_SERVER,"proxy5"===t.cloudProxyServer?HF.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?HF.CLOUD_PROXY:HF.CLOUD_PROXY_FALLBACK]}})),u=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((function(e){return e.url}))}),e.next=8,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:function(e){return px.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),e.url),Bz(e,t,n,r)},allFailedhandler:function(e){throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},u),e[0]},promisesCollector:l});case 8:return d=e.sent,e.abrupt("return",(i.recordJoinChannelService({endTs:Date.now(),status:"success"},u),d));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,YH([d(),f()]);case 6:g=e.sent,p=g.gatewayInfo,h=g.proxyInfo,v=g.url,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(3),e.t0[0];case 15:if(l.length&&l.forEach((function(e){return e.cancel&&"function"==typeof e.cancel&&e.cancel()})),p&&h){e.next=17;break}throw new ix($N.UNEXPECTED_ERROR,"missing gateway or proxy response").print();case 17:return t.apUrl=v,"disabled"!==t.cloudProxyServer&&Array.isArray(o)&&v&&(A=new tz(v).host,o.includes(A)&&(t.proxyServer=A,px.setProxyServer(A),NV.setProxyServer(A),Rx(A))),e.t1=p,e.next=21,PH(h,p.uid);case 21:return e.t2=e.sent,s={gatewayInfo:e.t1,proxyInfo:e.t2},e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[3,12]])}))),cJ.apply(this,arguments)}function uJ(e,t,n,r){return lJ.apply(this,arguments)}function lJ(){return lJ=u(c().mark((function e(t,n,r,i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Zx("UAP_AP").slice(0,Zx("AJAX_REQUEST_CONCURRENT")).map((function(e){return n.proxyServer?"https://".concat(n.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")})),e.next=3,Lz(o,t,n,r,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),lJ.apply(this,arguments)}function dJ(e,t,n){return fJ.apply(this,arguments)}function fJ(){return fJ=u(c().mark((function e(t,n,r){var i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zx("UAP_AP").slice(0,Zx("AJAX_REQUEST_CONCURRENT")).map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")})).map((function(e){return function(e,t,n,r){var i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:Fx,cname:t.cname,uid:t.uid.toString(),requestId:Pz,seq:Pz};Pz+=1;var o={service_name:"tele_channel",json_body:JSON.stringify(i)};return sx(u(c().mark((function t(){var r,i,a,s,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gV(e,{data:o,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});case 2:if(0===(r=t.sent).code){t.next=6;break}throw i=new ix($N.UNEXPECTED_RESPONSE,"cross channel ap error, code"+r.code,{retry:!0}),px.error(i.toString()),Dx("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,i.toString()),i;case 6:if(200===(a=JSON.parse(r.json_body)).code){t.next=10;break}throw s=new ix($N.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(a.code,", reason: ").concat(a.reason)),px.error(s.toString()),Dx("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,s.toString()),s;case 10:if(a.servers&&0!==a.servers.length){t.next=13;break}throw u=new ix($N.UNEXPECTED_RESPONSE,"cross channel app center empty server"),px.error(u.toString()),Dx("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,u.toString()),u;case 13:return t.abrupt("return",{vid:a.vid,workerToken:a.workerToken,addressList:a.servers.map((function(e){return"wss://".concat(e.address.replace(/\./g,"-"),".").concat(Zx("WORKER_DOMAIN"),":").concat(e.wss)}))});case 14:case"end":return t.stop()}}),t)}))),void 0,(function(e){return!!(e.code!==$N.OPERATION_ABORTED&&e.code!==$N.UNEXPECTED_RESPONSE||e.data&&e.data.retry)}),r)}(e,t,n,r)})),e.prev=1,e.next=4,YH(i);case 4:return o=e.sent,e.abrupt("return",(i.forEach((function(e){return e.cancel()})),o));case 8:throw e.prev=8,e.t0=e.catch(1),e.t0[0];case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),fJ.apply(this,arguments)}function pJ(e,t,n){return hJ.apply(this,arguments)}function hJ(){return hJ=u(c().mark((function e(t,n,r){var i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,o=[],a=function(){var e=u(c().mark((function e(a){var l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=Zx(a?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((function(e){return t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2")})),e.t0=a,!e.t0){e.next=6;break}return e.next=5,VH(1e3);case 5:e.t0=null!==i;case 6:if(!e.t0){e.next=10;break}e.t1=i,e.next=13;break;case 10:return e.next=12,uq({fragementLength:Zx("FRAGEMENT_LENGTH"),referenceList:l,asyncMapHandler:function(e){return px.debug("[".concat(t.clientId,"] update ticket, Connect to ").concat(a?"backup":""," choose_server:"),e),function(e,t,n,r){var i=Gz(t,[HF.CHOOSE_SERVER]),o=s(i,1)[0],a=EV.networkState;return sx(u(c().mark((function t(){var i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=a&&EV.networkState===LP.OFFLINE&&EV.onlineWaiter,!t.t0){t.next=4;break}return t.next=4,wI.race([EV.onlineWaiter,VH(r&&r.maxRetryTimeout||ox.maxRetryTimeout)]);case 4:return a=EV.networkState,t.next=7,gV(e,{data:o,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);case 7:return i=t.sent,t.abrupt("return",Qz(i,e));case 9:case"end":return t.stop()}}),t)}))),(function(){return!1}),(function(e){return e.code!==$N.OPERATION_ABORTED&&(e.code===$N.UPDATE_TICKET_FAILED?e.data.retry:(px.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),kx("warning",["AjaxAPI",t.clientId],"update ticket network error, retry, ".concat(e)),!0))}),r)}(e,t,n,r)},allFailedhandler:function(e){throw e[0]},promisesCollector:o});case 12:e.t1=e.sent;case 13:return e.abrupt("return",e.t1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,YH([a(!1),a(!0)]);case 5:return i=e.sent,o.length&&o.forEach((function(e){return e.cancel&&"function"==typeof e.cancel&&e.cancel()})),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0[0];case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),hJ.apply(this,arguments)}function vJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vJ(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AJ=Mx("ConfigDistributeManager")(Uz=function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"configs",void 0),tO(l(e),"joinInfo",void 0),tO(l(e),"cancelToken",void 0),tO(l(e),"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),tO(l(e),"interval",void 0),tO(l(e),"mutex",new BV("config-distribute")),tO(l(e),"mutableParamsRead",!1),e}return g(n,[{key:"startGetConfigDistribute",value:function(e,t){var n=this;this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),this.updateConfigDistribute(),this.interval=window.setInterval((function(){n.updateConfigDistribute()}),Zx("CONFIG_DISTRIBUTE_INTERVAL"))}},{key:"stopGetConfigDistribute",value:function(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}},{key:"awaitConfigDistributeComplete",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mutex.isLocked){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.mutex.lock();case 4:e.t0=e.sent,(0,e.t0)();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateConfigDistribute",value:function(){var e=u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mutableParamsRead||(this.mutableParamsRead=!0,NV.reportApiInvoke(null,{options:void 0,name:bL.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:CL.TRACER}).onSuccess(JSON.stringify(eD))),this.joinInfo&&this.cancelToken&&this.retryConfig){e.next=3;break}return e.abrupt("return",(px.debug("[config-distribute] get config distribute interrupted have no joininfo"),void Dx("debug",this,"updateConfigDistribute",void 0,"get config distribute interrupted have no joininfo")));case 3:return e.next=5,this.mutex.lock();case 5:return n=e.sent,e.prev=6,e.next=9,oJ(this.joinInfo,this.cancelToken,this.retryConfig);case 9:t=e.sent,px.debug("[config-distribute] get config distribute",JSON.stringify(t)),Dx("debug",this,"updateConfigDistribute",t),t.limit_bitrate&&this.handleBitrateLimit(t.limit_bitrate),this.cacheGlobalParameterConfig(t),this.configs=t,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),r=new ix($N.NETWORK_RESPONSE_ERROR,e.t0),px.warning("[config-distribute] ".concat(r.toString())),Dx("warning",this,"updateConfigDistribute",void 0,e.t0.toString());case 21:return e.prev=21,n(),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[6,17,21,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBitrateLimit",value:function(){return this.configs?this.configs.limit_bitrate:void 0}},{key:"handleBitrateLimit",value:function(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(RP.UPDATE_BITRATE_LIMIT,e):this.emit(RP.UPDATE_BITRATE_LIMIT,e))}},{key:"getLowStreamConfigDistribute",value:function(){return this.configs&&this.configs.limit_bitrate&&gJ({},this.configs.limit_bitrate.low_stream_uplink)}},{key:"cacheGlobalParameterConfig",value:function(e){for(var t,n=nL(t=Object.keys(e).filter((function(e){return/^webrtc_ng_global_parameter/.test(e)}))).call(t),r=0;r<n.length;r++)for(var i=n.length-1;i>r;i--){var o=n[i];if("number"==typeof e[o].__priority){var a=e[o].__priority,s=n[i-1];if("number"==typeof e[s].__priority){if(!(a>e[s].__priority))continue;var c=o;n[i]=n[i-1],n[i-1]=c}else{var u=o;n[i]=n[i-1],n[i-1]=u}}}var l={};n.forEach((function(t){var n=e[t],r=n.__expires;Object.keys(n).forEach((function(e){"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(l,e)||(l[e]=gJ({value:n[e]},r&&{expires:r}))}))}));try{var d=JSON.stringify(l),f=window.btoa(d);window.localStorage.setItem("websdk_ng_global_parameter",f),px.debug("Caching global parameters ".concat(d)),Dx("debug",this,"cacheGlobalParameterConfig",d)}catch(e){px.error("Error caching global parameters:",e.message),Dx("error",this,"cacheGlobalParameterConfig",void 0,e.message)}}}]),n}(nx))||Uz;function mJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mJ(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yJ=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this),tO(l(a),"spec",void 0),tO(l(a),"token",void 0),tO(l(a),"websocket",void 0),tO(l(a),"pingpongTimer",void 0),tO(l(a),"reconnectMode","retry"),tO(l(a),"serviceMode",void 0),tO(l(a),"reqId",0),tO(l(a),"commandReqId",0),tO(l(a),"handleWebSocketOpen",(function(){a.reconnectMode="retry",a.startPingPong()})),tO(l(a),"handleWebSocketMessage",(function(e){if(e.data){var t=JSON.parse(e.data);t.requestId?a.emit("@".concat(t.requestId,"-").concat(t.sid),t):a.serviceMode===YL.INJECT?a.emit(iP.INJECT_STREAM_STATUS,t):(NV.workerEvent(a.spec.sid,{actionType:"status",serverCode:t.code,workerType:a.serviceMode===YL.TRANSCODE?1:2}),a.emit(iP.PUBLISH_STREAM_STATUS,t))}})),a.spec=r,a.token=e,a.serviceMode=o,a.websocket=new Iz("live-streaming",i),a.websocket.on(WL.CONNECTED,a.handleWebSocketOpen),a.websocket.on(WL.ON_MESSAGE,a.handleWebSocketMessage),a.websocket.on(WL.REQUEST_NEW_URLS,(function(e,t){zH(l(a),iP.REQUEST_NEW_ADDRESS).then(e).catch(t)})),a.websocket.on(WL.RECONNECTING,(function(){a.websocket.reconnectMode=a.reconnectMode})),a}return g(n,[{key:"init",value:function(e){return this.websocket.init(e)}},{key:"request",value:function(){var e=u(c().mark((function e(t,n,r,i){var o,a,s,u,l,d,f,p=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reqId+=1,"request"===t&&(this.commandReqId+=1),o=this.commandReqId,(a=this.reqId)&&this.websocket){e.next=4;break}throw new ix($N.UNEXPECTED_ERROR);case 4:if(s=EJ({command:t,sdkVersion:"4.13.0"===Fx?"0.0.1":Fx,seq:a,requestId:a,allocate:r,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},n),"closed"!==this.websocket.state){e.next=7;break}throw new ix($N.WS_DISCONNECT);case 7:if(u=function(){return new wI((function(e,t){p.websocket.once(WL.CLOSED,(function(){return t(new ix($N.WS_ABORT))})),p.websocket.once(WL.CONNECTED,e)}))},e.t0="connected"!==this.websocket.state,!e.t0){e.next=12;break}return e.next=12,u();case 12:return s.clientRequest&&(s.clientRequest.workerToken=this.token),l=new wI((function(e,t){var n=function(){t(new ix($N.WS_ABORT))};p.websocket.once(WL.RECONNECTING,n),p.websocket.once(WL.CLOSED,n),p.once("@".concat(a,"-").concat(p.spec.sid),(function(t){e(t)}))})),i&&NV.workerEvent(this.spec.sid,EJ(EJ({},i),{},{requestId:o,actionType:"request",payload:JSON.stringify(n.clientRequest),serverCode:0,code:0})),d=Date.now(),this.websocket.sendMessage(s),f=null,e.prev=18,e.next=21,l;case 21:f=e.sent,e.next=33;break;case 24:if(e.prev=24,e.t1=e.catch(18),"closed"!==this.websocket.state){e.next=28;break}throw e.t1;case 28:return e.next=30,u();case 30:return e.next=32,this.request(t,n,r);case 32:return e.abrupt("return",e.sent);case 33:return e.abrupt("return",(i&&NV.workerEvent(this.spec.sid,EJ(EJ({},i),{},{requestId:o,actionType:"response",payload:JSON.stringify(f.serverResponse),serverCode:f.code,success:200===f.code,responseTime:Date.now()-d})),200!==f.code&&this.handleResponseError(f),f));case 34:case"end":return e.stop()}}),e,this,[[18,24]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"tryNextAddress",value:function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}},{key:"close",value:function(){var e="4.13.0"===Fx?"0.0.1":Fx;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}},{key:"handleResponseError",value:function(e){switch(e.code){case aP.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void px.warning("live stream response already exists stream");case aP.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case aP.LIVE_STREAM_RESPONSE_BAD_STREAM:case aP.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new ix($N.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case aP.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case aP.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new ix($N.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case aP.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:var t=new ix($N.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(iP.WARNING,t,e.serverResponse.url);case aP.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:var n=new ix($N.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(iP.WARNING,n,e.serverResponse.url);case aP.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case aP.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new ix($N.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case aP.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:var r=new ix($N.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(iP.WARNING,r,e.serverResponse.url);case aP.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case aP.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case aP.LIVE_STREAM_RESPONSE_WORKER_LOST:case aP.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case aP.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case aP.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case aP.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case aP.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case aP.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new ix($N.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}},{key:"startPingPong",value:function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((function(){"connected"===e.websocket.state&&e.request("ping",{}).catch(KH)}),6e3)}}]),n}(nx);function bJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bJ(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _J=function(e){f(n,e);var t=p(n);function n(e){var r;v(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ox,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ox;return r=t.call(this),tO(l(r),"onLiveStreamWarning",void 0),tO(l(r),"onLiveStreamError",void 0),tO(l(r),"onInjectStatusChange",void 0),tO(l(r),"spec",void 0),tO(l(r),"retryTimeout",1e4),tO(l(r),"connection",void 0),tO(l(r),"httpRetryConfig",void 0),tO(l(r),"wsRetryConfig",void 0),tO(l(r),"streamingTasks",new Map),tO(l(r),"isStartingStreamingTask",!1),tO(l(r),"taskMutex",new BV("live-streaming")),tO(l(r),"cancelToken",ex.CancelToken.source()),tO(l(r),"transcodingConfig",void 0),tO(l(r),"injectConfig",CJ({},_P)),tO(l(r),"injectLoopTimes",0),tO(l(r),"uapResponse",void 0),tO(l(r),"lastTaskId",1),tO(l(r),"statusError",new Map),r.spec=e,r.httpRetryConfig=o,r.wsRetryConfig=i,r}return g(n,[{key:"setTranscodingConfig",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 66!==(n=CJ(CJ({},CP),t)).videoCodecProfile&&77!==n.videoCodecProfile&&100!==n.videoCodecProfile&&(px.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(n.videoCodecProfile," -> 100")),n.videoCodecProfile=100),n.transcodingUsers||(n.transcodingUsers=n.userConfigs),n.transcodingUsers&&(n.transcodingUsers=n.transcodingUsers.map((function(e){return CJ(CJ(CJ({},tP),e),{},{zOrder:e.zOrder?e.zOrder+1:1})}))),function(e){dL(e.width)||oL(e.width,"config.width",0,1e4),dL(e.height)||oL(e.height,"config.height",0,1e4),dL(e.videoBitrate)||oL(e.videoBitrate,"config.videoBitrate",1,1e6),dL(e.videoFrameRate)||oL(e.videoFrameRate,"config.videoFrameRate"),dL(e.lowLatency)||rL(e.lowLatency,"config.lowLatency"),dL(e.audioSampleRate)||iL(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),dL(e.audioBitrate)||oL(e.audioBitrate,"config.audioBitrate",1,128),dL(e.audioChannels)||iL(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),dL(e.videoGop)||oL(e.videoGop,"config.videoGop"),dL(e.videoCodecProfile)||iL(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),dL(e.userCount)||oL(e.userCount,"config.userCount",0,17),dL(e.backgroundColor)||oL(e.backgroundColor,"config.backgroundColor",0,16777215),dL(e.userConfigExtraInfo)||sL(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!dL(e.transcodingUsers)&&(cL(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach((function(e,t){lL(e.uid),dL(e.x)||oL(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),dL(e.y)||oL(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),dL(e.width)||oL(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),dL(e.height)||oL(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),dL(e.zOrder)||oL(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),dL(e.alpha)||oL(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),dL(e.watermark)||rP(e.watermark,"watermark"),dL(e.backgroundImage)||rP(e.backgroundImage,"backgroundImage"),e.images&&!dL(e.images)&&(cL(e.images,"config.images"),e.images.forEach((function(e,t){rP(e,"images[".concat(t,"]"))})))}(n),r=[],n.images&&r.push.apply(r,h(n.images.map((function(e){return CJ(CJ(CJ({},nP),e),{},{zOrder:255})})))),n.backgroundImage&&(r.push(CJ(CJ(CJ({},nP),n.backgroundImage),{},{zOrder:0})),delete n.backgroundImage),n.watermark&&(r.push(CJ(CJ(CJ({},nP),n.watermark),{},{zOrder:255})),delete n.watermark),n.images=r,n.transcodingUsers&&(n.userConfigs=n.transcodingUsers.map((function(e){return CJ({},e)})),n.userCount=n.transcodingUsers.length,delete n.transcodingUsers),i=(n.userConfigs||[]).map((function(e){return"number"==typeof e.uid?wI.resolve(e.uid):tJ(e.uid,s.spec,s.cancelToken.token,s.httpRetryConfig)})),e.next=7,wI.all(i);case 7:if(e.sent.forEach((function(e,t){n.userConfigs&&n.userConfigs[t]&&(n.userConfigs[t].uid=e)})),this.transcodingConfig=n,!this.connection){e.next=22;break}return e.prev=10,e.next=13,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(cH(o=this.streamingTasks).call(o)).map((function(e){return e.taskId})).join("#")});case 13:a=e.sent,px.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(a.code,", config:"),JSON.stringify(this.transcodingConfig)),e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(10),e.t0.data&&e.t0.data.retry){e.next=21;break}throw e.t0;case 21:e.t0.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((function(t){px.warning("[".concat(s.spec.clientId,"] live streaming receive error"),e.t0.toString(),"try to republish",t.url),s.startLiveStreamingTask(t.url,t.mode,e.t0).then((function(){px.debug("[".concat(s.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((function(e){px.error("[".concat(s.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),s.onLiveStreamError&&s.onLiveStreamError(t.url,e)}))}));case 22:case"end":return e.stop()}}),e,this,[[10,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setInjectStreamConfig",value:function(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}},{key:"startLiveStreamingTask",value:function(){var e=u(c().mark((function e(t,n,r){var i,o,a,s,u,l,d=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.from(cH(i=this.streamingTasks).call(i)).find((function(e){return e.mode===YL.INJECT}))||n!==YL.INJECT){e.next=2;break}return e.abrupt("return",new ix($N.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw());case 2:if(this.transcodingConfig||n!==YL.TRANSCODE){e.next=4;break}throw new ix($N.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");case 4:return o={command:"PublishStream",ts:Date.now(),url:t,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0},px.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(t,", mode: ").concat(n)),e.next=8,this.taskMutex.lock();case 8:if(a=e.sent,this.connection||!r){e.next=11;break}return e.abrupt("return",void a());case 11:if(!this.streamingTasks.get(t)||r){e.next=13;break}return e.abrupt("return",(a(),new ix($N.LIVE_STREAMING_TASK_CONFLICT).throw()));case 13:if(e.prev=13,e.t0=this.connection,e.t0){e.next=19;break}return e.next=18,this.connect(n);case 18:this.connection=e.sent;case 19:e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(13),a(),e.t1;case 24:e.t2=n,e.next=e.t2===YL.TRANSCODE?27:e.t2===YL.RAW?29:e.t2===YL.INJECT?30:31;break;case 27:return o.transcodingConfig=CJ({},this.transcodingConfig),e.abrupt("break",31);case 29:return e.abrupt("break",31);case 30:o={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:t,loopTimes:this.injectLoopTimes};case 31:return this.uapResponse&&this.uapResponse.vid&&(o.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,s=this.lastTaskId++,e.prev=33,u=new wI((function(e,n){VH(d.retryTimeout).then((function(){if(r)return n(r);var e=d.statusError.get(t);return e?(d.statusError.delete(t),n(e)):void 0}))})),e.next=37,wI.race([this.connection.request("request",{clientRequest:o},!0,{url:t,command:"PublishStream",workerType:n===YL.TRANSCODE?1:2,requestByUser:!r,tid:s.toString()}),u]);case 37:l=e.sent,this.isStartingStreamingTask=!1,px.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(l.code)),this.streamingTasks.set(t,{clientRequest:o,mode:n,url:t,taskId:s}),a(),e.next=56;break;case 41:if(e.prev=41,e.t3=e.catch(33),a(),this.isStartingStreamingTask=!1,e.t3.data&&e.t3.data.retry&&!r){e.next=45;break}throw e.t3;case 45:if(!e.t3.data.changeAddress){e.next=52;break}return this.connection.tryNextAddress(),e.next=49,this.startLiveStreamingTask(t,n,e.t3);case 49:e.t4=e.sent,e.next=55;break;case 52:return e.next=54,this.startLiveStreamingTask(t,n,e.t3);case 54:e.t4=e.sent;case 55:return e.abrupt("return",e.t4);case 56:case"end":return e.stop()}}),e,this,[[13,21],[33,41]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"stopLiveStreamingTask",value:function(e){var t=this;return new wI((function(n,r){var i=t.streamingTasks.get(e);if(!i||!t.connection)return new ix($N.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var o=i.mode;i.abortTask=function(){px.debug("[".concat(t.spec.clientId,"] stop live streaming success(worker exception)")),t.streamingTasks.delete(e),n()},t.connection.request("request",{clientRequest:{command:o===YL.INJECT?"UninjectStream":"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:o===YL.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then((function(r){px.debug("[".concat(t.spec.clientId,"] stop live streaming success, code: ").concat(r.code)),t.streamingTasks.delete(e),0===t.streamingTasks.size&&o!==YL.INJECT&&(t.connection&&t.connection.close(),t.connection=void 0),n(),o===YL.INJECT&&t.onInjectStatusChange&&t.onInjectStatusChange(zL.INJECT_STREAM_STATUS_STOP_SUCCESS,t.spec.uid,e)})).catch(r)}))}},{key:"controlInjectStream",value:function(){var e=u(c().mark((function e(t,n,r,i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=this.streamingTasks.get(t))&&this.connection&&o.mode===YL.INJECT){e.next=3;break}throw new ix($N.INVALID_OPERATION,"can not find inject stream task to control");case 3:return e.next=5,this.connection.request("request",{clientRequest:{command:"ControlStream",url:t,control:n,audioVolume:r,position:i}});case 5:return e.abrupt("return",e.sent.serverResponse);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"resetAllTask",value:function(){var e,t=this,n=Array.from(cH(e=this.streamingTasks).call(e));this.terminate();for(var r=function(){var e=o[i];t.startLiveStreamingTask(e.url,e.mode).catch((function(n){t.onLiveStreamError&&t.onLiveStreamError(e.url,n)}))},i=0,o=n;i<o.length;i++)r()}},{key:"terminate",value:function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=ex.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}},{key:"connect",value:function(){var e=u(c().mark((function e(t){var n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}throw new ix($N.UNEXPECTED_ERROR,"live streaming connection has already connected");case 2:return e.next=4,zH(this,oP.REQUEST_WORKER_MANAGER_LIST,t);case 4:return n=e.sent,this.uapResponse=n,this.connection=new yJ(n.workerToken,this.spec,this.wsRetryConfig,t),this.connection.on(iP.WARNING,(function(e,t){return r.onLiveStreamWarning&&r.onLiveStreamWarning(t,e)})),this.connection.on(iP.PUBLISH_STREAM_STATUS,(function(e){return r.handlePublishStreamServer(e)})),this.connection.on(iP.INJECT_STREAM_STATUS,(function(e){return r.handleInjectStreamServerStatus(e)})),this.connection.on(iP.REQUEST_NEW_ADDRESS,(function(e,n){if(!r.connection)return n(new ix($N.UNEXPECTED_ERROR,"can not get new live streaming address list"));zH(r,oP.REQUEST_WORKER_MANAGER_LIST,t).then((function(t){r.uapResponse=t,e(t.addressList)})).catch(n)})),e.next=13,this.connection.init(n.addressList);case 13:return e.abrupt("return",this.connection);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePublishStreamServer",value:function(e){var t=this,n=e.serverStatus&&e.serverStatus.url||"empty_url",r=this.streamingTasks.get(n),i=e.reason;switch(e.code){case aP.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case aP.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case aP.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case aP.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:var o=new ix($N.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(r)return px.error(o.toString()),this.onLiveStreamError&&this.onLiveStreamError(n,o);if(!this.isStartingStreamingTask)return;this.statusError.set(n,o);case aP.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:var a=new ix($N.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,i);return this.onLiveStreamWarning&&this.onLiveStreamWarning(n,a);case aP.LIVE_STREAM_RESPONSE_WORKER_LOST:case aP.LIVE_STREAM_RESPONSE_WORKER_QUIT:var s;if(!this.connection)return;this.connection.tryNextAddress();for(var c=Array.from(cH(s=this.streamingTasks).call(s)),u=function(){var n=d[l];n.abortTask?n.abortTask():(px.warning("[".concat(t.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),t.startLiveStreamingTask(n.url,n.mode,new ix($N.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((function(){px.debug("[".concat(t.spec.clientId,"] republish live stream success"),n.url)})).catch((function(e){px.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(n.url,e)})))},l=0,d=c;l<d.length;l++)u();return}}},{key:"handleInjectStreamServerStatus",value:function(e){var t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(zL.INJECT_STREAM_STATUS_START_SUCCESS,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(zL.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(zL.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(zL.INJECT_STREAM_STATUS_BROKEN,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(zL.INJECT_STREAM_STATUS_START_TIMEOUT,t,n),void this.streamingTasks.delete(n);default:return void px.debug("inject stream server status",e)}}},{key:"hasUrl",value:function(e){return this.streamingTasks.has(e)}}]),n}(nx),IJ=function(){function e(){v(this,e),tO(this,"destChannelMediaInfos",new Map),tO(this,"srcChannelMediaInfo",void 0)}return g(e,[{key:"setSrcChannelInfo",value:function(e){IP(e),this.srcChannelMediaInfo=e}},{key:"addDestChannelInfo",value:function(e){IP(e),this.destChannelMediaInfos.set(e.channelName,e)}},{key:"removeDestChannelInfo",value:function(e){uL(e),this.destChannelMediaInfos.delete(e)}},{key:"getSrcChannelMediaInfo",value:function(){return this.srcChannelMediaInfo}},{key:"getDestChannelMediaInfo",value:function(){return this.destChannelMediaInfos}}]),e}();function wJ(e){if(!(e instanceof IJ))return new ix($N.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();var t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new ix($N.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new ix($N.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}var SJ,TJ,RJ=function(e){f(n,e);var t=p(n);function n(e,r,i){var o;return v(this,n),o=t.call(this),tO(l(o),"ws",void 0),tO(l(o),"requestId",1),tO(l(o),"heartBeatTimer",void 0),tO(l(o),"joinInfo",void 0),tO(l(o),"clientId",void 0),tO(l(o),"onOpen",(function(){o.emit("open"),o.startHeartBeatCheck()})),tO(l(o),"onClose",(function(e){o.emit("close"),o.dispose()})),tO(l(o),"onMessage",(function(e){var t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(o.emit("status",t.serverStatus),void o.emit(t.serverStatus.command,t.serverStatus)):void 0;o.emit("req_".concat(t.requestId),t)})),o.joinInfo=e,o.clientId=r,o.ws=new Iz("cross-channel-".concat(o.clientId),i),o.ws.on(WL.RECONNECTING,(function(){o.ws.reconnectMode="retry",o.emit("reconnecting")})),o.ws.on(WL.CONNECTED,o.onOpen),o.ws.on(WL.ON_MESSAGE,o.onMessage),o.ws.on(WL.CLOSED,o.onClose),o}return g(n,[{key:"isConnect",value:function(){return"connected"===this.ws.state}},{key:"sendMessage",value:function(e){var t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}},{key:"waitStatus",value:function(e){var t=this;return new wI((function(n,r){var i=window.setTimeout((function(){r(new ix($N.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);t.once(e,(function(t){window.clearTimeout(i),t.state&&0!==t.state?r(new ix($N.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):n(void 0)})),t.once("dispose",(function(){window.clearTimeout(i),r(new ix($N.WS_ABORT))}))}))}},{key:"request",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("closed"!==this.ws.state){e.next=2;break}throw new ix($N.WS_DISCONNECT);case 2:if(n=function(){return new wI((function(e,t){a.ws.once(WL.CLOSED,(function(){return t(new ix($N.WS_ABORT))})),a.ws.once(WL.CONNECTED,e)}))},e.t0="connected"!==this.ws.state,!e.t0){e.next=7;break}return e.next=7,n();case 7:return r=this.sendMessage(t),i=new wI((function(e,t){var n=function(){t(new ix($N.WS_ABORT))};a.ws.once(WL.RECONNECTING,n),a.ws.once(WL.CLOSED,n),a.once("req_".concat(r),e),VH(3e3).then((function(){a.removeAllListeners("req_".concat(r)),a.ws.off(WL.RECONNECTING,n),a.ws.off(WL.CLOSED,n),t(new ix($N.TIMEOUT,"cross channel ws request timeout"))}))})),e.next=11,i;case 11:if((o=e.sent)&&200===o.code){e.next=14;break}throw new ix($N.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(o)));case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ws.removeAllListeners(WL.REQUEST_NEW_URLS),this.ws.on(WL.REQUEST_NEW_URLS,(function(e){e(t)})),e.next=4,this.ws.init(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}},{key:"sendPing",value:function(e){var t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}},{key:"startHeartBeatCheck",value:function(){var e=this;this.heartBeatTimer=window.setInterval((function(){e.sendPing({command:"ping",appId:e.joinInfo.appId,cname:e.joinInfo.cname,uid:e.joinInfo.uid.toString(),sid:e.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}},{key:"clearHeartBeatCheck",value:function(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}]),n}(nx),kJ=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this),tO(l(a),"joinInfo",void 0),tO(l(a),"clientId",void 0),tO(l(a),"cancelToken",ex.CancelToken.source()),tO(l(a),"workerToken",void 0),tO(l(a),"requestId",0),tO(l(a),"signal",void 0),tO(l(a),"prevChannelMediaConfig",void 0),tO(l(a),"httpRetryConfig",void 0),tO(l(a),"_state",lP.RELAY_STATE_IDLE),tO(l(a),"errorCode",dP.RELAY_OK),tO(l(a),"onStatus",(function(e){px.debug("[".concat(a.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&a.emit("event",uP.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&a.emit("event",uP.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(a.errorCode=dP.SRC_TOKEN_EXPIRED,a.state=lP.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(a.errorCode=dP.DEST_TOKEN_EXPIRED,a.state=lP.RELAY_STATE_FAILURE))})),tO(l(a),"onReconnect",u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:px.debug("[".concat(a.clientId,"] ChannelMediaSocket disconnect, reconnecting")),a.emit("event",uP.NETWORK_DISCONNECTED),a.state=lP.RELAY_STATE_IDLE,a.prevChannelMediaConfig&&a.sendStartRelayMessage(a.prevChannelMediaConfig).catch((function(e){a.state!==lP.RELAY_STATE_IDLE&&(px.error("auto restart channel media relay failed",e.toString()),a.errorCode=dP.SERVER_CONNECTION_LOST,a.state=lP.RELAY_STATE_FAILURE)}));case 1:case"end":return e.stop()}}),e)})))),a.joinInfo=e,a.clientId=r,a.signal=new RJ(a.joinInfo,a.clientId,i),a.httpRetryConfig=o,a}return g(n,[{key:"state",get:function(){return this._state},set:function(e){e!==this._state&&(e!==lP.RELAY_STATE_FAILURE&&(this.errorCode=dP.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}},{key:"startChannelMediaRelay",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state===lP.RELAY_STATE_IDLE){e.next=2;break}throw new ix($N.INVALID_OPERATION);case 2:return this.state=lP.RELAY_STATE_CONNECTING,e.next=5,this.connect();case 5:return px.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success")),e.prev=6,e.next=9,this.sendStartRelayMessage(t);case 9:e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(6),!e.t0.data||!e.t0.data.serverResponse||"SetSourceChannel"!==e.t0.data.serverResponse.command){e.next=15;break}throw new ix($N.CROSS_CHANNEL_FAILED_JOIN_SRC);case 15:if(!e.t0.data||!e.t0.data.serverResponse||"SetDestChannelStatus"!==e.t0.serverResponse.command){e.next=17;break}throw new ix($N.CROSS_CHANNEL_FAILED_JOIN_DEST);case 17:if(!e.t0.data||!e.t0.data.serverResponse||"StartPacketTransfer"!==e.t0.serverResponse.command){e.next=19;break}throw new ix($N.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);case 19:throw e.t0;case 20:this.prevChannelMediaConfig=t;case 21:case"end":return e.stop()}}),e,this,[[6,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateChannelMediaRelay",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state===lP.RELAY_STATE_RUNNING){e.next=2;break}throw new ix($N.INVALID_OPERATION);case 2:return e.next=4,this.sendUpdateMessage(t);case 4:this.prevChannelMediaConfig=t;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopChannelMediaRelay",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendStopRelayMessage();case 2:px.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=lP.RELAY_STATE_IDLE,this.dispose();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){px.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=ex.CancelToken.source(),this.state=lP.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}},{key:"connect",value:function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dJ(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);case 2:return t=e.sent,this.workerToken=t.workerToken,e.next=6,this.signal.connect(t.addressList);case 6:this.emit("event",uP.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendStartRelayMessage",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.genMessage(cP.StopPacketTransfer),e.next=3,this.signal.request(n);case 3:return e.next=5,this.signal.waitStatus("Normal Quit");case 5:return px.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success")),r=this.genMessage(cP.SetSdkProfile,t),e.next=9,this.signal.request(r);case 9:return px.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success")),i=this.genMessage(cP.SetSourceChannel,t),e.next=13,this.signal.request(i);case 13:return e.next=15,this.signal.waitStatus("SetSourceChannelStatus");case 15:return this.emit("event",uP.PACKET_JOINED_SRC_CHANNEL),px.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success")),o=this.genMessage(cP.SetSourceUserId,t),e.next=20,this.signal.request(o);case 20:return px.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success")),a=this.genMessage(cP.SetDestChannel,t),e.next=24,this.signal.request(a);case 24:return e.next=26,this.signal.waitStatus("SetDestChannelStatus");case 26:return this.emit("event",uP.PACKET_JOINED_DEST_CHANNEL),px.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success")),s=this.genMessage(cP.StartPacketTransfer,t),e.next=31,this.signal.request(s);case 31:this.emit("event",uP.PACKET_SENT_TO_DEST_CHANNEL),this.state=lP.RELAY_STATE_RUNNING,px.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success"));case 34:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendUpdateMessage",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.genMessage(cP.UpdateDestChannel,t),e.next=3,this.signal.request(n);case 3:this.emit("event",uP.PACKET_UPDATE_DEST_CHANNEL),px.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendStopRelayMessage",value:function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.genMessage(cP.StopPacketTransfer),e.next=3,this.signal.request(t);case 3:px.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"genMessage",value:function(e,t){var n=this,r=[],i=[],o=[];this.requestId+=1;var a={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:Fx,sid:this.joinInfo.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.13.0"===a.sdkVersion&&(a.sdkVersion="0.0.1");var s=null,c=null;switch(e){case cP.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case cP.SetSourceChannel:if(!(c=t&&t.getSrcChannelMediaInfo()))throw new ix($N.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceChannel",uid:"0",channelName:c.channelName,token:c.token||this.joinInfo.appId},a;case cP.SetSourceUserId:if(!(c=t&&t.getSrcChannelMediaInfo()))throw new ix($N.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceUserId",uid:c.uid+""},a;case cP.SetDestChannel:if(!(s=t&&t.getDestChannelMediaInfo()))throw new ix($N.UNEXPECTED_ERROR,"can not find dest config");return s.forEach((function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.joinInfo.appId)})),a.clientRequest={command:"SetDestChannel",channelName:r,uid:i,token:o},a;case cP.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case cP.Reconnect:return a.clientRequest={command:"Reconnect"},a;case cP.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case cP.UpdateDestChannel:if(!(s=t&&t.getDestChannelMediaInfo()))throw new ix($N.UNEXPECTED_ERROR,"can not find dest config");return s.forEach((function(e){r.push(e.channelName),i.push(e.uid+""),o.push(e.token||n.joinInfo.appId)})),a.clientRequest={command:"UpdateDestChannel",channelName:r,uid:i,token:o},a}return a}}]),n}(nx),OJ=function(e){var t=document.createElement("canvas");return t.width=2,t.height=2,new wI((function(n,r){t.toBlob(function(){var e=u(c().mark((function e(i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.remove(),!i){e.next=7;break}return e.next=3,NJ(i);case 3:o=e.sent,n({buffer:o,width:t.width,height:t.height}),e.next=8;break;case 7:r(new ix($N.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e,1)}))},NJ=function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:return n=e.sent,e.abrupt("return",new Uint8Array(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xJ=Mx("AgoraRTCPlayer","trackId")(SJ=function(){function e(t){var n=this;v(this,e),tO(this,"trackId",void 0),tO(this,"config",void 0),tO(this,"onFirstVideoFrameDecoded",void 0),tO(this,"freezeTimeCounterList",[]),tO(this,"timeUpdatedCount",0),tO(this,"freezeTime",0),tO(this,"playbackTime",0),tO(this,"lastTimeUpdatedTime",0),tO(this,"videoTrack",void 0),tO(this,"container",void 0),tO(this,"videoElement",void 0),tO(this,"videoElementCheckInterval",void 0),tO(this,"_videoElementStatus",XD.NONE),tO(this,"slot",void 0),tO(this,"isGettingVideoDimensions",!1),tO(this,"handleVideoEvents",(function(e){switch(e.type){case"play":case"playing":n.startGetVideoDimensions(),n.videoElementStatus=XD.PLAYING;break;case"loadeddata":n.onFirstVideoFrameDecoded&&n.onFirstVideoFrameDecoded();break;case"canplay":n.videoElementStatus=XD.CANPLAY;break;case"stalled":n.videoElementStatus=XD.STALLED;break;case"suspend":n.videoElementStatus=XD.SUSPEND;break;case"pause":n.videoElementStatus=XD.PAUSED,!Bk()&&!Gk()&&n.videoElement&&n.videoTrack&&"live"===n.videoTrack.readyState&&(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume")),kx("debug",n,"video element paused, auto resume"),n.videoElement.play());break;case"waiting":n.videoElementStatus=XD.WAITING;break;case"abort":n.videoElementStatus=XD.ABORT;break;case"ended":n.videoElementStatus=XD.ENDED;break;case"emptied":n.videoElementStatus=XD.EMPTIED;break;case"timeupdate":var t=Date.now();if(n.timeUpdatedCount+=1,n.timeUpdatedCount<10)return void(n.lastTimeUpdatedTime=t);var r=t-n.lastTimeUpdatedTime;for(n.lastTimeUpdatedTime=t,r>500&&(n.freezeTime+=r),n.playbackTime+=r;n.playbackTime>=6e3;)n.playbackTime-=6e3,n.freezeTimeCounterList.push(Math.min(6e3,n.freezeTime)),n.freezeTime=Math.max(0,n.freezeTime-6e3)}})),tO(this,"startGetVideoDimensions",(function(){var e=function e(){if(n.isGettingVideoDimensions=!0,n.videoElement&&n.videoElement.videoWidth*n.videoElement.videoHeight>4)return px.debug("[".concat(n.trackId,"] current video dimensions:"),n.videoElement.videoWidth,n.videoElement.videoHeight),Dx("debug",n,"startGetVideoDimensions",{videoWidth:n.videoElement.videoWidth,videoHeight:n.videoElement.videoHeight}),void(n.isGettingVideoDimensions=!1);setTimeout(e,500)};!n.isGettingVideoDimensions&&e()})),tO(this,"autoResumeAfterInterruption",(function(){n.videoElement&&n.videoTrack&&"live"===n.videoTrack.readyState&&"running"===KV.curState&&(Vk()?(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume for iOS 15.2")),n.videoElement.srcObject=null,n.videoElement.srcObject=new MediaStream([n.videoTrack]),n.videoElement.play()):Qk()?(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume for iOS 15.1")),n.videoElement.srcObject=null,n.videoElement.srcObject=new MediaStream([n.videoTrack]),n.videoElement.play()):Fk()&&(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume for iOS 15.0")),n.videoElement.pause(),n.videoElement.play()))})),tO(this,"autoResumeAfterInterruptionOnIOS15",(function(){n.videoElement&&n.videoTrack&&"live"===n.videoTrack.readyState&&(Vk()?(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume for iOS 15.2")),n.videoElement.srcObject=null,n.videoElement.srcObject=new MediaStream([n.videoTrack]),n.videoElement.play()):Qk()?(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume for iOS 15.1")),n.videoElement.srcObject=null,n.videoElement.srcObject=new MediaStream([n.videoTrack]),n.videoElement.play()):Fk()&&(px.debug("[track-".concat(n.trackId,"] video element paused, auto resume for iOS 15.0")),n.videoElement.pause(),n.videoElement.play()))})),this.slot=t.element,this.trackId=t.trackId,this.updateConfig(t),KV.on(xV.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),KV.on(xV.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15)}return g(e,[{key:"videoElementStatus",get:function(){return this._videoElementStatus},set:function(e){e!==this._videoElementStatus&&(px.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),xx("debug",["HTMLVideoElement",this.trackId],"statusChange","".concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}},{key:"updateConfig",value:function(e){this.config=e,this.trackId=e.trackId;var t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}},{key:"updateVideoTrack",value:function(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}},{key:"play",value:function(e){var t=this;if(this.videoElement){var n=this.videoElement.play();n&&n.catch&&n.catch((function(n){e&&NV.autoplayFailed(e,"video",n.message,t.trackId),Dx("warning",t,"play",n.toString(),"error"),"NotAllowedError"===n.name?(px.warning("detected video element autoplay failed",n),t.handleAutoPlayFailed()):px.warning("[".concat(t.trackId,"] play warning: "),n)}));var r=Sk();if(("Safari"===r.name&&15===Number(r.version)||jk())&&n&&n.then&&n.catch){var i=function(){t.config.mirror&&t.videoElement&&(t.videoElement.style.transform="rotateY(180deg)")};n.then(i).catch(i)}}}},{key:"getCurrentFrame",value:function(){if(!this.videoElement)return new ImageData(2,2);var e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;var t=e.getContext("2d");if(!t)return px.error("create canvas context failed!"),Dx("error",this,"getCurrentFrame","create canvas context failed!","error"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);var n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}},{key:"getCurrentFrameToUint8Array",value:function(){var e=u(c().mark((function e(t){var n,r,i,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:1,this.videoElement){e.next=5;break}return e.next=4,OJ(t);case 4:return e.abrupt("return",e.sent);case 5:if((r=document.createElement("canvas")).width=this.videoElement.videoWidth,r.height=this.videoElement.videoHeight,!(i=r.getContext("2d"))){e.next=12;break}e.t0=(i.drawImage(this.videoElement,0,0,r.width,r.height),new wI((function(e,i){r.toBlob(function(){var t=u(c().mark((function t(n){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.remove(),!n){t.next=7;break}return t.next=3,NJ(n);case 3:o=t.sent,e({buffer:o,width:r.width,height:r.height}),t.next=8;break;case 7:i(new ix($N.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t,n<0?.1:n>1?1:n)}))),e.next=15;break;case 12:return e.next=14,OJ(t);case 14:e.t0=e.sent;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){if(KV.off(xV.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),KV.off(xV.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement.remove(),this.videoElement=void 0),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(b){}this.container=void 0}this.freezeTimeCounterList=[]}},{key:"createElements",value:function(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",this.createVideoElement(),this.container.appendChild(this.videoElement)):this.removeVideoElement(),this.slot.appendChild(this.container)}},{key:"createVideoElement",value:function(){var e=this;this.videoElement||(this.videoElementStatus=XD.INIT,this.videoElement=document.createElement("video"),this.videoElement.onerror=function(){return e.videoElementStatus=XD.ERROR},this.container&&this.container.appendChild(this.videoElement),DJ.forEach((function(t){e.videoElement&&e.videoElement.addEventListener(t,e.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((function(){!document.getElementById("video_".concat(e.trackId))&&e.videoElement&&(e.videoElementStatus=XD.DESTROYED)}),1e3)),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),this.videoElement.style.left="0",this.videoElement.style.top="0";var t=Sk();"Safari"===t.name&&15===Number(t.version)||jk()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Mk()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Mk()&&this.videoElement.load());var n=this.videoElement.play();void 0!==n&&n.catch((function(t){px.debug("[".concat(e.trackId,"] playback interrupted"),t.toString()),kx("debug",e,"play back interrupted: ".concat(t.toString()))}))}},{key:"removeVideoElement",value:function(){var e=this;if(this.videoElement){DJ.forEach((function(t){e.videoElement&&e.videoElement.removeEventListener(t,e.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0);try{this.container&&this.container.removeChild(this.videoElement)}catch(b){}this.videoElement=void 0,this.videoElementStatus=XD.NONE}}},{key:"handleAutoPlayFailed",value:function(){var e=this,t=Sk();if(this.videoElement){var n=function n(r){r.preventDefault(),e.videoElement&&(e.videoElement.play().then((function(){px.debug("[".concat(e.trackId,"] Video element for trackId:").concat(e.trackId," autoplay resumed.")),kx("debug",e,"video element autoplay resumed")})).catch((function(e){px.error(e)})),"Android"!==t.os||"Chrome"!==t.name&&t.name!==bk.WECHAT?(document.body.removeEventListener("touchstart",n,!0),document.body.removeEventListener("mousedown",n,!0)):document.body.removeEventListener("click",n,!0))};"Android"!==t.os||"Chrome"!==t.name&&t.name!==bk.WECHAT?(document.body.addEventListener("touchstart",n,!0),document.body.addEventListener("mousedown",n,!0)):document.body.addEventListener("click",n,!0),CV()}}},{key:"getVideoElement",value:function(){return this.videoElement}},{key:"getContainerElement",value:function(){return this.container}}]),e}())||SJ,DJ=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate"],LJ={exports:{}};function PJ(e,t,n){var r=e.createShader(n);if(!r)return new ix($N.WEBGL_INTERNAL_ERROR,"can not create shader").throw();if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);return e.deleteShader(r),new ix($N.WEBGL_INTERNAL_ERROR,"error compiling shader:"+i).throw()}return r}function MJ(e,t,n,r){for(var i=[],o=0;o<t.length;++o){var a=0===o?e.VERTEX_SHADER:e.FRAGMENT_SHADER;i.push(PJ(e,t[o],a))}return function(e,t,n,r){var i=e.createProgram();if(!i)throw new ix($N.WEBGL_INTERNAL_ERROR,"can not create webgl program");if(t.forEach((function(t){e.attachShader(i,t)})),n&&n.forEach((function(t,n){e.bindAttribLocation(i,r?r[n]:n,t)})),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var o=e.getProgramInfoLog(i);throw e.deleteProgram(i),new ix($N.WEBGL_INTERNAL_ERROR,"error in program linking:"+o)}return i}(e,i,n,r)}!function(e,t){self,e.exports=function(){var e={3476:function(e,t,n){e.exports=n(7460)},4341:function(e,t,n){e.exports=n(3685)},3536:function(e,t,n){var r=n(1910);e.exports=r},8171:function(e,t,n){n(6450);var r=n(4058).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},2956:function(e,t,n){n(7627),n(6274),n(5967),n(8881),n(4560),n(7206),n(4349),n(7971);var r=n(4058);e.exports=r.Promise},3685:function(e,t,n){var r=n(3536);e.exports=r},4883:function(e,t,n){var r=n(1899),i=n(7475),o=n(9826),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},174:function(e,t,n){var r=n(1899),i=n(4284),o=n(9826),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},1851:function(e,t,n){var r=n(1899),i=n(7475),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},8479:function(e){e.exports=function(){}},5743:function(e,t,n){var r=n(1899),i=n(7046),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},6059:function(e,t,n){var r=n(1899),i=n(941),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},1692:function(e,t,n){var r=n(4529),i=n(9413),o=n(623),a=function(e){return function(t,n,a){var s,c=r(t),u=o(c),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3765:function(e,t,n){var r=n(5329);e.exports=r([].slice)},1385:function(e,t,n){var r=n(9813)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},2532:function(e,t,n){var r=n(5329),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},9697:function(e,t,n){var r=n(1899),i=n(2885),o=n(7475),a=n(2532),s=n(9813)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},8694:function(e,t,n){var r=n(5329)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,o,"");return e}},3489:function(e,t,n){var r=n(953),i=n(1136),o=n(9677),a=n(5988);e.exports=function(e,t,n){for(var s=i(t),c=a.f,u=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},4160:function(e,t,n){var r=n(5981);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:function(e,t,n){var r=n(5143).IteratorPrototype,i=n(9290),o=n(1887),a=n(904),s=n(2077),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},2029:function(e,t,n){var r=n(5746),i=n(5988),o=n(1887);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},1887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7771:function(e,t,n){var r=n(6887),i=n(8834),o=n(2529),a=n(9417),s=n(7475),c=n(1046),u=n(249),l=n(8929),d=n(904),f=n(2029),p=n(9754),h=n(9813),v=n(2077),g=n(5143),A=a.PROPER,m=a.CONFIGURABLE,E=g.IteratorPrototype,y=g.BUGGY_SAFARI_ITERATORS,b=h("iterator"),C="keys",_="values",I="entries",w=function(){return this};e.exports=function(e,t,n,a,h,g,S){c(n,t,a);var T,R,k,O=function(e){if(e===h&&P)return P;if(!y&&e in D)return D[e];switch(e){case C:case _:case I:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",x=!1,D=e.prototype,L=D[b]||D["@@iterator"]||h&&D[h],P=!y&&L||O(h),M="Array"==t&&D.entries||L;if(M&&(T=u(M.call(new e)))!==Object.prototype&&T.next&&(o||u(T)===E||(l?l(T,E):s(T[b])||p(T,b,w)),d(T,N,!0,!0),o&&(v[N]=w)),A&&h==_&&L&&L.name!==_&&(!o&&m?f(D,"name",_):(x=!0,P=function(){return i(L,this)})),h)if(R={values:O(_),keys:g?P:O(C),entries:O(I)},S)for(k in R)(y||x||!(k in D))&&p(D,k,R[k]);else r({target:t,proto:!0,forced:y||x},R);return o&&!S||D[b]===P||p(D,b,P,{name:h}),v[t]=P,R}},5746:function(e,t,n){var r=n(5981);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:function(e,t,n){var r=n(1899),i=n(941),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3281:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:function(e){e.exports="object"==typeof window},4470:function(e,t,n){var r=n(2861),i=n(1899);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},2749:function(e,t,n){var r=n(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6049:function(e,t,n){var r=n(2532),i=n(1899);e.exports="process"==r(i.process)},8045:function(e,t,n){var r=n(2861);e.exports=/web0s(?!.*chrome)/i.test(r)},2861:function(e,t,n){var r=n(626);e.exports=r("navigator","userAgent")||""},3385:function(e,t,n){var r,i,o=n(1899),a=n(2861),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:function(e,t,n){var r=n(5981),i=n(1887);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6887:function(e,t,n){var r=n(1899),i=n(9730),o=n(5329),a=n(7475),s=n(9677).f,c=n(7252),u=n(4058),l=n(6843),d=n(2029),f=n(953),p=function(e){var t=function t(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,i,h,v,g,A,m,E,y=e.target,b=e.global,C=e.stat,_=e.proto,I=b?r:C?r[y]:(r[y]||{}).prototype,w=b?u:u[y]||d(u,y,{})[y],S=w.prototype;for(h in t)n=!c(b?h:y+(C?".":"#")+h,e.forced)&&I&&f(I,h),g=w[h],n&&(A=e.noTargetGet?(E=s(I,h))&&E.value:I[h]),v=n&&A?A:t[h],n&&typeof g==typeof v||(m=e.bind&&n?l(v,r):e.wrap&&n?p(v):_&&a(v)?o(v):v,(e.sham||v&&v.sham||g&&g.sham)&&d(m,"sham",!0),d(w,h,m),_&&(f(u,i=y+"Prototype")||d(u,i,{}),d(u[i],h,v),e.real&&S&&!S[h]&&d(S,h,v)))}},5981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},9730:function(e,t,n){var r=n(8285),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},6843:function(e,t,n){var r=n(5329),i=n(4883),o=n(8285),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},8285:function(e,t,n){var r=n(5981);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8834:function(e,t,n){var r=n(8285),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9417:function(e,t,n){var r=n(5746),i=n(953),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},5329:function(e,t,n){var r=n(8285),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},626:function(e,t,n){var r=n(4058),i=n(1899),o=n(7475),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},2902:function(e,t,n){var r=n(9697),i=n(4229),o=n(2077),a=n(9813)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},429:function(e,t,n){var r=n(1899),i=n(8834),o=n(4883),a=n(6059),s=n(9826),c=n(2902),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(o(n))return a(i(n,e));throw u(s(e)+" is not iterable")}},4229:function(e,t,n){var r=n(4883);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},1899:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},953:function(e,t,n){var r=n(5329),i=n(9678),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7748:function(e){e.exports={}},4845:function(e,t,n){var r=n(1899);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},5463:function(e,t,n){var r=n(626);e.exports=r("document","documentElement")},2840:function(e,t,n){var r=n(5746),i=n(5981),o=n(1333);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:function(e,t,n){var r=n(1899),i=n(5329),o=n(5981),a=n(2532),s=r.Object,c=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},1302:function(e,t,n){var r=n(5329),i=n(7475),o=n(3030),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},3794:function(e,t,n){var r=n(941),i=n(2029);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},5402:function(e,t,n){var r,i,o,a=n(8019),s=n(1899),c=n(5329),u=n(941),l=n(2029),d=n(953),f=n(3030),p=n(4262),h=n(7748),v="Object already initialized",g=s.TypeError,A=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new A),E=c(m.get),y=c(m.has),b=c(m.set);r=function(e,t){if(y(m,e))throw new g(v);return t.facade=e,b(m,e,t),t},i=function(e){return E(m,e)||{}},o=function(e){return y(m,e)}}else{var C=p("state");h[C]=!0,r=function(e,t){if(d(e,C))throw new g(v);return t.facade=e,l(e,C,t),t},i=function(e){return d(e,C)?e[C]:{}},o=function(e){return d(e,C)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},6782:function(e,t,n){var r=n(9813),i=n(2077),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},7475:function(e){e.exports=function(e){return"function"==typeof e}},4284:function(e,t,n){var r=n(5329),i=n(5981),o=n(7475),a=n(9697),s=n(626),c=n(1302),u=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.exec(u),v=function(e){if(!o(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},7252:function(e,t,n){var r=n(5981),i=n(7475),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},941:function(e,t,n){var r=n(7475);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},2529:function(e){e.exports=!0},6664:function(e,t,n){var r=n(1899),i=n(626),o=n(7475),a=n(7046),s=n(2302),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,c(e))}},3091:function(e,t,n){var r=n(1899),i=n(6843),o=n(8834),a=n(6059),s=n(9826),c=n(6782),u=n(623),l=n(7046),d=n(429),f=n(2902),p=n(7609),h=r.TypeError,v=function(e,t){this.stopped=e,this.result=t},g=v.prototype;e.exports=function(e,t,n){var r,A,m,E,y,b,C,_=n&&n.that,I=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),T=i(t,_),R=function(e){return r&&p(r,"normal",e),new v(!0,e)},k=function(e){return I?(a(e),S?T(e[0],e[1],R):T(e[0],e[1])):S?T(e,R):T(e)};if(w)r=e;else{if(!(A=f(e)))throw h(s(e)+" is not iterable");if(c(A)){for(m=0,E=u(e);E>m;m++)if((y=k(e[m]))&&l(g,y))return y;return new v(!1)}r=d(e,A)}for(b=r.next;!(C=o(b,r)).done;){try{y=k(C.value)}catch(e){p(r,"throw",e)}if("object"==typeof y&&y&&l(g,y))return y}return new v(!1)}},7609:function(e,t,n){var r=n(8834),i=n(6059),o=n(4229);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},5143:function(e,t,n){var r,i,o,a=n(5981),s=n(7475),c=n(9290),u=n(249),l=n(9754),d=n(9813),f=n(2529),p=d("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},2077:function(e){e.exports={}},623:function(e,t,n){var r=n(3057);e.exports=function(e){return r(e.length)}},6132:function(e,t,n){var r,i,o,a,s,c,u,l,d=n(1899),f=n(6843),p=n(9677).f,h=n(2941).set,v=n(2749),g=n(4470),A=n(8045),m=n(6049),E=d.MutationObserver||d.WebKitMutationObserver,y=d.document,b=d.process,C=d.Promise,_=p(d,"queueMicrotask"),I=_&&_.value;I||(r=function(){var e,t;for(m&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},v||m||A||!E||!y?!g&&C&&C.resolve?((u=C.resolve(void 0)).constructor=C,l=f(u.then,u),a=function(){l(r)}):m?a=function(){b.nextTick(r)}:(h=f(h,d),a=function(){h(r)}):(s=!0,c=y.createTextNode(""),new E(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},9297:function(e,t,n){var r=n(1899);e.exports=r.Promise},2497:function(e,t,n){var r=n(3385),i=n(5981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8019:function(e,t,n){var r=n(1899),i=n(7475),o=n(1302),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},9520:function(e,t,n){var r=n(4883),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},4649:function(e,t,n){var r=n(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},9290:function(e,t,n){var r,i=n(6059),o=n(9938),a=n(6759),s=n(7748),c=n(5463),u=n(1333),l=n(4262)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()}));s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=h(),void 0===t?n:o.f(n,t)}},9938:function(e,t,n){var r=n(5746),i=n(3937),o=n(5988),a=n(6059),s=n(4529),c=n(4771);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},5988:function(e,t,n){var r=n(1899),i=n(5746),o=n(2840),a=n(3937),s=n(6059),c=n(3894),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},9677:function(e,t,n){var r=n(5746),i=n(8834),o=n(6760),a=n(1887),s=n(4529),c=n(3894),u=n(953),l=n(2840),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},946:function(e,t,n){var r=n(5629),i=n(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7857:function(e,t){t.f=Object.getOwnPropertySymbols},249:function(e,t,n){var r=n(1899),i=n(953),o=n(7475),a=n(9678),s=n(4262),c=n(4160),u=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7046:function(e,t,n){var r=n(5329);e.exports=r({}.isPrototypeOf)},5629:function(e,t,n){var r=n(5329),i=n(953),o=n(4529),a=n(1692).indexOf,s=n(7748),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},4771:function(e,t,n){var r=n(5629),i=n(6759);e.exports=Object.keys||function(e){return r(e,i)}},6760:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8929:function(e,t,n){var r=n(5329),i=n(6059),o=n(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},5623:function(e,t,n){var r=n(2885),i=n(9697);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},9811:function(e,t,n){var r=n(1899),i=n(8834),o=n(7475),a=n(941),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},1136:function(e,t,n){var r=n(626),i=n(5329),o=n(946),a=n(7857),s=n(6059),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},4058:function(e){e.exports={}},2:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},6584:function(e,t,n){var r=n(6059),i=n(941),o=n(9520);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},8397:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7524:function(e,t,n){var r=n(9754);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},9754:function(e,t,n){var r=n(2029);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},8219:function(e,t,n){var r=n(1899).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},4911:function(e,t,n){var r=n(1899),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4431:function(e,t,n){var r=n(626),i=n(5988),o=n(9813),a=n(5746),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},904:function(e,t,n){var r=n(2885),i=n(5988).f,o=n(2029),a=n(953),s=n(5623),c=n(9813)("toStringTag");e.exports=function(e,t,n,u){if(e){var l=n?e:e.prototype;a(l,c)||i(l,c,{configurable:!0,value:t}),u&&!r&&o(l,"toString",s)}}},4262:function(e,t,n){var r=n(8726),i=n(9418),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:function(e,t,n){var r=n(1899),i=n(4911),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},8726:function(e,t,n){var r=n(2529),i=n(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},487:function(e,t,n){var r=n(6059),i=n(174),o=n(9813)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},4620:function(e,t,n){var r=n(5329),i=n(2435),o=n(5803),a=n(8219),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=o(a(t)),f=i(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=c(d,f))<55296||r>56319||f+1===p||(l=c(d,f+1))<56320||l>57343?e?s(d,f):r:e?u(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},2941:function(e,t,n){var r,i,o,a,s=n(1899),c=n(9730),u=n(6843),l=n(7475),d=n(953),f=n(5981),p=n(5463),h=n(3765),v=n(1333),g=n(2749),A=n(6049),m=s.setImmediate,E=s.clearImmediate,y=s.process,b=s.Dispatch,C=s.Function,_=s.MessageChannel,I=s.String,w=0,S={};try{r=s.location}catch(e){}var T=function(e){if(d(S,e)){var t=S[e];delete S[e],t()}},R=function(e){return function(){T(e)}},k=function(e){T(e.data)},O=function(e){s.postMessage(I(e),r.protocol+"//"+r.host)};m&&E||(m=function(e){var t=h(arguments,1);return S[++w]=function(){c(l(e)?e:C(e),void 0,t)},i(w),w},E=function(e){delete S[e]},A?i=function(e){y.nextTick(R(e))}:b&&b.now?i=function(e){b.now(R(e))}:_&&!g?(a=(o=new _).port2,o.port1.onmessage=k,i=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(O)?(i=O,s.addEventListener("message",k,!1)):i="onreadystatechange"in v("script")?function(e){p.appendChild(v("script")).onreadystatechange=function(){p.removeChild(this),T(e)}}:function(e){setTimeout(R(e),0)}),e.exports={set:m,clear:E}},9413:function(e,t,n){var r=n(2435),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},4529:function(e,t,n){var r=n(7026),i=n(8219);e.exports=function(e){return r(i(e))}},2435:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},3057:function(e,t,n){var r=n(2435),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},9678:function(e,t,n){var r=n(1899),i=n(8219),o=r.Object;e.exports=function(e){return o(i(e))}},6935:function(e,t,n){var r=n(1899),i=n(8834),o=n(941),a=n(6664),s=n(4229),c=n(9811),u=n(9813),l=r.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},3894:function(e,t,n){var r=n(6935),i=n(6664);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2885:function(e,t,n){var r={};r[n(9813)("toStringTag")]="z",e.exports="[object z]"===String(r)},5803:function(e,t,n){var r=n(1899),i=n(9697),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:function(e,t,n){var r=n(1899).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9418:function(e,t,n){var r=n(5329),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},2302:function(e,t,n){var r=n(2497);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:function(e,t,n){var r=n(5746),i=n(5981);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9813:function(e,t,n){var r=n(1899),i=n(8726),o=n(953),a=n(9418),s=n(2497),c=n(2302),u=i("wks"),l=r.Symbol,d=l&&l.for,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):f(t)}return u[e]}},7627:function(e,t,n){var r=n(6887),i=n(1899),o=n(7046),a=n(249),s=n(8929),c=n(3489),u=n(9290),l=n(2029),d=n(1887),f=n(8694),p=n(3794),h=n(3091),v=n(4649),g=n(9813),A=n(8780),m=g("toStringTag"),E=i.Error,y=[].push,b=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=o(C,this);s?n=s(new E,i?a(this):C):(n=i?this:u(C),l(n,m,"Error")),void 0!==t&&l(n,"message",v(t)),A&&l(n,"stack",f(n.stack,1)),p(n,r);var c=[];return h(e,y,{that:c}),l(n,"errors",c),n};s?s(b,E):c(b,E,{name:!0});var C=b.prototype=u(E.prototype,{constructor:d(1,b),message:d(1,""),name:d(1,"AggregateError")});r({global:!0},{AggregateError:b})},6274:function(e,t,n){var r=n(4529),i=n(8479),o=n(2077),a=n(5402),s=n(5988).f,c=n(7771),u=n(2529),l=n(5746),d="Array Iterator",f=a.set,p=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},6450:function(e,t,n){var r=n(6887),i=n(5746),o=n(5988).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},5967:function(){},4560:function(e,t,n){var r=n(6887),i=n(8834),o=n(4883),a=n(9520),s=n(2),c=n(3091);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=o(t.resolve),a=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,a[o]={status:"fulfilled",value:e},--u||r(a))}),(function(e){c||(c=!0,a[o]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},7206:function(e,t,n){var r=n(6887),i=n(4883),o=n(626),a=n(8834),s=n(9520),c=n(2),u=n(3091),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=o("AggregateError"),r=s.f(t),d=r.resolve,f=r.reject,p=c((function(){var r=i(t.resolve),o=[],s=0,c=1,p=!1;u(e,(function(e){var i=s++,u=!1;c++,a(r,t,e).then((function(e){u||p||(p=!0,d(e))}),(function(e){u||p||(u=!0,o[i]=e,--c||f(new n(o,l)))}))})),--c||f(new n(o,l))}));return p.error&&f(p.value),r.promise}})},4349:function(e,t,n){var r=n(6887),i=n(2529),o=n(9297),a=n(5981),s=n(626),c=n(7475),u=n(487),l=n(6584),d=n(9754);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&c(o)){var f=s("Promise").prototype.finally;o.prototype.finally!==f&&d(o.prototype,"finally",f,{unsafe:!0})}},8881:function(e,t,n){var r,i,o,a,s=n(6887),c=n(2529),u=n(1899),l=n(626),d=n(8834),f=n(9297),p=n(9754),h=n(7524),v=n(8929),g=n(904),A=n(4431),m=n(4883),E=n(7475),y=n(941),b=n(5743),C=n(1302),_=n(3091),I=n(1385),w=n(487),S=n(2941).set,T=n(6132),R=n(6584),k=n(4845),O=n(9520),N=n(2),x=n(8397),D=n(5402),L=n(7252),P=n(9813),M=n(3321),B=n(6049),U=n(3385),j=P("species"),F="Promise",Q=D.getterFor(F),V=D.set,G=D.getterFor(F),H=f&&f.prototype,q=f,K=H,W=u.TypeError,Y=u.document,z=u.process,J=O.f,X=J,Z=!!(Y&&Y.createEvent&&u.dispatchEvent),$=E(u.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=L(F,(function(){var e=C(q),t=e!==String(q);if(!t&&66===U)return!0;if(c&&!K.finally)return!0;if(U>=51&&/native code/.test(e))return!1;var n=new q((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[j]=r,!(te=n.then((function(){}))instanceof r)||!t&&M&&!$})),re=ne||!I((function(e){q.all(e).catch((function(){}))})),ie=function(e){var t;return!(!y(e)||!E(t=e.then))&&t},oe=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&le(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(W("Promise-chain cycle")):(r=ie(n))?d(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},ae=function(e,t){e.notified||(e.notified=!0,T((function(){for(var n,r=e.reactions;n=r.get();)oe(n,e);e.notified=!1,t&&!e.rejection&&ce(e)})))},se=function(e,t,n){var r,i;Z?((r=Y.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!$&&(i=u["on"+e])?i(r):e===ee&&k("Unhandled promise rejection",n)},ce=function(e){d(S,u,(function(){var t,n=e.facade,r=e.value;if(ue(e)&&(t=N((function(){B?z.emit("unhandledRejection",r,n):se(ee,n,r)})),e.rejection=B||ue(e)?2:1,t.error))throw t.value}))},ue=function(e){return 1!==e.rejection&&!e.parent},le=function(e){d(S,u,(function(){var t=e.facade;B?z.emit("rejectionHandled",t):se("rejectionhandled",t,e.value)}))},de=function(e,t,n){return function(r){e(t,r,n)}},fe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ae(e,!0))},pe=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw W("Promise can't be resolved itself");var i=ie(n);i?T((function(){var r={done:!1};try{d(i,n,de(e,r,t),de(fe,r,t))}catch(n){fe(r,n,t)}})):(t.value=n,t.state=1,ae(t,!1))}catch(n){fe({done:!1},n,t)}}};if(ne&&(K=(q=function(e){b(this,K),m(e),d(r,this);var t=Q(this);try{e(de(pe,t),de(fe,t))}catch(e){fe(t,e)}}).prototype,(r=function(e){V(this,{type:F,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=h(K,{then:function(e,t){var n=G(this),r=J(w(this,q));return n.parent=!0,r.ok=!E(e)||e,r.fail=E(t)&&t,r.domain=B?z.domain:void 0,0==n.state?n.reactions.add(r):T((function(){oe(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=Q(e);this.promise=e,this.resolve=de(pe,t),this.reject=de(fe,t)},O.f=J=function(e){return e===q||e===o?new i(e):X(e)},!c&&E(f)&&H!==Object.prototype)){a=H.then,te||(p(H,"then",(function(e,t){var n=this;return new q((function(e,t){d(a,n,e,t)})).then(e,t)}),{unsafe:!0}),p(H,"catch",K.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}v&&v(H,K)}s({global:!0,wrap:!0,forced:ne},{Promise:q}),g(q,F,!1,!0),A(F),o=l(F),s({target:F,stat:!0,forced:ne},{reject:function(e){var t=J(this);return d(t.reject,void 0,e),t.promise}}),s({target:F,stat:!0,forced:c||ne},{resolve:function(e){return R(c&&this===o?q:this,e)}}),s({target:F,stat:!0,forced:re},{all:function(e){var t=this,n=J(t),r=n.resolve,i=n.reject,o=N((function(){var n=m(t.resolve),o=[],a=0,s=1;_(e,(function(e){var c=a++,u=!1;s++,d(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=J(t),r=n.reject,i=N((function(){var i=m(t.resolve);_(e,(function(e){d(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},7971:function(e,t,n){var r=n(4620).charAt,i=n(5803),o=n(5402),a=n(7771),s="String Iterator",c=o.set,u=o.getterFor(s);a(String,"String",(function(e){c(this,{type:s,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},7634:function(e,t,n){n(6274);var r=n(3281),i=n(1899),o=n(9697),a=n(2029),s=n(2077),c=n(9813)("toStringTag");for(var u in r){var l=i[u],d=l&&l.prototype;d&&o(d)!==c&&a(d,c,u),s[u]=s.Array}},1910:function(e,t,n){var r=n(8171);e.exports=r},7460:function(e,t,n){var r=n(2956);n(7634),e.exports=r},9662:function(e,t,n){var r=n(7854),i=n(614),o=n(6330),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},6077:function(e,t,n){var r=n(7854),i=n(614),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},9670:function(e,t,n){var r=n(7854),i=n(111),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},1318:function(e,t,n){var r=n(5656),i=n(1400),o=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),u=o(c),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:function(e,t,n){var r=n(7854),i=n(1694),o=n(614),a=n(4326),s=n(5112)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},7741:function(e,t,n){var r=n(1702)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,o,"");return e}},9920:function(e,t,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=i(t),c=a.f,u=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,n){var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},8880:function(e,t,n){var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},654:function(e,t,n){var r=n(2109),i=n(6916),o=n(1913),a=n(6530),s=n(614),c=n(4994),u=n(9518),l=n(7674),d=n(8003),f=n(8880),p=n(1320),h=n(5112),v=n(7497),g=n(3383),A=a.PROPER,m=a.CONFIGURABLE,E=g.IteratorPrototype,y=g.BUGGY_SAFARI_ITERATORS,b=h("iterator"),C="keys",_="values",I="entries",w=function(){return this};e.exports=function(e,t,n,a,h,g,S){c(n,t,a);var T,R,k,O=function(e){if(e===h&&P)return P;if(!y&&e in D)return D[e];switch(e){case C:case _:case I:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",x=!1,D=e.prototype,L=D[b]||D["@@iterator"]||h&&D[h],P=!y&&L||O(h),M="Array"==t&&D.entries||L;if(M&&(T=u(M.call(new e)))!==Object.prototype&&T.next&&(o||u(T)===E||(l?l(T,E):s(T[b])||p(T,b,w)),d(T,N,!0,!0),o&&(v[N]=w)),A&&h==_&&L&&L.name!==_&&(!o&&m?f(D,"name",_):(x=!0,P=function(){return i(L,this)})),h)if(R={values:O(_),keys:g?P:O(C),entries:O(I)},S)for(k in R)(y||x||!(k in D))&&p(D,k,R[k]);else r({target:t,proto:!0,forced:y||x},R);return o&&!S||D[b]===P||p(D,b,P,{name:h}),v[t]=P,R}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(e,t,n){var r=n(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,o=n(7854),a=n(8113),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(e,t,n){var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:function(e,t,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),c=n(9920),u=n(4705);e.exports=function(e,t){var n,l,d,f,p,h=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!u(v?l:h+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:function(e,t,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:function(e,t,n){var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(7854),i=n(1702),o=n(7293),a=n(4326),s=r.Object,c=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},9587:function(e,t,n){var r=n(614),i=n(111),o=n(7674);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},2788:function(e,t,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},8340:function(e,t,n){var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},9909:function(e,t,n){var r,i,o,a=n(8536),s=n(7854),c=n(1702),u=n(111),l=n(8880),d=n(2597),f=n(5465),p=n(6200),h=n(3501),v="Object already initialized",g=s.TypeError,A=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new A),E=c(m.get),y=c(m.has),b=c(m.set);r=function(e,t){if(y(m,e))throw new g(v);return t.facade=e,b(m,e,t),t},i=function(e){return E(m,e)||{}},o=function(e){return y(m,e)}}else{var C=p("state");h[C]=!0,r=function(e,t){if(d(e,C))throw new g(v);return t.facade=e,l(e,C,t),t},i=function(e){return d(e,C)?e[C]:{}},o=function(e){return d(e,C)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},111:function(e,t,n){var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(7854),i=n(5005),o=n(614),a=n(7976),s=n(3307),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,c(e))}},3383:function(e,t,n){var r,i,o,a=n(7293),s=n(614),c=n(30),u=n(9518),l=n(1320),d=n(5112),f=n(1913),p=d("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:function(e){e.exports={}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},133:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(e,t,n){var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:function(e,t,n){var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()}));s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=h(),void 0===t?n:o.f(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},3070:function(e,t,n){var r=n(7854),i=n(9781),o=n(4664),a=n(3353),s=n(9670),c=n(4948),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),c=n(4948),u=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(7854),i=n(2597),o=n(614),a=n(7908),s=n(6200),c=n(8544),u=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),i=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(7854),i=n(6916),o=n(614),a=n(111),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},1320:function(e,t,n){var r=n(7854),i=n(614),o=n(2597),a=n(8880),s=n(3505),c=n(2788),u=n(9909),l=n(6530).CONFIGURABLE,d=u.get,f=u.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var u,d=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:t;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==g)&&a(n,"name",g),(u=f(n)).source||(u.source=p.join("string"==typeof g?g:""))),e!==r?(d?!v&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||c(this)}))},2261:function(e,t,n){var r,i,o=n(6916),a=n(1702),s=n(1340),c=n(7066),u=n(2999),l=n(2309),d=n(30),f=n(9909).get,p=n(9441),h=n(7168),v=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,A=g,m=a("".charAt),E=a("".indexOf),y=a("".replace),b=a("".slice),C=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),_=u.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(C||I||_||p||h)&&(A=function(e){var t,n,r,i,a,u,l,p=this,h=f(p),w=s(e),S=h.raw;if(S)return S.lastIndex=p.lastIndex,t=o(A,S,w),p.lastIndex=S.lastIndex,t;var T=h.groups,R=_&&p.sticky,k=o(c,p),O=p.source,N=0,x=w;if(R&&(k=y(k,"y",""),-1===E(k,"g")&&(k+="g"),x=b(w,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==m(w,p.lastIndex-1))&&(O="(?: "+O+")",x=" "+x,N++),n=new RegExp("^(?:"+O+")",k)),I&&(n=new RegExp("^"+O+"$(?!\\s)",k)),C&&(r=p.lastIndex),i=o(g,R?n:p,x),R?i?(i.input=b(i.input,N),i[0]=b(i[0],N),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:C&&i&&(p.lastIndex=p.global?i.index+i[0].length:r),I&&i&&i.length>1&&o(v,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&T)for(i.groups=u=d(null),a=0;a<T.length;a++)u[(l=T[a])[0]]=i[l[1]];return i}),e.exports=A},7066:function(e,t,n){var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,n){var r=n(7293),i=n(7854).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9441:function(e,t,n){var r=n(7293),i=n(7854).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,n){var r=n(7293),i=n(7854).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e,t,n){var r=n(7854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},3505:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8003:function(e,t,n){var r=n(3070).f,i=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},6200:function(e,t,n){var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var r=n(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(7854),i=n(4488),o=r.Object;e.exports=function(e){return o(i(e))}},7593:function(e,t,n){var r=n(7854),i=n(6916),o=n(111),a=n(2190),s=n(8173),c=n(2140),u=n(5112),l=r.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:function(e,t,n){var r=n(7854),i=n(648),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e,t,n){var r=n(7854).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9711:function(e,t,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),c=n(3307),u=i("wks"),l=r.Symbol,d=l&&l.for,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):f(t)}return u[e]}},9191:function(e,t,n){var r=n(5005),i=n(2597),o=n(8880),a=n(7976),s=n(7674),c=n(9920),u=n(9587),l=n(6277),d=n(8340),f=n(7741),p=n(2914),h=n(1913);e.exports=function(e,t,n,v){var g=v?2:1,A=e.split("."),m=A[A.length-1],E=r.apply(null,A);if(E){var y=E.prototype;if(!h&&i(y,"cause")&&delete y.cause,!n)return E;var b=r("Error"),C=t((function(e,t){var n=l(v?t:e,void 0),r=v?new E(e):new E;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",f(r.stack,2)),this&&a(y,this)&&u(r,this,C),arguments.length>g&&d(r,arguments[g]),r}));if(C.prototype=y,"Error"!==m&&(s?s(C,b):c(C,b,{name:!0})),c(C,E),!h)try{y.name!==m&&o(y,"name",m),y.constructor=C}catch(e){}return C}}},6992:function(e,t,n){var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(3070).f,c=n(654),u=n(1913),l=n(9781),d="Array Iterator",f=a.set,p=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},1703:function(e,t,n){var r=n(2109),i=n(7854),o=n(2104),a=n(9191),s=i.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=a(e,t,c),r({global:!0,forced:c},n)},l=function(e,t){if(s&&s[e]){var n={};n[e]=a("WebAssembly."+e,t,c),r({target:"WebAssembly",stat:!0,forced:c},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},4916:function(e,t,n){var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},3948:function(e,t,n){var r=n(7854),i=n(8324),o=n(8509),a=n(6992),s=n(8880),c=n(5112),u=c("iterator"),l=c("toStringTag"),d=a.values,f=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[l]||s(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in i)f(r[p]&&r[p].prototype,p);f(o,"DOMTokenList")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{AudioExtension:function(){return O},AudioProcessor:function(){return R},Extension:function(){return k},Ticker:function(){return N},VideoProcessor:function(){return T},logger:function(){return E},reporter:function(){return C}});var e=n(4341);function t(t,n,r){return n in t?e(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}n(1703),n(6992),n(3948);var a=n(3476),s=n.n(a);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0,n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+c(e-n.length,"")}n(4916);var u=Date.now(),d={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function A(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}var m=function(e){for(var t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&d[t]===e)return t;return"DEFAULT"},E=new(function(){function e(){v(this,e),t(this,"logLevel",d.DEBUG),t(this,"hookLog",void 0)}return g(e,[{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[d.DEBUG].concat(t);this.log.apply(this,r)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[d.INFO].concat(t);this.log.apply(this,r)}},{key:"warning",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[d.WARNING].concat(t);this.log.apply(this,r)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[d.ERROR].concat(t);this.log.apply(this,r)}},{key:"log",value:function(){for(var e,t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(Date.now()-u<100)setTimeout((function(){t.log.apply(t,r)}),Date.now()-u);else{var o=Math.max(0,Math.min(4,r[0]));if(r[0]=A()+" Agora-Extension [".concat(m(o),"]:"),!(o<this.logLevel)){var a=A()+" %cAgora-Extension [".concat(m(o),"]:"),s=[];switch(o){case d.DEBUG:s=[a,"color: #64B5F6;"].concat(r.slice(1)),console.log.apply(console,s);break;case d.INFO:s=[a,"color: #1E88E5; font-weight: bold;"].concat(r.slice(1)),console.log.apply(console,s);break;case d.WARNING:s=[a,"color: #FB8C00; font-weight: bold;"].concat(r.slice(1)),console.warn.apply(console,s);break;case d.ERROR:s=[a,"color: #B00020; font-weight: bold;"].concat(r.slice(1)),console.error.apply(console,s)}null===(e=this.hookLog)||void 0===e||e.call(this,o,s)}}}}]),e}());function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=new(function(){function e(){v(this,e),t(this,"apiInvokeMsgQueue",[]),t(this,"hookApiInvoke",void 0)}return g(e,[{key:"reportApiInvoke",value:function(e){var t=this;e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;var n,r=Date.now(),i=function(){return{name:e.name,apiInvokeTime:r,options:e.options}},o=!1;(n=e.timeout,new(s())((function(e){window.setTimeout(e,n)}))).then((function(){o||(t.sendApiInvoke(b(b({},i()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),E.debug("".concat(e.name," timeout")))}));var a=new Error("".concat(e.name,": this api invoke is end"));return{onSuccess:function(n){if(o)throw a;o=!0,t.sendApiInvoke(b(b({},i()),{},{success:!0},e.reportResult&&{result:n}))},onError:function(e){if(o)throw e;o=!0,t.sendApiInvoke(b(b({},i()),{},{success:!1,error:e.toString()}))}}}},{key:"sendApiInvoke",value:function(e){this.hookApiInvoke?(this.hookApiInvoke([].concat(h(this.apiInvokeMsgQueue),[e])),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(e)}}]),e}());function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w,S=function(e){f(r,e);var n=p(r);function r(){var e;return v(this,r),e=n.call(this),t(l(e),"inputTrack",void 0),t(l(e),"outputTrack",void 0),t(l(e),"_enabled",!0),t(l(e),"_source",void 0),t(l(e),"ID",c(6,"")),t(l(e),"destination",void 0),t(l(e),"context",void 0),t(l(e),"name",void 0),e}return g(r,[{key:"enabled",get:function(){return this._enabled}},{key:"output",value:function(e,t){if(this.outputTrack!==e){var n=C.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==e?void 0:e.toString()}});this.outputTrack=e,this.destination&&this.destination.updateInput({track:e,context:t}),n.onSuccess()}}},{key:"enable",value:function(){if(!this._enabled){var e=C.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!0});E.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var t,n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof s())return n.then((function(){e.onSuccess()})).catch((function(t){throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}}},{key:"disable",value:function(){if(this._enabled){var e=C.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!1});E.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var t,n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof s())return n.then((function(){e.onSuccess()})).catch((function(t){throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}}}]),r}(function(){function e(){v(this,e),t(this,"_events",{}),t(this,"addListener",this.on)}return g(e,[{key:"getListeners",value:function(e){return this._events[e]?this._events[e].map((function(e){return e.listener})):[]}},{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}},{key:"once",value:function(e,t){this._events[e]||(this._events[e]=[]);var n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}},{key:"off",value:function(e,t){if(this._events[e]){var n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}}},{key:"removeAllListeners",value:function(e){e?delete this._events[e]:this._events={}}},{key:"emit",value:function(e){this._events[e]||(this._events[e]=[]);for(var t=this._events[e].map((function(e){return e})),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o+=1){var a=t[o];a.once&&this.off(e,a.listener),a.listener.apply(this,r||[])}}},{key:"_indexOfListener",value:function(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}},{key:"emitAsPromise",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return 0===this.getListeners(e).length?s().reject(new Error("No promise event handler.")):new(s())((function(n,i){t.emit.apply(t,[e].concat(r,[n,i]))}))}},{key:"emitAsPromiseNoResponse",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return 0===this.getListeners(e).length?s().resolve():new(s())((function(n,i){t.emit.apply(t,[e].concat(r,[n,i]))}))}}]),e}()),T=function(e){f(n,e);var t=p(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"kind",get:function(){return"video"}},{key:"pipe",value:function(e){var t=C.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){var n=new Error("Processor ".concat(e.name," already piped, please call unpipe beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),t.onSuccess(),e}},{key:"unpipe",value:function(){if(this.destination){var e=C.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});E.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{var t=this.destination;this.destination._source=void 0,this.destination=void 0,t.reset()}finally{e.onSuccess()}}}},{key:"updateInput",value:function(e){var t,n;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context))}},{key:"reset",value:function(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}]),n}(S),R=function(e){f(r,e);var n=p(r);function r(){var e;return v(this,r),e=n.apply(this,arguments),t(l(e),"inputNode",void 0),t(l(e),"outputNode",void 0),t(l(e),"destination",void 0),t(l(e),"context",void 0),e}return g(r,[{key:"kind",get:function(){return"audio"}},{key:"pipe",value:function(e){var t=C.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){var n=new Error("Processor ".concat(e.name," already piped, please call unpipe beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),t.onSuccess(),e}},{key:"unpipe",value:function(){if(this.destination){E.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));var e=C.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var t,n=this.destination;null===(t=this.outputNode)||void 0===t||t.disconnect(),this.destination._source=void 0,this.destination=void 0,n.reset()}finally{e.onSuccess()}}}},{key:"output",value:function(e,t){if(e instanceof MediaStreamTrack)i(o(r.prototype),"output",this).call(this,e,t);else if(e instanceof AudioNode){if(this.outputNode===e)return;var n=C.reportApiInvoke({name:"".concat(this.name,".output"),options:I(I({},e instanceof MediaStreamTrack&&{track:e.toString()}),e instanceof AudioNode&&{audioNode:e.toString()})});this.outputNode=e,this.destination&&this.destination.updateInput({node:e,context:t}),n.onSuccess()}}},{key:"updateInput",value:function(e){var t,n,r;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,null===(r=this.onNode)||void 0===r||r.call(this,e.node,this.context))}},{key:"reset",value:function(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}]),r}(S),k=function(){function e(){v(this,e),t(this,"__registered__",!1),t(this,"logger",E),t(this,"reporter",C),t(this,"parameters",{})}return g(e,[{key:"createProcessor",value:function(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}]),e}(),O=function(e){f(n,e);var t=p(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n)}(k),N=function(){function e(n,r){if(v(this,e),t(this,"type",void 0),t(this,"interval",void 0),t(this,"fn",void 0),t(this,"_running",!1),t(this,"_osc",void 0),!n)throw new Error;if(r<=0)throw new Error;this.type=n,this.interval=r}return g(e,[{key:"running",get:function(){return this._running}},{key:"add",value:function(e){this.fn=e}},{key:"remove",value:function(){this.fn=void 0}},{key:"start",value:function(){var e=this;if(!this._running)switch(this._running=!0,this.type){case"Timer":!function t(){setTimeout((function(){e.fn&&e.fn(),e._running&&t()}),e.interval)}();break;case"RAF":var t=function t(n){requestAnimationFrame((function(r){r-n<e.interval?e._running&&t(n):(e.fn&&e.fn(),e._running&&t(r))}))};t(performance.now());break;case"Oscillator":w||(w=new AudioContext);var n,r=w.createGain();r.gain.value=0,r.connect(w.destination),function t(){e.fn&&e.fn(),n&&n.disconnect(),n=w.createOscillator(),e._osc=n,n.connect(r),e._running&&(n.onended=t,n.start(0),n.stop(w.currentTime+e.interval/1e3))}()}}},{key:"stop",value:function(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}]),e}()}(),r}()}(LJ),!document.documentMode&&window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(TJ=HTMLCanvasElement.prototype.getContext,function(){var e=arguments;return"webgl"===e[0]&&((e=[].slice.call(arguments))[0]="experimental-webgl"),TJ.apply(null,e)}));var BJ=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function UJ(e){for(var t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,i=r.length,o=new Uint8Array(i),a=new Uint8Array(256),s=0;s<256;s++)a[s]=s;for(var c=0,u=0;u<256;u++){var l;l=[a[c=(c+a[u]+t[u%n])%256],a[u]],a[u]=l[0],a[c]=l[1]}var d,f=0;c=0;for(var p=0;p<0+i;p++){var h;h=[a[c=(c+a[f=(f+1)%256])%256],a[f]],a[f]=h[0],a[c]=h[1],d=a[(a[f]+a[c])%256],p>=0&&(o[p-0]=r[p-0]^d)}var v=String.fromCharCode.apply(null,Array.from(o));return Function("var winSize = 5; return `"+v+"`")()}var jJ,FJ,QJ=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67],VJ=function(){function e(t,n){v(this,e),tO(this,"program",void 0),tO(this,"gl",void 0),tO(this,"kernel",void 0),this.gl=t,this.kernel=n||QJ,this.program=function(e,t){var n=UJ(t),r=MJ(e,[UJ(BJ),n]),i=e.getAttribLocation(r,"a_position"),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(i);var a=2,s=e.FLOAT,c=!1,u=0,l=0;e.vertexAttribPointer(i,a,s,c,u,l);var d=e.getAttribLocation(r,"a_texCoord"),f=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,f),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(d);var p=2,h=e.FLOAT,v=!1,g=0,A=0;return e.vertexAttribPointer(d,p,h,v,g,A),r}(this.gl,this.kernel)}return g(e,[{key:"setUniforms",value:function(){var e=this.gl.getUniformLocation(this.program,"u_flipY");this.gl.uniform1f(e,1)}}]),e}(),GJ=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this,e,r),tO(l(a),"xOffset",void 0),tO(l(a),"yOffset",void 0),tO(l(a),"denoiseLevel",5),a.xOffset=1/i,a.yOffset=1/o,a}return g(n,[{key:"setUniforms",value:function(){var e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_singleStepOffset"),n=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform2f(t,this.xOffset,this.yOffset),this.gl.uniform1f(n,this.denoiseLevel),this.gl.uniform1f(e,1)}},{key:"setParameters",value:function(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel)}},{key:"setSize",value:function(e,t){this.xOffset=1/e,this.yOffset=1/t}}]),n}(VJ),HJ=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11],qJ=function(e){f(n,e);var t=p(n);function n(e,r,i){return v(this,n),t.call(this,e,HJ,r,i)}return g(n)}(GJ),KJ=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188],WJ=function(e){f(n,e);var t=p(n);function n(e,r,i){return v(this,n),t.call(this,e,KJ,r,i)}return g(n)}(GJ),YJ=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24],zJ=function(e){f(n,e);var t=p(n);function n(e,r,i){return v(this,n),t.call(this,e,YJ,r,i)}return g(n)}(GJ),JJ=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144],XJ=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],ZJ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],$J=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255],eX=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this,e,JJ,i,o),tO(l(a),"inputTexture",void 0),tO(l(a),"lightLevel",.1),tO(l(a),"rednessLevel",.5),tO(l(a),"mskin_he_max",175/180*3.141593),tO(l(a),"mskin_he_min",115/180*3.141593),tO(l(a),"mskin_hc_max",173/180*3.141593),tO(l(a),"mskin_hc_min",116/180*3.141593),tO(l(a),"mskin_hc_axis",2.04203545),tO(l(a),"mfacts_rotate_c",0),tO(l(a),"mfacts_rotate_le",0),tO(l(a),"mfacts_rotate_ge",0),tO(l(a),"tab_addr",null),tO(l(a),"lutTextures",[]),a.inputTexture=r,a.init(),a}return g(n,[{key:"setUniforms",value:function(){var e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform1f(t,this.denoiseLevel),this.gl.uniform1f(e,1);var n=this.gl.getUniformLocation(this.program,"light");this.gl.uniform1f(n,this.lightLevel);var r=this.gl.getUniformLocation(this.program,"redness");this.gl.uniform1f(r,this.rednessLevel);var i=this.gl.getUniformLocation(this.program,"skin_he_max"),o=this.gl.getUniformLocation(this.program,"skin_he_min"),a=this.gl.getUniformLocation(this.program,"skin_hc_max"),s=this.gl.getUniformLocation(this.program,"skin_hc_min"),c=this.gl.getUniformLocation(this.program,"skin_hc_axis"),u=this.gl.getUniformLocation(this.program,"facts_rotate_c"),l=this.gl.getUniformLocation(this.program,"facts_rotate_le"),d=this.gl.getUniformLocation(this.program,"facts_rotate_ge");this.gl.uniform1f(i,this.mskin_he_max),this.gl.uniform1f(o,this.mskin_he_min),this.gl.uniform1f(a,this.mskin_hc_max),this.gl.uniform1f(s,this.mskin_hc_min),this.gl.uniform1f(c,this.mskin_hc_axis),this.gl.uniform1f(u,this.mfacts_rotate_c),this.gl.uniform1f(l,this.mfacts_rotate_le),this.gl.uniform1f(d,this.mfacts_rotate_ge);var f=this.gl.getUniformLocation(this.program,"u_originImage");this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.uniform1i(f,2);for(var p=["lighten_lut"],h=[this.gl.TEXTURE3],v=0;v<p.length;v++){var g=this.gl.getUniformLocation(this.program,p[v]);this.gl.activeTexture(h[v]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[v]),this.gl.uniform1i(g,v+3)}}},{key:"setParameters",value:function(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel),void 0!==e.lightLevel&&(this.lightLevel=e.lightLevel),void 0!==e.rednessLevel&&(this.rednessLevel=e.rednessLevel,this.updateRedness(this.rednessLevel)),e.lighteningContrastLevel&&this.updateLut(e.lighteningContrastLevel)}},{key:"init",value:function(){this.tab_addr=new Uint8Array(ZJ);for(var e=[this.tab_addr],t=[256],n=[1],r=0;r<e.length;r++){var i=this.gl.createTexture();if(!i)throw new ix($N.WEBGL_INTERNAL_ERROR,"create lut texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t[r],n[r],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e[r]),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.lutTextures.push(i)}}},{key:"updateRedness",value:function(e){var t,n,r=3.141593,i=e,o=i;i>1&&(i=1),i<0&&(i=0),o>1&&(o=1),o<0&&(o=0),this.mfacts_rotate_c=.8*i,o<.8&&(o=0),this.mskin_he_max=175/180*r,this.mskin_hc_max=173/180*r,this.mskin_he_min=(115-4*o)/180*r,this.mskin_hc_min=(116-4*o)/180*r,this.mskin_hc_axis=(117-4*o)/180*r,this.mskin_hc_axis<this.mskin_hc_min&&(this.mskin_hc_axis=this.mskin_hc_min),this.mskin_hc_min<r/2&&(this.mskin_hc_min=r/2),this.mskin_hc_axis<r/2&&(this.mskin_hc_axis=r/2),this.mskin_he_min<r/2&&(this.mskin_he_min=r/2),this.mskin_hc_max>r&&(this.mskin_hc_max=r),this.mskin_hc_axis>r&&(this.mskin_hc_axis=r),this.mskin_he_max>r&&(this.mskin_he_max=r),t=this.mskin_he_max-this.mskin_hc_max,n=this.mskin_hc_max-this.mskin_hc_axis,this.mfacts_rotate_ge=t>.01?this.mfacts_rotate_c*n/t:this.mfacts_rotate_c,t=this.mskin_hc_min-this.mskin_he_min,n=this.mskin_hc_axis-this.mskin_hc_min,this.mfacts_rotate_le=t>.01?this.mfacts_rotate_c*n/t:this.mfacts_rotate_c}},{key:"updateLut",value:function(e){var t=null;if(0===e&&(t=ZJ),1===e&&(t=$J),2===e&&(t=XJ),!t)throw new ix($N.WEBGL_INTERNAL_ERROR,"invalid ylut_table value:"+e);this.tab_addr=new Uint8Array(t);for(var n=[this.tab_addr],r=[256],i=[1],o=0;o<n.length;o++)this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[o]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,r[o],i[o],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,n[o])}}]),n}(GJ),tX=function(){function e(){v(this,e),tO(this,"gl",null),tO(this,"canvas",null),tO(this,"programs",[]),tO(this,"commonProgram",null),tO(this,"inputTexture",null),tO(this,"outputTextures",[]),tO(this,"fbos",[]),tO(this,"originalFrameWidth",0),tO(this,"originalFrameHeight",0),tO(this,"enableBeauty",!1),tO(this,"denoiseLevel",5),tO(this,"lightLevel",.35),tO(this,"rednessLevel",.5),tO(this,"lighteningContrastLevel",1)}return g(e,[{key:"setEnableBeauty",value:function(e){this.enableBeauty=!!e}},{key:"init",value:function(e,t,n){if(!qP().supportWebGL)throw new ix($N.NOT_SUPPORTED,"your browser is not support webGL");if(this.gl=n.getContext("webgl"),!this.gl)throw new ix($N.WEBGL_INTERNAL_ERROR,"can not get webgl context");if(this.initGL(e,t),!this.inputTexture)throw new ix($N.WEBGL_INTERNAL_ERROR,"can not find input texture");this.canvas=n,this.programs.push(new VJ(this.gl)),this.programs.push(new qJ(this.gl,e,t)),this.programs.push(new WJ(this.gl,e,t)),this.programs.push(new zJ(this.gl,e,t)),this.programs.push(new eX(this.gl,this.inputTexture,e,t)),this.commonProgram=this.programs[0].program,this.setDenoiseLevel(this.denoiseLevel),this.setLightLevel(this.lightLevel),this.setRednessLevel(this.rednessLevel),this.setContrastLevel(this.lighteningContrastLevel)}},{key:"render",value:function(e){if(this.gl&&this.commonProgram&&this.canvas){var t=0;if(this.originalFrameHeight===e.videoWidth&&this.originalFrameWidth===e.videoHeight)t=2;else if(this.originalFrameHeight!==e.videoHeight||this.originalFrameWidth!==e.videoWidth){if(px.debug("beauty effect: resolution changed ".concat(this.originalFrameWidth,"x").concat(this.originalFrameHeight," -> ").concat(e.videoWidth,"x").concat(e.videoHeight)),0===e.videoHeight||0===e.videoWidth)return void px.debug("beauty effect: skip 0 resolution frame");this.canvas.width=e.videoWidth,this.canvas.height=e.videoHeight,e.setAttribute("width",e.videoWidth.toString()),e.setAttribute("height",e.videoHeight.toString()),this.release(),this.init(e.videoWidth,e.videoHeight,this.canvas)}this.gl.viewport(0,0,e.videoWidth,e.videoHeight),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e);for(var n=this.enableBeauty?this.programs.length-1:0,r=0;r<=n;r++){var i=this.programs[r].program;this.gl.useProgram(i);var o=this.gl.getUniformLocation(i,"u_image");this.programs[r].setUniforms(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[t+r%2]),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.outputTextures[t+r%2]),this.gl.uniform1i(o,0)}this.gl.useProgram(this.commonProgram);var a=this.gl.getUniformLocation(this.commonProgram,"u_flipY");this.gl.uniform1f(a,-1),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}else px.warning("video effect manager is not init!")}},{key:"setDenoiseLevel",value:function(e){this.programs.forEach((function(t){t instanceof GJ&&t.setParameters({denoiseLevel:e})})),this.denoiseLevel=e}},{key:"setLightLevel",value:function(e){this.programs.forEach((function(t){t instanceof GJ&&t.setParameters({lightLevel:e})})),this.lightLevel=e}},{key:"setRednessLevel",value:function(e){this.programs.forEach((function(t){t instanceof GJ&&t.setParameters({rednessLevel:e})})),this.rednessLevel=e}},{key:"setContrastLevel",value:function(e){this.programs.forEach((function(t){t instanceof GJ&&t.setParameters({lighteningContrastLevel:e})})),this.lighteningContrastLevel=e}},{key:"setSize",value:function(e,t){this.programs.forEach((function(n){n instanceof GJ&&n.setSize(e,t)}))}},{key:"release",value:function(){this.gl=null,this.commonProgram=null,this.inputTexture=null,this.programs=[],this.outputTextures=[],this.fbos=[]}},{key:"initGL",value:function(e,t){if(!this.gl)throw new ix($N.WEBGL_INTERNAL_ERROR,"can not find webgl context");this.inputTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);for(var n=0;n<4;n++){var r=this.gl.createTexture();if(!r)throw new ix($N.WEBGL_INTERNAL_ERROR,"create texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),n<2?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null):this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null);var i=this.gl.createFramebuffer();if(!i)throw new ix($N.WEBGL_INTERNAL_ERROR,"create frame buffer failed");this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,r,0),this.outputTextures.push(r),this.fbos.push(i)}this.gl.viewport(0,0,e,t),this.originalFrameWidth=e,this.originalFrameHeight=t}}]),e}(),nX=function(){function e(){v(this,e),tO(this,"targetFrameRate",0),tO(this,"recordedFrameCount",0),tO(this,"recordingTime",2),tO(this,"recordID",void 0)}return g(e,[{key:"startRecordBeautyEffectOutput",value:function(){var e=u(c().mark((function e(t){var n,r,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:4,!this.recordID){e.next=3;break}throw new ix($N.UNEXPECTED_ERROR,"another beauty effect recording is in progress");case 3:return r=HH(6,""),this.recordID=r,this.targetFrameRate=t,this.recordedFrameCount=0,this.recordingTime=n,e.next=10,VH(1e3*this.recordingTime);case 10:return e.abrupt("return",this.recordID!==r?(this.recordID=void 0,!0):(this.recordID=void 0,this.recordedFrameCount<this.targetFrameRate*this.recordingTime/2?(px.warning("detect beauty effect overload, current framerate",this.recordedFrameCount/2),!1):(px.debug("beauty effect current framerate",this.recordedFrameCount/2),!0)));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopRecordBeautyEffectOutput",value:function(){this.targetFrameRate=0,this.recordedFrameCount=0,this.recordID=void 0}},{key:"addFrame",value:function(){this.recordID&&(this.recordedFrameCount+=1)}}]),e}(),rX=function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"name","BeautyProcessor"),tO(l(e),"fps",15),tO(l(e),"canvas",void 0),tO(l(e),"video",void 0),tO(l(e),"manager",void 0),tO(l(e),"overloadDetector",new nX),tO(l(e),"stopChromeBackgroundLoop",null),tO(l(e),"onOverload",void 0),tO(l(e),"stopLoop",void 0),tO(l(e),"lastRenderTime",0),e.fps=30,e.manager=new tX,e._enabled=!1,e}return g(n,[{key:"onEnableChange",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.manager.setEnableBeauty(t),e.t0=this.context&&this.inputTrack,!e.t0){e.next=10;break}if(!t){e.next=8;break}return e.next=6,this.startEffect(this.inputTrack,this.context);case 6:e.next=10;break;case 8:return e.next=10,this.stopEffect(this.inputTrack,this.context);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setBeautyEffectOptions",value:function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(e){void 0!==e.smoothnessLevel&&oL(e.smoothnessLevel,"options.smoothnessLevel",0,1,!1),void 0!==e.lighteningLevel&&oL(e.lighteningLevel,"options.lighteningLevel",0,1,!1),void 0!==e.rednessLevel&&oL(e.rednessLevel,"options.rednessLevel",0,1,!1),void 0!==e.lighteningContrastLevel&&iL(e.lighteningContrastLevel,"options.lighteningContrastLevel",[0,1,2])})(t),void 0!==t.smoothnessLevel&&(n=Math.max(.1,10*t.smoothnessLevel),this.manager.setDenoiseLevel(n)),void 0!==t.lighteningLevel&&(r=Math.max(.1,t.lighteningLevel/2),this.manager.setLightLevel(r)),void 0!==t.rednessLevel&&(i=Math.max(.01,t.rednessLevel),this.manager.setRednessLevel(i)),void 0!==t.lighteningContrastLevel&&(o=t.lighteningContrastLevel,this.manager.setContrastLevel(o));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onTrack",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.video&&this.enabled,!e.t0){e.next=5;break}return null===(r=this.stopLoop)||void 0===r||r.call(this),e.next=5,this.stopEffect(t,n);case 5:return e.next=7,this.startEffect(t,n);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"startEffect",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:return r=Sk(),e.next=5,this.renderWithWebGL(t);case 5:i=e.sent,this.output(i,n),px.info("start video effect, output:",this.outputTrack),this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then((function(e){e||s.onOverload&&s.onOverload()})),o=!1,this.stopLoop=function(){o=!0},a=function e(){s.enabled&&!o&&requestAnimationFrame(e);var t=Date.now(),n=1e3/s.fps,r=s.lastRenderTime?t-s.lastRenderTime:n;r<n||(s.lastRenderTime=t-(r-n),s.video&&s.video.paused&&s.video.play(),s.enabled&&s.video&&(s.manager.render(s.video),s.outputTrack&&s.outputTrack.requestFrame&&s.outputTrack.requestFrame(),s.overloadDetector.addFrame()))},requestAnimationFrame(a),r.name===bk.CHROME&&document.addEventListener("visibilitychange",(function(){document.hidden?s.stopChromeBackgroundLoop=XV((function(){s.enabled&&s.video&&s.manager.render(s.video),s.outputTrack&&s.outputTrack.requestFrame&&s.outputTrack.requestFrame(),s.overloadDetector.addFrame()}),s.fps):s.stopChromeBackgroundLoop&&(s.stopChromeBackgroundLoop(),s.stopChromeBackgroundLoop=null)}),!1);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"renderWithWebGL",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas&&(this.canvas.remove(),this.canvas=void 0),this.video&&(this.video.remove(),this.video=void 0),this.canvas=document.createElement("canvas"),this.video=document.createElement("video"),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.muted=!0,this.video.setAttribute("playsinline",""),this.video.setAttribute("style","display:none"),this.video.srcObject=new MediaStream([t]),n=new wI((function(e){var t=function t(){s.video&&s.video.removeEventListener("playing",t),e(void 0)};s.video&&s.video.addEventListener("playing",t)})),this.video.play(),e.next=5,n;case 5:if(r=t.getSettings(),i=r.width||this.video.videoWidth,o=r.height||this.video.videoHeight,r.frameRate&&this.fps!==r.frameRate&&(this.fps=r.frameRate,px.debug("beauty video processor: set fps to",this.fps)),px.debug("beauty video processor: width ".concat(i," height ").concat(o)),i&&o){e.next=8;break}throw new ix($N.BEAUTY_PROCESSOR_INTERNAL_ERROR,"can not get track resolution");case 8:return this.canvas.width=i,this.canvas.height=o,this.video.setAttribute("width",i.toString()),this.video.setAttribute("height",o.toString()),this.manager.init(i,o,this.canvas),a=qP(),e.abrupt("return",this.canvas.captureStream(a.supportRequestFrame?0:this.fps).getVideoTracks()[0]);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopEffect",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:px.info("stop video effect"),this.overloadDetector.stopRecordBeautyEffectOutput(),this.manager.release(),this.canvas&&this.canvas.remove(),this.video&&this.video.remove(),this.canvas=void 0,this.video=void 0,this.output(t,n);case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(LJ.exports.VideoProcessor);function iX(e){var t={};if(e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId}),!e.encoderConfig)return t;var n=Kx(e.encoderConfig);return t.width=n.width,t.height=n.height,!qk()&&n.frameRate&&(t.frameRate=n.frameRate),Sk().name===bk.EDGE&&"object"==typeof t.frameRate&&(t.frameRate.max=60),Mk()&&(t.frameRate={ideal:30,max:30}),t}function oX(e){var t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Lk()&&(t.extensionId=e.extensionId),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);var n=e.encoderConfig?Wx(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:n?n.width:void 0,maxHeight:n?n.height:void 0},n&&n.frameRate&&("number"==typeof n.frameRate?(t.mandatory.maxFrameRate=n.frameRate,t.mandatory.minFrameRate=n.frameRate):(t.mandatory.maxFrameRate=n.frameRate.max||n.frameRate.ideal||n.frameRate.exact||void 0,t.mandatory.minFrameRate=n.frameRate.min||n.frameRate.ideal||n.frameRate.exact||void 0),t.frameRate=n.frameRate),n&&n.width&&(t.width=n.width),n&&n.height&&(t.height=n.height),t}function aX(e){var t={};if(qk()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Lk()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){var n=Jx(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),Wk()&&(t.sampleRate=void 0),t}!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(jJ||(jJ={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(FJ||(FJ={}));var sX,cX,uX,lX,dX,fX,pX,hX,vX,gX,AX,mX,EX,yX,bX,CX,_X,IX,wX,SX,TX,RX,kX,OX,NX,xX,DX=new(function(){function e(){var t=this;v(this,e),tO(this,"_clientSize",null),tO(this,"getClientWidth",(function(){return document.documentElement?document.documentElement.clientWidth:document.body.clientWidth})),tO(this,"getClientHeight",(function(){return document.documentElement?document.documentElement.clientHeight:document.body.clientHeight})),tO(this,"getStyle",(function(e){return window.getComputedStyle(e,null)})),tO(this,"checkCssVisibleProperty",(function(e){var n=!0,r=t.getStyle(e),i=r.display,o=r.visibility,a=r.opacity,c=r.filter;return("none"===i||["hidden","collapse"].includes(o)||Number(a)<.1)&&(n=!1),!!n&&(c&&c.split(" ").filter((function(e){var t=e.split("(")[0];return["brightness","blur","opacity"].includes(t)})).map((function(e){var t=e.split(/\(|\)/),n=s(t,2),r=n[0],i=n[1];return[r,Number(i.match(/^[0-9\.]+/))]})).forEach((function(e){var t=s(e,2),r=t[0],i=t[1];switch(r){case"brightness":(i<.1||i>3)&&(n=!1);break;case"blur":i>3&&(n=!1);break;case"opacity":i<.1&&(n=!1)}})),n)})),tO(this,"checkPropertyUpToAllParentNodes",(function(e,t){for(var n=!0,r=!0,i=function(e){return t(e)},o=e;o&&r;)i(o)||(n=!1,r=!1),(o=o.parentElement)||(r=!1);return n})),tO(this,"checkActualCssVisibleIncludeInherit",(function(e){return t.checkPropertyUpToAllParentNodes(e,t.checkCssVisibleProperty)})),tO(this,"getSizeAboutClient",(function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height,o=n.left,a=n.right,s=n.top,c=n.bottom,u=t.getClientWidth(),l=t.getClientHeight();return{width:r,height:i,left:o,right:a,top:s,bottom:c,clientWidth:u,clientHeight:l,clientMin:Math.min(u,l)}})),tO(this,"checkActualSize",(function(){var e=t._clientSize,n=e.width,r=e.height,i=e.clientMin;return t.checkSizeIsVisible(n,r,i)})),tO(this,"elementFromPoint",(function(e,t){return document.elementFromPoint?document.elementFromPoint(e,t):null})),tO(this,"checkCoverForAPoint",(function(e,n,r){var i=t.elementFromPoint(e,n);return null!==i&&i!==r})),tO(this,"getPointPositionList",(function(){for(var e=t._clientSize,n=e.width,r=e.height,i=e.left,o=e.top,a=n/6,s=r/6,c=[],u=Math.pow(10,6),l=0;l<5;l++)for(var d=0;d<5;d++){var f=(i*u+(0===l?.1:4===l?(a*l*u-1e5)/u:a*l)*u)/u,p=(o*u+(0===d?.1:4===d?(s*d*u-1e5)/u:s*d)*u)/u;c.push({x:f,y:p})}return[].concat(c)})),tO(this,"checkElementCover",(function(e){return t.getPointPositionList().map((function(n){return t.checkCoverForAPoint(n.x,n.y,e)})).filter((function(e){return!!e})).length>6})),tO(this,"checkSizeIsVisible",(function(e,t,n){return(e>50||n/e<=10)&&(t>50||n/t<=10)})),tO(this,"checkSizeOfPartInClient",(function(){var e,n,r=t._clientSize,i=r.left,o=r.right,a=r.top,s=r.bottom,c=r.clientHeight,u=r.clientWidth,l=r.clientMin;if(i<0)e=0;else{if(!(i<u))return!1;e=i}if(o<0)return!1;if(a<0)n=0;else{if(!(a<c))return!1;n=a}if(s<0)return!1;var d=(o<u?o:u)-e,f=(s<c?s:c)-n;return t.checkSizeIsVisible(d,f,l)})),tO(this,"returnHiddenResult",(function(e){return t._clientSize=null,{visible:!1,reason:e}})),tO(this,"checkOneElementVisible",(function(e){if(e instanceof HTMLElement){if(t.checkElementIsMountedOnDom(e)){if(t.checkActualCssVisibleIncludeInherit(e)){if(t._clientSize=t.getSizeAboutClient(e),t.checkElementCover(e))return t.returnHiddenResult(jJ.COVERED);var n=t.checkActualSize(),r=t.checkSizeOfPartInClient();return n&&!r?t.returnHiddenResult(jJ.POSITION):n?(t._clientSize=null,{visible:!0}):t.returnHiddenResult(jJ.SIZE)}return t.returnHiddenResult(jJ.STYLE)}return t.returnHiddenResult(FJ.UNMOUNTED)}return t.returnHiddenResult(FJ.INVALID_HTML_ELEMENT)})),tO(this,"checkElementIsMountedOnDom",(function(e){return t.checkPropertyUpToAllParentNodes(e,(function(e){return"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement}))}))}return g(e)}());function LX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LX(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MX=(sX=Mx("LocalVideoTrack","getTrackId"),cX=IG(),uX=UV("LocalVideoTrack","_enabledMutex"),lX=OV({className:"LocalVideoTrack"}),dX=IG(),fX=UV("LocalVideoTrack","_enabledMutex"),pX=OV({className:"LocalVideoTrack"}),hX=IG(),vX=IG(),gX=IG(),AX=IG(),mX=IG(),EX=IG(),yX=IG(),bX=IG(),CX=IG(),sX((oV((IX=function(e){f(n,e);var t=p(n);function n(e,r,i,o,a,s){var c;return v(this,n),c=t.call(this,e,a),tO(l(c),"trackMediaType","video"),tO(l(c),"_player",void 0),tO(l(c),"_videoBeautyProcessor",void 0),tO(l(c),"_videoVisibleTimer",null),tO(l(c),"_previousVideoVisibleStatus",void 0),tO(l(c),"_clearPreviousVideoVisibleStatus",(function(){return c._previousVideoVisibleStatus=void 0})),tO(l(c),"_encoderConfig",void 0),tO(l(c),"_scalabiltyMode",{numSpatialLayers:1,numTemporalLayers:1}),tO(l(c),"_optimizationMode",void 0),tO(l(c),"_videoHeight",void 0),tO(l(c),"_videoWidth",void 0),tO(l(c),"_forceBitrateLimit",void 0),tO(l(c),"_enabled",!0),tO(l(c),"processorDestination",void 0),tO(l(c),"processorContext",void 0),c.updateMediaStreamTrackResolution(),c._encoderConfig=r,c._scalabiltyMode=i,c._optimizationMode=o,c._hints=s||[],-1===c._hints.indexOf(gP.SCREEN_TRACK)&&c.updateBitrateFromProfile(),c.processorContext=new lH(c.getTrackId()),c.processorDestination=new uH(c.processorContext),c.bindProcessorDestinationEvents(),c}return g(n,[{key:"isPlaying",get:function(){return!(!this._player||this._player.videoElementStatus!==XD.PLAYING)}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",n]});if("string"==typeof e){var i=document.getElementById(e);i?e=i:(px.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),kx("warning",this,'can not find "#'.concat(e,'" element, use document.body')),e=document.body)}px.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(n)),Dx("debug",this,"play",n);var o=PX(PX(PX({},this._getDefaultPlayerConfig()),n),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(o):(this._player=new xJ(o),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((function(){try{var e=t.getVideoElementVisibleStatus();t.emit(EP.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(n){}}),Zx("CHECK_VIDEO_VISIBLE_INTERVAL")),r.onSuccess()}},{key:"stop",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,px.debug("[".concat(this.getTrackId(),"] stop video playback")),Dx("debug",this,"stop"),e.onSuccess()}},{key:"setEnabled",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:if(px.info("[".concat(this.getTrackId(),"] start setEnabled"),t),Dx("info",this,"setEnabled",t),t){e.next=15;break}return this._originMediaStreamTrack.enabled=!1,e.prev=6,e.next=9,JH(this,vP.NEED_DISABLE_TRACK,this);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),px.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t0.toString()),Dx("error",this,"setEnabled",t,e.t0.toString()),e.t0;case 14:return e.abrupt("return",(n||(this._enabled=!1),px.info("[".concat(this.getTrackId(),"] setEnabled to false success")),void Dx("info",this,"setEnabled",t,"success")));case 15:return this._originMediaStreamTrack.enabled=!0,e.prev=16,e.next=19,JH(this,vP.NEED_ENABLE_TRACK,this);case 19:e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(16),px.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.t1.toString()),Dx("error",this,"setEnabled",t,e.t1.toString()),e.t1;case 24:px.info("[".concat(this.getTrackId(),"] setEnabled to true success")),Dx("info",this,"setEnabled",t,"success"),n||(this._enabled=!0);case 25:case"end":return e.stop()}}),e,this,[[6,11],[16,21]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setMuted",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t!==this._muted,!e.t0){e.next=14;break}if(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,px.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),Dx("debug",this,"setMuted",t),!t){e.next=12;break}return e.next=10,JH(this,vP.NEED_MUTE_TRACK,this);case 10:e.next=14;break;case 12:return e.next=14,JH(this,vP.NEED_UNMUTE_TRACK,this);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStats",value:function(){var e=this;return iq((function(){px.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead"),kx("warning",e,"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),XH(this,vP.GET_STATS)||PX({},XL)}},{key:"setBeautyEffect",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_VIDEO_TRACK_BEAUTY,options:[this.getTrackId(),t,n]}),!t&&!this._videoBeautyProcessor){e.next=30;break}if(Ok()!==yk.IOS&&Ok()!==yk.ANDROID){e.next=6;break}throw i=new ix($N.INVALID_OPERATION,"can not enable beauty effect on mobile device"),r.onError(i),i;case 6:if(this._enabled||!t){e.next=9;break}throw o=new ix($N.TRACK_IS_DISABLED,"can not enable beauty effect when track is disabled"),r.onError(o),o;case 9:if(px.info("[".concat(this.getTrackId(),"] start setBeautyEffect"),t,JSON.stringify(n)),Dx("info",this,"setBeautyEffect",[t,n]),!this._videoBeautyProcessor&&!t){e.next=29;break}return e.prev=10,this._videoBeautyProcessor||(this._videoBeautyProcessor=new rX,this.processor?(a=this.processor,this.pipe(this._videoBeautyProcessor).pipe(a)):this.pipe(this._videoBeautyProcessor).pipe(this.processorDestination)),e.next=14,this._videoBeautyProcessor.setBeautyEffectOptions(n);case 14:if(!t){e.next=19;break}return e.next=17,this._videoBeautyProcessor.enable();case 17:e.next=21;break;case 19:return e.next=21,this._videoBeautyProcessor.disable();case 21:e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(10),px.error("[".concat(this.getTrackId(),"] setBeautyEffect error"),e.t0.toString()),Dx("info",this,"setBeautyEffect",[t,n]),r.onError(e.t0),e.t0;case 26:px.info("[".concat(this.getTrackId(),"] setBeautyEffect success")),Dx("info",this,"setBeautyEffect",[t,n],"success"),r.onSuccess(),e.next=30;break;case 29:r.onSuccess();case 30:case"end":return e.stop()}}),e,this,[[10,23]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCurrentFrameData",value:function(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}},{key:"getCurrentFrameImage",value:function(){var e=u(c().mark((function e(t){var n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:1,!this._player){e.next=5;break}e.t0=this._player.getCurrentFrameToUint8Array(t,n),e.next=8;break;case 5:return e.next=7,OJ(t);case 7:e.t0=e.sent;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clone",value:function(e,t,r,i){return new n(this._mediaStreamTrack.clone(),e,t,r,i)}},{key:"setBitrateLimit",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(px.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(t))),Dx("debug",this,"setBitrateLimit",t),!t){e.next=10;break}return this._forceBitrateLimit=t,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<t.max_bitrate?this._encoderConfig.bitrateMax:t.max_bitrate:this._encoderConfig.bitrateMax=t.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=t.min_bitrate),e.prev=2,e.next=5,JH(this,vP.NEED_UPDATE_VIDEO_ENCODER,this);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",e.t0.throw());case 10:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setOptimizationMode",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("motion"===t||"detail"===t||"balanced"===t){e.next=2;break}return e.abrupt("return",(px.error($N.INVALID_PARAMS,"optimization mode must be motion, detail or balanced"),void Dx("error",this,"setOptimizationMode",t,$N.INVALID_PARAMS)));case 2:return n=this._optimizationMode,e.prev=3,this._optimizationMode=t,e.next=7,JH(this,vP.SET_OPTIMIZATION_MODE,this);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),this._optimizationMode=n,px.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.t0.toString()),Dx("error",this,"setOptimizationMode",t,e.t0.toString()),e.t0;case 12:px.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(t,")")),Dx("info",this,"setOptimizationMode",t,"success");case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setScalabiltyMode",value:function(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return px.error($N.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),Dx("error",this,"setScalabiltyMode",e,$N.INVALID_PARAMS),void(this._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabiltyMode=e,px.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")")),Dx("info",this,"setScalabiltyMode",e,"success")}},{key:"updateMediaStreamTrackResolution",value:function(){var e=this;WH(this._originMediaStreamTrack).then((function(t){var n=s(t,2),r=n[0],i=n[1];e._videoHeight=i,e._videoWidth=r})).catch(KH)}},{key:"_updatePlayerSource",value:function(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}},{key:"_getDefaultPlayerConfig",value:function(){return{fit:"contain"}}},{key:"updateBitrateFromProfile",value:function(){if(this._encoderConfig){var e=this.getMediaStreamTrackSettings(),t=e.width,n=e.height,r=e.frameRate;if(t&&n&&r){var i=function(e,t,n){var r,i=Zx("BITRATE_ADAPTER_TYPE"),o=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75),a=o;if("STANDARD_BITRATE"===i)r=4*o;else{if("COMPATIABLE_BITRATE"!==i)return;r=2*o}return[Math.floor(r),Math.floor(a)]}(t,n,r)||[void 0,void 0],o=s(i,2),a=o[0],c=o[1];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=c,this._encoderConfig.bitrateMax=a,px.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(t,", h: ").concat(n,", fps: ").concat(r,"] => [brMax: ").concat(a,", brMin: ").concat(c,"]")),Dx("debug",this,"updateBitrateFromProfile",void 0,"[w: ".concat(t,", h: ").concat(n,", fps: ").concat(r,"] => [brMax: ").concat(a,", brMin: ").concat(c,"]")))}}}},{key:"getVideoElementVisibleStatus",value:function(){try{var e,t,n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},i=r.element,o=r.slot;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){var a=DX.checkOneElementVisible(i),s=Object.assign({},a);if(s.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=s.visible;var c=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});s.visible?c.onSuccess("Video is visible"):c.onSuccess("Invisible because of ".concat(s.reason))}return s}return}catch(u){throw new ix($N.GET_VIDEO_ELEMENT_VISIBLE_ERROR,u.message)}}},{key:"renewMediaStreamTrack",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pipe",value:function(e){if(this._videoBeautyProcessor&&e!==this._videoBeautyProcessor)return this._videoBeautyProcessor.pipe(e);if(this.processor===e)return e;if(e._source)throw new ix($N.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}},{key:"unpipe",value:function(){if(this.processor){var e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}}},{key:"close",value:function(){i(o(n.prototype),"close",this).call(this),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}},{key:"bindProcessorDestinationEvents",value:function(){var e=this;this.processorDestination.on(UP.ON_TRACK,function(){var t=u(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=9;break}if(t.t0=n!==e._mediaStreamTrack,!t.t0){t.next=7;break}return e._mediaStreamTrack=n,e._updatePlayerSource(),t.next=7,JH(e,vP.NEED_REPLACE_TRACK,e);case 7:t.next=15;break;case 9:if(t.t1=e._mediaStreamTrack!==e._originMediaStreamTrack,!t.t1){t.next=15;break}return e._mediaStreamTrack=e._originMediaStreamTrack,e._updatePlayerSource(),t.next=15,JH(e,vP.NEED_REPLACE_TRACK,e);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(UP.ON_TRACK)}},{key:"unbindProcessorContextEvents",value:function(){this.processorContext.removeAllListeners(jP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(jP.REQUEST_CONSTRAINTS)}}]),n}(jV)).prototype,"play",[cX],Object.getOwnPropertyDescriptor(IX.prototype,"play"),IX.prototype),oV(IX.prototype,"setEnabled",[uX,lX,dX],Object.getOwnPropertyDescriptor(IX.prototype,"setEnabled"),IX.prototype),oV(IX.prototype,"setMuted",[fX,pX,hX],Object.getOwnPropertyDescriptor(IX.prototype,"setMuted"),IX.prototype),oV(IX.prototype,"getStats",[vX],Object.getOwnPropertyDescriptor(IX.prototype,"getStats"),IX.prototype),oV(IX.prototype,"setBeautyEffect",[gX],Object.getOwnPropertyDescriptor(IX.prototype,"setBeautyEffect"),IX.prototype),oV(IX.prototype,"getCurrentFrameData",[AX],Object.getOwnPropertyDescriptor(IX.prototype,"getCurrentFrameData"),IX.prototype),oV(IX.prototype,"getCurrentFrameImage",[mX],Object.getOwnPropertyDescriptor(IX.prototype,"getCurrentFrameImage"),IX.prototype),oV(IX.prototype,"setBitrateLimit",[EX],Object.getOwnPropertyDescriptor(IX.prototype,"setBitrateLimit"),IX.prototype),oV(IX.prototype,"setOptimizationMode",[yX],Object.getOwnPropertyDescriptor(IX.prototype,"setOptimizationMode"),IX.prototype),oV(IX.prototype,"setScalabiltyMode",[bX],Object.getOwnPropertyDescriptor(IX.prototype,"setScalabiltyMode"),IX.prototype),oV(IX.prototype,"updateMediaStreamTrackResolution",[CX],Object.getOwnPropertyDescriptor(IX.prototype,"updateMediaStreamTrackResolution"),IX.prototype),_X=IX))||_X),BX=(wX=Mx("CameraVideoTrack","getTrackId"),SX=IG(),TX=UV("CameraVideoTrack","_enabledMutex"),RX=OV({className:"CameraVideoTrack"}),kX=IG(),OX=IG(),wX((oV((xX=function(e){f(n,e);var t=p(n);function n(e,r,i,o,a,s){var d;return v(this,n),d=t.call(this,e,r.encoderConfig?Kx(r.encoderConfig):{},o,a,s),tO(l(d),"_config",void 0),tO(l(d),"_originalConstraints",void 0),tO(l(d),"_constraints",void 0),tO(l(d),"_enabled",!0),tO(l(d),"_deviceName","default"),tO(l(d),"tryResumeVideoForIOS15WeChat",u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=jk()&&!Vk()&&Hk()&&d._enabled&&!d._isClosed,!e.t0){e.next=5;break}return px.debug("[".concat(d.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),e.next=5,d.renewMediaStreamTrack();case 5:case"end":return e.stop()}}),e)})))),Px("info",l(d),"constructor",{trackId:s,deviceId:e.label,constraints:i,config:r}),d._config=r,d._originalConstraints=i,d._constraints=i,d._deviceName=e.label,d._config.encoderConfig&&(d._encoderConfig=Kx(d._config.encoderConfig)),KV.on(xV.IOS_15_INTERRUPTION_END,d.tryResumeVideoForIOS15WeChat),KV.on(xV.IOS_INTERRUPTION_END,d.tryResumeVideoForIOS15WeChat),d.bindProcessorContextEvents(),d}return g(n,[{key:"setDevice",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CAM_VIDEO_TRACK_SET_DEVICE,options:[this.getTrackId(),t]}),px.info("[".concat(this.getTrackId(),"] set device to ").concat(t)),Dx("info",this,"setDevice",t),!this._enabled){e.next=38;break}return e.prev=2,e.next=5,yG.getDeviceById(t);case 5:return r=e.sent,(i={}).video=PX({},this._constraints),i.video.deviceId={exact:t},i.video.facingMode=void 0,this._originMediaStreamTrack.stop(),o=null,e.prev=9,e.next=12,pG(i,this.getTrackId());case 12:o=e.sent,e.next=25;break;case 15:return e.prev=15,e.t0=e.catch(9),px.error("[".concat(this.getTrackId(),"] setDevice failed"),e.t0.toString()),Dx("error",this,"setDevice",t,e.t0.toString()),e.next=21,pG({video:this._constraints},this.getTrackId());case 21:return o=e.sent,e.next=24,this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1);case 24:throw e.t0;case 25:return e.next=27,this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1);case 27:this.updateMediaStreamTrackResolution(),this._deviceName=r.label,this._config.cameraId=t,this._constraints.deviceId={exact:t},e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(2),n.onError(e.t1),px.error("[".concat(this.getTrackId(),"] setDevice error"),e.t1.toString()),Dx("error",this,"setDevice",t,e.t1.toString()),e.t1;case 36:e.next=48;break;case 38:return e.prev=38,e.next=41,yG.getDeviceById(t);case 41:a=e.sent,this._deviceName=a.label,this._config.cameraId=t,this._constraints.deviceId={exact:t},e.next=48;break;case 45:throw e.prev=45,e.t2=e.catch(38),n.onError(e.t2),px.error("[".concat(this.getTrackId(),"] setDevice error"),e.t2.toString()),Dx("error",this,"setDevice",t,e.t2.toString()),e.t2;case 48:px.info("[".concat(this.getTrackId(),"] setDevice success")),Dx("info",this,"setDevice",t,"success"),n.onSuccess();case 49:case"end":return e.stop()}}),e,this,[[2,33],[9,15],[38,45]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnabled",value:function(){var e=u(c().mark((function e(t,n){var r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}if(t!==this._enabled){e.next=3;break}return e.abrupt("return");case 3:this.stateCheck("enabled",t);case 4:if(px.info("[".concat(this.getTrackId(),"] start setEnabled"),t),Dx("info",this,"setEnabled",t),t){e.next=15;break}return this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),n||(this._enabled=!1),e.prev=6,e.next=9,JH(this,vP.NEED_DISABLE_TRACK,this);case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),px.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.t0.toString()),Dx("error",this,"setEnabled",t,e.t0.toString()),e.t0;case 14:return e.abrupt("return",(px.info("[".concat(this.getTrackId(),"] setEnabled to false success")),void Dx("info",this,"setEnabled",t,"success")));case 15:return r=PX({},this._constraints),(i=yG.searchDeviceIdByName(this._deviceName))&&!r.deviceId&&(r.deviceId={exact:i}),e.prev=17,e.next=20,pG({video:this._constraints},this.getTrackId());case 20:return o=e.sent,e.next=23,this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1);case 23:return e.next=25,JH(this,vP.NEED_ENABLE_TRACK,this);case 25:e.next=30;break;case 27:throw e.prev=27,e.t1=e.catch(17),px.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.t1.toString()),Dx("error",this,"setEnabled",t,e.t1.toString()),e.t1;case 30:this.updateMediaStreamTrackResolution(),px.info("[".concat(this.getTrackId(),"] setEnabled to true success")),Dx("info",this,"setEnabled",t,"success"),n||(this._enabled=!0);case 31:case"end":return e.stop()}}),e,this,[[6,11],[17,27]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setEncoderConfiguration",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG,options:[this.getTrackId(),t]}),this._enabled){e.next=4;break}throw i=new ix($N.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled"),r.onError(i),i;case 4:return t=Kx(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),(o=nq(this._config)).encoderConfig=t,a=iX(o),(Pk()||Bk()||Gk())&&(a.deviceId=void 0),px.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(a)),Dx("debug",this,"setEncoderConfiguration",t),e.prev=9,e.next=12,this._originMediaStreamTrack.applyConstraints(a);case 12:this.updateMediaStreamTrackResolution(),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(9),s=new ix($N.UNEXPECTED_ERROR,e.t0.toString()),px.error("[".concat(this.getTrackId(),"] applyConstraints error"),s.toString()),Dx("error",this,"setEncoderConfiguration",e.t0.toString()),r.onError(s),s;case 19:return this._config=o,this._constraints=a,this._originalConstraints=a,this._encoderConfig=t,-1===this._hints.indexOf(gP.SCREEN_TRACK)&&this.updateBitrateFromProfile(),e.prev=20,e.next=23,JH(this,vP.NEED_UPDATE_VIDEO_ENCODER,this);case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(20),e.abrupt("return",(r.onError(e.t1),e.t1.throw()));case 28:r.onSuccess();case 29:case"end":return e.stop()}}),e,this,[[9,15],[20,25]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getDefaultPlayerConfig",value:function(){return{mirror:!0,fit:"cover"}}},{key:"onTrackEnded",value:function(){var e=this;if((Bk()||Gk())&&this._enabled&&!this._isClosed&&KV.duringInterruption){var t=function(){var n=u(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(KV.off(xV.IOS_INTERRUPTION_END,t),n.t0=e._enabled&&!e._isClosed,!n.t0){n.next=9;break}return px.debug("[".concat(e.getTrackId(),"] try capture camera media device for interrupted iOS device.")),kx("debug",e,"try capture camera media device for interrupted iOS device."),n.next=7,e.setEnabled(!1);case 7:return n.next=9,e.setEnabled(!0);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();KV.on(xV.IOS_INTERRUPTION_END,t)}else px.debug("[".concat(this.getTrackId(),"] track ended")),xx("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(EP.TRACK_ENDED)}},{key:"renewMediaStreamTrack",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||this._constraints,(r=yG.searchDeviceIdByName(this._deviceName))&&!n.deviceId&&(n.deviceId={exact:r}),e.next=4,pG({video:n},this.getTrackId());case 4:return i=e.sent,this._constraints=n,e.next=8,this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!0);case 8:this.updateMediaStreamTrackResolution();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){i(o(n.prototype),"close",this).call(this),KV.off(xV.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),KV.off(xV.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat)}},{key:"bindProcessorContextEvents",value:function(){var e=this;this.processorContext.on(jP.REQUEST_UPDATE_CONSTRAINTS,function(){var t=u(c().mark((function t(n,r,i){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=Object.assign.apply(Object,[{},e._originalConstraints].concat(h(n))),t.next=4,e.renewMediaStreamTrack(o);case 4:r(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()),this.processorContext.on(jP.REQUEST_CONSTRAINTS,function(){var t=u(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(e._originMediaStreamTrack.getSettings());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),n}(MX)).prototype,"setDevice",[SX],Object.getOwnPropertyDescriptor(xX.prototype,"setDevice"),xX.prototype),oV(xX.prototype,"setEnabled",[TX,RX,kX],Object.getOwnPropertyDescriptor(xX.prototype,"setEnabled"),xX.prototype),oV(xX.prototype,"setEncoderConfiguration",[OX],Object.getOwnPropertyDescriptor(xX.prototype,"setEncoderConfiguration"),xX.prototype),NX=xX))||NX),UX=function(){function e(t,n){v(this,e),tO(this,"uid",void 0),tO(this,"_uintid",void 0),tO(this,"_trust_in_room_",!0),tO(this,"_trust_audio_enabled_state_",!0),tO(this,"_trust_video_enabled_state_",!0),tO(this,"_trust_audio_mute_state_",!0),tO(this,"_trust_video_mute_state_",!0),tO(this,"_audio_muted_",!1),tO(this,"_video_muted_",!1),tO(this,"_audio_enabled_",!0),tO(this,"_video_enabled_",!0),tO(this,"_audio_added_",!1),tO(this,"_video_added_",!1),tO(this,"_trust_video_stream_added_state_",!0),tO(this,"_trust_audio_stream_added_state_",!0),tO(this,"_audioTrack",void 0),tO(this,"_videoTrack",void 0),tO(this,"_audioSSRC",void 0),tO(this,"_videoSSRC",void 0),tO(this,"_audioOrtc",void 0),tO(this,"_videoOrtc",void 0),tO(this,"_cname",void 0),tO(this,"_rtxSsrcId",void 0),this.uid=t,this._uintid=n}return g(e,[{key:"hasVideo",get:function(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}},{key:"hasAudio",get:function(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}},{key:"audioTrack",get:function(){if(this.hasAudio)return this._audioTrack}},{key:"videoTrack",get:function(){if(this.hasVideo)return this._videoTrack}}]),e}(),jX=II,FX=EC,QX=TC;gf({target:"Promise",stat:!0},{try:function(e){var t=FX.f(this),n=QX(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var VX=jX,GX=gf,HX=ou,qX=zc,KX=zF,WX=Fu,YX=xl,zX=_f,JX=dD,XX=rQ,ZX=UQ,$X=el,eZ=Xl("isConcatSpreadable"),tZ=9007199254740991,nZ="Maximum allowed index exceeded",rZ=HX.TypeError,iZ=$X>=51||!qX((function(){var e=[];return e[eZ]=!1,e.concat()[0]!==e})),oZ=ZX("concat"),aZ=function(e){if(!WX(e))return!1;var t=e[eZ];return void 0!==t?!!t:KX(e)};GX({target:"Array",proto:!0,forced:!iZ||!oZ},{concat:function(e){var t,n,r,i,o,a=YX(this),s=XX(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(aZ(o=-1===t?a:arguments[t])){if(c+(i=zX(o))>tZ)throw rZ(nZ);for(n=0;n<i;n++,c++)n in o&&JX(s,c,o[n])}else{if(c>=tZ)throw rZ(nZ);JX(s,c++,o)}return s.length=c,s}});var sZ={},cZ=Tu,uZ=Uu,lZ=Dg.f,dZ=AD,fZ="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];sZ.f=function(e){return fZ&&"Window"==cZ(e)?function(e){try{return lZ(e)}catch(e){return dZ(fZ)}}(e):lZ(uZ(e))};var pZ={},hZ=Xl;pZ.f=hZ;var vZ=Qu,gZ=Pl,AZ=pZ,mZ=Bd.f,EZ=function(e){var t=vZ.Symbol||(vZ.Symbol={});gZ(t,e)||mZ(t,e,{value:AZ.f(e)})},yZ=gf,bZ=ou,CZ=Ku,_Z=lu,IZ=gu,wZ=nu,SZ=pu,TZ=rl,RZ=zc,kZ=Pl,OZ=zF,NZ=du,xZ=Fu,DZ=ru,LZ=ll,PZ=Gd,MZ=xl,BZ=Uu,UZ=cd,jZ=Dm,FZ=_u,QZ=DA,VZ=pA,GZ=Dg,HZ=sZ,qZ=$g,KZ=fu,WZ=Bd,YZ=lA,zZ=Au,JZ=Eb,XZ=FE,ZZ=_l.exports,$Z=Gg,e$=Fl,t$=Xl,n$=pZ,r$=EZ,i$=iy,o$=xE,a$=dQ.forEach,s$=hg("hidden"),c$="Symbol",u$=t$("toPrimitive"),l$=o$.set,d$=o$.getterFor(c$),f$=Object.prototype,p$=bZ.Symbol,h$=p$&&p$.prototype,v$=bZ.TypeError,g$=bZ.QObject,A$=CZ("JSON","stringify"),m$=KZ.f,E$=WZ.f,y$=HZ.f,b$=zZ.f,C$=wZ([].push),_$=ZZ("symbols"),I$=ZZ("op-symbols"),w$=ZZ("string-to-symbol-registry"),S$=ZZ("symbol-to-string-registry"),T$=ZZ("wks"),R$=!g$||!g$.prototype||!g$.prototype.findChild,k$=SZ&&RZ((function(){return 7!=QZ(E$({},"a",{get:function(){return E$(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=m$(f$,t);r&&delete f$[t],E$(e,t,n),r&&e!==f$&&E$(f$,t,r)}:E$,O$=function(e,t){var n=_$[e]=QZ(h$);return l$(n,{type:c$,tag:e,description:t}),SZ||(n.description=t),n},N$=function e(t,n,r){t===f$&&e(I$,n,r),PZ(t);var i=UZ(n);return PZ(r),kZ(_$,i)?(r.enumerable?(kZ(t,s$)&&t[s$][i]&&(t[s$][i]=!1),r=QZ(r,{enumerable:FZ(0,!1)})):(kZ(t,s$)||E$(t,s$,FZ(1,{})),t[s$][i]=!0),k$(t,i,r)):E$(t,i,r)},x$=function(e,t){PZ(e);var n=BZ(t),r=VZ(n).concat(M$(n));return a$(r,(function(t){SZ&&!IZ(D$,n,t)||N$(e,t,n[t])})),e},D$=function(e){var t=UZ(e),n=IZ(b$,this,t);return!(this===f$&&kZ(_$,t)&&!kZ(I$,t))&&(!(n||!kZ(this,t)||!kZ(_$,t)||kZ(this,s$)&&this[s$][t])||n)},L$=function(e,t){var n=BZ(e),r=UZ(t);if(n!==f$||!kZ(_$,r)||kZ(I$,r)){var i=m$(n,r);return!i||!kZ(_$,r)||kZ(n,s$)&&n[s$][r]||(i.enumerable=!0),i}},P$=function(e){var t=y$(BZ(e)),n=[];return a$(t,(function(e){kZ(_$,e)||kZ($Z,e)||C$(n,e)})),n},M$=function(e){var t=e===f$,n=y$(t?I$:BZ(e)),r=[];return a$(n,(function(e){!kZ(_$,e)||t&&!kZ(f$,e)||C$(r,_$[e])})),r};if(TZ||(XZ(h$=(p$=function(){if(DZ(h$,this))throw v$("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?jZ(arguments[0]):void 0,t=e$(e),n=function e(n){this===f$&&IZ(e,I$,n),kZ(this,s$)&&kZ(this[s$],t)&&(this[s$][t]=!1),k$(this,t,FZ(1,n))};return SZ&&R$&&k$(f$,t,{configurable:!0,set:n}),O$(t,e)}).prototype,"toString",(function(){return d$(this).tag})),XZ(p$,"withoutSetter",(function(e){return O$(e$(e),e)})),zZ.f=D$,WZ.f=N$,YZ.f=x$,KZ.f=L$,GZ.f=HZ.f=P$,qZ.f=M$,n$.f=function(e){return O$(t$(e),e)},SZ&&E$(h$,"description",{configurable:!0,get:function(){return d$(this).description}})),yZ({global:!0,wrap:!0,forced:!TZ,sham:!TZ},{Symbol:p$}),a$(VZ(T$),(function(e){r$(e)})),yZ({target:c$,stat:!0,forced:!TZ},{for:function(e){var t=jZ(e);if(kZ(w$,t))return w$[t];var n=p$(t);return w$[t]=n,S$[n]=t,n},keyFor:function(e){if(!LZ(e))throw v$(e+" is not a symbol");if(kZ(S$,e))return S$[e]},useSetter:function(){R$=!0},useSimple:function(){R$=!1}}),yZ({target:"Object",stat:!0,forced:!TZ,sham:!SZ},{create:function(e,t){return void 0===t?QZ(e):x$(QZ(e),t)},defineProperty:N$,defineProperties:x$,getOwnPropertyDescriptor:L$}),yZ({target:"Object",stat:!0,forced:!TZ},{getOwnPropertyNames:P$,getOwnPropertySymbols:M$}),yZ({target:"Object",stat:!0,forced:RZ((function(){qZ.f(1)}))},{getOwnPropertySymbols:function(e){return qZ.f(MZ(e))}}),A$&&yZ({target:"JSON",stat:!0,forced:!TZ||RZ((function(){var e=p$();return"[null]"!=A$([e])||"{}"!=A$({a:e})||"{}"!=A$(Object(e))}))},{stringify:function(e,t,n){var r=JZ(arguments),i=t;if((xZ(t)||void 0!==e)&&!LZ(e))return OZ(t)||(t=function(e,t){if(NZ(i)&&(t=IZ(i,this,e,t)),!LZ(t))return t}),r[1]=t,_Z(A$,null,r)}}),!h$[u$]){var B$=h$.valueOf;XZ(h$,u$,(function(e){return IZ(B$,this)}))}i$(p$,c$),$Z[s$]=!0,EZ("asyncIterator"),EZ("hasInstance"),EZ("isConcatSpreadable"),EZ("iterator"),EZ("match"),EZ("matchAll"),EZ("replace"),EZ("search"),EZ("species"),EZ("split"),EZ("toPrimitive"),EZ("toStringTag"),EZ("unscopables"),iy(ou.JSON,"JSON",!0);var U$=Qu.Symbol;EZ("asyncDispose"),EZ("dispose"),EZ("matcher"),EZ("metadata"),EZ("observable"),EZ("patternMatch"),EZ("replaceAll");var j$=U$,F$=pZ.f("asyncIterator"),Q$=F$;function V$(e){this.wrapped=e}function G$(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof V$;VX.resolve(s?a.wrapped:a).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new VX((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function H$(e){return function(){return new G$(e.apply(this,arguments))}}function q$(e){return new V$(e)}G$.prototype["function"==typeof j$&&Q$||"@@asyncIterator"]=function(){return this},G$.prototype.next=function(e){return this._invoke("next",e)},G$.prototype.throw=function(e){return this._invoke("throw",e)},G$.prototype.return=function(e){return this._invoke("return",e)};var K$=pZ.f("iterator");function W$(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new VX((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n[void 0!==j$&&K$||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}var Y$=F$,z$=di,J$=S,X$=_,Z$=G,$$=nt,e1=oe,t1=fe,n1=Wf,r1=qt.f,i1=Yr,o1=X$.Symbol,a1=o1&&o1.prototype;if(J$&&e1(o1)&&(!("description"in a1)||void 0!==o1().description)){var s1={},c1=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:n1(arguments[0]),t=t1(a1,this)?new o1(e):void 0===e?o1():o1(e);return""===e&&(s1[t]=!0),t};i1(c1,o1),c1.prototype=a1,a1.constructor=c1;var u1="Symbol(test)"==String(o1("test")),l1=Z$(a1.toString),d1=Z$(a1.valueOf),f1=/^Symbol\((.*)\)[^)]+$/,p1=Z$("".replace),h1=Z$("".slice);r1(a1,"description",{configurable:!0,get:function(){var e=d1(this),t=l1(e);if($$(s1,e))return"";var n=u1?h1(t,7,-1):p1(t,f1,"$1");return""===n?void 0:n}}),z$({global:!0,forced:!0},{Symbol:c1})}var v1={exports:{}};function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g1(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m1(e,t,n,r,i,o,a){var s=[],c=[],u=[],l=[],d=!1,f=!1;if(v1.exports.parse(e).mediaDescriptions.forEach((function(e){a&&a!==e.attributes.direction||("video"!==e.media.mediaType||d||(c=e.attributes.payloads,l=e.attributes.extmaps,d=!0),"audio"!==e.media.mediaType||f||(s=e.attributes.payloads,u=e.attributes.extmaps,f=!0))})),!l||0===c.length)throw new Error("Cannot get video capabilities from SDP.");if(!u||0===s.length)throw new Error("Cannot get audio capabilities from SDP.");return c.forEach((function(e){var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),s.forEach((function(e){var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),t&&(s=s.filter((function(e){var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),c=c.filter((function(e){var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),n&&(c=c.filter((function(e){var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),r&&(s=s.filter((function(e){var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),i&&(null==i?void 0:i.length)>0&&(s=s.filter((function(e){var t;return i.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),o&&(null==o?void 0:o.length)>0&&(c=c.filter((function(e){var t;return o.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),{audioCodecs:s,videoCodecs:c,audioExtensions:u,videoExtensions:l}}function E1(e){var t,n,r,i=v1.exports.parse(e),o=a(i.mediaDescriptions);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!t){var c=s.attributes.iceUfrag,u=s.attributes.icePwd;if(!c||!u)throw new Error("Cannot get iceUfrag or icePwd from SDP.");t={iceUfrag:c,icePwd:u}}if(!n){var l=s.attributes.fingerprints;l.length>0&&(n={fingerprints:l})}}}catch(d){o.e(d)}finally{o.f()}if(!n&&i.attributes.fingerprints.length>0&&(n={fingerprints:i.attributes.fingerprints}),!n||!t)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:t,dtlsParameters:n}}function y1(e,t,n){var r,i=e.cname;void 0!==t&&void 0!==n?(r=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t,port:n.toString(),type:"host",extension:{}}],px.debug("Using remote candidate from AP ".concat(t,":").concat(n)),kx("debug",[],"Using remote candidate from AP ".concat(t,":").concat(n))):r=e.iceParameters.candidates.map((function(e){return{foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}}));var o,a={fingerprints:e.dtlsParameters.fingerprints.map((function(e){return{hashFunction:e.algorithm,fingerprint:e.fingerprint}}))},s={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};switch(e.dtlsParameters.role){case"server":o="passive";break;case"client":o="active";break;case"auto":o="actpass"}return{dtlsParameters:a,iceParameters:s,candidates:r,rtpCapabilities:T1(e.rtpCapabilities),setup:o,cname:i}}function b1(e,t,n){var r=[],i=[];return e.forEach((function(e){var o=e.ssrcId,a=e.rtx,s=HH(8,"track-"),c={ssrcId:o,attributes:A1({label:s,mslabel:n=n||HH(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(r.push(c),void 0!==a){var u={ssrcId:a,attributes:A1({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};r.push(u),i.push({semantic:"FID",ssrcIds:[o,a]})}})),e.length>1&&i.push({semantic:"SIM",ssrcIds:e.map((function(e){return e.ssrcId}))}),{ssrcs:r,ssrcGroups:i}}function C1(e,t){t instanceof vH&&e.attributes.payloads.forEach((function(e){var n,r=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(r&&-1!==["opus","pcmu","pcma","g722"].indexOf(r)){e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";var i=t._encoderConfig;i&&("pcmu"!==r&&"pcma"!==r&&"g722"!==r&&(i.bitrate&&!Mk()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*i.bitrate))),i.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(i.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(i.sampleRate))),i.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}}))}function _1(e){var t=e.attributes.unrecognized.findIndex((function(e){return"x-google-flag"===e.attField&&"conference"===e.attValue}));-1!==t&&e.attributes.unrecognized.splice(t,1)}function I1(e,t){if(t instanceof MX&&t._encoderConfig&&-1===t._hints.indexOf(gP.SCREEN_TRACK)){var n=t._encoderConfig;qP().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((function(e){var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(n.bitrateMin))})),qP().supportMinBitrate&&!t._hints.includes(gP.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((function(e){var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(Zx("X_GOOGLE_START_BITRATE")||Math.floor(n.bitrateMax)))}))}}function w1(e,t,n){if(t){var r,i;if("video"===e.media.mediaType?(r=n.videoExtensions,i=n.videoCodecs):(r=n.audioExtensions,i=n.audioCodecs),!0===t.tcc){var o=r.find((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName}));o&&(e.attributes.extmaps.find((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName}))||e.attributes.extmaps.push({entry:o.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(e,t){return t.filter((function(t){return!!e.find((function(e){return e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((function(e){return"transport-cc"===e.type}))}))}))}(i,e.attributes.payloads).forEach((function(e){e.rtcpFeedbacks.find((function(e){return"transport-cc"===e.type}))||e.rtcpFeedbacks.push({type:"transport-cc"})})))}else if(!1===t.tcc){var a=e.attributes.extmaps.findIndex((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName}));-1!==a&&e.attributes.extmaps.splice(a,1),e.attributes.payloads.forEach((function(e){var t=e.rtcpFeedbacks.findIndex((function(e){return"transport-cc"===e.type}));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){var s=r.find((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName}));s&&(e.attributes.extmaps.find((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName}))||e.attributes.extmaps.push({entry:s.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(e,t){return t.filter((function(t){return!!e.find((function(e){return e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((function(e){return"goog-remb"===e.type}))}))}))}(i,e.attributes.payloads).forEach((function(e){e.rtcpFeedbacks.find((function(e){return"goog-remb"===e.type}))||e.rtcpFeedbacks.push({type:"goog-remb"})})))}else if(!1===t.remb){var c=e.attributes.extmaps.findIndex((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName}));-1!==c&&e.attributes.extmaps.splice(c,1),e.attributes.payloads.forEach((function(e){var t=e.rtcpFeedbacks.findIndex((function(e){return"goog-remb"===e.type}));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}}function S1(e,t,n,r,i,o){if("videoExtensions"===n||"audioExtensions"===n){var a=[];return e[n].forEach((function(e){t[n].some((function(t,n){if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach((function(e,t){-1===a.indexOf(t)&&i[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){var s=[];return e[n].forEach((function(e){t[n].some((function(t,n){if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return s.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach((function(e,t){-1===s.indexOf(t)&&i[n].push(e)}))}}function T1(e){var t,n,r=e.send,i=e.recv,o=e.sendrecv;if(!o){if(!r||!i)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:r,recv:i}}return r?((t={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]}).audioCodecs=[].concat(h(r.audioCodecs),h(o.audioCodecs)),t.videoCodecs=[].concat(h(r.videoCodecs),h(o.videoCodecs)),t.audioExtensions=[].concat(h(r.audioExtensions),h(o.audioExtensions)),t.videoExtensions=[].concat(h(r.videoExtensions),h(o.videoExtensions))):t=o,i?((n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]}).audioCodecs=[].concat(h(i.audioCodecs),h(o.audioCodecs)),n.videoCodecs=[].concat(h(i.videoCodecs),h(o.videoCodecs)),n.audioExtensions=[].concat(h(i.audioExtensions),h(o.audioExtensions)),n.videoExtensions=[].concat(h(i.videoExtensions),h(o.videoExtensions))):n=o,{send:t,recv:n}}!function(e,t){e.exports=function(){var e={8:function(e,t,n){n.r(t),n.d(t,{Parser:function(){return O},Printer:function(){return P},parse:function(){return j},print:function(){return F}});var r,i="\n",o="".concat("\r").concat(i),c=" ";function u(e){return e>="0"&&e<="9"}function d(e){return e>="!"&&e<="~"}function h(e){return d(e)||e>="\x80"&&e<="\xff"}function m(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function E(e){return e>="1"&&e<="9"}function y(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function b(e){return"d"===e||"h"===e||"m"===e||"s"===e}function C(e){return e>"\x01"&&e<"\t"||e>"\v"&&e<"\f"||e>"\x0e"&&e<"\xff"}function _(e){return y(e)||u(e)||"+"===e||"/"===e}function I(e){return u(e)||y(e)||"+"===e||"/"===e||"-"===e||"_"===e}function w(e){return y(e)||u(e)||"+"===e||"/"===e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(r||(r={}));var k=function(){function e(){v(this,e)}return g(e,[{key:"consumeText",value:function(e,t){for(var n=t;n<e.length;){var r=e[n];if("\0"===r||"\r"===r||r===i)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}},{key:"consumeUnicastAddress",value:function(e,t,n){return this.consumeTill(e,t,c)}},{key:"consumeOneOrMore",value:function(e,t,n){for(var r=t;n(e[r]);)r++;if(r-t==0)throw new Error("Invalid rule at ".concat(t,"."));return r}},{key:"consumeSpace",value:function(e,t){if(e[t]===c)return t+1;throw new Error("Invalid space at ".concat(t,"."))}},{key:"consumeIP4Address",value:function(e,t){for(var n=t,r=0;r<4;r++)if(n=this.consumeDecimalUChar(e,n),3!==r){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}},{key:"consumeDecimalUChar",value:function(e,t){for(var n=t,r=0;r<3&&u(e[n]);r++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");var i=parseInt(e.slice(t,n));if(i>=0&&i<=255)return n;throw new Error("Invalid decimal uchar")}},{key:"consumeIP6Address",value:function(e,t){var n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n)):n}},{key:"consumeHexpart",value:function(e,t){var n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(":"===e[n=this.consumeHexseq(e,n)]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}},{key:"consumeHexseq",value:function(e,t){for(var n=t;":"===e[n=this.consumeHex4(e,n)]&&":"!==e[n+1];)n+=1;return n}},{key:"consumeHex4",value:function(e,t){for(var n,r=0;r<4;r++)if(!((n=e[t+r])>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F")){if(0===r)throw new Error("Invalid hex 4");break}return t+r}},{key:"consumeFQDN",value:function(e,t){for(var n=t;u(e[n])||y(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}},{key:"consumeExtnAddr",value:function(e,t){return this.consumeOneOrMore(e,t,h)}},{key:"consumeMulticastAddress",value:function(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}},{key:"consumeIP6MulticastAddress",value:function(e,t){var n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}},{key:"consumeIP4MulticastAddress",value:function(e,t){var n=t+3,r=e.slice(t,n),i=parseInt(r);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(var o=0;o<3;o++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),"/"===e[n=this.consumeTTL(e,n)]&&(n=this.consumeInteger(e,n)),n}},{key:"consumeInteger",value:function(e,t){if(!E(e[t]))throw new Error("Invalid integer.");for(t+=1;u(e[t]);)t+=1;return t}},{key:"consumeTTL",value:function(e,t){if("0"===e[t])return t+1;if(!E(e[t]))throw new Error("Invalid TTL.");t+=1;for(var n=0;n<2&&u(e[t]);n++)t+=1;return t}},{key:"consumeToken",value:function(e,t){return this.consumeOneOrMore(e,t,m)}},{key:"consumeTime",value:function(e,t){var n=t;if("0"===e[n])return n+1;for(E(e[n])&&(n+=1);u(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}},{key:"consumeAddress",value:function(e,t){return this.consumeTill(e,t,c)}},{key:"consumeTypedTime",value:function(e,t){var n=t;return b(e[n=this.consumeOneOrMore(e,n,u)])?n+1:n}},{key:"consumeRepeatInterval",value:function(e,t){if(!E(e[t]))throw new Error("Invalid repeat interval");for(t+=1;u(e[t]);)t+=1;return b(e[t])&&(t+=1),t}},{key:"consumePort",value:function(e,t){return this.consumeOneOrMore(e,t,u)}},{key:"consume",value:function(e,t,n){for(var r=0;r<n.length;r++){if(t+r>=e.length)throw new Error("consume exceeding value length");if(e[t+r]!==n[r])throw new Error("consume ".concat(n," failed at ").concat(r))}return t+n.length}},{key:"consumeTill",value:function(e,t,n){for(var r=t;r<e.length&&("string"!=typeof n||e[r]!==n)&&("function"!=typeof n||!n(e[r]));)r++;return r}}]),e}(),O=function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),R(l(e),"records",[]),R(l(e),"currentLine",0),e}return g(n,[{key:"parse",value:function(e){var t=this.probeEOL(e);this.records=e.split(t).filter((function(e){return!!e.trim()})).map(this.parseLine),this.currentLine=0;var n=this.parseVersion(),r=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),l=this.parseBandWidth(),d=this.parseTimeFields(),f=this.parseKey(),p=this.parseSessionAttribute(),h=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:r,sessionName:i,information:o,uri:a,emails:s,phones:c,connection:u,bandwidths:l,timeFields:d,key:f,attributes:p,mediaDescriptions:h}}},{key:"getCurrentRecord",value:function(){var e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}},{key:"probeEOL",value:function(e){for(var t=0;t<e.length;t++)if(e[t]===i)return"\r"===e[t-1]?o:i;throw new Error("Invalid newline character.")}},{key:"parseLine",value:function(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");var n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}},{key:"parseSessionAttribute",value:function(){for(var e=new x;this.currentLine<this.records.length;){var t=this.getCurrentRecord();if(t.type!==r.ATTRIBUTE)break;var n={attField:this.extractOneOrMore(t,(function(e){return m(e)&&":"!==e})),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,C)),e.parse(n),this.currentLine++}return e.digest()}},{key:"parseMediaAttributes",value:function(e){for(var t=new D(e);this.currentLine<this.records.length;){var n=this.getCurrentRecord();if(n.type!==r.ATTRIBUTE)break;var i={attField:this.extractOneOrMore(n,(function(e){return m(e)&&":"!==e})),_cur:0};":"===n.value[n.cur]&&(n.cur+=1,i.attValue=this.extractOneOrMore(n,C)),t.parse(i),this.currentLine++}return t.digest()}},{key:"parseKey",value:function(){var e=this.getCurrentRecord();if(e.type===r.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}},{key:"parseZone",value:function(){var e=this.getCurrentRecord();if(e.type===r.ZONE_ADJUSTMENTS){for(var t=[];;)try{var n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);var i=!1;"-"===e.value[e.cur]&&(i=!0,e.cur+=1);var o=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:o,back:i})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}},{key:"parseRepeat",value:function(){for(var e=[];;){var t=this.getCurrentRecord();if(t.type!==r.REPEAT)break;var n=this.extract(t,this.consumeRepeatInterval),i=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:i}),this.currentLine++}return e}},{key:"parseTypedTime",value:function(e){for(var t=[];;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}},{key:"parseTime",value:function(){var e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);var n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}},{key:"parseBandWidth",value:function(){for(var e=[];this.currentLine<this.records.length;){var t=this.getCurrentRecord();if(t.type!==r.BANDWIDTH)break;var n=this.extractOneOrMore(t,m);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;var i=this.extractOneOrMore(t,u);e.push({bwtype:n,bandwidth:i}),this.currentLine++}return e}},{key:"parseVersion",value:function(){var e=this.getCurrentRecord();if(e.type!==r.VERSION)throw new Error("first sdp record must be version");var t=e.value.slice(0,this.consumeOneOrMore(e.value,0,u));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}},{key:"parseOrigin",value:function(){var e=this.getCurrentRecord();if(e.type!==r.ORIGIN)throw new Error("second line of sdp must be origin");var t=this.extractOneOrMore(e,h);this.consumeSpaceForRecord(e);var n=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);var i=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);var o=this.extractOneOrMore(e,m);this.consumeSpaceForRecord(e);var a=this.extractOneOrMore(e,m);this.consumeSpaceForRecord(e);var s=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:i,nettype:o,addrtype:a,unicastAddress:s}}},{key:"parseSessionName",value:function(){var e=this.getCurrentRecord();if(e.type===r.SESSION_NAME){var t=this.extract(e,this.consumeText);return this.currentLine++,t}}},{key:"parseInformation",value:function(){var e=this.getCurrentRecord();if(e.type===r.INFORMATION){var t=this.extract(e,this.consumeText);return this.currentLine++,t}}},{key:"parseUri",value:function(){var e=this.getCurrentRecord();if(e.type===r.URI)return this.currentLine++,e.value}},{key:"parseEmail",value:function(){for(var e=[];;){var t=this.getCurrentRecord();if(t.type!==r.EMAIL)break;e.push(t.value),this.currentLine++}return e}},{key:"parsePhone",value:function(){for(var e=[];;){var t=this.getCurrentRecord();if(t.type!==r.PHONE)break;e.push(t.value),this.currentLine++}return e}},{key:"parseConnection",value:function(){var e=this.getCurrentRecord();if(e.type===r.CONNECTION){var t=this.extractOneOrMore(e,m);this.consumeSpaceForRecord(e);var n=this.extractOneOrMore(e,m);this.consumeSpaceForRecord(e);var i=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:i}}}},{key:"parseMedia",value:function(){var e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);var n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);var r=[];for(r.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,r.push(this.extract(e,this.consumeToken));if(0===r.length)throw new Error("Invalid proto");var i=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:r,fmts:i}}},{key:"parseTimeFields",value:function(){for(var e=[];this.getCurrentRecord().type===r.TIME;){var t=this.parseTime(),n=this.parseRepeat(),i=this.parseZone();e.push({time:t,repeats:n,zones:i})}return e}},{key:"parseMediaDescription",value:function(){for(var e=[];this.currentLine<this.records.length&&this.getCurrentRecord().type===r.MEDIA;){var t=this.parseMedia(),n=this.parseInformation(),i=this.parseConnections(),o=this.parseBandWidth(),a=this.parseKey(),s=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:i,bandwidths:o,key:a,attributes:s})}return e}},{key:"parseConnections",value:function(){for(var e=[];this.currentLine<this.records.length&&this.getCurrentRecord().type===r.CONNECTION;)e.push(this.parseConnection());return e}},{key:"parseFmt",value:function(e){for(var t=[];;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}},{key:"extract",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=t.call.apply(t,[this,e.value,e.cur].concat(r)),a=e.value.slice(e.cur,o);return e.cur=o,a}},{key:"extractOneOrMore",value:function(e,t){var n=this.consumeOneOrMore(e.value,e.cur,t),r=e.value.slice(e.cur,n);return e.cur=n,r}},{key:"consumeSpaceForRecord",value:function(e){if(e.value[e.cur]!==c)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}]),n}(k),N=function(e){f(n,e);var t=p(n);function n(){var e;v(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),R(l(e),"attributes",void 0),R(l(e),"digested",!1),e}return g(n,[{key:"extractOneOrMore",value:function(e,t,n){var r=this.consumeOneOrMore(e.attValue,e._cur,t),i=e.attValue.slice(e._cur,r),o=s(n||[],2),a=o[0],c=o[1];if("number"==typeof a&&i.length<a)throw new Error("error in length, should be more or equal than ".concat(a," characters."));if("number"==typeof c&&i.length>c)throw new Error("error in length, should be less or equal than ".concat(c," characters."));return e._cur=r,i}},{key:"consumeAttributeSpace",value:function(e){if(e.attValue[e._cur]!==c)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}},{key:"extract",value:function(e,t){if(!e.attValue)throw new Error("Nothing to extract from attValue.");for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=t.call.apply(t,[this,e.attValue,e._cur].concat(r)),a=e.attValue.slice(e._cur,o);return e._cur=o,a}},{key:"atEnd",value:function(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}},{key:"peekChar",value:function(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}},{key:"peek",value:function(e,t){if(!e.attValue)throw new Error;for(var n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}},{key:"parseIceUfrag",value:function(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,_,[4,256])}},{key:"parseIcePwd",value:function(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,_,[22,256])}},{key:"parseIceOptions",value:function(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");for(var t=[];!this.atEnd(e);){t.push(this.extractOneOrMore(e,_));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}},{key:"parseFingerprint",value:function(e){var t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);var n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}},{key:"parseExtmap",value:function(e){var t,n=this.extractOneOrMore(e,u);"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),t=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeTill,c),i=T(T({entry:parseInt(n,10)},t&&{direction:t}),{},{extensionName:r});this.peekChar(e)===c&&(this.consumeAttributeSpace(e),i.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(i)}},{key:"parseSetup",value:function(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");var t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}]),n}(k),x=function(e){f(r,e);var n=p(r);function r(){var e;v(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),R(l(e),"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]}),e}return g(r,[{key:"parse",value:function(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}},{key:"digest",value:function(){return this.digested=!0,this.attributes}},{key:"parseGroup",value:function(e){for(var t=this.extract(e,this.consumeToken),n=[];!this.atEnd(e)&&this.peekChar(e)===c;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}},{key:"parseIceLite",value:function(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}},{key:"parseTlsId",value:function(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,I)}},{key:"parseIdentity",value:function(e){for(var t=this.extractOneOrMore(e,w),n=[];!this.atEnd(e)&&this.peekChar(e)===c;){this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");var i=this.extractOneOrMore(e,(function(e){return e!==c&&C(e)}));n.push({name:r,value:i})}this.attributes.identities.push({assertionValue:t,extensions:n})}},{key:"parseMsidSemantic",value:function(e){this.peekChar(e)===c&&this.consumeAttributeSpace(e);for(var t={semantic:this.extract(e,this.consumeToken),identifierList:[]};;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}var n=this.extract(e,this.consumeTill,c);t.identifierList.push(n)}this.attributes.msidSemantic=t}}]),r}(N),D=function(e){f(r,e);var n=p(r);function r(e){var t;return v(this,r),t=n.call(this),R(l(t),"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),t.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]},t}return g(r,[{key:"parse",value:function(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}},{key:"parseCandidate",value:function(e){var t=this.extractOneOrMore(e,_,[1,32]);this.consumeAttributeSpace(e);var n=this.extractOneOrMore(e,u,[1,5]);this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);var i=this.extractOneOrMore(e,u,[1,10]);this.consumeAttributeSpace(e);var o=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);var a=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);var s={foundation:t,componentId:n,transport:r,priority:i,connectionAddress:o,port:a,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),s.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),s.relPort=this.extract(e,this.consumePort));this.peekChar(e)===c;){this.consumeAttributeSpace(e);var l=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),s.extension[l]=this.extractOneOrMore(e,d)}this.attributes.candidates.push(s)}},{key:"parseRemoteCandidate",value:function(e){for(var t=[];;){var n=this.extractOneOrMore(e,u,[1,5]);this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);var i=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:r,port:i});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}},{key:"parseEndOfCandidates",value:function(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}},{key:"parseRtpmap",value:function(e){var t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);var n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");var r={encodingName:n,clockRate:this.extractOneOrMore(e,u)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),r.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));var i=this.attributes.payloads.find((function(e){return e.payloadType===parseInt(t,10)}));i?i.rtpMap=r:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:r,rtcpFeedbacks:[]})}},{key:"parsePtime",value:function(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}},{key:"parseMaxPtime",value:function(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}},{key:"parseDirection",value:function(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}},{key:"parseSSRC",value:function(e){var t=this.extractOneOrMore(e,u);this.consumeAttributeSpace(e);var n,r=this.extract(e,this.consumeTill,":");":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),n=this.extract(e,this.consumeTill));var i=this.attributes.ssrcs.find((function(e){return e.ssrcId===parseInt(t,10)}));i?i.attributes[r]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:A({},r,n)})}},{key:"parseFmtp",value:function(e){var t=this.extract(e,this.consumeTill,c);this.consumeAttributeSpace(e);var n=this.extract(e,this.consumeTill),r={};n.split(";").forEach((function(e){var t=e.split("="),n=s(t,2),i=n[0],o=n[1];i=i.trim(),o="string"==typeof o?o.trim():o,"string"==typeof i&&i.length>0&&(r[i]=o)}));var i=this.attributes.payloads.find((function(e){return e.payloadType===parseInt(t,10)}));i?i.fmtp={parameters:r}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:r}})}},{key:"parseFmtParameters",value:function(e){var t={},n=this.extract(e,this.consumeTill,"=");e._cur++;var r=this.extract(e,this.consumeTill,";");for(t[n]=r;";"===e.attValue[e._cur];){var i=this.extract(e,this.consumeTill,"=");e._cur++;var o=this.extract(e,this.consumeTill,";");t[i]=o}return t}},{key:"parseRtcpFb",value:function(e){var t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,c),this.consumeAttributeSpace(e);var n,r=this.extract(e,this.consumeTill,c);if("trr-int"===r)n={type:r,interval:this.extract(e,this.consumeTill)};else{var i={type:r};this.peekChar(e)===c&&(this.consumeAttributeSpace(e),i.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===c&&(i.additional=this.extract(e,this.consumeTill))),n=i}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{var o=this.attributes.payloads.find((function(e){return e.payloadType===parseInt(t,10)}));o?o.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}},{key:"parseRTCPMux",value:function(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}},{key:"parseRTCPMuxOnly",value:function(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}},{key:"parseRTCPRsize",value:function(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}},{key:"parseRTCP",value:function(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");var t={port:this.extract(e,this.consumePort)};this.peekChar(e)===c&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,m),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,m),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}},{key:"parseMsid",value:function(e){var t={id:this.extractOneOrMore(e,m,[1,64])};this.peekChar(e)===c&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,m,[1,64])),this.attributes.msids.push(t)}},{key:"parseImageAttr",value:function(e){this.attributes.imageattr.push(e.attValue)}},{key:"parseRid",value:function(e){var t=this.extractOneOrMore(e,(function(e){return y(e)||u(e)||"_"===e||"-"===e}));this.consumeAttributeSpace(e);var n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===c){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");for(var r=[];;){var i=this.extract(e,this.consumeToken);r.push(i);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=r,this.peekChar(e)===c&&this.extract(e,this.consume,c)}for(;;){var o=this.extract(e,this.consumeToken);if("depend"===o){var a={type:o,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(a)}else{var s={type:o};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),s.val=this.extract(e,this.consumeTill,";")),n.params.push(s)}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}},{key:"parseSimulcast",value:function(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}},{key:"parseSctpPort",value:function(e){this.attributes.sctpPort=this.extractOneOrMore(e,u,[1,5])}},{key:"parseMaxMessageSize",value:function(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,u,[1,void 0])}},{key:"digest",value:function(){return this.digested=!0,this.attributes}},{key:"parseMid",value:function(e){this.attributes.mid=this.extract(e,this.consumeToken)}},{key:"parseSSRCGroup",value:function(e){for(var t=this.extract(e,this.consumeToken),n=[];;)try{this.consumeAttributeSpace(e);var r=this.extract(e,this.consumeInteger);n.push(parseInt(r,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}]),r}(N);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){function e(){v(this,e),L(this,"eol",o)}return g(e,[{key:"print",value:function(e,t){var n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions)}},{key:"printVersion",value:function(e){return"v=".concat(e).concat(this.eol)}},{key:"printOrigin",value:function(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}},{key:"printSessionName",value:function(e){return e?"s=".concat(e).concat(this.eol):""}},{key:"printInformation",value:function(e){return e?"i=".concat(e).concat(this.eol):""}},{key:"printUri",value:function(e){return e?"u=".concat(e).concat(this.eol):""}},{key:"printEmail",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+="e=".concat(i).concat(this.eol)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"printPhone",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+="e=".concat(i).concat(this.eol)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"printConnection",value:function(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}},{key:"printBandwidth",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+="b=".concat(i.bwtype,":").concat(i.bandwidth).concat(this.eol)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"printTimeFields",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+="t=".concat(i.time.startTime," ").concat(i.time.startTime).concat(this.eol);var o,s=a(i.repeats);try{for(s.s();!(o=s.n()).done;){var c=o.value;n+="r=".concat(c.repeatInterval," ").concat(c.typedTimes.join(" ")).concat(this.eol)}}catch(u){s.e(u)}finally{s.f()}i.zoneAdjustments&&(n+="z=",n+="z=".concat(i.zoneAdjustments.map((function(e){return"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime)})).join(" ")).concat(this.eol),n+=this.eol)}}catch(u){r.e(u)}finally{r.f()}return n}},{key:"printKey",value:function(e){return e?"k=".concat(e).concat(this.eol):""}},{key:"printAttributes",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+="a=".concat(i.attField).concat(i.attValue?":".concat(i.attValue):"").concat(this.eol)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"printMediaDescription",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.printMedia(i.media),n+=this.printInformation(i.information),n+=this.printConnections(i.connections),n+=this.printBandwidth(i.bandwidths),n+=this.printKey(i.key),n+=this.printMediaAttributes(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"printConnections",value:function(e){var t,n="",r=a(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=this.printConnection(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"printMedia",value:function(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}},{key:"printSessionAttributes",value:function(e){return new B(this.eol).print(e)}},{key:"printMediaAttributes",value:function(e){return new U(this.eol).print(e)}}]),e}(),M=function(){function e(t){v(this,e),L(this,"eol",void 0),this.eol=t}return g(e,[{key:"printIceUfrag",value:function(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}},{key:"printIcePwd",value:function(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}},{key:"printIceOptions",value:function(e){return void 0===e?"":"a=ice-options:".concat(e.join(c)).concat(this.eol)}},{key:"printFingerprints",value:function(e){return e.length>0?e.map((function(e){return"a=fingerprint:".concat(e.hashFunction).concat(c).concat(e.fingerprint)})).join(this.eol)+this.eol:""}},{key:"printExtmap",value:function(e){var t=this;return e.map((function(e){return"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(c).concat(e.extensionName).concat(e.extensionAttributes?"".concat(c).concat(e.extensionAttributes):"").concat(t.eol)})).join("")}},{key:"printSetup",value:function(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}},{key:"printUnrecognized",value:function(e){var t=this;return e.map((function(e){return"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(t.eol)})).join("")}}]),e}(),B=function(e){f(n,e);var t=p(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"print",value:function(e){var t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized)}},{key:"printGroups",value:function(e){var t=this,n="";return e.length>0&&(n+=e.map((function(e){return"a=group:".concat(e.semantic).concat(e.identificationTag.map((function(e){return"".concat(c).concat(e)})).join("")).concat(t.eol)})).join("")),n}},{key:"printIceLite",value:function(e){return void 0===e?"":"a=ice-lite"+this.eol}},{key:"printTlsId",value:function(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}},{key:"printIdentity",value:function(e){return 0===e.length?"":e.map((function(e){return"a=identity:".concat(e.assertionValue).concat(e.extensions.map((function(e){return"".concat(c).concat(e.name).concat(e.value?"=".concat(e.value):"")})))})).join(this.eol)+this.eol}},{key:"printMsidSemantic",value:function(e){if(!e)return"";var t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(c,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((function(e){return"".concat(c).concat(e)}))),t+this.eol}}]),n}(M),U=function(e){f(n,e);var t=p(n);function n(){return v(this,n),t.apply(this,arguments)}return g(n,[{key:"print",value:function(e){var t=e.attributes,n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCRPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized)}},{key:"printCandidates",value:function(e){var t=this;return e.map((function(e){return"a=candidate:".concat(e.foundation).concat(c).concat(e.componentId).concat(c).concat(e.transport).concat(c).concat(e.priority).concat(c).concat(e.connectionAddress).concat(c).concat(e.port).concat(c,"typ").concat(c).concat(e.type).concat(e.relAddr?"".concat(c,"raddr").concat(c).concat(e.relAddr):"").concat(e.relPort?"".concat(c,"rport").concat(c).concat(e.relPort):"").concat(Object.keys(e.extension).map((function(t){return"".concat(c).concat(t).concat(c).concat(e.extension[t])})).join("")).concat(t.eol)})).join("")}},{key:"printRemoteCandidatesList",value:function(e){var t=this;return e.map((function(e){return"a=remote-candidates:".concat(e.join(c)).concat(t.eol)})).join("")}},{key:"printEndOfCandidates",value:function(e){return void 0===e?"":"a=end-of-candidates"+this.eol}},{key:"printRTPRelated",value:function(e){var t=this;if(!e.payloads)return"";var n=e.payloads,r="";r+=e.rtcpFeedbackWildcards.map((function(e){return t.printRTCPFeedback("*",e)})).join("");var i,o=a(n);try{var s=function(){var e=i.value;r+=t.printRtpMap(e.payloadType,e.rtpMap),r+=t.printFmtp(e.payloadType,e.fmtp),r+=e.rtcpFeedbacks.map((function(n){return t.printRTCPFeedback(e.payloadType,n)})).join("")};for(o.s();!(i=o.n()).done;)s()}catch(c){o.e(c)}finally{o.f()}return r}},{key:"printFmtp",value:function(e,t){if(!t)return"";var n=Object.keys(t.parameters);return 1===n.length&&void 0===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(c).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(c).concat(Object.keys(t.parameters).map((function(e){return"".concat(e,"=").concat(t.parameters[e])})).join(";")).concat(this.eol)}},{key:"printRtpMap",value:function(e,t){return t?"a=rtpmap:".concat(e).concat(c).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}},{key:"printRTCPFeedback",value:function(e,t){var n="a=rtcp-fb:".concat(e).concat(c),r=t;return"trr-int"===r.type?n+="ttr-int".concat(c).concat(r.interval):(n+="".concat(r.type),r.parameter&&(n+="".concat(c).concat(r.parameter),r.additional&&(n+="".concat(c).concat(r.additional)))),n+this.eol}},{key:"printPtime",value:function(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}},{key:"printMaxPtime",value:function(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}},{key:"printDirection",value:function(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}},{key:"printSSRC",value:function(e){var t=this;return e.map((function(e){return Object.keys(e.attributes).map((function(n){return"a=ssrc:".concat(e.ssrcId.toString(10)).concat(c).concat(n).concat(e.attributes[n]?":".concat(e.attributes[n]):"").concat(t.eol)})).join("")})).join("")}},{key:"printRTCPMux",value:function(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}},{key:"printRTCPMuxOnly",value:function(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}},{key:"printRTCPRsize",value:function(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}},{key:"printRTCP",value:function(e){if(void 0===e)return"";var t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(c).concat(e.netType)),e.addressType&&(t+="".concat(c).concat(e.addressType)),e.address&&(t+="".concat(c).concat(e.address)),t+this.eol}},{key:"printMSId",value:function(e){var t=this;return e.map((function(e){return"a=msid:".concat(e.id).concat(e.appdata?"".concat(c).concat(e.appdata):"").concat(t.eol)})).join("")}},{key:"printImageattr",value:function(e){var t=this;return e.map((function(e){return"a=imageattr:".concat(e).concat(t.eol)})).join("")}},{key:"printRid",value:function(e){var t=this;return e.map((function(e){var n="a=rid:".concat(e.id).concat(c).concat(e.direction);return e.payloads&&(n+="".concat(c,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(n+="".concat(c).concat(e.params.map((function(e){return"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val)})).join(";"))),n+t.eol})).join("")}},{key:"printSimulcast",value:function(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}},{key:"printSCRPPort",value:function(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}},{key:"printMaxMessageSize",value:function(e){return void 0===e?"":"a=max-message-size:".concat(e)}},{key:"printMid",value:function(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}},{key:"printSSRCGroups",value:function(e){var t=this;return e.map((function(e){return"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((function(e){return"".concat(c).concat(e.toString(10))})).join("")).concat(t.eol)})).join("")}}]),n}(M);function j(e){return(new O).parse(e)}function F(e,t){return(new P).print(e,t)}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)}()}(v1);var R1=function(){function e(t){v(this,e),tO(this,"sessionDesc",void 0),tO(this,"localCapabilities",void 0),tO(this,"rtpCapabilities",void 0),tO(this,"candidates",void 0),tO(this,"iceParameters",void 0),tO(this,"dtlsParameters",void 0),tO(this,"setup",void 0),tO(this,"currentMidIndex",void 0),tO(this,"cname",void 0);var n=t=nq(t),r=n.remoteIceParameters,i=n.remoteDtlsParameters,o=n.candidates,a=n.remoteRTPCapabilities,s=n.remoteSetup,c=n.localCapabilities,u=n.sdkCodec,l=n.cname,d=v1.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=a,this.candidates=o,this.iceParameters=r,this.dtlsParameters=i,this.setup=s,this.localCapabilities=c,this.cname=l;for(var f=0;f<d.mediaDescriptions.length;f++){var p=d.mediaDescriptions[f];if(p.attributes.iceUfrag=r.iceUfrag,p.attributes.icePwd=r.icePwd,p.attributes.fingerprints=i.fingerprints,p.attributes.candidates=o,p.attributes.setup=s,"video"===p.media.mediaType){p.media.fmts=a.videoCodecs.map((function(e){return e.payloadType.toString(10)}));var h=a.videoCodecs.filter((function(e){var t;return null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase().includes(u)}));if(0===h.length)throw new Error("Codec ".concat(u," not supported by remote SDP."));p.attributes.payloads=h,p.attributes.extmaps=a.videoExtensions}"audio"===p.media.mediaType&&(p.media.fmts=a.audioCodecs.map((function(e){return e.payloadType.toString(10)})),p.attributes.payloads=a.audioCodecs,p.attributes.extmaps=a.audioExtensions),d.mediaDescriptions[f]=this.mungMediaDesc(p)}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}return g(e,[{key:"toString",value:function(){return v1.exports.print(this.sessionDesc)}},{key:"send",value:function(e,t,n){var r=b1(t,this.cname),i=r.ssrcs,o=r.ssrcGroups,a=this.sessionDesc.mediaDescriptions.find((function(t){return e===OP.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType})),s=i[0].attributes.label,c=i[0].attributes.mslabel;return a.attributes.ssrcs=a.attributes.ssrcs.concat(i),a.attributes.ssrcGroups=a.attributes.ssrcGroups.concat(o),{id:s,mslabel:c}}},{key:"batchSend",value:function(e){var t=this;return e.map((function(e){var n=e.kind,r=e.ssrcMsg;return t.send(n,r,void 0)}))}},{key:"stopSending",value:function(e){this.sessionDesc.mediaDescriptions.forEach((function(t){var n=[],r=[],i=[];t.attributes.ssrcs.forEach((function(t){e.includes(t.attributes.label||"")?i.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((function(e){i.map((function(e){return e.ssrcId})).includes(e.ssrcIds[0])||r.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=r}))}},{key:"mute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}},{key:"unmute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}},{key:"receive",value:function(e,t,n){var r=this;e.forEach((function(e,t){var n=e._mediaStreamTrack,i=r.sessionDesc.mediaDescriptions.findIndex((function(e){return e.attributes.mid===n.kind})),o=r.mungRecvMediaDsec(r.sessionDesc.mediaDescriptions[i],e);r.sessionDesc.mediaDescriptions[i]=o}))}},{key:"stopReceiving",value:function(e){}},{key:"restartICE",value:function(e,t){var n=this;e=nq(e),t=nq(t),this.iceParameters=e,this.candidates=t,this.sessionDesc.mediaDescriptions.forEach((function(t){t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.candidates=n.candidates}))}},{key:"predictReceivingMids",value:function(e){for(var t=[],n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}},{key:"mungRecvMediaDsec",value:function(e,t){var n=nq(e);return C1(n,t),I1(n,t),n}},{key:"updateRecvMedia",value:function(e,t){var n=this.sessionDesc.mediaDescriptions.findIndex((function(t){return t.attributes.mid===e}));if(-1!==n){var r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=r}}},{key:"bumpMid",value:function(e){this.currentMidIndex+=e}},{key:"updateTrackLabel",value:function(e,t,n){var r=this.sessionDesc.mediaDescriptions.find((function(t){return e===OP.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid}));if(r){var i,o=r.attributes.ssrcs.find((function(e){return e.attributes.label===t}));o&&(o.attributes.label=n,null===(i=o.attributes.msid)||void 0===i||i.replace(t,n))}}},{key:"mungMediaDesc",value:function(e){var t=nq(e);return _1(t),function(e){var t=e.attributes.extmaps.find((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName}));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((function(e){var t=e.rtcpFeedbacks.findIndex((function(e){return"transport-cc"===e.type}));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}},{key:"getSSRC",value:function(e){var t,n=a(this.sessionDesc.mediaDescriptions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=a(i.attributes.ssrcs);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.attributes.label===e)return[s]}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}}}]),e}();function k1(e){if(Array.isArray(e))return e.map((function(e){return e}));if(!O1(e))return e;var t={};for(var n in e)O1(e[n])||Array.isArray(e[n])?t[n]=k1(e[n]):t[n]=e[n];return t}function O1(e){return!("object"!=typeof e||Array.isArray(e)||!e)}var N1=function(){function e(e){this.input=[],this.size=e}return e.prototype.add=function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)},e.prototype.diffMean=function(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length},e}(),x1=function(e,t){return(x1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function D1(e,t){function n(){this.constructor=e}x1(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var L1=function(){return(L1=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function P1(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function M1(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var B1,U1={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},j1={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:U1,remoteCandidate:U1}},F1={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},Q1={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,qpSumPerFrame:0},V1={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},G1={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0},H1=function(){function e(e,t){var n=this;this.videoIsReady=!1,this.videoIsReady2={},this.stats=k1(j1),this.isFirstVideoReceived={},this.isFirstVideoDecoded={},this.isFirstAudioReceived={},this.isFirstAudioDecoded={},this.lossRateWindowStats=[],this.pc=e,this.options=t,this.intervalTimer=window.setInterval((function(){return P1(n,void 0,void 0,(function(){return M1(this,(function(e){return this.updateStats(),[2]}))}))}),this.options.updateInterval)}return e.prototype.getStats=function(){return this.stats},e.prototype.setVideoIsReady=function(e){this.videoIsReady=e},e.prototype.setVideoIsReady2=function(e,t){this.videoIsReady2[e]=t},e.prototype.getVideoIsReady=function(e){return this.videoIsReady2[e]||!1},e.prototype.setIsFirstAudioDecoded=function(e){},e.prototype.destroy=function(){window.clearInterval(this.intervalTimer),this.pc=void 0},e.prototype.calcLossRate=function(e){var t=this;this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);for(var n=this.lossRateWindowStats.length,r=0,i=0,o=0,a=0,s=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){e[s].forEach((function(e,c){if(t.lossRateWindowStats[n-1][s][c]&&t.lossRateWindowStats[0][s][c]){var u=t.lossRateWindowStats[n-1][s][c].packets-t.lossRateWindowStats[0][s][c].packets,l=t.lossRateWindowStats[n-1][s][c].packetsLost-t.lossRateWindowStats[0][s][c].packetsLost;"videoSend"===s||"audioSend"===s?(r+=u,o+=l):(i+=u,a+=l),Number.isNaN(u)||Number.isNaN(u)?e.packetLostRate=0:e.packetLostRate=u<=0||l<=0?0:l/(u+l)}}))})),c=0,u=["videoSend","audioSend","videoRecv","audioRecv"];c<u.length;c++)s(u[c]);e.sendPacketLossRate=r<=0||o<=0?0:o/(r+o),e.recvPacketLossRate=i<=0||a<=0?0:a/(i+a)},e}(),q1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=j1,t.lastDecodeVideoReceiverStats=new Map,t}return D1(t,e),t.prototype.updateStats=function(){return P1(this,void 0,void 0,(function(){var e,t,n,r;return M1(this,(function(i){switch(i.label){case 0:return[4,this._getStats()];case 1:return e=i.sent(),t=this.statsResponsesToObjects(e),this._stats=k1(j1),n=t.filter((function(e){return"ssrc"===e.type})),this.processSSRCStats(n),(r=t.find((function(e){return"VideoBwe"===e.type})))&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processBandwidthStats=function(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)},t.prototype.processSSRCStats=function(e){var t=this;e.forEach((function(e){var n=e.id.includes("send");switch(e.mediaType+"_"+(n?"send":"recv")){case"video_send":var r=k1(Q1);r.codec=e.googCodecName,r.adaptionChangeReason="none",e.googCpuLimitedResolution&&(r.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(r.adaptionChangeReason="bandwidth"),r.avgEncodeMs=Number(e.googAvgEncodeMs),r.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.firsCount=Number(e.googFirReceived),r.nacksCount=Number(e.googNacksReceived),r.plisCount=Number(e.googPlisReceived),r.frameCount=Number(e.framesEncoded),r.bytes=Number(e.bytesSent),r.packets=Number(e.packetsSent),r.packetsLost=Number(e.packetsLost),r.ssrc=Number(e.ssrc),r.rttMs=Number(e.googRtt||0),t._stats.videoSend.push(r),t._stats.rtt=r.rttMs;break;case"video_recv":var i=k1(F1),o=t.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(i.codec=e.googCodecName,i.targetDelayMs=Number(e.googTargetDelayMs),i.renderDelayMs=Number(e.googRenderDelayMs),i.currentDelayMs=Number(e.googCurrentDelayMs),i.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),i.decodeMs=Number(e.googDecodeMs),i.maxDecodeMs=Number(e.googMaxDecodeMs),i.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},i.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},i.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},i.jitterBufferMs=Number(e.googJitterBufferMs),i.firsCount=Number(e.googFirsSent),i.nacksCount=Number(e.googNacksSent),i.plisCount=Number(e.googPlisSent),i.framesDecodeCount=Number(e.framesDecoded),i.bytes=Number(e.bytesReceived),i.packets=Number(e.packetsReceived),i.packetsLost=Number(e.packetsLost),i.ssrc=Number(e.ssrc),i.packets>0&&!t.isFirstVideoReceived[i.ssrc]&&(t.onFirstVideoReceived&&t.onFirstVideoReceived(i.ssrc),t.isFirstVideoReceived[i.ssrc]=!0),i.framesDecodeCount>0&&!t.isFirstVideoDecoded[i.ssrc]&&(t.onFirstVideoDecoded&&t.onFirstVideoDecoded(i.ssrc,i.decodedFrame.width,i.decodedFrame.height),t.isFirstVideoDecoded[i.ssrc]=!0),o){var a=o.stats,s=Date.now()-o.lts;i.framesDecodeFreezeTime=a.framesDecodeFreezeTime,i.framesDecodeInterval=a.framesDecodeInterval,i.framesDecodeCount>a.framesDecodeCount&&t.isFirstVideoDecoded[i.ssrc]?(o.lts=Date.now(),i.framesDecodeInterval=s,i.framesDecodeInterval>=t.options.freezeRateLimit&&(t.getVideoIsReady(parseInt(e.ssrc,10))?i.framesDecodeFreezeTime+=i.framesDecodeInterval:t.setVideoIsReady2(parseInt(e.ssrc,10),!0))):i.framesDecodeCount<o.stats.framesDecodeCount&&(i.framesDecodeInterval=0)}t.lastDecodeVideoReceiverStats.set(i.ssrc,{stats:L1({},i),lts:Date.now()}),t._stats.videoRecv.push(i);break;case"audio_recv":var c=k1(G1);c.codec=e.googCodecName,c.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,c.decodingCNG=Number(e.googDecodingCNG),c.decodingCTN=Number(e.googDecodingCTN),c.decodingCTSG=Number(e.googDecodingCTSG),c.decodingNormal=Number(e.googDecodingNormal),c.decodingPLC=Number(e.googDecodingPLC),c.decodingPLCCNG=Number(e.googDecodingPLCCNG),c.expandRate=Number(e.googExpandRate),c.accelerateRate=Number(e.googAccelerateRate),c.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),c.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),c.speechExpandRate=Number(e.googSpeechExpandRate),c.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),c.jitterBufferMs=Number(e.googJitterBufferMs),c.jitterMs=Number(e.googJitterReceived),c.bytes=Number(e.bytesReceived),c.packets=Number(e.packetsReceived),c.packetsLost=Number(e.packetsLost),c.ssrc=Number(e.ssrc),c.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),c.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),c.receivedFrames>0&&!t.isFirstAudioReceived[c.ssrc]&&(t.onFirstAudioReceived&&t.onFirstAudioReceived(c.ssrc),t.isFirstAudioReceived[c.ssrc]=!0),c.decodingNormal>0&&!t.isFirstAudioDecoded[c.ssrc]&&(t.onFirstAudioDecoded&&t.onFirstAudioDecoded(c.ssrc),t.isFirstAudioDecoded[c.ssrc]=!0),t._stats.audioRecv.push(c);break;case"audio_send":var u=k1(V1);u.codec=e.googCodecName,u.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,u.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),u.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),u.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),u.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),u.bytes=Number(e.bytesSent),u.packets=Number(e.packetsSent),u.packetsLost=Number(e.packetsLost),u.ssrc=Number(e.ssrc),u.rttMs=Number(e.googRtt||0),t._stats.rtt=u.rttMs,t._stats.audioSend.push(u)}}))},t.prototype._getStats=function(){var e=this;return new Promise((function(t,n){e.pc.getStats(t,n)}))},t.prototype.statsResponsesToObjects=function(e){var t=[];return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t.push(n)})),t},t}(H1);!function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(B1||(B1={}));var K1,W1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=j1,t.lastDecodeVideoReceiverStats=new Map,t.lastVideoFramesRecv=new Map,t.lastVideoFramesSent=new Map,t.lastVideoFramesDecode=new Map,t.lastVideoJBDelay=new Map,t.lastAudioJBDelay=new Map,t.mediaBytesSent=new Map,t.mediaBytesRetransmit=new Map,t.mediaBytesTargetEncode=new Map,t.lastEncoderMs=new Map,t}return D1(t,e),t.prototype.updateStats=function(){return P1(this,void 0,void 0,(function(){var e,t=this;return M1(this,(function(n){switch(n.label){case 0:return e=this,[4,this.pc.getStats()];case 1:return e.report=n.sent(),this._stats=k1(j1),this.report.forEach((function(e){switch(e.type){case B1.OUTBOUND:"audio"===e.mediaType?t.processAudioOutboundStats(e):"video"===e.mediaType&&t.processVideoOutboundStats(e);break;case B1.INBOUND:"audio"===e.mediaType?t.processAudioInboundStats(e):"video"===e.mediaType&&t.processVideoInboundStats(e);break;case B1.TRANSPORT:var n=t.report.get(e.selectedCandidatePairId);n&&t.processCandidatePairStats(n);break;case B1.CANDIDATE_PAIR:e.selected&&t.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processCandidatePairStats=function(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){var t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){var n=this.report.get(e.remoteCandidateId);n&&this.processCandidateStats(n)}},t.prototype.processCandidateStats=function(e){var t;e.type===B1.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===B1.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===B1.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(L1({},t),L1({},this.stats.selectedCandidatePair.localCandidate)),e.type===B1.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(L1({},t),L1({},this.stats.selectedCandidatePair.remoteCandidate)))},t.prototype.processAudioInboundStats=function(e){var t=this._stats.audioRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=k1(G1),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,e.trackId&&this.processAudioTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0)},t.prototype.processVideoInboundStats=function(e){var t=this._stats.videoRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=k1(F1),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded;var n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),i=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){var o=t.decodedFrame?t.decodedFrame.width:0,a=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,o,a),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){var s=n.stats,c=i-n.lts;t.framesDecodeFreezeTime=s.framesDecodeFreezeTime,t.framesDecodeInterval=s.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&c>this.options.firstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),t.framesDecodeCount>s.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=c,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<s.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}r&&i-r.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),e.trackId&&this.processVideoTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:L1({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})},t.prototype.processVideoOutboundStats=function(e){var t=this._stats.videoSend.find((function(t){return t.ssrc===e.ssrc}));t||(t=k1(Q1),this._stats.videoSend.push(t));var n,r=this.mediaBytesSent.get(e.ssrc);if(r?r.add(e.bytesSent):((o=new N1(10)).add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,o)),void 0!==e.retransmittedBytesSent){var i=this.mediaBytesRetransmit.get(e.ssrc);i?i.add(e.retransmittedBytesSent):((o=new N1(10)).add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,o))}if(e.totalEncodedBytesTarget){var o,a=this.mediaBytesTargetEncode.get(e.ssrc);a?a.add(e.totalEncodedBytesTarget):((o=new N1(10)).add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,o))}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,e.totalEncodeTime&&e.framesEncoded)if(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{var s=e.framesEncoded-n.lastFrameCount,c=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*c/s}if(e.framesEncoded&&e.qpSum&&(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)),this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),e.trackId&&this.processVideoTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var u=this.findRemoteStatsId(e.ssrc,B1.REMOTE_INBOUND);u&&this.processRemoteInboundStats(u,t)}},t.prototype.processAudioOutboundStats=function(e){var t=this._stats.audioSend.find((function(t){return t.ssrc===e.ssrc}));if(t||(t=k1(V1),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.trackId&&this.processAudioTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var n=this.findRemoteStatsId(e.ssrc,B1.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}},t.prototype.findRemoteStatsId=function(e,t){var n=Array.from(this.report.values()).find((function(n){return n.type===t&&n.ssrc===e}));return n?n.id:null},t.prototype.processVideoMediaSource=function(e,t){var n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})},t.prototype.processAudioMediaSource=function(e,t){var n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)},t.prototype.processVideoTrackSenderStats=function(e,t){var n=this.report.get(e);if(n){var r=0,i=Date.now(),o=this.lastVideoFramesSent.get(t.ssrc);o&&i-o.lts>=800?(r=Math.round((n.framesSent-o.count)/((i-o.lts)/1e3)),this.lastVideoFramesSent.set(t.ssrc,{count:n.framesSent,lts:i,rate:r})):o?r=o.rate:this.lastVideoFramesSent.set(t.ssrc,{count:n.framesSent,lts:i,rate:0}),t.sentFrame={width:n.frameWidth,height:n.frameHeight,frameRate:r}}},t.prototype.processVideoTrackReceiverStats=function(e,t){var n=this.report.get(e);if(n){var r=this.lastVideoFramesRecv.get(t.ssrc),i=Date.now();t.framesReceivedCount=n.framesReceived;var o=0;if(r&&i-r.lts>=800?(o=Math.round((n.framesReceived-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesRecv.set(t.ssrc,{count:n.framesReceived,lts:i,rate:o})):r?o=r.rate:this.lastVideoFramesRecv.set(t.ssrc,{count:n.framesReceived,lts:i,rate:0}),t.receivedFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:o||0},t.decodedFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:t.decodeFrameRate||0},t.outputFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:t.decodeFrameRate||0},n.jitterBufferDelay&&n.jitterBufferEmittedCount){var a=this.lastVideoJBDelay.get(t.ssrc);this.lastVideoJBDelay.set(t.ssrc,{jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount}),a||(a={jitterBufferDelay:0,jitterBufferEmittedCount:0});var s=1e3*(n.jitterBufferDelay-a.jitterBufferDelay)/(n.jitterBufferEmittedCount-a.jitterBufferEmittedCount);t.jitterBufferMs=s,t.currentDelayMs=Math.round(s)}}},t.prototype.processAudioTrackSenderStats=function(e,t){var n=this.report.get(e);n&&(t.aecReturnLoss=n.echoReturnLoss||0,t.aecReturnLossEnhancement=n.echoReturnLossEnhancement||0)},t.prototype.processAudioTrackReceiverStats=function(e,t){var n=this.report.get(e);if(n){if(n.removedSamplesForAcceleration&&n.totalSamplesReceived&&(t.accelerateRate=n.removedSamplesForAcceleration/n.totalSamplesReceived),n.jitterBufferDelay&&n.jitterBufferEmittedCount){var r=this.lastAudioJBDelay.get(t.ssrc);this.lastAudioJBDelay.set(t.ssrc,{jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount}),r||(r={jitterBufferDelay:0,jitterBufferEmittedCount:0});var i=1e3*(n.jitterBufferDelay-r.jitterBufferDelay)/(n.jitterBufferEmittedCount-r.jitterBufferEmittedCount);t.jitterBufferMs=Math.round(i)}t.outputLevel=n.audioLevel;var o=1920;n.totalSamplesDuration&&n.totalSamplesReceived&&(o=n.totalSamplesReceived/n.totalSamplesDuration/50,t.receivedFrames=Math.round(n.totalSamplesReceived/o)),n.concealedSamples&&(t.droppedFrames=Math.round(n.concealedSamples/o))}},t.prototype.processRemoteInboundStats=function(e,t){var n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime))},t.prototype.getCodecFromCodecStats=function(e){var t=this.report.get(e);if(!t)return"";var n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""},t.prototype.updateSendBitrate=function(){var e=0,t=null,n=null;this.mediaBytesSent.forEach((function(t){e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((function(e){t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((function(e){n=null===n?e.diffMean():n+e.diffMean()}));var r=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))},t}(H1),Y1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D1(t,e),t.prototype.updateStats=function(){return Promise.resolve()},t}(H1);function z1(e,t,n,r,i){void 0===t&&(t=250),void 0===n&&(n=8),void 0===r&&(r=500),void 0===i&&(i=1e4);var o,a=(o=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i))&&o[0]?Number(o[0].split("/")[1]):null;return a?a<76?new q1(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new W1(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof Promise}(e)?new W1(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new Y1(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i})}function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J1(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z1,$1=(oV((K1=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this,e,r),tO(l(i),"store",void 0),tO(l(i),"peerConnection",void 0),tO(l(i),"remoteSDP",void 0),tO(l(i),"initialOffer",void 0),tO(l(i),"statsFilter",void 0),tO(l(i),"useRTX",!1),tO(l(i),"localCapabilities",void 0),tO(l(i),"localCandidateCount",0),tO(l(i),"allCandidatesReceived",!1),tO(l(i),"mutex",new BV("P2PConnection-mutex")),i.store=r,i.peerConnection=new RTCPeerConnection(n.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),i.statsFilter=z1(i.peerConnection,void 0,void 0,Mk()?1200:void 0),i.bindPCEvents(),i.bindStatsEvents(),i.store.p2pId=i.store.p2pId+1,i}return g(n,[{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"establish",value:function(){var e=u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 3:if((t=e.sent).sdp){e.next=6;break}throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");case 6:return n=E1(t.sdp),r=m1(t.sdp,!this.useRTX,Zx("FILTER_VIDEO_FEC"),Zx("FILTER_AUDIO_FEC"),["opus"]),e.abrupt("return",(this.localCapabilities=r,this.initialOffer=t,X1(X1({},n),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:r},offerSDP:t.sdp})));case 10:throw e.prev=10,e.t0=e.catch(0),new ix($N.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.t0.toString());case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=u(c().mark((function e(t,n,r,i,o,a){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initialOffer){e.next=3;break}throw new Error("Cannot establish P2PConnection without initial offer.");case 3:return this.remoteSDP=new R1({remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i.send,remoteSetup:o,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:a}),s=this.remoteSDP.toString(),e.next=7,this.peerConnection.setLocalDescription(this.initialOffer);case 7:return e.next=9,this.peerConnection.setRemoteDescription({type:"answer",sdp:s});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.t0.toString()));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t,n,r,i,o,a){return e.apply(this,arguments)}return t}()},{key:"send",value:function(e,t){var n=this;return H$(c().mark((function r(){var i,o,a,s,u,l,d,f;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,q$(n.mutex.lock());case 2:if(i=r.sent,r.prev=3,n.remoteSDP){r.next=6;break}throw new Error("Cannot call P2PConnection.send before remote SDP created");case 6:return o=e.map((function(e){return n.peerConnection.addTrack(e._mediaStreamTrack)})),r.next=9,q$(n.peerConnection.createOffer());case 9:return a=r.sent,s=v1.exports.parse(a.sdp),u=e.map((function(e){var t=e._mediaStreamTrack,r=s.mediaDescriptions.find((function(e){return e.attributes.mid===t.kind}));if(!r)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){var r=e.attributes.ssrcs.filter((function(e){return e.attributes.label===t})),i=e.attributes.ssrcGroups;if(0===r.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(i&&r.length>1){var o=i.find((function(e){return-1!==e.ssrcIds.indexOf(r[0].ssrcId)}));return o?[{ssrcId:o.ssrcIds[0],rtx:n?o.ssrcIds[1]:void 0}]:[{ssrcId:r[0].ssrcId}]}return[{ssrcId:r[0].ssrcId}]}(r,t.id,n.useRTX)})),r.prev=12,r.next=15,u;case 15:l=r.sent,r.next=21;break;case 18:throw r.prev=18,r.t0=r.catch(12),o.forEach((function(e){Pk()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),r.t0;case 21:return d=n.mungSendOfferSDP(a.sdp,e),n.remoteSDP.receive(e,t,l),f=n.remoteSDP.toString(),r.next=26,q$(n.peerConnection.setLocalDescription({type:"offer",sdp:d}));case 26:return r.next=28,q$(n.applySendEncodings(o,e));case 28:return r.next=30,q$(n.peerConnection.setRemoteDescription({type:"answer",sdp:f}));case 30:return r.abrupt("return",e.map((function(e,t){var n=e._mediaStreamTrack.id;return{localSSRC:u[t],id:n}})));case 33:throw r.prev=33,r.t1=r.catch(3),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(r.t1.toString()));case 36:return r.prev=36,i(),r.finish(36);case 39:case"end":return r.stop()}}),r,null,[[3,33,36,39],[12,18]])})))()}},{key:"stopSending",value:function(){var e=u(c().mark((function e(t){var n,r,i,o=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");case 3:if(n=this.peerConnection.getSenders().filter((function(e){var n;return-1!==t.indexOf((null===(n=e.track)||void 0===n?void 0:n.id)||"")})),n.length===t.length){e.next=6;break}throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");case 6:return n.map((function(e){Pk()&&e.replaceTrack(null),o.peerConnection.removeTrack(e)})),e.next=9,this.peerConnection.createOffer();case 9:return r=e.sent,e.next=12,this.peerConnection.setLocalDescription(r);case 12:return this.remoteSDP.stopReceiving(t),i=this.remoteSDP.toString(),e.next=16,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.t0.toString()));case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=u(c().mark((function e(t,n,r,i){var o,a,s,u,l,d,f=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));case 3:return o=this.remoteSDP.send(t,n,i),a=o.id,s=o.mslabel,u=new wI((function(e,n){var r=setTimeout((function(){n(new Error("Cannot receive track, id: ".concat(a)))}),1e4),i=function n(i){var o=Sk();if(("Safari"===o.name&&11===Number(o.version)||Bk())&&i.track.id!==a&&i.streams[0].id===s){var c,u=i.streams[0].getTracks()[0];return null===(c=f.remoteSDP)||void 0===c||c.updateTrackLabel(t,a,i.track.id),f.peerConnection.removeEventListener("track",n),clearTimeout(r),void e(u)}if(i.track.id===a)return f.peerConnection.removeEventListener("track",n),clearTimeout(r),void e(i.track)};f.peerConnection.addEventListener("track",i)})),l=this.remoteSDP.toString(),e.next=6,this.peerConnection.setRemoteDescription({type:"offer",sdp:l});case 6:return e.next=8,this.peerConnection.createAnswer();case 8:return d=e.sent,e.next=11,this.peerConnection.setLocalDescription(d);case 11:return e.next=13,u;case 13:return e.t0=e.sent,e.t1=a,e.abrupt("return",{track:e.t0,id:e.t1});case 18:throw e.prev=18,e.t2=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t2.toString()));case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");case 3:return this.remoteSDP.stopSending(t),n=this.remoteSDP.toString(),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:n});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return r=e.sent,e.next=12,this.peerConnection.setLocalDescription(r);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.t0.toString()));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteRemote",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unmuteRemote",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteLocal",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");case 3:if(n=this.peerConnection.getSenders().filter((function(e){var n;return-1!==t.indexOf((null===(n=e.track)||void 0===n?void 0:n.id)||"")})),n.length===t.length){e.next=6;break}throw new Error("sender' length doesn't match mids' length.");case 6:n.map((function(e){if(Pk()&&e.track)e.track.enabled=!1;else{var t=e.getParameters();t.encodings.forEach((function(e){return e.active=!1})),e.setParameters(t)}})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.t0.toString()));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unmuteLocal",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");case 3:if(n=this.peerConnection.getSenders().filter((function(e){var n;return-1!==t.indexOf((null===(n=e.track)||void 0===n?void 0:n.id)||"")})),n.length===t.length){e.next=6;break}throw new Error("Senders' length doesn't match mids' length.");case 6:return n.map(function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pk()||!t.track){e.next=4;break}t.track.enabled=!0,e.next=8;break;case 4:return(n=t.getParameters()).encodings.forEach((function(e){return e.active=!0})),e.next=8,t.setParameters(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,this.peerConnection.createOffer();case 9:return r=e.sent,e.next=12,this.peerConnection.setLocalDescription(r);case 12:return i=this.remoteSDP.toString(),e.next=15,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.t0.toString()));case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reEstablish",value:function(){var e=u(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peerConnection.createOffer({iceRestart:!0});case 2:if((t=e.sent).sdp){e.next=5;break}throw new Error("Cannot get SDP from restart offer.");case 5:return e.abrupt("return",{iceParameters:E1(t.sdp).iceParameters,restartICE:function(){var e=u(c().mark((function e(r,i){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.restartICE(t,r,i));case 1:case"end":return e.stop()}}),e)})));function r(t,n){return e.apply(this,arguments)}return r}(),restartOfferSDP:t.sdp});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this.statsFilter.getVideoIsReady(e)}},{key:"updateEncoderConfig",value:function(){var e=u(c().mark((function e(t,n){var r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");case 3:return e.next=5,this.peerConnection.createOffer();case 5:return r=e.sent,i=this.mungSendOfferSDP(r.sdp,[n]),this.remoteSDP.updateRecvMedia(n._mediaStreamTrack.kind,n),o=this.remoteSDP.toString(),e.next=11,this.peerConnection.setLocalDescription({type:"offer",sdp:i});case 11:return e.next=13,this.peerConnection.setRemoteDescription({type:"answer",sdp:o});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,e.t0.toString());case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateSendParameters",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.peerConnection.getSenders().filter((function(e){var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t})),e.t0=1===r.length,!e.t0){e.next=5;break}return e.next=5,this.applySendEncodings(r,[n]);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this.statsFilter.setVideoIsReady2(e,t)}},{key:"replaceTrack",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.peerConnection.getSenders().find((function(e){var t;return(null===(t=e.track)||void 0===t?void 0:t.id)===n})),e.t0=r,!e.t0){e.next=5;break}return e.next=5,r.replaceTrack(t._mediaStreamTrack);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"restartICE",value:function(){var e=u(c().mark((function e(t,n,r){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot restartICE before remoteSDP created.");case 3:return this.remoteSDP.restartICE(n,r),i=this.remoteSDP.toString(),e.next=7,this.peerConnection.setLocalDescription(t);case 7:return e.next=9,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.restartICE failed; ".concat(e.t0.toString()));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"bindPCEvents",value:function(){var e=this;this.peerConnection.oniceconnectionstatechange=function(){var t;null===(t=e.onICEConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=function(){var t;null===(t=e.onConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.connectionState)},this.peerConnection.onicecandidate=function(t){t.candidate?e.localCandidateCount+=1:(e.peerConnection.onicecandidate=null,e.allCandidatesReceived=!0,px.debug("[pc-".concat(e.store.p2pId,"] local candidate count"),e.localCandidateCount))},setTimeout((function(){e.allCandidatesReceived||(e.allCandidatesReceived=!0,px.debug("[pc-".concat(e.store.p2pId,"] onicecandidate timeout, local candidate count"),e.localCandidateCount))}),Zx("CANDIDATE_TIMEOUT"))}},{key:"unbindPCEvents",value:function(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}},{key:"applySendEncodings",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s,u,l,d,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,qP().supportSetRtpSenderParameters){e.next=3;break}return e.abrupt("return");case 3:if(t.length===n.length){e.next=5;break}return e.abrupt("return");case 5:r=0;case 6:if(!(r<t.length)){e.next=29;break}if(o=t[r],a=n[r]){e.next=10;break}return e.abrupt("continue",26);case 10:if(s={},u={},!(a instanceof MX)){e.next=20;break}e.t0=a._optimizationMode,e.next="motion"===e.t0?15:"detail"===e.t0?17:19;break;case 15:return s.degradationPreference="maintain-framerate",e.abrupt("break",20);case 17:return s.degradationPreference="maintain-resolution",e.abrupt("break",20);case 19:s.degradationPreference="balanced";case 20:return Zx("DSCP_TYPE")&&Kk()&&(l=Zx("DSCP_TYPE"),["very-low","low","medium","high"].includes(l)&&(u.networkPriority=l)),d=o.getParameters(),(f=null===(i=d.encodings)||void 0===i?void 0:i[0])&&Object.assign(f,u),Object.assign(d,s),e.next=26,o.setParameters(d);case 26:r++,e.next=6;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),px.debug("Apply RTPSendEncodings failed.");case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"mungSendOfferSDP",value:function(e,t){var n=v1.exports.parse(e);return t.forEach((function(e,t){var r=e._mediaStreamTrack,i=n.mediaDescriptions.find((function(e){return e.attributes.mid===r.kind}));i&&C1(i,e)})),v1.exports.print(n)}},{key:"bindStatsEvents",value:function(){var e=this;this.statsFilter.onFirstAudioReceived=function(t){var n;null===(n=e.onFirstAudioReceived)||void 0===n||n.call(e,t)},this.statsFilter.onFirstVideoReceived=function(t){var n;null===(n=e.onFirstVideoReceived)||void 0===n||n.call(e,t)},this.statsFilter.onFirstAudioDecoded=function(t){var n;null===(n=e.onFirstAudioDecoded)||void 0===n||n.call(e,t)},this.statsFilter.onFirstVideoDecoded=function(t,n,r){var i;null===(i=e.onFirstVideoDecoded)||void 0===i||i.call(e,t,n,r)},this.statsFilter.onSelectedLocalCandidateChanged=function(t,n){var r;null===(r=e.onSelectedLocalCandidateChanged)||void 0===r||r.call(e,t,n)},this.statsFilter.onSelectedRemoteCandidateChanged=function(t,n){var r;null===(r=e.onSelectedRemoteCandidateChanged)||void 0===r||r.call(e,t,n)}}},{key:"unbindStatsEvents",value:function(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}},{key:"batchReceive",value:function(){var e=u(c().mark((function e(t){var n,r,i,o=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");case 3:return n=this.remoteSDP.batchSend(t).map((function(e,n){var r=e.id,i=e.mslabel,a=t[n].kind;return new wI((function(e,t){var n=setTimeout((function(){t(new Error("Cannot receive track, id: ".concat(r)))}),1e4),s=function t(s){var c=Sk();if("Safari"===c.name&&11===Number(c.version)&&s.track.id!==r&&s.streams[0].id===i){var u,l=s.streams[0].getTracks()[0];return null===(u=o.remoteSDP)||void 0===u||u.updateTrackLabel(a,r,s.track.id),o.peerConnection.removeEventListener("track",t),clearTimeout(n),void e({track:l,id:r})}if(s.track.id===r)return o.peerConnection.removeEventListener("track",t),clearTimeout(n),void e({track:s.track,id:r})};o.peerConnection.addEventListener("track",s)}))})),r=this.remoteSDP.toString(),e.next=6,this.peerConnection.setRemoteDescription({type:"offer",sdp:r});case 6:return e.next=8,this.peerConnection.createAnswer();case 8:return i=e.sent,e.next=11,this.peerConnection.setLocalDescription(i);case 11:return e.next=13,wI.all(n);case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRemoteSSRC",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteSDP){e.next=2;break}return e.abrupt("return");case 2:return n=this.remoteSDP.getSSRC(t),e.abrupt("return",null==n?void 0:n[0].ssrcId);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"resolvePCConfiguration",value:function(e){var t,r,i={iceServers:[],sdpSemantics:"plan-b"};return e.iceServers?i.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(HL(e.turnServer.servers)?i.iceServers=e.turnServer.servers:(i.iceServers&&(t=i.iceServers).push.apply(t,h(n.turnServerConfigToIceServers(e.turnServer.servers))),Zx("USE_TURN_SERVER_OF_GATEWAY")&&i.iceServers&&e.turnServer.serversFromGateway&&(r=i.iceServers).push.apply(r,h(n.turnServerConfigToIceServers(e.turnServer.serversFromGateway))),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(i.iceTransportPolicy="relay")})))),i}},{key:"turnServerConfigToIceServers",value:function(e){var t=[];return e.forEach((function(e){e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}}]),n}(BP)).prototype,"connect",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"connect"),K1.prototype),oV(K1.prototype,"stopSending",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"stopSending"),K1.prototype),oV(K1.prototype,"receive",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"receive"),K1.prototype),oV(K1.prototype,"stopReceiving",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"stopReceiving"),K1.prototype),oV(K1.prototype,"muteRemote",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"muteRemote"),K1.prototype),oV(K1.prototype,"unmuteRemote",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"unmuteRemote"),K1.prototype),oV(K1.prototype,"muteLocal",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"muteLocal"),K1.prototype),oV(K1.prototype,"unmuteLocal",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"unmuteLocal"),K1.prototype),oV(K1.prototype,"reEstablish",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"reEstablish"),K1.prototype),oV(K1.prototype,"close",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"close"),K1.prototype),oV(K1.prototype,"updateEncoderConfig",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"updateEncoderConfig"),K1.prototype),oV(K1.prototype,"updateSendParameters",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"updateSendParameters"),K1.prototype),oV(K1.prototype,"replaceTrack",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"replaceTrack"),K1.prototype),oV(K1.prototype,"restartICE",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"restartICE"),K1.prototype),oV(K1.prototype,"getRemoteSSRC",[e0],Object.getOwnPropertyDescriptor(K1.prototype,"getRemoteSSRC"),K1.prototype),K1);function e0(e,t,n){var r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=u(c().mark((function e(){var n,i,o,a,s,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.mutex,e.next=3,n.lock("Locking from P2PConnection.".concat(t));case 3:for(i=e.sent,e.prev=4,o=u.length,a=new Array(o),s=0;s<o;s++)a[s]=u[s];return e.next=8,r.apply(this,a);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,i(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),n}var t0,n0,r0="9",i0=4e4,o0=Mx("RemoteSDP")(Z1=function(){function e(t){v(this,e),tO(this,"sessionDesc",void 0),tO(this,"_localCapabilities",void 0),tO(this,"_rtpCapabilities",void 0),tO(this,"_candidates",void 0),tO(this,"_iceParameters",void 0),tO(this,"_dtlsParameters",void 0),tO(this,"setup",void 0),tO(this,"currentMidIndex",void 0),tO(this,"cname",void 0),tO(this,"firefoxSsrcMidMap",new Map);var n=t=nq(t),r=n.remoteIceParameters,i=n.remoteDtlsParameters,o=n.candidates,s=n.remoteRTPCapabilities,c=n.remoteSetup,u=n.localCapabilities,l=n.cname,d=v1.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=s,this._candidates=o,this._iceParameters=r,this._dtlsParameters=i,this._localCapabilities=u,this.setup=c,this.cname=l;var f,p=this.rtpCapabilities.send,h=a(d.mediaDescriptions);try{for(h.s();!(f=h.n()).done;){var g=f.value;if(g.attributes.iceUfrag=r.iceUfrag,g.attributes.icePwd=r.icePwd,g.attributes.fingerprints=i.fingerprints,g.attributes.candidates=o,g.attributes.setup=c,"video"===g.media.mediaType&&(g.media.fmts=p.videoCodecs.map((function(e){return e.payloadType.toString(10)})),g.attributes.payloads=p.videoCodecs,g.attributes.extmaps=p.videoExtensions,Zx("PRELOAD_MEDIA_COUNT")>0)){var A=b1([{ssrcId:i0,rtx:Zx("USE_RTX")?40001:void 0}],this.cname),m=A.ssrcs,E=A.ssrcGroups;g.attributes.ssrcs=m,g.attributes.ssrcGroups=E}if("audio"===g.media.mediaType&&(g.media.fmts=p.audioCodecs.map((function(e){return e.payloadType.toString(10)})),g.attributes.payloads=p.audioCodecs,g.attributes.extmaps=p.audioExtensions,Zx("PRELOAD_MEDIA_COUNT")>0)){var y=b1([{ssrcId:2e4}],this.cname),b=y.ssrcs,C=y.ssrcGroups;g.attributes.ssrcs=b,g.attributes.ssrcGroups=C}}}catch(_){h.e(_)}finally{h.f()}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}return g(e,[{key:"localCapabilities",get:function(){return nq(this._localCapabilities)}},{key:"rtpCapabilities",get:function(){return nq(this._rtpCapabilities)}},{key:"candidates",get:function(){return nq(this._candidates)}},{key:"iceParameters",get:function(){return nq(this._iceParameters)}},{key:"dtlsParameters",get:function(){return nq(this._dtlsParameters)}},{key:"preloadRemoteMedia",value:function(){var e=Zx("PRELOAD_MEDIA_COUNT");Dx("debug",this,"preloadRemoteMedia",e),this.rtpCapabilities;for(var t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,i=this.rtpCapabilities.send,o=1;o<e;o++){var a=2*o+i0,s=b1([{ssrcId:2*o+2e4}],this.cname),c=s.ssrcs,u=s.ssrcGroups,l=b1([{ssrcId:a,rtx:Zx("USE_RTX")?a+1:void 0}],this.cname),d=l.ssrcs,f=l.ssrcGroups;this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:r0,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.videoCodecs.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:f,rtcpFeedbackWildcards:[],payloads:i.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:r0,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.audioCodecs.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:c,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:i.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}},{key:"toString",value:function(){return v1.exports.print(this.sessionDesc)}},{key:"send",value:function(e,t,n,r){var i=b1(t,this.cname,n),o=i.ssrcs,a=i.ssrcGroups,s=this.findPreloadMediaDesc(o);if(s){if(Mk()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,s.attributes.mid),r&&(r.tcc||r.remb)){var c=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[c]=this.mungSendMediaDesc(s,r),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}var u=this.findAvailableMediaIndex(e,o);if(Pk()||Uk()){if(-1!==u&&1!==u){var l=nq(this.sessionDesc.mediaDescriptions[u]);return l.attributes.direction="sendonly",l.attributes.ssrcs=o,l.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[u]=this.mungSendMediaDesc(l,r),{mid:l.attributes.mid,needExchangeSDP:!0}}var d=this.createOrRecycleSendMedia(e,o,a,"sendonly",r);return this.updateBundleMids(),{mid:d.attributes.mid,needExchangeSDP:!0}}if(-1!==u){var f=nq(this.sessionDesc.mediaDescriptions[u]);return f.attributes.direction="sendonly",f.attributes.ssrcs=o,f.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[u]=this.mungSendMediaDesc(f,r),Mk()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,f.attributes.mid),{mid:f.attributes.mid,needExchangeSDP:!0}}var p=this.createOrRecycleSendMedia(e,o,a,"sendonly",r);return this.updateBundleMids(),Mk()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,p.attributes.mid),{mid:p.attributes.mid,needExchangeSDP:!0}}},{key:"batchSend",value:function(e){var t=this,n=e.map((function(e){var n=e.kind,r=e.ssrcMsg,i=e.mslabel;return t.send(n,r,i)})),r=[],i=!1;return n.forEach((function(e){var t=e.mid;e.needExchangeSDP&&(i=!0),r.push(t)})),{mids:r,needExchangeSDP:i}}},{key:"stopSending",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((function(e){"0"===e.attributes.mid||Mk()||Pk()||Uk()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}},{key:"mute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}},{key:"unmute",value:function(e){var t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}},{key:"muteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return e.includes(t.attributes.mid||"")}));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="inactive"}))}},{key:"unmuteRemote",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return e.includes(t.attributes.mid||"")}));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((function(e){e.attributes.direction="recvonly"}))}},{key:"receive",value:function(e,t,n,r){var i=this;e.forEach((function(e,o){i.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[o])})),this.updateBundleMids()}},{key:"stopReceiving",value:function(e){var t=this.sessionDesc.mediaDescriptions.filter((function(t){return-1!==e.indexOf(t.attributes.mid)}));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((function(e){e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}},{key:"restartICE",value:function(e,t){var n=this;e=nq(e),t=nq(t),this._iceParameters=e,this._candidates=t,this.sessionDesc.mediaDescriptions.forEach((function(t){t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.candidates=n.candidates}))}},{key:"predictReceivingMids",value:function(e){for(var t=[],n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}},{key:"findAvailableMediaIndex",value:function(e,t){var n=this;return this.sessionDesc.mediaDescriptions.findIndex((function(r){var i=r.media.mediaType===e&&"0"!==r.media.port&&("sendonly"===r.attributes.direction||"sendrecv"===r.attributes.direction)&&0===r.attributes.ssrcs.length;if(Mk()){if(i){var o=n.firefoxSsrcMidMap.get(t[0].ssrcId);return!(o||"0"!==r.attributes.mid&&"1"!==r.attributes.mid)||!(!o||o!==r.attributes.mid)}return!1}return i}))}},{key:"createOrRecycleRecvMedia",value:function(e,t,n,r,i,o){var a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=this.localCapabilities.send,u=[];if(a===OP.VIDEO){var l,d;if(Zx("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(u=s.videoCodecs.filter((function(e){var t,n;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)&&(null==e||null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])===Zx("H264_PROFILE_LEVEL_ID")}))),!u||0===(null===(l=u)||void 0===l?void 0:l.length)){var f=c.videoCodecs.filter((function(e){var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)}));0!==f.length&&(u=s.videoCodecs.filter((function(e){return f.some((function(t){return t.payloadType===e.payloadType}))})))}if(Zx("USE_RTX")){var p=u.map((function(e){return e.payloadType.toString()})),v=s.videoCodecs.filter((function(e){var t,n;return"rtx"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)&&p.includes((null===(n=e.fmtp)||void 0===n?void 0:n.parameters.apt)||"")}));u=[].concat(h(u),h(v))}0===u.length&&(px.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(null===(d=s.videoCodecs[0].rtpMap)||void 0===d?void 0:d.encodingName)),u=s.videoCodecs)}else u=s.audioCodecs.filter((function(e){var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(i)})),0===u.length&&(px.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),u=s.audioCodecs.filter((function(e){var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes("opus")})));var g=a===OP.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;var A="".concat(this.currentMidIndex),m={media:{mediaType:a,port:r0,protos:["UDP","TLS","RTP","SAVPF"],fmts:u.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:g,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:u,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(A)}};m=this.mungRecvMediaDsec(m,e,o);var E=this.findFirstClosedMedia(a);if(E){var y=this.sessionDesc.mediaDescriptions.indexOf(E);this.sessionDesc.mediaDescriptions[y]=m}else this.sessionDesc.mediaDescriptions.push(m);return m}},{key:"createOrRecycleSendMedia",value:function(e,t,n,r,i){var o=this.rtpCapabilities.send,a=e===OP.VIDEO?o.videoCodecs:o.audioCodecs,s=e===OP.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;var c="".concat(this.currentMidIndex),u={media:{mediaType:e,port:r0,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((function(e){return e.payloadType.toString(10)}))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};u=this.mungSendMediaDesc(u,i);var l=this.findFirstClosedMedia(e);if(l){var d=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[d]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}},{key:"updateBundleMids",value:function(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((function(e){return"0"!==e.media.port})).map((function(e){return e.attributes.mid}))}},{key:"mungRecvMediaDsec",value:function(e,t,n){var r=nq(e);return _1(r),C1(r,t),I1(r,t),function(e){if("video"===e.media.mediaType){var t=Sk();if(t.name===bk.SAFARI||t.os===yk.IOS){var n=e.attributes.extmaps.findIndex((function(e){return/video-orientation/g.test(e.extensionName)}));-1!==n&&e.attributes.extmaps.splice(n,1)}}}(r),w1(r,n,this.localCapabilities.send),r}},{key:"mungSendMediaDesc",value:function(e,t){var n=nq(e);return w1(n,t,this.localCapabilities.recv),n}},{key:"updateRecvMedia",value:function(e,t){var n=this.sessionDesc.mediaDescriptions.findIndex((function(t){return t.attributes.mid===e}));if(-1!==n){var r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=r}}},{key:"bumpMid",value:function(e){this.currentMidIndex+=e}},{key:"findFirstClosedMedia",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){return Mk()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port}))}},{key:"findPreloadMediaDesc",value:function(e){return this.sessionDesc.mediaDescriptions.find((function(t){var n,r;return(null===(n=t.attributes)||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId)===e[0].ssrcId}))}},{key:"getSSRC",value:function(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((function(t){return t.attributes.mid===e})))||void 0===t?void 0:t.attributes.ssrcs}}]),e}())||Z1;function a0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a0(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c0,u0,l0=Mx("P2PConnection","store.p2pId")((oV((n0=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this,e,r),tO(l(i),"store",void 0),tO(l(i),"peerConnection",void 0),tO(l(i),"remoteSDP",void 0),tO(l(i),"initialOffer",void 0),tO(l(i),"transportEventReceiver",void 0),tO(l(i),"statsFilter",void 0),tO(l(i),"useRTX",Zx("USE_RTX")),tO(l(i),"localCapabilities",void 0),tO(l(i),"localCandidateCount",0),tO(l(i),"allCandidatesReceived",!1),tO(l(i),"mutex",new BV("P2PConnection-mutex")),i.store=r,i.peerConnection=new RTCPeerConnection(n.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),i.statsFilter=z1(i.peerConnection,void 0,void 0,Mk()?1200:void 0),i.bindPCEvents(),i.bindStatsEvents(),i.store.p2pId=i.store.p2pId+1,i}return g(n,[{key:"currentLocalDescription",get:function(){return this.peerConnection.currentLocalDescription}},{key:"currentRemoteDescription",get:function(){return this.peerConnection.currentRemoteDescription}},{key:"peerConnectionState",get:function(){return this.peerConnection.connectionState}},{key:"iceConnectionState",get:function(){return this.peerConnection.iceConnectionState}},{key:"establish",value:function(){var e=u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),e.next=4,this.peerConnection.createOffer();case 4:if((t=e.sent).sdp){e.next=7;break}throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");case 7:return n=E1(t.sdp),e.next=10,function(){var e=u(c().mark((function e(t,n,r,i,o){var a,s,u,l,d,f,p,h,v,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new RTCPeerConnection).addTransceiver("video",{direction:"sendonly"}),a.addTransceiver("audio",{direction:"sendonly"}),a.addTransceiver("video",{direction:"recvonly"}),a.addTransceiver("audio",{direction:"recvonly"}),e.next=4,a.createOffer();case 4:s=e.sent.sdp,u=m1(s,t,n,r,i,o,"sendonly"),l=m1(s,t,n,r,i,o,"recvonly"),S1(u,l,"videoExtensions",d={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},f={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]}),S1(u,l,"videoCodecs",d,f,p),S1(u,l,"audioExtensions",d,f,p),S1(u,l,"audioCodecs",d,f,p),Zx("RAISE_H264_BASELINE_PRIORITY")&&(h=p.videoCodecs.findIndex((function(e){var t,n;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"===(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])})),-1!==h&&(v=p.videoCodecs.findIndex((function(e){var t;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())})),v<h&&(px.debug("raising H264 baseline profile priority"),g=p.videoCodecs[h],p.videoCodecs.splice(h,1),p.videoCodecs.splice(v,0,g)),-1!==v&&(f.videoCodecs=f.videoCodecs.filter((function(e){var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))}))),-1!==v&&Zx("FILTER_SEND_H264_BASELINE")&&(d.videoCodecs=d.videoCodecs.filter((function(e){var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))})))));try{a.close()}catch(t){}return e.abrupt("return",{send:d,recv:f,sendrecv:p});case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()(!this.useRTX,Zx("FILTER_VIDEO_FEC"),Zx("FILTER_AUDIO_FEC"));case 10:return r=e.sent,e.abrupt("return",(this.localCapabilities=T1(r),this.initialOffer=t,s0(s0({},n),{},{rtpCapabilities:r,offerSDP:t.sdp})));case 14:throw e.prev=14,e.t0=e.catch(0),new ix($N.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.t0.toString());case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=u(c().mark((function e(t,n,r,i,o,a){var s,u,l,d,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initialOffer){e.next=3;break}throw new Error("Cannot establish P2PConnection without initial offer.");case 3:return this.remoteSDP=new o0({remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,remoteSetup:o,localCapabilities:this.localCapabilities,cname:a}),s=this.remoteSDP.toString(),u=this.logSDPExchange(this.initialOffer.sdp||"","offer","local","connect"),e.next=7,this.peerConnection.setLocalDescription(this.initialOffer);case 7:return null==u||u(s),e.next=10,this.peerConnection.setRemoteDescription({type:"answer",sdp:s});case 10:if(null!=(l=this.peerConnection.getTransceivers()[0])&&l.receiver&&this.tryBindTransportEvents(l.receiver),!(Zx("PRELOAD_MEDIA_COUNT")>0)){e.next=21;break}return this.remoteSDP.preloadRemoteMedia(),d=this.remoteSDP.toString(),e.next=16,this.peerConnection.setRemoteDescription({type:"offer",sdp:d});case 16:return e.next=18,this.peerConnection.createAnswer();case 18:return f=e.sent,e.next=21,this.peerConnection.setLocalDescription(f);case 21:e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.t0.toString()));case 26:case"end":return e.stop()}}),e,this,[[0,23]])})));function t(t,n,r,i,o,a){return e.apply(this,arguments)}return t}()},{key:"send",value:function(e,t,n){var r=this;return H$(c().mark((function i(){var o,a,s,u,l,d,f,p,h,v,g;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,q$(r.mutex.lock());case 2:if(o=i.sent,i.prev=3,r.remoteSDP){i.next=6;break}throw new Error("Cannot call P2PConnection.send before remote SDP created");case 6:if(a=[],e.forEach((function(e){var t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});a.push(t)})),i.t0=Mk()&&!0===Zx("SIMULCAST"),!i.t0){i.next=13;break}return kx("debug",r,"apply simulcast for firefox"),i.next=13,q$(r.applySimulcastForFirefox(a,e));case 13:return i.next=15,q$(r.peerConnection.createOffer());case 15:return s=i.sent,u=r.remoteSDP.predictReceivingMids(e.length),l=r.mungSendOfferSDP(s.sdp,e,u),d=v1.exports.parse(l),f=u.map((function(e){var t=d.mediaDescriptions.find((function(t){return t.attributes.mid===e}));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t){var n=[],r=e.attributes.ssrcGroups.filter((function(e){return"FID"===e.semantic})),i=e.attributes.ssrcGroups.find((function(e){return"SIM"===e.semantic})),o=e.attributes.ssrcs;if(i)i.ssrcIds.forEach((function(e){var i,o=null===(i=r.find((function(t){return t.ssrcIds[0]===e})))||void 0===i?void 0:i.ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}));else if(r.length>0){var a=r[0].ssrcIds[0],s=r[0].ssrcIds[1];n.push({ssrcId:a,rtx:t?s:void 0})}else{if(0===o.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}(t,r.useRTX)})),i.prev=20,i.next=23,f;case 23:p=i.sent,i.next=37;break;case 26:return i.prev=26,i.t1=i.catch(20),p=[],r.remoteSDP.receive(e,t,n,p),h=r.remoteSDP.toString(),i.next=32,q$(r.peerConnection.setLocalDescription({type:"offer",sdp:l}));case 32:return i.next=34,q$(r.peerConnection.setRemoteDescription({type:"answer",sdp:h}));case 34:return i.next=36,q$(r.stopSending(u,!0));case 36:throw i.t1;case 37:return r.remoteSDP.receive(e,t,n,p),v=r.remoteSDP.toString(),g=r.logSDPExchange(l,"offer","local","send"),i.next=41,q$(r.peerConnection.setLocalDescription({type:"offer",sdp:l}));case 41:return i.next=43,q$(r.applySimulcastEncodings(a,e));case 43:return i.next=45,q$(r.applySendEncodings(a,e));case 45:return null==g||g(v),i.next=48,q$(r.peerConnection.setRemoteDescription({type:"answer",sdp:v}));case 48:return i.abrupt("return",a.map((function(e,t){var n=u[t];return{localSSRC:f[t],id:n,transceiver:e}})));case 51:throw i.prev=51,i.t2=i.catch(3),i.t2 instanceof ix?i.t2:new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(i.t2.toString()));case 54:return i.prev=54,o(),i.finish(54);case 57:case"end":return i.stop()}}),i,null,[[3,51,54,57],[20,26]])})))()}},{key:"stopSending",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}e.t0=void 0,e.next=7;break;case 4:return e.next=6,this.mutex.lock("From P2PConnection.stopSending");case 6:e.t0=e.sent;case 7:if(r=e.t0,e.prev=8,this.remoteSDP){e.next=11;break}throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");case 11:if(i=this.peerConnection.getTransceivers().filter((function(e){return-1!==t.indexOf(e.mid)})),i.length===t.length){e.next=14;break}throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");case 14:return i.map((function(e){var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)})),e.next=17,this.peerConnection.createOffer();case 17:return o=e.sent,a=this.logSDPExchange(o.sdp||"","offer","local","stopSending"),e.next=21,this.peerConnection.setLocalDescription(o);case 21:return this.remoteSDP.stopReceiving(t),s=this.remoteSDP.toString(),null==a||a(s),e.next=26,this.peerConnection.setRemoteDescription({type:"answer",sdp:s});case 26:e.next=31;break;case 28:throw e.prev=28,e.t1=e.catch(8),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.t1.toString()));case 31:return e.prev=31,r&&r(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[8,28,31,34]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=u(c().mark((function e(t,n,r,i){var o,a,s,u,l,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));case 3:if(o=this.remoteSDP.send(t,n,r,i),a=o.mid,!o.needExchangeSDP){e.next=17;break}return s=this.remoteSDP.toString(),u=this.logSDPExchange(s,"offer","remote","receive"),e.next=8,this.peerConnection.setRemoteDescription({type:"offer",sdp:s});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return l=e.sent,null==u||u(l.sdp||""),e.next=14,this.peerConnection.setLocalDescription(l);case 14:px.debug("[P2PConnection] receive ".concat(t," by exchanging SDP.")),e.next=18;break;case 17:px.debug("[P2PConnection] receive ".concat(t," no need to exchange SDP."));case 18:if(d=this.peerConnection.getTransceivers().find((function(e){return e.mid===a}))){e.next=21;break}throw new Error("Cannot get transceiver after setLocalDescription.");case 21:return e.abrupt("return",{track:d.receiver.track,id:a});case 24:throw e.prev=24,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 27:case"end":return e.stop()}}),e,this,[[0,24]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"batchReceive",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");case 3:if(n=this.remoteSDP.batchSend(t),r=n.mids,!n.needExchangeSDP){e.next=17;break}return i=this.remoteSDP.toString(),o=this.logSDPExchange(i,"offer","remote","receive"),e.next=8,this.peerConnection.setRemoteDescription({type:"offer",sdp:i});case 8:return e.next=10,this.peerConnection.createAnswer();case 10:return a=e.sent,null==o||o(a.sdp||""),e.next=14,this.peerConnection.setLocalDescription(a);case 14:px.debug("[P2PConnection] batchReceive by exchanging SDP."),e.next=18;break;case 17:px.debug("[P2PConnection] batchReceive no need to exchange SDP.");case 18:return e.abrupt("return",r.map((function(e){var t=s.peerConnection.getTransceivers().find((function(t){return t.mid===e}));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}})));case 21:throw e.prev=21,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.t0.toString()));case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");case 3:return this.remoteSDP.stopSending(t),n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","stopReceiving"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:n});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return i=e.sent,null==r||r(i.sdp||""),e.next=13,this.peerConnection.setLocalDescription(i);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteRemote",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(t," before remote SDP created."));case 3:return this.remoteSDP.mute(t),n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","muteRemote"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:n});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return i=e.sent,null==r||r(i.sdp||""),e.next=13,this.peerConnection.setLocalDescription(i);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unmuteRemote",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(t," before remote SDP created."));case 3:return this.remoteSDP.unmute(t),n=this.remoteSDP.toString(),r=this.logSDPExchange(n,"offer","remote","unmuteRemote"),e.next=7,this.peerConnection.setRemoteDescription({type:"offer",sdp:n});case 7:return e.next=9,this.peerConnection.createAnswer();case 9:return i=e.sent,null==r||r(i.sdp||""),e.next=13,this.peerConnection.setLocalDescription(i);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteLocal",value:function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");case 3:if((n=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw new Error("Transceivers' length doesn't match mids' length.");case 6:return n.map((function(e){e.direction="inactive"})),e.next=9,this.peerConnection.createOffer();case 9:return r=e.sent,i=this.logSDPExchange(r.sdp||"","offer","local","muteLocal"),e.next=13,this.peerConnection.setLocalDescription(r);case 13:return this.remoteSDP.muteRemote(t),o=this.remoteSDP.toString(),null==i||i(o),e.next=18,this.peerConnection.setRemoteDescription({type:"answer",sdp:o});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unmuteLocal",value:function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");case 3:if((n=this.peerConnection.getTransceivers().filter((function(e){return e.mid&&-1!==t.indexOf(e.mid)}))).length===t.length){e.next=6;break}throw new Error("Transceivers' length doesn't match mids' length.");case 6:return n.map(function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.direction="sendonly";case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=9,this.peerConnection.createOffer();case 9:return r=e.sent,i=this.logSDPExchange(r.sdp||"","offer","local","unmuteLocal"),e.next=13,this.peerConnection.setLocalDescription(r);case 13:return this.remoteSDP.unmuteRemote(t),o=this.remoteSDP.toString(),null==i||i(o),e.next=18,this.peerConnection.setRemoteDescription({type:"answer",sdp:o});case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.t0.toString()));case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reEstablish",value:function(){var e=u(c().mark((function e(){var t,n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peerConnection.createOffer({iceRestart:!0});case 2:if((t=e.sent).sdp){e.next=5;break}throw new Error("Cannot get SDP from restart offer.");case 5:return e.abrupt("return",{iceParameters:E1(t.sdp).iceParameters,restartICE:function(){var e=u(c().mark((function e(r,i){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.restartICE(t,r,i));case 1:case"end":return e.stop()}}),e)})));function r(t,n){return e.apply(this,arguments)}return r}(),restartOfferSDP:t.sdp});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}},{key:"getStats",value:function(){return this.statsFilter.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){return this.statsFilter.getVideoIsReady(e)}},{key:"updateEncoderConfig",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");case 3:return e.next=5,this.peerConnection.createOffer();case 5:return r=e.sent,i=this.mungSendOfferSDP(r.sdp,[n],[t]),this.remoteSDP.updateRecvMedia(t,n),o=this.remoteSDP.toString(),a=this.logSDPExchange(i,"offer","local","updateEncoderConfig"),e.next=11,this.peerConnection.setLocalDescription({type:"offer",sdp:i});case 11:return null==a||a(o),e.next=14,this.peerConnection.setRemoteDescription({type:"answer",sdp:o});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,e.t0.toString());case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateSendParameters",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.peerConnection.getTransceivers().filter((function(e){return e.mid===t})),e.t0=1===r.length,!e.t0){e.next=12;break}if(!this.isVP8Simulcast(n)){e.next=10;break}if(e.t1=Mk(),e.t1){e.next=8;break}return e.next=8,this.applySimulcastEncodings(r,[n]);case 8:e.next=12;break;case 10:return e.next=12,this.applySendEncodings(r,[n]);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setStatsRemoteVideoIsReady",value:function(e,t){this.statsFilter.setVideoIsReady2(e,t)}},{key:"replaceTrack",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.peerConnection.getTransceivers().find((function(e){return e.mid===n})),e.t0=r,!e.t0){e.next=5;break}return e.next=5,r.sender.replaceTrack(t._mediaStreamTrack);case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"restartICE",value:function(){var e=u(c().mark((function e(t,n,r){var i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.remoteSDP){e.next=3;break}throw new Error("Cannot restartICE before remoteSDP created.");case 3:return this.remoteSDP.restartICE(n,r),i=this.remoteSDP.toString(),o=this.logSDPExchange(t.sdp||"","offer","local","restartICE"),e.next=7,this.peerConnection.setLocalDescription(t);case 7:return null==o||o(i),e.next=10,this.peerConnection.setRemoteDescription({type:"answer",sdp:i});case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),new ix($N.EXCHANGE_SDP_FAILED,"P2PConnection.restartICE failed; ".concat(e.t0.toString()));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"bindPCEvents",value:function(){var e=this;this.peerConnection.oniceconnectionstatechange=function(){var t;null===(t=e.onICEConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=function(){var t;null===(t=e.onConnectionStateChange)||void 0===t||t.call(e,e.peerConnection.connectionState)},this.peerConnection.onicecandidate=function(t){t.candidate?e.localCandidateCount+=1:(e.peerConnection.onicecandidate=null,e.allCandidatesReceived=!0,px.debug("[pc-".concat(e.store.p2pId,"] local candidate count"),e.localCandidateCount))},setTimeout((function(){e.allCandidatesReceived||(e.allCandidatesReceived=!0,px.debug("[pc-".concat(e.store.p2pId,"] onicecandidate timeout, local candidate count"),e.localCandidateCount))}),Zx("CANDIDATE_TIMEOUT"))}},{key:"unbindPCEvents",value:function(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}},{key:"tryBindTransportEvents",value:function(e){var t=this;e.transport&&(this.transportEventReceiver=e,e.transport.onstatechange=function(){var n,r;null!==(n=e.transport)&&void 0!==n&&n.state&&(null===(r=t.onDTLSTransportStateChange)||void 0===r||r.call(t,e.transport.state))},e.transport.onerror=function(e){var n;null===(n=t.onDTLSTransportError)||void 0===n||n.call(t,e.error)},e.transport.iceTransport&&(e.transport.iceTransport.onstatechange=function(){var n,r,i;null!==(n=e.transport)&&void 0!==n&&n.iceTransport.state&&(null===(r=t.onICETransportStateChange)||void 0===r||r.call(t,null===(i=e.transport)||void 0===i?void 0:i.iceTransport.state))}))}},{key:"tryUnbindTransportEvents",value:function(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}},{key:"applySendEncodings",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s,u,l,d,f,p,h,v,g,A;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,qP().supportSetRtpSenderParameters){e.next=3;break}return e.abrupt("return");case 3:if(t.length===n.length){e.next=5;break}return e.abrupt("return");case 5:r=0;case 6:if(!(r<t.length)){e.next=32;break}if(i=t[r],!((o=n[r])&&o instanceof MX)){e.next=29;break}if(!this.isVP8Simulcast(o)){e.next=11;break}return e.abrupt("continue",29);case 11:u={},l={},e.t0=o._optimizationMode,e.next="motion"===e.t0?15:"detail"===e.t0?17:19;break;case 15:return u.degradationPreference="maintain-framerate",e.abrupt("break",20);case 17:return u.degradationPreference="maintain-resolution",e.abrupt("break",20);case 19:u.degradationPreference="balanced";case 20:return null!==(a=o._encoderConfig)&&void 0!==a&&a.bitrateMax&&(l.maxBitrate=1e3*(null===(d=o._encoderConfig)||void 0===d?void 0:d.bitrateMax)),o._hints.includes(gP.LOW_STREAM)&&(null!==(f=o._encoderConfig)&&void 0!==f&&f.frameRate&&(l.maxFramerate=OH(o._encoderConfig.frameRate)),null!==(p=o._encoderConfig)&&void 0!==p&&p.scaleResolutionDownBy&&(null===(h=o._encoderConfig)||void 0===h?void 0:h.scaleResolutionDownBy)>1&&(l.scaleResolutionDownBy=o._encoderConfig.scaleResolutionDownBy)),Zx("DSCP_TYPE")&&Kk()&&(v=Zx("DSCP_TYPE"),["very-low","low","medium","high"].includes(v)&&(l.networkPriority=v)),g=i.sender.getParameters(),A=null===(s=g.encodings)||void 0===s?void 0:s[0],Mk()&&!A&&(u.encodings=[l]),A&&Object.assign(A,l),Object.assign(g,u),e.next=29,i.sender.setParameters(g);case 29:r++,e.next=6;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),px.debug("Apply RTPSendEncodings failed.");case 37:case"end":return e.stop()}}),e,this,[[0,34]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"mungSendOfferSDP",value:function(e,t,n){var r=this,i=v1.exports.parse(e);return t.forEach((function(e,t){var o=n[t],a=i.mediaDescriptions.find((function(e){return e.attributes.mid===o}));a&&(C1(a,e),function(e,t,n){if(!Mk()&&"video"===e.media.mediaType&&t instanceof MX&&("vp9"===n||"vp8"===n)&&("vp8"!==n||Zx("SIMULCAST"))&&!(void 0===t._scalabiltyMode||t._scalabiltyMode.numSpatialLayers<=1)){for(var r="vp8"===n?2:t._scalabiltyMode.numSpatialLayers,i=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((function(e){return"FID"===e.semantic&&e.ssrcIds[0]===i.ssrcId})),a={semantic:"SIM",ssrcIds:[i.ssrcId]},s=1;s<r;s++)e.attributes.ssrcs.push({ssrcId:i.ssrcId+s,attributes:nq(i.attributes)}),a.ssrcIds.push(i.ssrcId+s),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+s,attributes:nq(i.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[i.ssrcId+s,o.ssrcIds[1]+s]}));e.attributes.ssrcGroups.unshift(a)}}(a,e,r.store.codec))})),v1.exports.print(i)}},{key:"bindStatsEvents",value:function(){var e=this;this.statsFilter.onFirstAudioReceived=function(t){var n;null===(n=e.onFirstAudioReceived)||void 0===n||n.call(e,t)},this.statsFilter.onFirstVideoReceived=function(t){var n;null===(n=e.onFirstVideoReceived)||void 0===n||n.call(e,t)},this.statsFilter.onFirstAudioDecoded=function(t){var n;null===(n=e.onFirstAudioDecoded)||void 0===n||n.call(e,t)},this.statsFilter.onFirstVideoDecoded=function(t,n,r){var i;null===(i=e.onFirstVideoDecoded)||void 0===i||i.call(e,t,n,r)},this.statsFilter.onSelectedLocalCandidateChanged=function(t,n){var r;null===(r=e.onSelectedLocalCandidateChanged)||void 0===r||r.call(e,t,n)},this.statsFilter.onSelectedRemoteCandidateChanged=function(t,n){var r;null===(r=e.onSelectedRemoteCandidateChanged)||void 0===r||r.call(e,t,n)},this.statsFilter.onFirstVideoDecodedTimeout=function(t){var n;null===(n=e.onFirstVideoDecodedTimeout)||void 0===n||n.call(e,t)}}},{key:"unbindStatsEvents",value:function(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}},{key:"applySimulcastForFirefox",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s,u,l,d,f,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length!==n.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(u=t[r],!((l=n[r])instanceof MX&&!l._hints.includes(gP.LOW_STREAM)&&null!==(i=l._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(o=l._encoderConfig)||void 0===o?void 0:o.bitrateMax)>200&&null!==(a=l._scalabiltyMode)&&void 0!==a&&a.numSpatialLayers&&(null===(s=l._scalabiltyMode)||void 0===s?void 0:s.numSpatialLayers)>1&&"vp8"===this.store.codec)){e.next=10;break}return d={},f={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4},d.encodings=[{rid:"m",active:!0,maxBitrate:f.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:f.high}],p=u.sender.getParameters(),e.next=10,u.sender.setParameters(Object.assign(p,d));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"applySimulcastEncodings",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mk()||t.length!==n.length){e.next=13;break}r=0;case 2:if(!(r<t.length)){e.next=13;break}if(!((i=n[r])instanceof MX&&this.isVP8Simulcast(i))){e.next=10;break}return o=t[r],a={},s={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4},a.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:s.medium,scaleResolutionDownBy:4}],u=o.sender.getParameters(),e.next=10,o.sender.setParameters(Object.assign(u,a));case 10:r++,e.next=2;break;case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"isVP8Simulcast",value:function(e){var t,n,r,i;return!!(e instanceof MX&&Zx("SIMULCAST")&&"vp8"===this.store.codec&&!e._hints.includes(gP.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(i=e._scalabiltyMode)||void 0===i?void 0:i.numSpatialLayers)>1)}},{key:"logSDPExchange",value:function(e,t,n,r){var i=this;if(Zx("SDP_LOGGING"))return px.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?function(e){i.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}},{key:"getRemoteSSRC",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.remoteSDP){e.next=2;break}return e.abrupt("return");case 2:return n=this.remoteSDP.getSSRC(t),e.abrupt("return",null==n?void 0:n[0].ssrcId);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"resolvePCConfiguration",value:function(e){var t,r,i={iceServers:[]};return e.iceServers?i.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(HL(e.turnServer.servers)?i.iceServers=e.turnServer.servers:(i.iceServers&&(t=i.iceServers).push.apply(t,h(n.turnServerConfigToIceServers(e.turnServer.servers))),Zx("USE_TURN_SERVER_OF_GATEWAY")&&i.iceServers&&e.turnServer.serversFromGateway&&(r=i.iceServers).push.apply(r,h(n.turnServerConfigToIceServers(e.turnServer.serversFromGateway))),Zx("FORCE_TURN_TCP")?i.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((function(e){e.forceturn&&(i.iceTransportPolicy="relay")})))),i}},{key:"turnServerConfigToIceServers",value:function(e){var t=[];return e.forEach((function(e){e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(RH(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!Zx("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}}]),n}(BP)).prototype,"connect",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"connect"),n0.prototype),oV(n0.prototype,"receive",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"receive"),n0.prototype),oV(n0.prototype,"batchReceive",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"batchReceive"),n0.prototype),oV(n0.prototype,"stopReceiving",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"stopReceiving"),n0.prototype),oV(n0.prototype,"muteRemote",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"muteRemote"),n0.prototype),oV(n0.prototype,"unmuteRemote",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"unmuteRemote"),n0.prototype),oV(n0.prototype,"muteLocal",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"muteLocal"),n0.prototype),oV(n0.prototype,"unmuteLocal",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"unmuteLocal"),n0.prototype),oV(n0.prototype,"reEstablish",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"reEstablish"),n0.prototype),oV(n0.prototype,"close",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"close"),n0.prototype),oV(n0.prototype,"updateEncoderConfig",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"updateEncoderConfig"),n0.prototype),oV(n0.prototype,"updateSendParameters",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"updateSendParameters"),n0.prototype),oV(n0.prototype,"replaceTrack",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"replaceTrack"),n0.prototype),oV(n0.prototype,"restartICE",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"restartICE"),n0.prototype),oV(n0.prototype,"getRemoteSSRC",[d0],Object.getOwnPropertyDescriptor(n0.prototype,"getRemoteSSRC"),n0.prototype),t0=n0))||t0;function d0(e,t,n){var r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=u(c().mark((function e(){var n,i,o,a,s,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.mutex,e.next=3,n.lock("From P2PConnection.".concat(t));case 3:for(i=e.sent,e.prev=4,o=u.length,a=new Array(o),s=0;s<o;s++)a[s]=u[s];return e.next=8,r.apply(this,a);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,i(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),n}function f0(e,t){var n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=OH(t.width),r.height=OH(t.height);var i=OH(t.framerate||15);document.body.append(n),document.body.append(r);var o=e._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();var a=r.getContext("2d");if(!a)throw new ix($N.UNEXPECTED_ERROR,"can not get canvas context");var s=qP(),c=r.captureStream(s.supportRequestFrame?0:i).getVideoTracks()[0],u=XV((function(){return function(){if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){var t=n.videoWidth,i=n.videoHeight/t,s=r.width*i;Math.abs(s-r.height)>=2&&(px.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(s)),r.height=s)}a.drawImage(n,0,0,r.width,r.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,n.srcObject=new MediaStream([o]))}()}),i),l=c.stop;return c.stop=function(){l.call(c),u(),n&&(n.remove(),n=null),r&&(r.width=0,r.remove(),r=null),px.debug("clean low stream renderer")},c}function p0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p0(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v0=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this,e,"track-".concat(e.kind,"-").concat(r,"-").concat(o.clientId,"_").concat(HH(5,""))),tO(l(a),"_userId",void 0),tO(l(a),"_uintId",void 0),tO(l(a),"_isDestroyed",!1),tO(l(a),"store",void 0),tO(l(a),"processor",void 0),tO(l(a),"processorContext",void 0),a._userId=r,a._uintId=i,a.store=o,a}return g(n,[{key:"getUserId",value:function(){return this._userId}},{key:"_updateOriginMediaStreamTrack",value:function(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}},{key:"_destroy",value:function(){this._isDestroyed=!0,px.info("[".concat(this.getTrackId(),"] is destroyed")),Dx("info",this,"_destroy"),this.stop(),i(o(n.prototype),"close",this).call(this)}}]),n}(PV),g0=Mx("RemoteVideoTrack","getTrackId")(c0=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this,e,r,i,o),tO(l(a),"_videoVisibleTimer",null),tO(l(a),"_previousVideoVisibleStatus",void 0),tO(l(a),"_clearPreviousVideoVisibleStatus",(function(){return a._previousVideoVisibleStatus=void 0})),tO(l(a),"trackMediaType","video"),tO(l(a),"_videoWidth",void 0),tO(l(a),"_videoHeight",void 0),tO(l(a),"_player",void 0),tO(l(a),"processorDestination",void 0),tO(l(a),"processorContext",void 0),Dx("info",l(a),"constructor",{userId:r}),a.updateMediaStreamTrackResolution(),a.processorContext=new lH(a.getTrackId()),a.processorDestination=new uH(a.processorContext),a.bindProcessorDestinationEvents(),a}return g(n,[{key:"isPlaying",get:function(){return!(!this._player||this._player.videoElementStatus!==XD.PLAYING)}},{key:"getStats",value:function(){var e=this;return iq((function(){px.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead"),kx("warning",e,"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),XH(this,vP.GET_STATS)||h0({},eP)}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",n]});if("string"==typeof e){var i=document.getElementById(e);i?e=i:(px.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),kx("warning",this,'can not find "#'.concat(e,'" element, use document.body')),e=document.body)}px.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(n)),Dx("debug",this,"play",n);var o=h0(h0({fit:"cover"},n),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(o):(this._player=new xJ(o),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=function(){t.store.subscribe(t.getUserId(),"video",void 0,void 0,Date.now()),t.emit(yP.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((function(){try{var n=t.getVideoElementVisibleStatus();t.emit(yP.VIDEO_ELEMENT_VISIBLE_STATUS,n)}catch(e){}}),Zx("CHECK_VIDEO_VISIBLE_INTERVAL")),r.onSuccess()}},{key:"stop",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,px.debug("[".concat(this.getTrackId(),"] stop video playback")),Dx("debug",this,"stop"),e.onSuccess()}},{key:"getCurrentFrameData",value:function(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}},{key:"updateMediaStreamTrackResolution",value:function(){var e=this;WH(this._originMediaStreamTrack).then((function(t){var n=s(t,2),r=n[0],i=n[1];e._videoHeight=i,e._videoWidth=r})).catch(KH)}},{key:"_updatePlayerSource",value:function(){px.debug("[".concat(this.getTrackId(),"] update player source track")),Dx("debug",this,"_updatePlayerSource"),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}},{key:"getVideoElementVisibleStatus",value:function(){try{var e,t,n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},i=r.element,o=r.slot;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){var a=DX.checkOneElementVisible(i),s=Object.assign({},a);if(s.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=s.visible;var c=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});s.visible?c.onSuccess("Video is visible"):c.onSuccess("Invisible because of ".concat(s.reason))}return s}return}catch(e){throw new ix($N.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}},{key:"pipe",value:function(e){if(this.processor===e)return e;if(e._source)throw new ix($N.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}},{key:"unpipe",value:function(){if(this.processor){var e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}}},{key:"bindProcessorDestinationEvents",value:function(){var e=this;this.processorDestination.on(UP.ON_TRACK,function(){var t=u(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n?n!==e._mediaStreamTrack&&(e._mediaStreamTrack=n,e._updatePlayerSource()):e._mediaStreamTrack!==e._originMediaStreamTrack&&(e._mediaStreamTrack=e._originMediaStreamTrack,e._updatePlayerSource());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(UP.ON_TRACK)}},{key:"_destroy",value:function(){i(o(n.prototype),"_destroy",this).call(this),this.unbindProcessorDestinationEvents()}}]),n}(v0))||c0,A0=Mx("RemoteAudioTrack","getTrackId")(u0=function(e){f(n,e);var t=p(n);function n(e,r,i,o){var a;return v(this,n),a=t.call(this,e,r,i,o),tO(l(a),"trackMediaType","audio"),tO(l(a),"_source",void 0),tO(l(a),"_useAudioElement",!0),tO(l(a),"_volume",100),tO(l(a),"processorContext",void 0),tO(l(a),"processorDestination",void 0),tO(l(a),"_played",!1),Dx("info",l(a),"constructor",{userId:r}),Zx("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(a._useAudioElement=!1),a._source=new tG(e,!0),a._source.once(FL.RECEIVE_TRACK_BUFFER,(function(){a.emit(yP.FIRST_FRAME_DECODED)})),a.processorContext=new fH(a._source.context,a.getTrackId()),a.processorDestination=new dH(a.processorContext),a.bindProcessorDestinationEvents(),a._source.on(FL.UPDATE_SOURCE,(function(){a.processor&&a.processor.updateInput({node:a._source.processSourceNode,context:a.processorContext})})),a}return g(n,[{key:"isPlaying",get:function(){return this._useAudioElement?_G.isPlaying(this.getTrackId()):this._source.isPlayed}},{key:"setAudioFrameCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(FL.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(FL.ON_AUDIO_BUFFER),this._source.on(FL.ON_AUDIO_BUFFER,(function(t){return e(t)}))}},{key:"setVolume",value:function(e){var t=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_AUDIO_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._useAudioElement?_G.setVolume(this.getTrackId(),e):this._source.setVolume(e/100),t.onSuccess()}},{key:"setPlaybackDevice",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),t]}),this._useAudioElement){e.next=3;break}throw new ix($N.NOT_SUPPORTED,"your browser does not support setting the audio output device");case 3:return e.prev=3,e.next=6,_G.setSinkID(this.getTrackId(),t);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),n.onError(e.t0),e.t0;case 11:n.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVolumeLevel",value:function(){return this._source.getAccurateVolumeLevel()}},{key:"getStats",value:function(){var e=this;return iq((function(){px.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead"),kx("warning",e,"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),XH(this,vP.GET_STATS)||h0({},ZL)}},{key:"play",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});px.debug("[".concat(this.getTrackId(),"] start audio playback")),Dx("debug",this,"play"),this._played=!0,this._useAudioElement?(px.debug("[".concat(this.getTrackId(),"] use audio element to play")),kx("debug",this,"use audio element to play"),_G.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play(),e.onSuccess()}},{key:"stop",value:function(){var e=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.REMOTE_AUDIO_TRACK_STOP,options:[this.getTrackId()]});px.debug("[".concat(this.getTrackId(),"] stop audio playback")),Dx("debug",this,"stop"),this._played=!1,this._useAudioElement?_G.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}},{key:"_destroy",value:function(){i(o(n.prototype),"_destroy",this).call(this),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}},{key:"_isFreeze",value:function(){return this._source.isFreeze}},{key:"_updatePlayerSource",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];px.debug("[".concat(this.getTrackId(),"] update player source track")),Dx("debug",this,"_updatePlayerSource"),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&_G.updateTrack(this.getTrackId(),this._mediaStreamTrack)}},{key:"pipe",value:function(e){if(this.processor===e)return e;if(e._source)throw new ix($N.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}},{key:"unpipe",value:function(){var e;if(this.processor){var t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}}},{key:"bindProcessorDestinationEvents",value:function(){var e=this;this.processorDestination.on(UP.ON_TRACK,function(){var t=u(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n?n!==e._mediaStreamTrack&&(e._mediaStreamTrack=n,e._updatePlayerSource(!1),e._source.processedNode=e._source.createMediaStreamSourceNode(n)):e._mediaStreamTrack!==e._originMediaStreamTrack&&(e._mediaStreamTrack=e._originMediaStreamTrack,e._updatePlayerSource());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.processorDestination.on(UP.ON_NODE,(function(t){e._source.processedNode=t;var n=!t;e._useAudioElement!==n&&(e._played?(e.stop(),e._useAudioElement=n,e.play()):e._useAudioElement=n)}))}},{key:"unbindProcessorDestinationEvents",value:function(){this.processorDestination.removeAllListeners(UP.ON_TRACK),this.processorDestination.removeAllListeners(UP.ON_NODE)}}]),n}(v0))||u0;function m0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m0(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y0,b0,C0=function(e){f(n,e);var t=p(n);function n(){var e;return v(this,n),e=t.call(this),tO(l(e),"uplinkStatsUploadInterval",void 0),tO(l(e),"uplinkStatsUploadSlowInterval",void 0),tO(l(e),"uplinkRelatedStatsUploadInterval",void 0),tO(l(e),"uplinkDenoiserStatsUploadInterval",void 0),tO(l(e),"transportStatsUploadInterval",void 0),tO(l(e),"extensionStatsUploadInterval",void 0),tO(l(e),"downlinkStatsUploadInterval",void 0),tO(l(e),"downlinkStatsUploadSlowInterval",void 0),tO(l(e),"downlinkRelatedStatsUploadInterval",void 0),tO(l(e),"lastStats",void 0),tO(l(e),"uploadUnplinkStarted",!1),tO(l(e),"uploadDownlinkStarted",!1),tO(l(e),"uploadTransportStarted",!1),tO(l(e),"requestStats",void 0),tO(l(e),"requestLocalMedia",void 0),tO(l(e),"requestRemoteMedia",void 0),tO(l(e),"requestAllTracks",void 0),tO(l(e),"requestVideoIsReady",void 0),tO(l(e),"requestUpload",void 0),e}return g(n,[{key:"startUploadTransportStats",value:function(){var e=this;this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&e.uploadTransportStats(n)}),6e3))}},{key:"startUploadUplinkStats",value:function(){var e=this;this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&(e.uploadUplinkStats(n,e.lastStats),e.lastStats=n)}),3e3),this.uplinkStatsUploadSlowInterval&&window.clearInterval(this.uplinkStatsUploadSlowInterval),this.uplinkStatsUploadSlowInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&e.uploadSlowUplinkStats(n)}),6e4),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&e.uploadRelatedUplinkStats(n,e.lastStats),e.lastStats=n}),1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestAllTracks)||void 0===t?void 0:t.call(e);n&&e.uploadDenoiserStats(n)}),2e3),this.extensionStatsUploadInterval&&window.clearInterval(this.extensionStatsUploadInterval),this.extensionStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestAllTracks)||void 0===t?void 0:t.call(e);n&&e.uploadExtensionStats(n)}),2e3))}},{key:"uploadTransportStats",value:function(e){var t=this;tq((function(){var n;null===(n=t.requestUpload)||void 0===n||n.call(t,BL.TRANSPORT_STATS,function(e){var t={connectionType:100};if("relay"===e.selectedCandidatePair.localCandidate.candidateType){var n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t.connectionType=101),"tcp"===n&&(t.connectionType=103),"tls"===n&&(t.connectionType=104)}return t}(e))}))}},{key:"uploadUplinkStats",value:function(e,t){var n,r=this;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).forEach((function(n){var i=s(n,2),o=i[0],a=i[1],c=a.track,u=a.ssrcs;switch(o){case NP.LocalVideoLowTrack:case NP.LocalVideoTrack:var l=function(e,t,n){var r,i=t.videoSend.find((function(t){return t.ssrc===e}));if(!i)return null;var o={id:HH(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:i.ssrc.toString()};switch(o.A_vstd=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||!n._mediaStreamTrack.enabled?"1":"0",i.sentFrame&&(o.A_fhs=i.sentFrame.height.toString(),o.A_frs=i.sentFrame.frameRate.toString(),o.A_fws=i.sentFrame.width.toString()),i.adaptionChangeReason){case"none":o.A_ac="0";break;case"cpu":o.A_ac="1";break;case"bandwidth":o.A_ac="2";break;case"other":o.A_ac="3"}return o.A_lvps=vL[n._player?n._player.videoElementStatus:"uninit"].toString(),o.A_nr=null===(r=i.nacksCount)||void 0===r?void 0:r.toString(),i.avgEncodeMs&&(o.A_aem=i.avgEncodeMs.toFixed(0).toString()),o}(u[0].ssrcId,e,c),d=xH(u[0].ssrcId,e,t);l&&tq((function(){var e;return null===(e=r.requestUpload)||void 0===e?void 0:e.call(r,BL.PUBLISH_STATS,{stream_type:o===NP.LocalVideoLowTrack?"low":"high",stats:E0(E0({},l),d)})}));break;case NP.LocalAudioTrack:var f=function(e,t,n){var r=t.audioSend.find((function(t){return t.ssrc===e}));if(!r)return null;var i={id:HH(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return i.A_astd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1",r.inputLevel?i.A_ail=Math.round(100*r.inputLevel).toString():i.A_ail=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),i.A_apil=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),r.aecReturnLoss&&(i.A_ecrl=Math.round(r.aecReturnLoss).toString()),r.aecReturnLossEnhancement&&(i.A_ecrle=Math.round(r.aecReturnLossEnhancement).toString()),i}(u[0].ssrcId,e,c);f&&tq((function(){var e;return null===(e=r.requestUpload)||void 0===e?void 0:e.call(r,BL.PUBLISH_STATS,{stream_type:"high",stats:f})}))}var p=function(e){var t={id:"bweforvideo",timestamp:new Date(e.timestamp).toISOString(),type:"VideoBwe"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);p&&tq((function(){var e;return null===(e=r.requestUpload)||void 0===e?void 0:e.call(r,BL.PUBLISH_STATS,{stream_type:o===NP.LocalVideoLowTrack?"low":"high",stats:p})}))}))}},{key:"uploadSlowUplinkStats",value:function(e){var t,n=this;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).filter((function(e){var t=s(e,1)[0];return t===NP.LocalVideoLowTrack||t===NP.LocalVideoTrack})).forEach((function(t){var r=s(t,2),i=r[0],o=xH(r[1].ssrcs[0].ssrcId,e);o&&tq((function(){var e;return null===(e=n.requestUpload)||void 0===e?void 0:e.call(n,BL.PUBLISH_STATS,{stream_type:i===NP.LocalVideoLowTrack?"low":"high",stats:o})}))}))}},{key:"uploadRelatedUplinkStats",value:function(e,t){var n,r=this;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).filter((function(e){var t=s(e,1)[0];return t===NP.LocalVideoLowTrack||t===NP.LocalVideoTrack})).forEach((function(t){var n=s(t,2),i=n[0],o=function(e,t){var n=t.videoSend.find((function(t){return t.ssrc===e}));return n?{mediaType:"video",isVideoMute:!1,frameRateInput:n.inputFrame&&n.inputFrame.frameRate.toString(),frameRateSent:n.sentFrame&&n.sentFrame.frameRate.toString(),googRtt:n.rttMs.toString(),qpSumPerFrame:Math.floor(n.qpSumPerFrame).toString()}:null}(n[1].ssrcs[0].ssrcId,e);o&&tq((function(){var e;null===(e=r.requestUpload)||void 0===e||e.call(r,BL.PUBLISH_RELATED_STATS,{stream_type:i===NP.LocalVideoLowTrack?"low":"high",stats:o})}))}))}},{key:"uploadDenoiserStats",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n instanceof gH){var r,i,o,a=null===(r=(i=n._external).getDenoiserStats)||void 0===r?void 0:r.call(i);return void(a&&(null===(o=this.requestUpload)||void 0===o||o.call(this,BL.DENOISER_STATS,a)))}}}},{key:"uploadExtensionStats",value:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n];if(r instanceof gH)return void r.getProcessorStats().forEach((function(e){var n;e.type===BL.DENOISER_STATS&&(null===(n=t.requestUpload)||void 0===n||n.call(t,BL.DENOISER_STATS,e.stats))}))}}},{key:"stopUploadUplinkStats",value:function(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}},{key:"startUploadDownlinkStats",value:function(){var e=this;this.uploadDownlinkStarted||(this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&(e.uploadDownlinkStats(n,e.lastStats),e.lastStats=n)}),3e3),this.downlinkStatsUploadSlowInterval&&window.clearInterval(this.downlinkStatsUploadSlowInterval),this.downlinkStatsUploadSlowInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&e.uploadSlowDownlinkStats(n)}),6e4),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval((function(){var t,n=null===(t=e.requestStats)||void 0===t?void 0:t.call(e);n&&(e.uploadRelatedDownlinkStats(n,e.lastStats),e.lastStats=n)}),1e3))}},{key:"uploadDownlinkStats",value:function(e,t){var n,r=this;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((function(t){var n=s(t,2),i=n[0],o=n[1];if(o.has(OP.VIDEO)&&i.videoTrack){var a=i.videoTrack?function(e,t,n){var r=t.videoRecv.find((function(t){return t.ssrc===e}));if(!r)return null;var i,o,a={id:HH(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:r.ssrc.toString()};return a.bytesReceived=r.bytes.toString(),a.packetsLost=r.packetsLost.toString(),a.packetsReceived=r.packets.toString(),r.framesRateFirefox&&(a.A_frr=r.framesRateFirefox.toString()),r.receivedFrame?(a.A_frr=r.receivedFrame.frameRate.toString(),a.A_fhr=r.receivedFrame.height.toString(),a.A_fwr=r.receivedFrame.width.toString()):(a.A_fhr=null===(i=n._videoHeight)||void 0===i?void 0:i.toString(),a.A_fwr=null===(o=n._videoWidth)||void 0===o?void 0:o.toString()),a.A_frd=r.decodeFrameRate.toString(),r.outputFrame&&(a.A_fro=r.outputFrame.frameRate.toString()),void 0!==r.jitterBufferMs&&(a.A_jbm=Math.floor(r.jitterBufferMs).toString()),void 0!==r.currentDelayMs&&(a.A_cdm=Math.floor(r.currentDelayMs).toString()),a.A_fs=r.firsCount.toString(),a.A_ns=r.nacksCount.toString(),a.A_ps=r.plisCount.toString(),n&&(a.A_vrtd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1"),n._player&&n._player.freezeTimeCounterList.length>0&&(a.A_vrft=n._player.freezeTimeCounterList.splice(0,1)[0].toString()),a.A_rvps=vL[n._player?n._player.videoElementStatus:"uninit"].toString(),a}(i._videoSSRC,e,i.videoTrack):void 0;a&&tq((function(){var e;return null===(e=r.requestUpload)||void 0===e?void 0:e.call(r,BL.SUBSCRIBE_STATS,{stream_id:i.uid,stats:a})}))}if(o.has(OP.AUDIO)&&i.audioTrack){var c=i.audioTrack?function(e,t,n){var r=t.audioRecv.find((function(t){return t.ssrc===e}));if(!r)return null;var i={id:HH(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return i.bytesReceived=r.bytes.toString(),i.packetsLost=r.packetsLost.toString(),i.packetsReceived=r.packets.toString(),r.outputLevel?i.A_aol=Math.round(100*r.outputLevel).toString():i.A_aol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),i.A_apol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),n&&(i.A_artd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1"),i.A_jr=r.jitterMs.toString(),i.A_jbm=Math.floor(r.jitterBufferMs).toString(),i.A_cdm=Math.floor(r.jitterBufferMs).toString(),i.A_raps=vL[_G.getPlayerState(n.getTrackId())].toString(),i}(i._audioSSRC,e,i.audioTrack):void 0;c&&tq((function(){var e;return null===(e=r.requestUpload)||void 0===e?void 0:e.call(r,BL.SUBSCRIBE_STATS,{stream_id:i.uid,stats:c})}))}}))}},{key:"uploadSlowDownlinkStats",value:function(e){}},{key:"uploadRelatedDownlinkStats",value:function(e,t){var n,r=this;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((function(n){var i=s(n,2),o=i[0],a=i[1];if(a.has(OP.VIDEO)&&o.videoTrack){var c,u=!0===(o._videoSSRC&&(null===(c=r.requestVideoIsReady)||void 0===c?void 0:c.call(r,o._videoSSRC))||!1),l=function(e,t,n,r,i,o){var a=n.videoRecv.find((function(t){return t.ssrc===e})),s=i?i.videoRecv.find((function(t){return t.ssrc===e})):void 0;if(!a)return null;var c=IH.isRemoteVideoFreeze(o,a,s)&&t,u={mediaType:"video",isVideoMute:!1,peerId:r,frameRateReceived:a.receivedFrame&&a.receivedFrame.frameRate.toString(),frameRateDecoded:a.decodedFrame&&a.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:a.bytes.toString(),packetsReceived:a.packets.toString(),packetsLost:a.packetsLost.toString(),qpSumPerFrame:Math.floor(a.qpSumPerFrame).toString()};return a.framesRateFirefox&&(u.frameRateDecoded=a.framesRateFirefox.toString(),u.frameRateReceived=a.framesRateFirefox.toString()),u}(o._videoSSRC,u,e,o.uid,t,o.videoTrack);l&&tq((function(){var e;null===(e=r.requestUpload)||void 0===e||e.call(r,BL.SUBSCRIBE_RELATED_STATS,{stream_id:o.uid,stats:l})}))}if(a.has(OP.AUDIO)&&o.audioTrack){var d=function(e,t,n,r){var i=t.audioRecv.find((function(t){return t.ssrc===e}));if(!i)return null;var o=IH.isRemoteAudioFreeze(r);return{mediaType:"audio",isAudioMute:!1,peerId:n,googJitterReceived:i.jitterMs.toString(),isFreeze:o,bytesReceived:i.bytes.toString(),packetsReceived:i.packets.toString(),packetsLost:i.packetsLost.toString(),frameReceived:i.receivedFrames.toString(),frameDropped:i.droppedFrames.toString()}}(o._audioSSRC,e,o.uid,o.audioTrack);d&&tq((function(){var e;null===(e=r.requestUpload)||void 0===e||e.call(r,BL.SUBSCRIBE_RELATED_STATS,{stream_id:o.uid,stats:d})}))}}))}},{key:"stopUploadDownlinkStats",value:function(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}},{key:"stopUploadTransportStats",value:function(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}}]),n}(nx);function _0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_0(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w0(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Y$,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new S0(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function S0(e){function t(e){if(Object(e)!==e)return wI.reject(new TypeError(e+" is not an object."));var t=e.done;return wI.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(S0=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?wI.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?wI.reject(e):t(n.apply(this.s,arguments))}},new S0(e)}var T0=Mx("P2PChannel","store.p2pId")((oV((b0=function(e){f(n,e);var t=p(n);function n(e,r){var i;return v(this,n),i=t.call(this),tO(l(i),"store",void 0),tO(l(i),"statsUploader",void 0),tO(l(i),"connection",void 0),tO(l(i),"localTrackMap",new Map),tO(l(i),"remoteUserMap",new Map),tO(l(i),"pendingLocalTracks",[]),tO(l(i),"pendingRemoteTracks",[]),tO(l(i),"statsCollector",void 0),tO(l(i),"isPlanB",!1),tO(l(i),"iceFailedCount",0),tO(l(i),"dtlsFailedCount",0),tO(l(i),"mutex",new BV("P2PChannel-mutex")),tO(l(i),"_state",xP.Disconnected),tO(l(i),"handleMuteLocalTrack",function(){var e=u(c().mark((function e(t,n,r){var o,a,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");case 2:if(o=e.sent,e.prev=3,i.connection){e.next=6;break}return e.abrupt("return",void r(new ix($N.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established.")));case 6:return Dx("debug",l(i),"handleMuteLocalTrack",t.getTrackId()),e.next=9,i.waitTillConnected();case 9:if(0!==(a=i.filterTobeMutedTracks(t)).length){e.next=12;break}return e.abrupt("return",void n());case 12:return u=a.find((function(e){return"videoLowTrack"===e[0]})),u&&u[1].track._originMediaStreamTrack.stop(),e.next=16,i.connection.muteLocal(a.map((function(e){return s(e,2)[1].id})));case 16:return d=i.createMuteMessage(a),e.next=19,JH(l(i),DP.RequestMuteLocal,d);case 19:n(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),r(e.t0);case 25:return e.prev=25,o(),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[3,22,25,28]])})));return function(t,n,r){return e.apply(this,arguments)}}()),tO(l(i),"handleUnmuteLocalTrack",function(){var e=u(c().mark((function e(t,n,r){var o,a,u,d,f,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");case 2:if(o=e.sent,e.prev=3,i.connection){e.next=6;break}return e.abrupt("return",void r(new ix($N.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.")));case 6:return Dx("debug",l(i),"handleUnmuteLocalTrack",t.getTrackId()),e.next=9,i.waitTillConnected();case 9:if(0!==(a=i.filterTobeUnmutedTracks(t)).length){e.next=12;break}return e.abrupt("return",void n());case 12:if(u=a.find((function(e){return"videoLowTrack"===e[0]})),!u){e.next=18;break}return(d=u[1]).track._originMediaStreamTrack.stop(),qP().supportDualStreamEncoding?(f=t._mediaStreamTrack.clone(),d.track._mediaStreamTrack=f,d.track._originMediaStreamTrack=f):(p=f0(t,ZH(l(i),DP.RequestLowStreamParameter)),d.track._mediaStreamTrack=p,d.track._originMediaStreamTrack=p),e.next=18,new wI((function(e,t){i.handleReplaceTrack(d.track,e,t,!0)}));case 18:return e.next=20,i.connection.unmuteLocal(a.map((function(e){return s(e,2)[1].id})));case 20:return h=i.createUnmuteMessage(a),e.next=23,JH(l(i),DP.RequestUnmuteLocal,h);case 23:n(),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(3),r(e.t0);case 29:return e.prev=29,o(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[3,26,29,32]])})));return function(t,n,r){return e.apply(this,arguments)}}()),tO(l(i),"handleUpdateVideoEncoder",function(){var e=u(c().mark((function e(t,n,r){var o,a,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");case 2:if(o=e.sent,e.prev=3,a=i.localTrackMap.get(NP.LocalVideoTrack),i.connection&&a&&a.track===t){e.next=7;break}return e.abrupt("return",void n());case 7:return e.next=9,i.waitTillConnected();case 9:return s=a.id,u=a.track,e.next=12,i.connection.updateSendParameters(s,u);case 12:return e.next=14,i.connection.updateEncoderConfig(s,u);case 14:i.emit(DP.UpdateVideoEncoder,u),n(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r(e.t0);case 21:return e.prev=21,o(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})));return function(t,n,r){return e.apply(this,arguments)}}()),tO(l(i),"handleSetOptimizationMode",function(){var e=u(c().mark((function e(t,n,r){var o,a,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");case 2:if(o=e.sent,e.prev=3,a=i.localTrackMap.get(NP.LocalVideoTrack),i.connection&&a&&a.track===t){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,i.waitTillConnected();case 9:return s=a.id,u=a.track,e.next=12,i.connection.updateSendParameters(s,u);case 12:n(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r(e.t0);case 18:return e.prev=18,o(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})));return function(t,n,r){return e.apply(this,arguments)}}()),tO(l(i),"handleReplaceTrack",function(){var e=u(c().mark((function e(t,n,r,o){var a,u,l,d,f,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(px.debug("P2PChannel handleReplaceTrack for [track-id-".concat(t.getTrackId(),"]")),e.t0="boolean"==typeof o&&o,e.t0){e.next=6;break}return e.next=5,i.mutex.lock("From P2PChannel.handleReplaceTrack");case 5:a=e.sent;case 6:if(e.prev=6,l=Array.from(i.localTrackMap.entries()).find((function(e){var n=s(e,2)[1].track;return t===n})),i.connection&&l){e.next=10;break}return e.abrupt("return",void n());case 10:return e.next=12,i.waitTillConnected();case 12:return e.next=14,null===(u=i.connection)||void 0===u?void 0:u.replaceTrack(t,l[1].id);case 14:if(!i.isPlanB){e.next=17;break}(d=l[1]).id=t._mediaStreamTrack.id,i.localTrackMap.set(l[0],d);case 17:if(l[0]!==NP.LocalVideoTrack||!qP().supportDualStreamEncoding){e.next=26;break}if(!(f=i.localTrackMap.get(NP.LocalVideoLowTrack))){e.next=26;break}return p=t._mediaStreamTrack.clone(),f.track._originMediaStreamTrack.stop(),f.track._mediaStreamTrack=p,f.track._originMediaStreamTrack=p,e.next=26,new wI((function(e,t){i.handleReplaceTrack(f.track,e,t,!0)}));case 26:n(),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(6),r(e.t1);case 32:return e.prev=32,null===(h=a)||void 0===h||h(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[6,29,32,35]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()),tO(l(i),"handleGetLocalVideoStats",(function(e){e(i.statsCollector.getLocalVideoTrackStats())})),tO(l(i),"handleGetLocalAudioStats",(function(e){e(i.statsCollector.getLocalAudioTrackStats())})),tO(l(i),"handleGetRemoteVideoStats",(function(e){return i.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid]})),tO(l(i),"handleGetRemoteAudioStats",(function(e){return i.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid]})),i.store=e,i.statsCollector=r,i.statsCollector.addP2PChannel(l(i)),i.statsUploader=new C0,i.bindStatsUploaderEvents(),i.isPlanB=!qP().supportUnifiedPlan||Zx("CHROME_FORCE_PLAN_B")&&Kk(),i}return g(n,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;this._state=e,this.emit(DP.StateChange,t,this._state)}},{key:"startP2PConnection",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.state=xP.New,this.connection=this.isPlanB?new $1(t,this.store):new l0(t,this.store),this.bindConnectionEvents(this.connection),this.connection.establish()));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connect",value:function(){var e=u(c().mark((function e(t,n,r,i,o,a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}throw new ix($N.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");case 2:return this.store.peerConnectionStart(),e.next=5,this.connection.connect(t,n,r,i,o,a);case 5:this.statsUploader.startUploadTransportStats(),this.state=xP.Connected;case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i,o,a){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(e,t,n){var r=this;return H$(c().mark((function i(){var o,a,s;return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,q$(r.mutex.lock("From P2PChannel.publish"));case 2:if(o=i.sent,i.prev=3,r.connection){i.next=10;break}if(r.state!==xP.Disconnected){i.next=7;break}throw new ix($N.UNEXPECTED_ERROR,"PeerConnection already disconnected.");case 7:return r.throwIfTrackTypeNotMatch(e),a=e.filter((function(e){return-1===r.pendingLocalTracks.indexOf(e)})),i.abrupt("return",void(r.pendingLocalTracks=r.pendingLocalTracks.concat(a)));case 10:return r.store.pubId=r.store.pubId+1,bH.markPublishStart(r.store.clientId,r.store.pubId),i.next=14,q$(r.waitTillConnected());case 14:if(0!==(s=r.filterTobePublishedTracks(e,t,n)).length){i.next=19;break}return i.next=18,q$(r.tryToUnmuteAudio(e));case 18:return i.abrupt("return",void i.sent);case 19:return i.delegateYield(W$(w0(r.doPublish(r.connection,s)),q$),"t0",20);case 20:return i.prev=20,o(),i.finish(20);case 23:case"end":return i.stop()}}),i,null,[[3,,20,23]])})))()}},{key:"doPublish",value:function(e,t){var n=this;return H$(c().mark((function r(){var i,o,a,s,u,l;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.forEach((function(e){var t=e.track,r=e.type,i=Date.now();n.store.publish(t.getTrackId(),r===NP.LocalAudioTrack?"audio":"video",i)})),n.bindLocalTrackEvents(t),r.next=3,q$(e.send(t.map((function(e){return e.track})),n.store.codec,n.store.audioCodec));case 3:return i=r.sent,r.next=6,q$(i.next());case 6:return o=r.sent.value,a=n.createGatewayPublishMessage(t,o),r.prev=8,r.next=11,a;case 11:s=r.sent,r.next=17;break;case 14:throw r.prev=14,r.t0=r.catch(8),kx("error",n,"doPublish yield error: ".concat(r.t0.toString())),i.throw(r.t0),(null==r.t0?void 0:r.t0.code)===$N.WS_ABORT&&t.forEach((function(e){var t=e.track;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),r.t0;case 17:return u=n.mapPubResToRemoteConfig(a,s),Dx("debug",n,"doPublish",{remoteConfigs:u,tracks:t.map((function(e){return e.track.getTrackId()})),pubMsg:a,pubAns:s}),r.next=21,q$(i.next(u));case 21:l=r.sent.value,t.forEach((function(e){var t=e.type;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,l),n.statsUploader.startUploadUplinkStats(),t.forEach((function(e){var t=e.track,r=e.type,i=Date.now();n.store.publish(t.getTrackId(),r===NP.LocalAudioTrack?"audio":"video",void 0,i)}));case 23:case"end":return r.stop()}}),r,null,[[8,14]])})))()}},{key:"publishLowStream",value:function(e){var t=this;return H$(c().mark((function n(){var r,i,o,a,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.connection){n.next=2;break}return n.abrupt("return");case 2:return Dx("debug",t,"publishLowStream",e),n.next=5,q$(t.mutex.lock("Locking from P2PChannel.publishLowStream"));case 5:if(r=n.sent,n.prev=6,i=t.localTrackMap.get(NP.LocalVideoTrack)){n.next=10;break}throw new ix($N.UNEXPECTED_ERROR,"Could not find high stream");case 10:if(!t.localTrackMap.has(NP.LocalVideoLowTrack)){n.next=12;break}throw new ix($N.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));case 12:return n.next=14,q$(t.waitTillConnected());case 14:return o=[{track:t.getLowVideoTrack(i.track,e),type:NP.LocalVideoLowTrack}],n.delegateYield(W$(w0(t.doPublish(t.connection,o)),q$),"t0",16);case 16:if(!i.track.muted&&i.track.enabled){n.next=22;break}if(s=null===(a=t.localTrackMap.get(NP.LocalVideoLowTrack))||void 0===a?void 0:a.id,n.t1=void 0!==s,!n.t1){n.next=22;break}return n.next=22,q$(t.connection.muteLocal([s]));case 22:return n.prev=22,r(),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[6,,22,25]])})))()}},{key:"republish",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pendingLocalTracks.length>0,!e.t0){e.next=8;break}return px.debug("Emit P2PChannelEvents.RequestRePublish to republish tracks."),Dx("debug",this,"republish",this.pendingLocalTracks.map((function(e){return e.getTrackId()}))),e.next=6,zH(this,DP.RequestRePublish,this.pendingLocalTracks);case 6:this.emit(DP.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[];case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reSubscribe",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,s,u,l,d,f,p=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(Dx("debug",this,"reSubscribe",this.pendingRemoteTracks.map((function(e){return e.user.uid}))),n=this.pendingRemoteTracks.length-1;n>=0;n--)r=this.pendingRemoteTracks[n],i=r.user,((o=r.kind)!==OP.AUDIO||i._audio_added_&&i._audioSSRC)&&(o!==OP.VIDEO||i._video_added_&&i._videoSSRC)||this.pendingRemoteTracks.splice(n,1);if(!t){e.next=7;break}return e.next=5,zH(this,DP.RequestReSubscribe,this.pendingRemoteTracks);case 5:e.next=24;break;case 7:s=a(this.pendingRemoteTracks),e.prev=8,s.s();case 10:if((u=s.n()).done){e.next=16;break}return l=u.value,d=l.user,f=l.kind,e.next=14,this.subscribe(d,f,f===OP.VIDEO?d._videoSSRC:d._audioSSRC);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),s.e(e.t0);case 21:return e.prev=21,s.f(),e.finish(21);case 24:this.pendingRemoteTracks.forEach((function(e){var t=e.user;p.emit(DP.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[];case 25:case"end":return e.stop()}}),e,this,[[8,18,21,24]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unpublish",value:function(){var e=u(c().mark((function e(t){var n,r,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return",void t.forEach((function(e){var t=i.pendingLocalTracks.indexOf(e);-1!==t&&i.pendingLocalTracks.splice(t,1)})));case 2:return e.next=4,this.waitTillConnected();case 4:if(0!==(n=this.filterTobeUnpublishedTracks(t)).length){e.next=7;break}return e.abrupt("return");case 7:return r=n.find((function(e){return"videoLowTrack"===e[0]})),r&&r[1].track.close(),e.abrupt("return",(Dx("debug",this,"unpublish"),this.doUnpublish(this.connection,n)));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unpublishLowStream",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return");case 2:if(Dx("debug",this,"unpublishLowStream"),t=this.localTrackMap.get(NP.LocalVideoLowTrack)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.waitTillConnected();case 8:return t.track.close(),n=[[NP.LocalVideoLowTrack,t]],e.abrupt("return",this.doUnpublish(this.connection,n));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doUnpublish",value:function(){var e=u(c().mark((function e(t,n){var r,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.createGatewayUnpublishMessage(n),e.next=3,t.stopSending(n.map((function(e){return s(e,2)[1].id})));case 3:return this.withdrawLocalTracks(n),this.unbindLocalTrackEvents(n.map((function(e){var t=s(e,2);return{type:t[0],track:t[1].track}}))),n.forEach((function(e){var t=s(e,1)[0];i.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"subscribe",value:function(){var e=u(c().mark((function e(t,n,r,i,o){var a,s,u,l,d,f,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}throw new ix($N.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");case 2:if(Dx("debug",this,"subscribe",{uid:t.uid,mediaType:n,ssrcId:r}),null===(a=this.remoteUserMap.get(t))||void 0===a||!a.has(n)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.waitTillConnected();case 6:if(!o){e.next=16;break}if(l=o.find((function(e){return e.stream_type===n})),l){e.next=10;break}throw new ix($N.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(n," for user: ").concat(t.uid," because subscribe answer from gateway does not contain stream_type: ").concat(n,"."));case 10:return e.next=12,this.connection.receive(n,l.ssrcs,String(t._uintid),l.attributes);case 12:d=e.sent,s=d.track,u=d.id,e.next=20;break;case 16:return e.next=18,this.connection.receive(n,[{ssrcId:r,rtx:i}],String(t._uintid),void 0);case 18:f=e.sent,s=f.track,u=f.id;case 20:n===OP.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(s):(t._audioTrack=new A0(s,t.uid,t._uintid,this.store),px.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(s):(t._videoTrack=new g0(s,t.uid,t._uintid,this.store),px.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(t,t._videoTrack)),(p=this.remoteUserMap.get(t))?p.set(n,u):this.remoteUserMap.set(t,new Map([[n,u]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadDownlinkStats(),h=this.pendingRemoteTracks.findIndex((function(e){var r=e.user,i=e.kind;return r.uid===t.uid&&n===i})),-1!==h&&(this.pendingRemoteTracks.splice(h,1),this.emit(DP.MediaReconnectEnd,t.uid));case 25:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i,o){return e.apply(this,arguments)}return t}()},{key:"massSubscribe",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.massSubscribeNoLock(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"massSubscribeNoLock",value:function(){var e=u(c().mark((function e(t){var n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}throw new ix($N.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");case 2:return Dx("debug",this,"subscribeAll",t.map((function(e){var t=e.user,n=e.mediaType,r=e.ssrcId;return{uid:t.uid,mediaType:n,ssrcId:r}}))),t=t.filter((function(e){var t,n=e.user,i=e.mediaType;return!(null!==(t=r.remoteUserMap.get(n))&&void 0!==t&&t.has(i))})),e.next=6,this.waitTillConnected();case 6:return e.next=8,this.connection.batchReceive(t.map((function(e){var t=e.user;return{kind:e.mediaType,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtxSsrcId}],mslabel:String(t._uintid)}})));case 8:n=e.sent,t.forEach((function(e,t){var i=e.user,o=e.mediaType,a=n[t],s=a.track,c=a.id;o===OP.AUDIO?(i._audioTrack?i._audioTrack._updateOriginMediaStreamTrack(s):(i._audioTrack=new A0(s,i.uid,i._uintid,r.store),px.info("[".concat(r.store.p2pId,"] create remote audio track: ").concat(i._audioTrack.getTrackId()))),r.bindRemoteTrackEvents(i,i._audioTrack)):(i._videoTrack?i._videoTrack._updateOriginMediaStreamTrack(s):(i._videoTrack=new g0(s,i.uid,i._uintid,r.store),px.info("[".concat(r.store.p2pId,"] create remote video track: ").concat(i._videoTrack.getTrackId()))),r.bindRemoteTrackEvents(i,i._videoTrack));var u=r.remoteUserMap.get(i);u?u.set(o,c):r.remoteUserMap.set(i,new Map([[o,c]])),r.statsCollector.addRemoteStats(i.uid),r.statsUploader.startUploadDownlinkStats();var l=r.pendingRemoteTracks.findIndex((function(e){var t=e.user,n=e.kind;return t.uid===i.uid&&o===n}));-1!==l&&(r.pendingRemoteTracks.splice(l,1),r.emit(DP.MediaReconnectEnd,i.uid))}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unsubscribe",value:function(){var e=u(c().mark((function e(t,n,r){var i,o,a,u=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.pendingRemoteTracks.filter((function(e){var r=e.user,i=e.kind;return void 0!==n?r.uid===t.uid&&n===i:r.uid===t.uid})),i.forEach((function(e){var t=u.pendingRemoteTracks.indexOf(e);u.pendingRemoteTracks.splice(t,1)})),this.connection||r||i.forEach((function(e){var n,r=e.kind;if(r===OP.AUDIO)null===(n=t._audioTrack)||void 0===n||n._destroy(),t._audioTrack=void 0;else if(r===OP.VIDEO){var i;null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0}})),this.connection){e.next=3;break}return e.abrupt("return");case 3:if(Dx("debug",this,"unsubscribe",{uid:t.uid,mediaType:n}),0!==(o=this.filterTobeUnSubscribedTracks(t,n)).length){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.connection.stopReceiving(o.map((function(e){return s(e,2)[1].id})));case 9:return a=this.createUnsubscribeMessage(o),e.abrupt("return",(this.withdrawRemoteTracks(o),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),o.forEach((function(e){var t,n,i=s(e,2),o=i[0],a=i[1].kind;if(a===OP.VIDEO&&o._videoSSRC&&(null===(t=u.connection)||void 0===t||t.setStatsRemoteVideoIsReady(o._videoSSRC,!1)),a===OP.VIDEO)u.unbindRemoteTrackEvents(o._videoTrack),r||(null===(n=o._videoTrack)||void 0===n||n._destroy(),o._videoTrack=void 0);else if(a===OP.AUDIO){var c;u.unbindRemoteTrackEvents(o._audioTrack),r||(null===(c=o._audioTrack)||void 0===c||c._destroy(),o._audioTrack=void 0)}})),a));case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"massUnsubscribe",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.massUnsubscribeNoLock(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"massUnsubscribeNoLock",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,u,l,d=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=a(t);try{for(o=function(){var e=i.value,t=e.user,r=e.mediaType,o=d.pendingRemoteTracks.filter((function(e){var n=e.user,i=e.kind;return void 0!==r?n.uid===t.uid&&r===i:n.uid===t.uid}));o.forEach((function(e){var t=d.pendingRemoteTracks.indexOf(e);d.pendingRemoteTracks.splice(t,1)})),n=n.concat(o)},r.s();!(i=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}if(this.connection){e.next=5;break}return e.abrupt("return",void n.forEach((function(e){var t,n=e.user,r=e.kind;if(r===OP.AUDIO)null===(t=n._audioTrack)||void 0===t||t._destroy(),n._audioTrack=void 0;else if(r===OP.VIDEO){var i;null===(i=n._videoTrack)||void 0===i||i._destroy(),n._videoTrack=void 0}})));case 5:if(Dx("debug",this,"batchUnsubscribe",t.map((function(e){var t=e.user,n=e.mediaType;return{uid:t.uid,mediaType:n}}))),u=Hf(t).call(t,(function(e,t){var n=t.user,r=t.mediaType,i=d.filterTobeUnSubscribedTracks(n,r);return e.concat(i)}),[]),0!==u.length){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.connection.stopReceiving(u.map((function(e){return s(e,2)[1].id})));case 11:return l=this.createUnsubscribeAllMessage(u),e.abrupt("return",(this.withdrawRemoteTracks(u),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),u.forEach((function(e){var t,n,r=s(e,2),i=r[0],o=r[1].kind;if(o===OP.VIDEO&&i._videoSSRC&&(null===(t=d.connection)||void 0===t||t.setStatsRemoteVideoIsReady(i._videoSSRC,!1)),o===OP.VIDEO)d.unbindRemoteTrackEvents(i._videoTrack),null===(n=i._videoTrack)||void 0===n||n._destroy(),i._videoTrack=void 0;else if(o===OP.AUDIO){var a;d.unbindRemoteTrackEvents(i._audioTrack),null===(a=i._audioTrack)||void 0===a||a._destroy(),i._audioTrack=void 0}})),l));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"muteRemote",value:function(){var e=u(c().mark((function e(t,n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return");case 2:if(Dx("debug",this,"muteRemote",{uid:t.uid,kind:n}),r=this.remoteUserMap.get(t)){e.next=6;break}return e.abrupt("return",(px.warning("P2PChannel.muteRemote has no remote user ".concat(t.uid,".")),void kx("warning",this,"P2PChannel.muteRemote has no remote user ".concat(t.uid,"."))));case 6:if(r.get(n)){e.next=8;break}return e.abrupt("return",(px.warning("P2PChannel.muteRemote has no remote user ".concat(t.uid," media type ").concat(n,".")),void kx("warning",this,"P2PChannel.muteRemote has no remote user ".concat(t.uid," media type ").concat(n,"."))));case 8:void 0!==(i=n===OP.VIDEO?t._videoSSRC:t._audioSSRC)&&this.connection.setStatsRemoteVideoIsReady(i,!1);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unmuteRemote",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.unmuteRemoteNoLock(t,n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unmuteRemoteNoLock",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return");case 2:if(Dx("debug",this,"unmuteRemote",{uid:t.uid,kind:n}),r=this.remoteUserMap.get(t)){e.next=6;break}return e.abrupt("return",(px.warning("P2PChannel.unmuteRemote has no remote user ".concat(t.uid,".")),void kx("warning",this,"unmuteRemote has no remote user ".concat(t.uid))));case 6:return e.abrupt("return",r.get(n)?void 0:(px.warning("P2PChannel.unmuteRemote has no remote user ".concat(t.uid," media type ").concat(n,".")),void kx("warning",this,"unmuteRemote has no remote user ".concat(t.uid," media type ").concat(n))));case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAllTracks",value:function(e){var t=this.localTrackMap.get(NP.LocalAudioTrack);if((null==t?void 0:t.track)instanceof mH){var n=t.track;return Array.from(this.localTrackMap.entries()).filter((function(e){return s(e,1)[0]!==NP.LocalAudioTrack})).filter((function(t){var n=s(t,1)[0];return!(e&&n===NP.LocalVideoLowTrack)})).map((function(e){return s(e,2)[1].track})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((function(t){var n=s(t,1)[0];return!(e&&n===NP.LocalVideoLowTrack)})).map((function(e){return s(e,2)[1].track}))}},{key:"reportPublishEvent",value:function(e,t,n,r,i){if(e){var o=this.localTrackMap.get(NP.LocalAudioTrack),a=r?this.localTrackMap.get(NP.LocalVideoLowTrack):this.localTrackMap.get(NP.LocalVideoTrack);NV.publish(this.store.sessionId,{eventElapse:bH.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.track.getTrackLabel(),videoName:null==a?void 0:a.track.getTrackLabel(),screenshare:-1!==(null==a?void 0:a.track._hints.indexOf(gP.SCREEN_TRACK)),audio:!!o,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}else{var s;n||(n=[]);var c=n.find((function(e){return e instanceof vH})),u=r?null===(s=this.localTrackMap.get(NP.LocalVideoTrack))||void 0===s?void 0:s.track:n.find((function(e){return e instanceof MX}));NV.publish(this.store.sessionId,{eventElapse:bH.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==c?void 0:c.getTrackLabel(),videoName:null==u?void 0:u.getTrackLabel(),screenshare:-1!==(null==u?void 0:u._hints.indexOf(gP.SCREEN_TRACK)),audio:!!c,video:!!u,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}}},{key:"reportSubscribeEvent",value:function(e,t,n,r){var i=r===OP.VIDEO?n._videoSSRC:n._audioSSRC;i&&NV.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===OP.VIDEO,audio:r===OP.AUDIO,peerid:n.uid,subscribeRequestid:r===OP.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:bH.measureFromSubscribeStart(this.store.clientId,i)})}},{key:"reset",value:function(){px.debug("P2PChannel.reset"),this.mutex=new BV("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=xP.Disconnected}},{key:"getStats",value:function(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}},{key:"getRemoteVideoIsReady",value:function(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}},{key:"getLocalAudioVolume",value:function(){var e=this.localTrackMap.get(NP.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}},{key:"getLocalVideoSize",value:function(){var e=this.localTrackMap.get(NP.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}},{key:"getEncoderConfig",value:function(e){var t=this.localTrackMap.get(e);return t&&t.track instanceof MX||t&&t.track instanceof vH?t.track._encoderConfig:void 0}},{key:"getLocalMedia",value:function(e){return this.localTrackMap.get(e)}},{key:"hasLocalMedia",value:function(){return this.localTrackMap.size>0}},{key:"hasRemoteMedia",value:function(e,t){if(!e)return this.remoteUserMap.size>0;var n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}},{key:"hasRemoteMediaWithLock",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.remoteUserMap.size>0);case 2:return r=this.remoteUserMap.get(t),e.abrupt("return",!!r&&(!n||r.has(n)));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getRemoteMedia",value:function(e){var t,n=Array.from(pV(t=this.remoteUserMap).call(t)).find((function(t){return t.uid===e}));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}},{key:"getAudioLevels",value:function(){var e=Array.from(this.remoteUserMap.entries()).map((function(e){var t=s(e,1)[0];return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}})),t=this.localTrackMap.get(NP.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=nL(e).call(e,(function(e,t){return e.level-t.level})),e}},{key:"disconnectForReconnect",value:function(){var e=u(c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.connection&&(Dx("debug",this,"disconnectForReconnect"),px.debug("P2PChannel.disconnectForReconnect closing P2PConnection"),this.state=xP.Reconnecting,this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((function(e){var n=s(e,2),r=n[0],i=n[1].track;switch(r){case NP.LocalVideoTrack:i._hints.includes(gP.LOW_STREAM)?i.close():t.pendingLocalTracks.push(i);break;case NP.LocalAudioTrack:i instanceof mH?t.pendingLocalTracks=t.pendingLocalTracks.concat(i.trackList):t.pendingLocalTracks.push(i);case NP.LocalVideoLowTrack:}})),this.emit(DP.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((function(e){var n=s(e,2),r=n[0],i=n[1];Array.from(pV(i).call(i)).forEach((function(e){t.setPendingRemoteMedia(r,e)})),t.emit(DP.MediaReconnectStart,r.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),px.debug("P2PChannel disconnected, waiting to reconnect."));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasPendingRemoteMedia",value:function(e,t){var n,r=a(this.pendingRemoteTracks);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.user,s=i.kind;if((e instanceof UX?e.uid:e)===o.uid&&t===s)return!0}}catch(c){r.e(c)}finally{r.f()}return!1}},{key:"setPendingRemoteMedia",value:function(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}},{key:"reEstablish",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}return e.abrupt("return",this.connection.reEstablish());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUplinkNetworkQuality",value:function(){if(!this.connection)return 0;var e=this.connection.getStats(),t=this.localTrackMap.get(NP.LocalVideoTrack),n=this.localTrackMap.get(NP.LocalAudioTrack),r=e.videoSend.find((function(e){return e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId)})),i=e.audioSend.find((function(e){return e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)}));if(!r||!i)return 1;var o=XH(this,DP.NeedSignalRTT),a=r?r.rttMs:void 0,s=i?i.rttMs:void 0,c=a&&s?(a+s)/2:a||s,u=(c&&o?(c+o)/2:c||o)||0,l=100*e.sendPacketLossRate*.7/50+.3*u/1500,d=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,f=null==t?void 0:t.track;if(f&&f._encoderConfig&&-1===f._hints.indexOf(gP.SCREEN_TRACK)){var p=f._encoderConfig.bitrateMax,h=e.bitrate.actualEncoded;if(p&&h){var v=(1e3*p-h)/(1e3*p);return oD[v<.15?0:v<.3?1:v<.45?2:v<.6?3:4][d]}}return d}},{key:"getDownlinkNetworkQuality",value:function(){var e=this;if(!this.connection)return 0;var t=this.connection.getStats(),n=0;return Array.from(this.remoteUserMap.entries()).forEach((function(r){var i=s(r,1)[0],o=i._audioSSRC,a=i._videoSSRC,c=t.audioRecv.find((function(e){return e.ssrc===o})),u=t.videoRecv.find((function(e){return e.ssrc===a}));if(c||u){var l=XH(e,DP.NeedSignalRTT),d=t.rtt,f=(d&&l?(d+l)/2:d||l)||0,p=c?c.jitterMs:void 0,h=t.recvPacketLossRate,v=.7*h*100/50+.3*f/1500;p&&(v=.6*h*100/50+.2*f/1500+.2*p/400),n+=v<.1?1:v<.17?2:v<.36?3:v<.59?4:5}else n+=1})),this.remoteUserMap.size>0?Math.round(n/this.remoteUserMap.size):n}},{key:"muteLocalTrack",value:function(){var e=u(c().mark((function e(t){var n=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wI((function(e,r){n.handleMuteLocalTrack(t,e,r)})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"filterTobePublishedTracks",value:function(e,t,n){var r=[],i=qP(),o=this.getAllTracks();e=eq(e=e.filter((function(e){return-1===o.indexOf(e)})));var s,c=!1,u=!1,l=a(e);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(d instanceof MX&&(this.localTrackMap.has(NP.LocalVideoTrack)||c?new ix($N.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:d,type:NP.LocalVideoTrack}),c=!0),t)){var f=this.getLowVideoTrack(d,n);r.push({track:f,type:NP.LocalVideoLowTrack})}if(d instanceof vH){var p=this.localTrackMap.get(NP.LocalAudioTrack);if(p){if(!(p.track instanceof mH))throw new ix($N.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(d._bypassWebAudio)throw new ix($N.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");p.track.addAudioTrack(d),this.bindLocalAudioTrackEvents(d,!0)}else if(u){var h=r.find((function(e){return e.type===NP.LocalAudioTrack}));if(!(h.track instanceof mH))throw new ix($N.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(d._bypassWebAudio)throw new ix($N.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");h.track.addAudioTrack(d)}else{if(!i.webAudioMediaStreamDest||d instanceof mH||d._bypassWebAudio)r.push({track:d,type:NP.LocalAudioTrack});else{var v=new mH;v.addAudioTrack(d),r.push({track:v,type:NP.LocalAudioTrack})}u=!0}}}}catch(g){l.e(g)}finally{l.f()}return r}},{key:"filterTobeUnpublishedTracks",value:function(e){var t=[],n=this.getAllTracks();e=eq(e=e.filter((function(e){return-1!==n.indexOf(e)})));var r,i=a(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o instanceof vH){var s=this.localTrackMap.get(NP.LocalAudioTrack);if(!s)continue;s.track instanceof mH?(s.track.removeAudioTrack(o),this.unbindLocalAudioTrackEvents(o),0===s.track.trackList.length&&(t.push([NP.LocalAudioTrack,s]),s.track.close())):t.push([NP.LocalAudioTrack,s])}if(o instanceof MX){var c=this.localTrackMap.get(NP.LocalVideoTrack);if(!c)continue;t.push([NP.LocalVideoTrack,c]);var u=this.localTrackMap.get(NP.LocalVideoLowTrack);u&&t.push([NP.LocalVideoLowTrack,u])}}}catch(l){i.e(l)}finally{i.f()}return t}},{key:"bindLocalTrackEvents",value:function(e){var t=this;e.forEach((function(e){var n=e.track;switch(e.type){case NP.LocalVideoTrack:n.addListener(vP.GET_STATS,t.handleGetLocalVideoStats),n.addListener(vP.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),n.addListener(vP.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),n.addListener(vP.NEED_UPDATE_VIDEO_ENCODER,t.handleUpdateVideoEncoder),n.addListener(vP.SET_OPTIMIZATION_MODE,t.handleSetOptimizationMode),n.addListener(vP.NEED_REPLACE_TRACK,t.handleReplaceTrack),n.addListener(vP.NEED_MUTE_TRACK,t.handleMuteLocalTrack),n.addListener(vP.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack);break;case NP.LocalAudioTrack:t.bindLocalAudioTrackEvents(n);case NP.LocalVideoLowTrack:}}))}},{key:"bindLocalAudioTrackEvents",value:function(e,t){var n=this;e instanceof mH?e.trackList.forEach((function(e){e.addListener(vP.NEED_DISABLE_TRACK,n.handleMuteLocalTrack),e.addListener(vP.NEED_ENABLE_TRACK,n.handleUnmuteLocalTrack),e.addListener(vP.GET_STATS,n.handleGetLocalAudioStats),e.addListener(vP.NEED_MUTE_TRACK,n.handleMuteLocalTrack),e.addListener(vP.NEED_UNMUTE_TRACK,n.handleUnmuteLocalTrack)})):(e.addListener(vP.GET_STATS,this.handleGetLocalAudioStats),e.addListener(vP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(vP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(vP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(vP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(vP.NEED_REPLACE_TRACK,this.handleReplaceTrack))}},{key:"unbindLocalTrackEvents",value:function(e){var t=this;e||(e=Array.from(this.localTrackMap.entries()).map((function(e){var t=s(e,2),n=t[0];return{track:t[1].track,type:n}}))),e.forEach((function(e){var n=e.track;switch(e.type){case NP.LocalVideoTrack:n.off(vP.GET_STATS,t.handleGetLocalVideoStats),n.off(vP.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),n.off(vP.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),n.off(vP.NEED_UPDATE_VIDEO_ENCODER,t.handleUpdateVideoEncoder),n.off(vP.SET_OPTIMIZATION_MODE,t.handleSetOptimizationMode),n.off(vP.NEED_REPLACE_TRACK,t.handleReplaceTrack),n.off(vP.NEED_MUTE_TRACK,t.handleMuteLocalTrack),n.off(vP.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack);break;case NP.LocalAudioTrack:t.unbindLocalAudioTrackEvents(n);case NP.LocalVideoLowTrack:}}))}},{key:"unbindLocalAudioTrackEvents",value:function(e){var t=this;e instanceof mH?e.trackList.forEach((function(e){e.off(vP.NEED_DISABLE_TRACK,t.handleMuteLocalTrack),e.off(vP.NEED_ENABLE_TRACK,t.handleUnmuteLocalTrack),e.off(vP.GET_STATS,t.handleGetLocalAudioStats),e.off(vP.NEED_MUTE_TRACK,t.handleMuteLocalTrack),e.off(vP.NEED_UNMUTE_TRACK,t.handleUnmuteLocalTrack)})):(e.off(vP.GET_STATS,this.handleGetLocalAudioStats),e.off(vP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(vP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(vP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(vP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(vP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}},{key:"bindRemoteTrackEvents",value:function(e,t){var n=this;t instanceof g0&&t.addListener(vP.GET_STATS,(function(t){t(n.handleGetRemoteVideoStats(e))})),t instanceof A0&&t.addListener(vP.GET_STATS,(function(t){t(n.handleGetRemoteAudioStats(e))}))}},{key:"unbindRemoteTrackEvents",value:function(e){e&&e.removeAllListeners(vP.GET_STATS)}},{key:"unbindAllRemoteTrackEvents",value:function(){var e=this;Array.from(this.remoteUserMap.entries()).forEach((function(t){var n=s(t,2),r=n[0],i=n[1];i.has(OP.AUDIO)&&e.unbindRemoteTrackEvents(r._audioTrack),i.has(OP.VIDEO)&&e.unbindRemoteTrackEvents(r._videoTrack)}))}},{key:"createGatewayPublishMessage",value:function(e,t){var n=this;return e.map((function(e,r){var i,o,a=e.track;switch(e.type){case NP.LocalAudioTrack:i=fP.Audio,o={dtx:a instanceof gH&&a._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case NP.LocalVideoTrack:i=a._hints.includes(gP.SCREEN_TRACK)?fP.Screen:fP.High,o=I0(I0({},NH(a)),{},{codec:n.store.codec});break;case NP.LocalVideoLowTrack:i=fP.Low,o=I0(I0({},NH(a)),{},{codec:n.store.codec})}return{stream_type:i,attributes:o,ssrcs:t[r]}}))}},{key:"createGatewayUnpublishMessage",value:function(e){return e.map((function(e){var t,n=s(e,2),r=n[0],i=n[1],o=i.track,a=i.ssrcs,c=i.id;switch(r){case NP.LocalVideoTrack:t=o._hints.includes(gP.SCREEN_TRACK)?fP.Screen:fP.High;break;case NP.LocalAudioTrack:t=fP.Audio;break;case NP.LocalVideoLowTrack:t=fP.Low}return{stream_type:t,ssrcs:a,mid:c}}))}},{key:"assignLocalTracks",value:function(e,t){var n=this;e.forEach((function(e,r){var i=e.track,o=e.type;n.localTrackMap.set(o,{track:i,id:t[r].id,ssrcs:t[r].localSSRC})}))}},{key:"withdrawLocalTracks",value:function(e){var t=this;e.forEach((function(e){var n=s(e,1)[0];t.localTrackMap.delete(n)}))}},{key:"waitTillConnected",value:function(){var e=u(c().mark((function e(){var t=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wI((function(e,n){switch(t.state){case xP.New:case xP.Reconnecting:var r=function r(i,o){return o===xP.Disconnected?(t.off(DP.StateChange,r),void n(new ix($N.UNEXPECTED_ERROR,"PeerConnection already disconnected."))):o===xP.Connected?(t.off(DP.StateChange,r),void e(void 0)):void 0};t.on(DP.StateChange,r);break;case xP.Connected:e(void 0);break;case xP.Disconnected:n(new ix($N.UNEXPECTED_ERROR,"PeerConnection already disconnected."))}})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"bindConnectionEvents",value:function(e){var t=this;e.onConnectionStateChange=function(){var e=u(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(n,")")),Ox("info",t,"connectionStateChange",n),t.emit(DP.PeerConnectionStateChange,n),"connected"!==n||t.store.keyMetrics.peerConnectionEnd||t.store.peerConnectionEnd(),e.t0="failed"===n,!e.t0){e.next=8;break}return e.next=8,t.requestReconnect();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onICEConnectionStateChange=function(e){px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),Ox("info",t,"iceConnectionStateChange",e),NV.reportApiInvoke(t.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:CL.TRACER}).onSuccess(),t.emit(DP.IceConnectionStateChange,e)},e.onICETransportStateChange=function(e){px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")")),Ox("info",t,"ICETransportStateChange",e)},e.onDTLSTransportStateChange=function(e){px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")")),Ox("info",t,"DTLSTransportStateChange",e)},e.onDTLSTransportError=function(e){px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")")),Ox("info",t,"DTLSTransportError",e)},e.onFirstAudioDecoded=function(e){var n,r,i=Array.from(pV(n=t.remoteUserMap).call(n)).find((function(t){return t._audioSSRC===e}));i&&(t.store.subscribe(i.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=i.audioTrack)||void 0===r||r.emit(yP.FIRST_FRAME_DECODED),NV.firstRemoteFrame(t.store.sessionId,AL.FIRST_AUDIO_DECODE,mL.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:bH.measureFromSubscribeStart(t.store.clientId,e),subscribeRequestid:e,p2pid:t.store.p2pId}))},e.onFirstAudioReceived=function(e){var n,r=Array.from(pV(n=t.remoteUserMap).call(n)).find((function(t){return t._audioSSRC===e}));r&&NV.firstRemoteFrame(t.store.sessionId,AL.FIRST_AUDIO_RECEIVED,mL.FIRST_AUDIO_RECEIVED,{peer:r._uintid,subscribeElapse:bH.measureFromSubscribeStart(t.store.clientId,e),subscribeRequestid:e,p2pid:t.store.p2pId})},e.onFirstVideoDecoded=function(e,n,r){t.reportVideoFirstFrameDecoded(e,n,r)},e.onFirstVideoReceived=function(e){var n,r=Array.from(pV(n=t.remoteUserMap).call(n)).find((function(t){return t._videoSSRC===e}));r&&NV.firstRemoteFrame(t.store.sessionId,AL.FIRST_VIDEO_RECEIVED,mL.FIRST_VIDEO_RECEIVED,{peer:r._uintid,subscribeElapse:bH.measureFromSubscribeStart(t.store.clientId,e),subscribeRequestid:e,p2pid:t.store.p2pId})},e.onSelectedLocalCandidateChanged=function(e,n){var r="relay"===e.candidateType,i="relay"===n.candidateType;"unknown"!==n.candidateType&&r===i||t.emit(DP.ConnectionTypeChange,r),px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(UH(n))," -> ").concat(JSON.stringify(UH(e)),")")),Ox("info",t,"SelectedLocalCandidateChanged","".concat(JSON.stringify(UH(n))," -> ").concat(JSON.stringify(UH(e))))},e.onSelectedRemoteCandidateChanged=function(e,n){px.info("[p2pId: ".concat(t.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(UH(n))," -> ").concat(JSON.stringify(UH(e)),")")),Ox("info",t,"SelectedRemoteCandidateChanged","".concat(JSON.stringify(UH(n))," -> ").concat(JSON.stringify(UH(e))))},e.onFirstVideoDecodedTimeout=function(e){t.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}},{key:"unbindConnectionEvents",value:function(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}},{key:"filterTobeMutedTracks",value:function(e){var t=[];if(-1===this.getAllTracks().indexOf(e))return t;var n=this.localTrackMap.get(NP.LocalAudioTrack);if(e instanceof vH&&(null==n?void 0:n.track)instanceof mH)return n.track.isActive||t.push([NP.LocalAudioTrack,n]),t;var r=Array.from(this.localTrackMap.entries()).find((function(t){var n=s(t,2)[1].track;return e===n}));if(r&&(t.push(r),r[0]===NP.LocalVideoTrack)){var i=this.localTrackMap.get(NP.LocalVideoLowTrack);i&&t.push([NP.LocalVideoLowTrack,i])}return t}},{key:"filterTobeUnmutedTracks",value:function(e){var t=[],n=this.localTrackMap.get(NP.LocalAudioTrack);if(e instanceof vH&&(null==n?void 0:n.track)instanceof mH)return n.track.isActive&&t.push([NP.LocalAudioTrack,n]),t;var r=Array.from(this.localTrackMap.entries()).find((function(t){var n=s(t,2)[1].track;return e===n}));if(r)if(r[0]===NP.LocalVideoTrack){t.push(r);var i=this.localTrackMap.get(NP.LocalVideoLowTrack);i&&t.push([NP.LocalVideoLowTrack,i])}else t.push(r);return t}},{key:"createMuteMessage",value:function(e){return e.map((function(e){var t,n=s(e,2),r=n[0],i=n[1],o=i.track,a=i.ssrcs,c=i.id;switch(r){case NP.LocalAudioTrack:t=fP.Audio;break;case NP.LocalVideoTrack:t=o._hints.includes(gP.SCREEN_TRACK)?fP.Screen:fP.High;break;case NP.LocalVideoLowTrack:t=fP.Low}return{stream_type:t,ssrcs:a,mid:c}}))}},{key:"createUnmuteMessage",value:function(e){return e.map((function(e){var t,n=s(e,2),r=n[0],i=n[1],o=i.track,a=i.ssrcs,c=i.id;switch(r){case NP.LocalAudioTrack:t=fP.Audio;break;case NP.LocalVideoTrack:t=o._hints.includes(gP.SCREEN_TRACK)?fP.Screen:fP.High;break;case NP.LocalVideoLowTrack:t=fP.Low}return{stream_type:t,ssrcs:a,mid:c}}))}},{key:"filterTobeUnSubscribedTracks",value:function(e,t){var n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){var i=r.get(t);if(!i)return n;n.push([e,{kind:t,id:i}])}else Array.from(r.entries()).forEach((function(t){var r=s(t,2),i=r[0],o=r[1];n.push([e,{kind:i,id:o}])}));return n}},{key:"createUnsubscribeMessage",value:function(e){var t=[];return e.forEach((function(e){var n=s(e,2),r=n[0],i=n[1],o=i.kind;switch(i.id,o){case OP.VIDEO:return void(r._videoSSRC&&t.push({stream_type:OP.VIDEO,ssrcId:r._videoSSRC}));case OP.AUDIO:return void(r._audioSSRC&&t.push({stream_type:OP.AUDIO,ssrcId:r._audioSSRC}))}})),t}},{key:"createUnsubscribeAllMessage",value:function(e){var t=new Map;return e.forEach((function(e){var n=s(e,2),r=n[0],i=n[1].kind;if(t.has(r)){var o=t.get(r);i===OP.VIDEO?o|=hP.Video:o|=hP.Audio,t.set(r,o)}else i===OP.VIDEO?t.set(r,hP.Video):t.set(r,hP.Audio)})),{users:Array.from(t.entries()).map((function(e){var t=s(e,2),n=t[0],r=t[1];return{stream_id:n.uid,stream_type:r}}))}}},{key:"withdrawRemoteTracks",value:function(e){var t=this;e.forEach((function(e){var n=s(e,2),r=n[0],i=n[1].kind,o=t.remoteUserMap.get(r);o&&(o.delete(i),0===Array.from(o.entries()).length&&t.remoteUserMap.delete(r))}))}},{key:"updateBitrateLimit",value:function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.localTrackMap.get(NP.LocalVideoTrack),r=this.localTrackMap.get(NP.LocalVideoLowTrack),e.t0=n,!e.t0){e.next=5;break}return e.next=5,n.track.setBitrateLimit(t.uplink);case 5:if(e.t1=r&&t.low_stream_uplink,!e.t1){e.next=9;break}return e.next=9,r.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isP2PDisconnected",value:function(){return!this.connection||"connected"!==this.connection.peerConnectionState}},{key:"mapPubResToRemoteConfig",value:function(e,t){return e.map((function(e,n){var r,i=e.stream_type;return null===(r=t.find((function(e){var t=e.stream_type;return i===t})))||void 0===r?void 0:r.attributes}))}},{key:"tryToUnmuteAudio",value:function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=15;break}if(!(t[n]instanceof vH)){e.next=12;break}if(0!==(i=this.filterTobeUnmutedTracks(t[n])).length){e.next=6;break}return e.abrupt("continue",12);case 6:return e.next=8,null===(r=this.connection)||void 0===r?void 0:r.unmuteLocal(i.map((function(e){return s(e,2)[1].id})));case 8:return o=this.createUnmuteMessage(i),e.next=11,JH(this,DP.RequestUnmuteLocal,o);case 11:return e.abrupt("return",void e.sent);case 12:n++,e.next=1;break;case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bindStatsUploaderEvents",value:function(){var e=this;this.statsUploader.requestStats=function(){return e.getStats()},this.statsUploader.requestLocalMedia=function(){return Array.from(e.localTrackMap.entries())},this.statsUploader.requestRemoteMedia=function(){return Array.from(e.remoteUserMap.entries())},this.statsUploader.requestVideoIsReady=function(t){var n;return!(null===(n=e.connection)||void 0===n||!n.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=function(t,n){return e.emit(DP.RequestUploadStats,t,n)},this.statsUploader.requestAllTracks=function(){return e.getAllTracks()}}},{key:"unbindStatsUploaderEvents",value:function(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}},{key:"requestReconnect",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dtlsFailedCount+=1,e.next=3,VH(ax(this.dtlsFailedCount,ox));case 3:this.emit(DP.RequestReconnect);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reconnectP2P",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Array.from(this.localTrackMap.entries()),n=this.createGatewayUnpublishMessage(t),Array.from(this.remoteUserMap.entries()),e.t0=n.length>0,!e.t0){e.next=6;break}return e.next=6,zH(this,DP.RequestUnpublishForReconnectPC,n);case 6:this.disconnectForReconnect(),this.emit(DP.RequestReconnectPC);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"canPublishLowStream",value:function(){return this.localTrackMap.has(NP.LocalVideoTrack)||this.pendingLocalTracks.some((function(e){return e instanceof MX}))}},{key:"throwIfTrackTypeNotMatch",value:function(e){if(e.filter((function(e){return e instanceof MX})).length>1)throw new ix($N.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((function(e){return e instanceof vH})).length>1&&(e.some((function(e){return e instanceof vH&&e._bypassWebAudio}))||!qP().webAudioMediaStreamDest))throw new ix($N.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof MX&&this.pendingLocalTracks.some((function(e){return e instanceof MX})))throw new ix($N.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(r instanceof vH&&this.pendingLocalTracks.some((function(e){return e instanceof vH}))&&(!qP().webAudioMediaStreamDest||r._bypassWebAudio||this.pendingLocalTracks.some((function(e){return e instanceof vH&&e._bypassWebAudio}))))throw new ix($N.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}catch(i){n.e(i)}finally{n.f()}}},{key:"getLowVideoTrack",value:function(e,t){var n,r=qP().supportDualStreamEncoding,i=I0(I0({},{width:160,height:120,framerate:15,bitrate:50}),t);n=r?e._mediaStreamTrack.clone():f0(e,i);var o=new MX(n,I0(I0({},r&&{scaleResolutionDownBy:BH(i,e)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}));return o._hints.push(gP.LOW_STREAM),e.addListener(vP.NEED_CLOSE,(function(){o.close()})),o}},{key:"globalLock",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutex.lock("From P2PChannel.globalLock"));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reportVideoFirstFrameDecoded",value:function(e,t,n,r){var i,o=Array.from(pV(i=this.remoteUserMap).call(i)).find((function(t){return t._videoSSRC===e}));if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());var a=this.store.keyMetrics,s=a.subscribe.find((function(e){return e.userId===o.uid&&"video"===e.type}));NV.firstRemoteVideoDecode(this.store.sessionId,AL.FIRST_VIDEO_DECODE,mL.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:bH.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:a.requestAPEnd||0,apStart:a.requestAPStart||0,joinGwEnd:a.joinGatewayEnd||0,joinGwStart:a.joinGatewayStart||0,pcEnd:a.peerConnectionEnd||0,pcStart:a.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:r?1:0})}}},{key:"remoteMediaSsrcChanged",value:function(){var e=u(c().mark((function e(t,n,r){var i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connection){e.next=2;break}return e.abrupt("return",!1);case 2:if(i=this.remoteUserMap.get(t)){e.next=5;break}return e.abrupt("return",!1);case 5:if(o=i.get(n)){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,this.connection.getRemoteSSRC(o);case 10:return a=e.sent,e.abrupt("return",void 0!==a&&a!==r);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),n}(nx)).prototype,"startP2PConnection",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"startP2PConnection"),b0.prototype),oV(b0.prototype,"connect",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"connect"),b0.prototype),oV(b0.prototype,"unpublish",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"unpublish"),b0.prototype),oV(b0.prototype,"unpublishLowStream",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"unpublishLowStream"),b0.prototype),oV(b0.prototype,"subscribe",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"subscribe"),b0.prototype),oV(b0.prototype,"massSubscribe",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"massSubscribe"),b0.prototype),oV(b0.prototype,"unsubscribe",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"unsubscribe"),b0.prototype),oV(b0.prototype,"massUnsubscribe",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"massUnsubscribe"),b0.prototype),oV(b0.prototype,"muteRemote",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"muteRemote"),b0.prototype),oV(b0.prototype,"unmuteRemote",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"unmuteRemote"),b0.prototype),oV(b0.prototype,"hasRemoteMediaWithLock",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"hasRemoteMediaWithLock"),b0.prototype),oV(b0.prototype,"disconnectForReconnect",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"disconnectForReconnect"),b0.prototype),oV(b0.prototype,"reEstablish",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"reEstablish"),b0.prototype),oV(b0.prototype,"updateBitrateLimit",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"updateBitrateLimit"),b0.prototype),oV(b0.prototype,"remoteMediaSsrcChanged",[R0],Object.getOwnPropertyDescriptor(b0.prototype,"remoteMediaSsrcChanged"),b0.prototype),y0=b0))||y0;function R0(e,t,n){var r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=u(c().mark((function e(){var n,i,o,a,s,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.mutex,e.next=3,n.lock("From P2PChannel.".concat(t));case 3:for(i=e.sent,e.prev=4,o=u.length,a=new Array(o),s=0;s<o;s++)a[s]=u[s];return e.next=8,r.apply(this,a);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,i(),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[4,,9,12]])}))),n}function k0(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var O0,N0="function"==typeof Symbol&&Symbol.observable||"@@observable",x0=function(){return Math.random().toString(36).substring(7).split("").join(".")},D0={INIT:"@@redux/INIT"+x0(),REPLACE:"@@redux/REPLACE"+x0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+x0()}};function L0(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function P0(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(k0(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(k0(1));return n(P0)(e,t)}if("function"!=typeof e)throw new Error(k0(2));var i=e,o=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(k0(3));return o}function d(e){if("function"!=typeof e)throw new Error(k0(4));if(c)throw new Error(k0(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(k0(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!L0(e))throw new Error(k0(7));if(void 0===e.type)throw new Error(k0(8));if(c)throw new Error(k0(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}function p(e){if("function"!=typeof e)throw new Error(k0(10));i=e,f({type:D0.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(k0(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[N0]=function(){return this},e}return f({type:D0.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:p})[N0]=h,r}function M0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M0(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_UID="SET_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS"}(O0||(O0={}));var U0,j0=function(){function e(t,n,r,i){v(this,e),tO(this,"store",void 0),tO(this,"reducer",void 0);var o={codec:t,audioCodec:n,mode:r,clientId:i,sessionId:null,p2pId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled"};this.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O0.SET_SESSION_ID:return B0(B0({},e),{},{sessionId:t.sessionId});case O0.SET_P2P_ID:return B0(B0({},e),{},{p2pId:t.p2pId});case O0.SET_UID:return B0(B0({},e),{},{uid:t.uid});case O0.SET_PUB_ID:return B0(B0({},e),{},{pubId:t.pubId});case O0.KEY_METRIC_CLIENT_CREATED:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{clientCreated:t.metric})});case O0.KEY_METRIC_JOIN_START:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{joinStart:t.metric})});case O0.AVOID_JOIN_START:return B0(B0({},e),{},{avoidJoinStart:t.avoidJoinStart});case O0.KEY_METRIC_JOIN_END:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{joinEnd:t.metric})});case O0.KEY_METRIC_REQUEST_AP_START:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{requestAPStart:t.metric})});case O0.KEY_METRIC_REQUEST_AP_END:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{requestAPEnd:t.metric})});case O0.KEY_METRIC_JOIN_GATEWAY_START:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case O0.KEY_METRIC_JOIN_GATEWAY_END:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case O0.KEY_METRIC_PEER_CONNECTION_START:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case O0.KEY_METRIC_PEER_CONNECTION_END:return B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case O0.KEY_METRIC_PUBLISH:var n=e.keyMetrics.publish,r=n.findIndex((function(e){return e.trackId===t.metric.trackId}));return-1!==r?(n[r]=B0(B0({},n[r]),t.metric),B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{publish:h(n)})})):B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{publish:[].concat(h(e.keyMetrics.publish),[t.metric])})});case O0.KEY_METRIC_SUBSCRIBE:var i=e.keyMetrics.subscribe,a=i.findIndex((function(e){return e.userId===t.metric.userId&&e.type===t.metric.type}));return-1!==a?(i[a]=B0(B0({},i[a]),t.metric),B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{subscribe:h(i)})})):B0(B0({},e),{},{keyMetrics:B0(B0({},e.keyMetrics),{},{subscribe:[].concat(h(e.keyMetrics.subscribe),[t.metric])})});case O0.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case O0.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[].concat(h(e.joinChannelServiceRecords),[t.record]):(e.joinChannelServiceRecords[t.index]=B0(B0({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=h(e.joinChannelServiceRecords)),e;case O0.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case O0.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;default:return e}},this.store=P0(this.reducer)}return g(e,[{key:"sessionId",get:function(){return this.store.getState().sessionId},set:function(e){this.store.dispatch({type:O0.SET_SESSION_ID,sessionId:e})}},{key:"codec",get:function(){return this.store.getState().codec}},{key:"audioCodec",get:function(){return this.store.getState().audioCodec}},{key:"clientId",get:function(){return this.store.getState().clientId}},{key:"p2pId",get:function(){return this.store.getState().p2pId},set:function(e){this.store.dispatch({type:O0.SET_P2P_ID,p2pId:e})}},{key:"uid",get:function(){return this.store.getState().uid},set:function(e){this.store.dispatch({type:O0.SET_UID,uid:e})}},{key:"pubId",get:function(){return this.store.getState().pubId},set:function(e){this.store.dispatch({type:O0.SET_PUB_ID,pubId:e})}},{key:"cloudProxyServerMode",get:function(){return this.store.getState().cloudProxyServerMode},set:function(e){this.store.dispatch({type:O0.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}},{key:"clientCreated",value:function(){this.store.dispatch({type:O0.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}},{key:"joinStart",value:function(){this.store.dispatch({type:O0.KEY_METRIC_JOIN_START,metric:Date.now()})}},{key:"joinEnd",value:function(){this.store.dispatch({type:O0.KEY_METRIC_JOIN_END,metric:Date.now()})}},{key:"requestAPStart",value:function(){this.store.dispatch({type:O0.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}},{key:"requestAPEnd",value:function(){this.store.dispatch({type:O0.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}},{key:"joinGatewayStart",value:function(){this.store.dispatch({type:O0.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}},{key:"joinGatewayEnd",value:function(){this.store.dispatch({type:O0.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}},{key:"peerConnectionStart",value:function(){this.store.dispatch({type:O0.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}},{key:"peerConnectionEnd",value:function(){this.store.dispatch({type:O0.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}},{key:"publish",value:function(e,t,n,r){this.store.dispatch({type:O0.KEY_METRIC_PUBLISH,metric:B0(B0({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}},{key:"subscribe",value:function(e,t,n,r,i,o,a){this.store.dispatch({type:O0.KEY_METRIC_SUBSCRIBE,metric:B0(B0(B0(B0(B0({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),i&&{firstFrame:i}),o&&{streamAdded:o}),a&&{firstDecoded:a})})}},{key:"massSubscribe",value:function(e,t,n,r){var i=this;e.forEach((function(e){i.store.dispatch({type:O0.KEY_METRIC_SUBSCRIBE,metric:B0(B0(B0({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}},{key:"keyMetrics",get:function(){return this.store.getState().keyMetrics}},{key:"recordJoinChannelService",value:function(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((function(e){return e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")})));try{return"number"!=typeof t?(this.store.dispatch({type:O0.RECORD_JOIN_CHANNEL_SERVICE,record:B0(B0({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.store.getState().joinChannelServiceRecords.length-1):(t<0||t>=this.store.getState().joinChannelServiceRecords.length||this.store.dispatch({type:O0.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}},{key:"resetJoinChannelServiceRecords",value:function(){this.store.dispatch({type:O0.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}},{key:"resetKeyMetrics",value:function(){this.store.dispatch({type:O0.RESET_KEY_METRICS})}},{key:"joinChannelServiceRecords",get:function(){try{return this.store.getState().joinChannelServiceRecords}catch(b){return[]}}},{key:"avoidJoinStart",get:function(){return this.store.getState().avoidJoinStart},set:function(e){this.store.dispatch({type:O0.AVOID_JOIN_START,avoidJoinStart:e})}}]),e}(),F0=function(){return"HTTPS"===(U0||U0||(U0=(window.location.protocol.split(":")[0]||"").toUpperCase()))},Q0=function(){return void 0!==window.isSecureContext},V0=function(){function e(t,n){v(this,e),tO(this,"time",void 0),tO(this,"sequence",void 0),tO(this,"name",void 0),tO(this,"elapse",void 0),this.name=t,this.time=performance.now(),this.sequence=GP[n].indexOf(t)}return g(e,[{key:"setElapse",value:function(e){this.elapse=e}}]),e}(),G0=new Map,H0=function(){function e(t,n){v(this,e),tO(this,"records",[]),tO(this,"_id",void 0),tO(this,"_group",void 0),tO(this,"_localTimeStamp",void 0),tO(this,"_performanceTimeStamp",void 0),this._id=t,this._group=n,this._localTimeStamp=Date.now(),this._performanceTimeStamp=performance.now()}return g(e,[{key:"checkPoint",value:function(e){var t=new V0(e,this._group);-1===t.sequence&&px.warning("[".concat(this._id,"] check point record failed, cannot get the sequence")),this.records.push(t);var n=this.records.find((function(e){return e.sequence===t.sequence-1}));n&&t.setElapse(t.time-n.time)}},{key:"getRecord",value:function(e){return this.records.find((function(t){return t&&t.name===e}))}},{key:"resetRecords",value:function(){this.records.length=0}}]),e}();function q0(e){var t=n2();return function(e,t){var n=e.appId;void 0!==n&&(g2(t,10),u2(t,n));var r=e.cid;void 0!==r&&(g2(t,16),g2(t,r));var i=e.cname;void 0!==i&&(g2(t,26),u2(t,i));var o=e.deviceId;void 0!==o&&(g2(t,34),u2(t,o));var s=e.elapse;void 0!==s&&(g2(t,40),A2(t,s));var c=e.fileSize;void 0!==c&&(g2(t,48),A2(t,e2(c)));var u=e.height;void 0!==u&&(g2(t,56),A2(t,e2(u)));var l=e.jpg;void 0!==l&&(g2(t,66),g2(t,l.length),function(e,t){var n=a2(e,t.length);e.bytes.set(t,n)}(t,l));var d=e.networkType;void 0!==d&&(g2(t,72),A2(t,e2(d)));var f=e.osType;void 0!==f&&(g2(t,80),A2(t,e2(f)));var p=e.requestId;void 0!==p&&(g2(t,90),u2(t,p));var h=e.sdkVersion;void 0!==h&&(g2(t,98),u2(t,h));var v=e.sequence;void 0!==v&&(g2(t,104),A2(t,e2(v)));var g=e.sid;void 0!==g&&(g2(t,114),u2(t,g));var A=e.timestamp;void 0!==A&&(g2(t,120),A2(t,A));var m=e.uid;void 0!==m&&(g2(t,128),g2(t,m));var E=e.vid;void 0!==E&&(g2(t,136),g2(t,E));var y=e.width;void 0!==y&&(g2(t,144),A2(t,e2(y)));var b=e.service;void 0!==b&&(g2(t,152),g2(t,b));var C=e.callbackData;void 0!==C&&(g2(t,162),u2(t,C));var _=e.jpgEncryption;void 0!==_&&(g2(t,168),g2(t,_));var I=e.requestType;void 0!==I&&(g2(t,176),g2(t,I));var w=e.scorePorn;void 0!==w&&(g2(t,185),h2(t,w));var S=e.scoreSexy;void 0!==S&&(g2(t,193),h2(t,S));var T=e.scoreNeutral;void 0!==T&&(g2(t,201),h2(t,T));var R=e.scene;void 0!==R&&(g2(t,208),g2(t,R));var k=e.ossFilePrefix;void 0!==k&&(g2(t,218),u2(t,k));var O=e.serviceVendor;if(void 0!==O){var N,x=a(O);try{for(x.s();!(N=x.n()).done;){var D=N.value;g2(t,226);var L=n2();Y0(D,L),g2(t,L.limit),l2(t,L),r2(L)}}catch(P){x.e(P)}finally{x.f()}}}(e,t),function(e){var t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function K0(e){return function(e){var t={};e:for(;!o2(e);){var n=v2(e);switch(n>>>3){case 0:break e;case 1:t.code=v2(e);break;case 2:t.msg=c2(e,v2(e));break;case 3:var r=z0(e);t.data=W0(e),e.limit=r;break;default:J0(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function W0(e){var t={};e:for(;!o2(e);){var n=v2(e);switch(n>>>3){case 0:break e;case 1:t.requestId=c2(e,v2(e));break;case 2:t.requestType=v2(e)>>>0;break;case 3:t.scorePorn=p2(e);break;case 4:t.scoreSexy=p2(e);break;case 5:t.scoreNeutral=p2(e);break;case 6:t.requestScene=v2(e)>>>0;break;case 7:t.scene=v2(e)>>>0;break;default:J0(e,7&n)}}return t}function Y0(e,t){var n=e.service;void 0!==n&&(g2(t,8),g2(t,n));var r=e.vendor;void 0!==r&&(g2(t,16),g2(t,r));var i=e.token;void 0!==i&&(g2(t,26),u2(t,i));var o=e.callbackUrl;void 0!==o&&(g2(t,34),u2(t,o))}function z0(e){var t=v2(e),n=e.limit;return e.limit=e.offset+t,n}function J0(e,t){switch(t){case 0:for(;128&d2(e););break;case 2:i2(e,v2(e));break;case 5:i2(e,4);break;case 1:i2(e,8);break;default:throw new Error("Unimplemented type: "+t)}}var X0=new Float32Array(1);new Uint8Array(X0.buffer);var Z0=new Float64Array(1),$0=new Uint8Array(Z0.buffer);function e2(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}var t2=[];function n2(){var e=t2.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function r2(e){t2.push(e)}function i2(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function o2(e){return e.offset>=e.limit}function a2(e,t){var n=e.bytes,r=e.offset,i=e.limit,o=r+t;if(o>n.length){var a=new Uint8Array(2*o);a.set(n),e.bytes=a}return e.offset=o,o>i&&(e.limit=o),r}function s2(e,t){var n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function c2(e,t){for(var n=s2(e,t),r=String.fromCharCode,i=e.bytes,o="\ufffd",a="",s=0;s<t;s++){var c=void 0,u=void 0,l=void 0,d=void 0,f=i[s+n];0==(128&f)?a+=r(f):192==(224&f)?s+1>=t||128!=(192&(c=i[s+n+1]))||(d=(31&f)<<6|63&c)<128?a+=o:(a+=r(d),s++):224==(240&f)?s+2>=t||32896!=(49344&((c=i[s+n+1])|(u=i[s+n+2])<<8))||(d=(15&f)<<12|(63&c)<<6|63&u)<2048||d>=55296&&d<=57343?a+=o:(a+=r(d),s+=2):240==(248&f)?s+3>=t||8421504!=(12632256&((c=i[s+n+1])|(u=i[s+n+2])<<8|(l=i[s+n+3])<<16))||(d=(7&f)<<18|(63&c)<<12|(63&u)<<6|63&l)<65536||d>1114111?a+=o:(a+=r(55296+((d-=65536)>>10),56320+(1023&d)),s+=3):a+=o}return a}function u2(e,t){for(var n=t.length,r=0,i=0;i<n;i++){var o=t.charCodeAt(i);o>=55296&&o<=56319&&i+1<n&&(o=(o<<10)+t.charCodeAt(++i)-56613888),r+=o<128?1:o<2048?2:o<65536?3:4}g2(e,r);for(var a=a2(e,r),s=e.bytes,c=0;c<n;c++){var u=t.charCodeAt(c);u>=55296&&u<=56319&&c+1<n&&(u=(u<<10)+t.charCodeAt(++c)-56613888),u<128?s[a++]=u:(u<2048?s[a++]=u>>6&31|192:(u<65536?s[a++]=u>>12&15|224:(s[a++]=u>>18&7|240,s[a++]=u>>12&63|128),s[a++]=u>>6&63|128),s[a++]=63&u|128)}}function l2(e,t){for(var n=a2(e,t.limit),r=e.bytes,i=t.bytes,o=0,a=t.limit;o<a;o++)r[o+n]=i[o]}function d2(e){return e.bytes[s2(e,1)]}function f2(e,t){var n=a2(e,1);e.bytes[n]=t}function p2(e){var t=s2(e,8),n=e.bytes;return $0[0]=n[t++],$0[1]=n[t++],$0[2]=n[t++],$0[3]=n[t++],$0[4]=n[t++],$0[5]=n[t++],$0[6]=n[t++],$0[7]=n[t++],Z0[0]}function h2(e,t){var n=a2(e,8),r=e.bytes;Z0[0]=t,r[n++]=$0[0],r[n++]=$0[1],r[n++]=$0[2],r[n++]=$0[3],r[n++]=$0[4],r[n++]=$0[5],r[n++]=$0[6],r[n++]=$0[7]}function v2(e){var t,n=0,r=0;do{t=d2(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function g2(e,t){for(t>>>=0;t>=128;)f2(e,127&t|128),t>>>=7;f2(e,t)}function A2(e,t){var n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,i=t.high>>>24,o=0===i?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10,a=a2(e,o),s=e.bytes;switch(o){case 10:s[a+9]=i>>>7&1;case 9:s[a+8]=9!==o?128|i:127&i;case 8:s[a+7]=8!==o?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==o?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==o?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==o?128|r:127&r;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}var m2={};Object.defineProperty(m2,"__esModule",{value:!0});var E2=function(){function e(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var n,r,i,o,a=e.hexChars,s=e.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=t[o],i=0;i<8;i+=2)s[r+1+i]=a.charAt(15&n),n>>>=4,s[r+0+i]=a.charAt(15&n),n>>>=4;return s.join("")},e._md5cycle=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var n,r,i=this._buffer8,o=this._buffer32,a=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this},e.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t.charCodeAt(a++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t[a++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,n=e.buffer,r=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,o=1+(n>>2);this._dataLength+=n;var a=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(e.buffer32Identity.subarray(o),o),n>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),a<=4294967295)i[14]=a;else{var s=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var c=parseInt(s[2],16),u=parseInt(s[1],16)||0;i[14]=c,i[15]=u}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}(),y2=m2.Md5=E2;if("5d41402abc4b2a76b9719d911017c592"!==E2.hashStr("hello"))throw new Error("Md5 self test failed.");var b2=function(){var e=u(c().mark((function e(t,n,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=u(c().mark((function e(t,n,r){var i,o,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=""+n+r,o=new Uint8Array(y2.hashStr(i,!0).buffer).slice(0,16),a=o.slice(0,12),e.next=5,window.crypto.subtle.importKey("raw",o,"AES-GCM",!0,["encrypt"]);case 5:return s=e.sent,e.t0=Uint8Array,e.next=9,window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},s,t);case 9:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t.buffer,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _2,I2,w2,S2,T2,R2,k2,O2,N2,x2,D2,L2,P2,M2,B2=new Map([["moderation",1],["supervise",2],["all",3]]),U2=function(e){f(n,e);var t=p(n);function n(e){var r;return v(this,n),r=t.call(this),tO(l(r),"name","AgoraRTCVideoContentInspect"),tO(l(r),"_connectionState",FP.CONNECTING),tO(l(r),"_innerConnectionState",void 0),tO(l(r),"sequence",0),tO(l(r),"inspectStartTime",void 0),tO(l(r),"workerManagerConnection",void 0),tO(l(r),"workerConnection",void 0),tO(l(r),"workerMessageLengthLimit",void 0),tO(l(r),"inspectIntervalMinimum",void 0),tO(l(r),"qualityRatio",void 0),tO(l(r),"_connectInfo",void 0),tO(l(r),"_cancelTokenSource",ex.CancelToken.source()),tO(l(r),"_retryConfig",void 0),tO(l(r),"wmSequence",0),tO(l(r),"inspectInterval",void 0),tO(l(r),"inspectTimer",null),tO(l(r),"ossFilePrefix",void 0),tO(l(r),"extraInfo",void 0),tO(l(r),"inspectType","all"),tO(l(r),"_quality",1),tO(l(r),"qualityTimer",null),tO(l(r),"_inspectId",void 0),tO(l(r),"_needWorkUrlOnly",!1),tO(l(r),"inspectImage",(function(){if(r.connectionState!==FP.CONNECTED)throw new ix($N.OPERATION_ABORTED,"content inspect service connection status is ".concat(r.connectionState));r.inspectTimer&&(window.clearInterval(r.inspectTimer),r.inspectTimer=null),r.inspectTimer=window.setInterval((function(){if(r.connectionState!==FP.CONNECTED)return px.debug("[".concat(r._inspectId,"] Inspect State is not connected , "),r.connectionState),void kx("debug",l(r),"Inspect State is not connected , ".concat(r.connectionState));r.requestToInspectImage()}),r.inspectInterval<r.inspectIntervalMinimum?r.inspectIntervalMinimum:r.inspectInterval),r.requestToInspectImage()})),r._inspectId=HH(5,"inspect-"),r.workerMessageLengthLimit=Zx("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),r.inspectIntervalMinimum=Zx("VIDEO_INSPECT_INTERVAL_MINIMUM"),r.qualityRatio=Zx("VIDEO_INSPECT_QUALITY_RATIO"),r.inspectInterval=e.interval,r.ossFilePrefix=e.ossFilePrefix,r.extraInfo=e.extraInfo,r.inspectType=e.inspectType||"all",r.inspectStartTime=Number(Date.now()),r.workerManagerConnection=new Iz("worker-manager-"+r._inspectId,ox),r.on(VP.STATE_CHANGE,(function(e,t){r._innerConnectionState=e,px.debug("[".concat(r._inspectId,"] Inspect operation :").concat(QP[e]," ").concat(t||"")),xx("debug",["Inspect",r._inspectId],VP.STATE_CHANGE,"".concat(QP[e]," ").concat(t||""))})),r.handleWorkerManagerEvents(),r.workerConnection=new Iz("worker-"+r._inspectId,ox),r.handleWorkerEvents(),r}return g(n,[{key:"connectionState",get:function(){return this._connectionState},set:function(e){if(this._connectionState!==e){var t=this._connectionState;this._connectionState=e,this.emit(VP.CONNECTION_STATE_CHANGE,t,e)}}},{key:"quality",get:function(){return this._quality},set:function(e){var t=this;this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((function(){t.quality=t._quality/t.qualityRatio}),6e4))}},{key:"init",value:function(){var e=u(c().mark((function e(t,n){var r,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit(VP.STATE_CHANGE,QP.CONNECT_AP),this._connectInfo=t,r=this._cancelTokenSource.token,e.abrupt("return",(this._retryConfig=n,new wI((function(e,o){i.on(VP.CONNECTION_STATE_CHANGE,(function(t,n){n===FP.CONNECTED&&e()})),i.requestAP(t,r,n).then((function(e){i.connectWorkerManager(e)})).catch((function(e){o(e)}))}))));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"requestAP",value:function(){var e=u(c().mark((function e(t,n,r){var i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zx("WEBCS_DOMAIN").map((function(e){return"https://".concat(e,"/api/v1")})),e.next=3,function(e,t,n,r){var i=t.appId,o=t.areaCode,a=t.cname,s=t.sid,l=t.token,d=t.uid;Hz++;var f,p,h="image_moderation_api",v={service_name:h,json_body:JSON.stringify({appId:i,areaCode:o,cname:a,command:"allocateEdge",requestId:Hz,seq:Hz,sid:s,token:l,ts:Date.now(),uid:d+""})},g=e[0];return sx(u(c().mark((function e(){var t,r,i,o,a,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=Date.now(),e.next=3,gV(g,{data:v,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});case 3:if(t=e.sent,p=Date.now()-f,0===t.code){e.next=7;break}throw r=new ix($N.UNEXPECTED_RESPONSE,"image inspect ap error, code"+t.code,{retry:!0,responseTime:p}),px.error(r.toString()),Dx("error",["AjaxAPI"],"requestImageInspectAP",void 0,r.toString()),r;case 7:if(200===(i=JSON.parse(t.json_body)).code){e.next=11;break}throw o=new ix($N.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(i.code,", reason: ").concat(i.reason),{code:i.code,responseTime:p}),px.error(o.toString()),Dx("error",["AjaxAPI"],"requestImageInspectAP",void 0,o.toString()),o;case 11:if(i.servers&&Array.isArray(i.servers)&&0!==i.servers.length){e.next=14;break}throw a=new ix($N.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:i.code,responseTime:p}),px.error(a.toString()),Dx("error",["AjaxAPI"],"requestImageInspectAP",void 0,a.toString()),a;case 14:return s=Zx("VIDEO_INSPECT_WORKER_MANAGER_HOST"),u=Zx("VIDEO_INSPECT_WORKER_MANAGER_PORT"),e.abrupt("return",{addressList:i.servers.map((function(e){var t=e.address,n=e.wss;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(s,":").concat(u||n)})).filter((function(e){return!!e})),workerToken:i.workerToken,vid:i.vid,responseTime:p});case 16:case"end":return e.stop()}}),e)}))),(function(t,n){return NV.apworkerEvent(s,{success:!0,sc:200,serviceName:h,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1}),(function(t,n){return NV.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:h,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==$N.OPERATION_ABORTED&&t.code!==$N.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(g=e[(n+1)%e.length],!0)}),r)}(i,t,n,r);case 3:return o=e.sent,this.emit(VP.STATE_CHANGE,QP.AP_CONNECTED),a=o.addressList,e.abrupt("return",(this.wmSequence++,a));case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"connectWorkerManager",value:function(){var e=u(c().mark((function e(t){var n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],this._needWorkUrlOnly=n,this.emit(VP.STATE_CHANGE,QP.CONNECT_WORKER_MANAGER),e.next=5,this.workerManagerConnection.init(t,1e4);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"connectWorker",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerConnection.init([t]);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleWorkerManagerEvents",value:function(){var e=this;this.workerManagerConnection.on(WL.CONNECTED,u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.emit(VP.STATE_CHANGE,QP.WORKER_MANAGER_CONNECTED,e.workerManagerConnection.url),e.workerManagerConnection.sendMessage({appId:e._connectInfo.appId,cname:e._connectInfo.cname,uid:e._connectInfo.uid+"",sdkVersion:"4.13.0",sid:e._connectInfo.sid,seq:e.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0);case 1:case"end":return t.stop()}}),t)})))),this.workerManagerConnection.on(WL.CLOSED,(function(){e._innerConnectionState<QP.GET_WORKER_MANAGER_RESPONSE&&(px.debug("[".concat(e._inspectId,"] Inspect worker manager is closed before connecting worker")),xx("debug",["Inspect",e._inspectId],"workerManagerConnectionClosed"))})),this.workerManagerConnection.on(WL.FAILED,(function(){e._innerConnectionState<QP.GET_WORKER_MANAGER_RESPONSE&&(px.debug("[".concat(e._inspectId,"] Connecting inspect worker manager is failed before connecting worker")),xx("debug",["Inspect",e._inspectId],"workerManagerConnectionFailed"))})),this.workerManagerConnection.on(WL.RECONNECTING,(function(){e._innerConnectionState<QP.GET_WORKER_MANAGER_RESPONSE&&(px.debug("[".concat(e._inspectId,"] Inspect worker manager is reconnecting before connecting worker")),xx("debug",["Inspect",e._inspectId],"workerManagerConnectionReconnecting"))})),this.workerManagerConnection.on(WL.ON_MESSAGE,function(){var t=u(c().mark((function t(n){var r,i,o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.emit(VP.STATE_CHANGE,QP.GET_WORKER_MANAGER_RESPONSE),r=e.workerManagerConnection.url,e.workerManagerConnection.close(),200===(i=JSON.parse(n.data)).code){t.next=6;break}throw px.error("[".concat(e._inspectId,"] Unexpected code ").concat(i.code," from worker manager")),kx("error",e,"Unexpected code ".concat(i.code," from worker manager")),new ix($N.UNEXPECTED_RESPONSE,"response code of worker is unexpected",i);case 6:if(i.serverResponse&&i.serverResponse.portWss&&r){t.next=8;break}throw px.error("[".concat(e._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(i))),kx("error",e,"Unexpected content from worker manager : "+JSON.stringify(i)),new ix($N.UNEXPECTED_RESPONSE,"response content of worker is unexpected",i);case 8:if(o=Zx("VIDEO_INSPECT_WORKER_PORT")||i.serverResponse.portWss,a=r.replace(/:\d+\/?$/,":".concat(o)),e.emit(VP.STATE_CHANGE,QP.CONNECT_WORKER,a),!e._needWorkUrlOnly){t.next=14;break}e.emit(VP.REQUEST_NEW_WORKER_URL,a),t.next=16;break;case 14:return t.next=16,e.connectWorker(a);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.workerManagerConnection.on(WL.WILL_RECONNECT,(function(e,t){t(e)})),this.workerManagerConnection.on(WL.REQUEST_NEW_URLS,(function(t,n){e.requestAP(e._connectInfo,e._cancelTokenSource.token,e._retryConfig).then(t).catch(n)}))}},{key:"handleWorkerEvents",value:function(){var e=this;this.workerConnection.on(WL.CONNECTED,u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.emit(VP.STATE_CHANGE,QP.WORKER_CONNECTED,e.workerConnection.url),e.connectionState=FP.CONNECTED;case 1:case"end":return t.stop()}}),t)})))),this.workerConnection.on(WL.ON_MESSAGE,function(){var t=u(c().mark((function t(n){var r,i,o,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.data instanceof ArrayBuffer)){t.next=11;break}if(r=K0(new Uint8Array(n.data)),Zx("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&px.debug("[".concat(e._inspectId,"] Response message for worker of inspect content "),JSON.stringify(r)),200!==r.code){t.next=8;break}if("supervise"!==e.inspectType){t.next=5;break}return t.abrupt("return",void e.emit(VP.INSPECT_RESULT,void 0,void 0));case 5:r.data&&r.data.scorePorn&&r.data.scoreSexy&&r.data.scoreNeutral?(o={porn:r.data.scorePorn,sexy:r.data.scoreSexy,neutral:r.data.scoreNeutral},a=Hf(i=Object.keys(o)).call(i,(function(e,t){return o[e]>o[t]?e:t}),"porn"),s=Object.keys(o).find((function(e){return e===a})),e.emit(VP.INSPECT_RESULT,s)):e.emit(VP.INSPECT_RESULT,void 0,new ix($N.UNEXPECTED_RESPONSE,r.code+"","There is an unexpected data on message")),t.next=9;break;case 8:e.emit(VP.INSPECT_RESULT,void 0,new ix($N.UNEXPECTED_RESPONSE,r.code+"",r.msg));case 9:t.next=12;break;case 11:px.error("[".concat(e._inspectId,"] Unexpected message type from worker")),kx("error",e,"Unexpected message type from worker"),e.emit(VP.INSPECT_RESULT,void 0,new ix($N.UNEXPECTED_RESPONSE,"invalid worker message type"));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.workerConnection.on(WL.CLOSED,(function(){e.connectionState=FP.CLOSED})),this.workerConnection.on(WL.FAILED,(function(){e.connectionState=FP.CLOSED})),this.workerConnection.on(WL.RECONNECTING,(function(){e.connectionState=e.connectionState===FP.CONNECTED?FP.RECONNECTING:FP.CONNECTING})),this.workerConnection.on(WL.WILL_RECONNECT,(function(e,t){"recover"===e&&t(e),t("tryNext")})),this.workerConnection.on(WL.REQUEST_NEW_URLS,(function(t,n){e.workerManagerConnection.close(),e.once(VP.REQUEST_NEW_WORKER_URL,(function(e){t([e])})),e.requestAP(e._connectInfo,e._cancelTokenSource.token,e._retryConfig).then((function(t){e.connectWorkerManager(t,!0)})).catch((function(e){n(e)}))}))}},{key:"requestToInspectImage",value:function(){var e=u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sequence++,t=XH(this,VP.CLIENT_LOCAL_VIDEO_TRACK),n={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid},!t){e.next=11;break}if(t.isPlaying){e.next=5;break}return e.abrupt("return",void this.emit(VP.INSPECT_RESULT,void 0,new ix($N.INVALID_OPERATION,"Only the track being played can be inspected")));case 5:return e.next=7,this.generateRequestData(t,n);case 7:r=e.sent,this.workerConnection.sendMessage(r,!0,!0),e.next=12;break;case 11:this.emit(VP.INSPECT_RESULT,void 0,new ix($N.INVALID_OPERATION,"Only the track being published can be inspected"));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"generateRequestData",value:function(){var e=u(c().mark((function e(t,r){var i,o,a,s,u,l,d,f,p,h,v,g,A,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.appId,o=r.cname,a=r.cid,s=r.vid,u=r.sid,l=r.uid,d=Date.now(),e.next=4,t.getCurrentFrameImage("image/jpeg",this.quality);case 4:return f=e.sent,e.next=7,b2(f,i,o);case 7:if(p=e.sent,h=this.sequence+"-"+a+"-"+l+"-"+d+"-"+HH(12,""),v={appId:i,cid:a,cname:o,deviceId:"",elapse:n.intToLong(Number(d-this.inspectStartTime)),fileSize:p.byteLength,jpgEncryption:2,height:f.height,width:f.width,jpg:p,networkType:6,osType:7,requestId:h,sdkVersion:"4.13.0",sequence:this.sequence,sid:u,timestamp:n.intToLong(d),uid:l,vid:s,service:B2.get(this.inspectType)||3,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix},void 0===this.extraInfo&&delete v.callbackData,void 0===this.ossFilePrefix&&delete v.ossFilePrefix,!((g=q0(v)).byteLength<this.workerMessageLengthLimit)){e.next=15;break}return Zx("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&(A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C2(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v),delete A.jpg,px.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(A)),kx("debug",this,"Request message for worker of inspect content ".concat(JSON.stringify(A)))),e.abrupt("return",g);case 15:return m=this.quality*this.qualityRatio,this.quality=m,e.next=19,this.generateRequestData(t,{appId:i,cname:o,cid:a,vid:s,sid:u,uid:l});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this._cancelTokenSource.cancel(),this._cancelTokenSource=ex.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=FP.CLOSED,this.emit(VP.STATE_CHANGE,QP.CLOSED)}}],[{key:"intToLong",value:function(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}}]),n}(nx);function j2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j2(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q2=(_2=Mx("AgoraRTCClient","store.clientId"),I2=kV({report:NV}),w2=kV(),S2=kV(),T2=kV({report:NV}),R2=OV(),k2=kV({report:NV}),O2=OV({report:NV}),N2=OV({report:NV}),x2=OV({report:NV}),D2=kV({reportResult:!0,report:NV}),L2=OV(),_2((oV((M2=function(e){f(n,e);var t=p(n);function n(e){var i,o;if(v(this,n),i=t.call(this),tO(l(i),"store",void 0),tO(l(i),"_uid",void 0),tO(l(i),"_channelName",void 0),tO(l(i),"_uintUid",void 0),tO(l(i),"_users",[]),tO(l(i),"_codec",void 0),tO(l(i),"_mode",void 0),tO(l(i),"_config",void 0),tO(l(i),"_clientId",void 0),tO(l(i),"_appId",void 0),tO(l(i),"_sessionId",null),tO(l(i),"_key",void 0),tO(l(i),"_joinInfo",void 0),tO(l(i),"_gateway",void 0),tO(l(i),"_statsCollector",void 0),tO(l(i),"_configDistribute",void 0),tO(l(i),"_leaveMutex",new BV("client-leave")),tO(l(i),"_publishMutex",new BV("client-publish")),tO(l(i),"_renewTokenMutex",new BV("client-renewtoken")),tO(l(i),"_subscribeMutex",new BV("client-subscribe")),tO(l(i),"_encryptionMode","none"),tO(l(i),"_encryptionSecret",null),tO(l(i),"_encryptionSalt",null),tO(l(i),"_proxyServer",void 0),tO(l(i),"_performanceRecorder",void 0),tO(l(i),"_turnServer",{servers:[],mode:"auto"}),tO(l(i),"_cloudProxyServerMode","disabled"),tO(l(i),"_isDualStreamEnabled",!1),tO(l(i),"_defaultStreamFallbackType",void 0),tO(l(i),"_lowStreamParameter",void 0),tO(l(i),"_streamFallbackTypeCacheMap",new Map),tO(l(i),"_remoteStreamTypeCacheMap",new Map),tO(l(i),"_axiosCancelSource",ex.CancelToken.source()),tO(l(i),"_audioVolumeIndicationInterval",void 0),tO(l(i),"_networkQualityInterval",void 0),tO(l(i),"_userOfflineTimeout",void 0),tO(l(i),"_streamRemovedTimeout",void 0),tO(l(i),"_injectStreamingClient",void 0),tO(l(i),"_liveTranscodeStreamingClient",void 0),tO(l(i),"_liveRawStreamingClient",void 0),tO(l(i),"_channelMediaRelayClient",void 0),tO(l(i),"_networkQualitySensitivity","normal"),tO(l(i),"_p2pChannel",void 0),tO(l(i),"_useLocalAccessPoint",!1),tO(l(i),"_joinAndNotLeaveYet",!1),tO(l(i),"_numberOfJoinCount",0),tO(l(i),"_remoteDefaultVideoStreamType",void 0),tO(l(i),"_inspect",void 0),tO(l(i),"_license",void 0),tO(l(i),"_handleLocalTrackEnable",(function(e,t,n){i.publish(e,!1).then(t).catch(n)})),tO(l(i),"_handleLocalTrackDisable",(function(e,t,n){i.unpublish(e).then(t).catch(n)})),tO(l(i),"_handleUserOnline",(function(e){i.isStringUID&&"string"!=typeof e.uid&&(px.error("[".concat(i._clientId,"] StringUID is Mixed with UintUID")),kx("error",l(i),"StringUID is Mixed with UintUID"));var t=i._users.find((function(t){return t.uid===e.uid}));if(t)t._trust_in_room_=!0;else{var n=new UX(e.uid,e.uint_id||e.uid);i._users.push(n),px.debug("[".concat(i._clientId,"] user online"),e.uid),Nx("info",l(i),"user-joined",{uid:e.uid}),i.emit(xL.USER_JOINED,n)}})),tO(l(i),"_handleUserOffline",(function(e){var t=i._users.find((function(t){return t.uid===e.uid}));t&&(i._handleRemoveStream(e),$H(i._users,t),i._remoteStreamTypeCacheMap.delete(t.uid),i._streamFallbackTypeCacheMap.delete(t.uid),px.debug("[".concat(i._clientId,"] user offline"),e.uid,"reason:",e.reason),Nx("info",l(i),"user-left",{reason:e.reason,uid:e.uid}),i.emit(xL.USER_LEAVED,t,e.reason))})),tO(l(i),"_handleAddAudioOrVideoStream",(function(e,t,n,r,o,a,s){var c=i._users.find((function(e){return e.uid===t}));if(!c)return px.error("[".concat(i._clientId,"] can not find target user!(on_add_stream)")),void Ox("error",["AgoraRTCGateway",i._clientId],"add_".concat(e,"_stream"),"can not find target user!");px.debug("[".concat(i._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),Ox("debug",["AgoraRTCGateway",i._clientId],"add_".concat(e,"_stream"),{uid:t,mediaType:e}),i.store.subscribe(c.uid,e,void 0,void 0,void 0,Date.now());var u="audio"===e?c.hasAudio:c.hasVideo;c._uintid||(c._uintid=o||t),"audio"===e?c._trust_audio_stream_added_state_=!0:c._trust_video_stream_added_state_=!0,"audio"===e?(c._audio_added_=!0,void 0!==n&&(c._audioSSRC=n),void 0!==r&&(c._cname=r),a&&(c._audioOrtc=a)):(c._video_added_=!0,void 0!==n&&(c._videoSSRC=n),void 0!==r&&(c._cname=r),void 0!==s&&(c._rtxSsrcId=s),a&&(c._videoOrtc=a)),("audio"===e?c.hasAudio:c.hasVideo)&&!u&&(px.info("[".concat(i._clientId,"] remote user ").concat(c.uid," published ").concat(e)),kx("info",l(i),"remote user ".concat(c.uid," published ").concat(e)),Nx("info",l(i),"user-published",{uid:c.uid,mediaType:e}),i.emit(xL.USER_PUBLISHED,c,e)),"video"===e?NV.onGatewayStream(i._sessionId,AL.ON_ADD_VIDEO_STREAM,mL.ON_ADD_VIDEO_STREAM,{peer:o||t}):NV.onGatewayStream(i._sessionId,AL.ON_ADD_AUDIO_STREAM,mL.ON_ADD_AUDIO_STREAM,{peer:o||t}),i._p2pChannel.remoteMediaSsrcChanged(c,e,n).then((function(t){if(t)return px.debug("[".concat(i._clientId,"] resubscribe ").concat(e," for user ").concat(c.uid," after rejoin because SSRC id changed.")),i._p2pChannel.unsubscribe(c,e,!0).then((function(){return i._subscribe(c,e,!0).catch((function(e){px.error("[".concat(i._clientId,"] resubscribe error"),e.toString()),kx("error",l(i),"resubscribe error: ".concat(e.toString()))}))}))})),i._p2pChannel.hasPendingRemoteMedia(c,e)&&(px.debug("[".concat(i._clientId,"] resubscribe ").concat(e," for user ").concat(c.uid," after reconnect.")),i._subscribe(c,e,!0).catch((function(e){px.error("[".concat(i._clientId,"] resubscribe error"),e.toString()),kx("error",l(i),"resubscribe error: ".concat(e.toString()))})))})),tO(l(i),"_handleRemoveStream",(function(e){var t=i._users.find((function(t){return t.uid===e.uid}));if(!t)return px.warning("[".concat(i._clientId,"] can not find target user!(on_remove_stream)")),void Ox("warning",["AgoraRTCGateway",i._clientId],"remove_stream",{uid:e.uid,info:"can not find target user!"});px.debug("[".concat(i._clientId,"] stream removed with uid ").concat(e.uid)),Ox("debug",["AgoraRTCGateway",i._clientId],"remove_stream",{uid:e.uid});var n=function(){};t.hasAudio&&t.hasVideo?n=function(){px.info("[".concat(i._clientId,"] remote user ").concat(t.uid," unpublished audio track")),Nx("info",l(i),"user-unpublished",{uid:t.uid,mediaType:"audio"}),i.emit(xL.USER_UNPUBLISHED,t,"audio"),px.info("[".concat(i._clientId,"] remote user ").concat(t.uid," unpublished video track")),Nx("info",l(i),"user-unpublished",{uid:t.uid,mediaType:"video"}),i.emit(xL.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=function(){px.info("[".concat(i._clientId,"] remote user ").concat(t.uid," unpublished video track")),Nx("info",l(i),"user-unpublished",{uid:t.uid,mediaType:"video"}),i.emit(xL.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=function(){px.info("[".concat(i._clientId,"] remote user ").concat(t.uid," unpublished audio track")),Nx("info",l(i),"user-unpublished",{uid:t.uid,mediaType:"audio"}),i.emit(xL.USER_UNPUBLISHED,t,"audio")}),t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,i._p2pChannel.unsubscribe(t).then((function(e){if(e)return i._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0,NV.onGatewayStream(i._sessionId,AL.ON_REMOVE_STREAM,mL.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),tO(l(i),"_handleSetStreamLocalEnable",(function(e,t,n){var r=i._users.find((function(e){return e.uid===t}));if(!r)return px.error("[".concat(i._clientId,"] can not find target user!(disable_local)")),void Ox("error",l(i),"disable_local_video","can not find target user!(disable_local)");px.debug("[".concat(i._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t)),Ox("debug",l(i),"disable_local_video","local ".concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));var o="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;var a=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===a)return;var s=r._audio_enabled_?"enable-local-audio":"disable-local-audio";px.debug("[".concat(i._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(s)),Px("debug",l(i),"user-info-updated",{uid:t,msg:s}),i.emit(xL.USER_INFO_UPDATED,t,s)}else{r._trust_video_enabled_state_=!0;var c=r._video_enabled_;if(r._video_enabled_=n,r._video_enabled_===c)return;var u=r._video_enabled_?"enable-local-video":"disable-local-video";px.debug("[".concat(i._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(u)),Px("debug",l(i),"user-info-updated",{uid:t,msg:u}),i.emit(xL.USER_INFO_UPDATED,t,u)}var d="audio"===e?r.hasAudio:r.hasVideo;return o!==d?!o&&d?(px.info("[".concat(i._clientId,"] remote user ").concat(t," published ").concat(e)),Nx("info",l(i),"user-published",{uid:t,mediaType:e}),void i.emit(xL.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,i._p2pChannel.muteRemote(r,e),px.info("[".concat(i._clientId,"] remote user ").concat(t," unpublished ").concat(e)),Nx("info",l(i),"user-unpublished",{uid:t,mediaType:e}),void i.emit(xL.USER_UNPUBLISHED,r,e)):void 0})),tO(l(i),"_handleMuteStream",(function(e,t,n){px.debug("[".concat(i._clientId,"] receive mute message"),e,t,n),Ox("debug",l(i),"mute_".concat(t),n);var r=i._users.find((function(t){return t.uid===e}));if(!r)return px.warning("[".concat(i._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e)),void Ox("warning",l(i),"mute_".concat(t),"can not find remote user, ignore mute event, uid: ".concat(e));var o="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;var a=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===a)return;var s=r._audio_muted_?"mute-audio":"unmute-audio";px.debug("[".concat(i._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(s)),Px("debug",l(i),"user-info-updated",{uid:e,msg:s}),i.emit(xL.USER_INFO_UPDATED,e,s)}else{r._trust_video_mute_state_=!0;var c=r._video_muted_;if(r._video_muted_=n,r._video_muted_===c)return;var u=r._video_muted_?"mute-video":"unmute-video";px.debug("[".concat(i._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(u)),Px("debug",l(i),"user-info-updated",{uid:e,msg:u}),i.emit(xL.USER_INFO_UPDATED,e,u)}var d="audio"===t?r.hasAudio:r.hasVideo;if(o!==d){if(!o&&d)return("audio"===t?r._audioSSRC:r._videoSSRC)?(px.info("[".concat(i._clientId,"] remote user ").concat(e," published ").concat(t)),Nx("info",l(i),"user-published",{uid:r.uid,mediaType:t}),void i.emit(xL.USER_PUBLISHED,r,t)):void px.warning("[".concat(i._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,i._p2pChannel.muteRemote(r,t),px.info("[".concat(i._clientId,"] remote user ").concat(e," unpublished ").concat(t)),Nx("info",l(i),"user-unpublished",{uid:e,mediaType:t}),i.emit(xL.USER_UNPUBLISHED,r,t)}})),tO(l(i),"_handleP2PLost",function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(px.debug("[".concat(i._clientId,"] receive p2p lost"),t),Ox("debug",l(i),"p2p_lost",t),parseInt(t.p2pid,10)===i.store.p2pId){e.next=2;break}return e.abrupt("return",(px.warning("P2PLost stream not found",t),void Ox("warning",l(i),"p2p_lost","P2PLost stream not found, ".concat(t))));case 2:return e.next=4,i._p2pChannel.requestReconnect();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),tO(l(i),"_handleTokenWillExpire",(function(){px.debug("[".concat(i._clientId,"] received message onTokenPrivilegeWillExpire")),Ox("debug",l(i),"token_privilege_will_expire"),i.emit(xL.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),tO(l(i),"_handleBeforeUnload",(function(e){"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(i.leave(),px.info("[".concat(i._clientId,"] auto leave onbeforeunload or pagehide")),xx("info",["window",i.store.clientId],Pk()?"beforeunload":"pagehide"))})),tO(l(i),"_handleUpdateNetworkQuality",(function(){if("normal"!==i._networkQualitySensitivity)if(!navigator||void 0===navigator.onLine||navigator.onLine){var e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=i._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=i._p2pChannel.getDownlinkNetworkQuality(),i.emit(xL.NETWORK_QUALITY,e)}else i.emit(xL.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6})})),i._codec=e.codec,i._mode=e.mode,i._clientId=HH(5,"client-"),i.store=new j0(e.codec,e.audioCodec,e.mode,i._clientId),i.store.clientCreated(),e.proxyServer&&i.setProxyServer(e.proxyServer,!0),e.turnServer&&i.setTurnServer(e.turnServer,!0),px.info("[".concat(i._clientId,"] Initializing AgoraRTC client v").concat(Fx," build: ").concat(jx,", mode: ").concat(i._mode,", codec: ").concat(i._codec)),Px("info",l(i),"constructor",{version:Fx,build:jx,mode:i._mode,codec:i._codec}),i._performanceRecorder=function(e,t){var n=new H0(e,"join");return G0.set(e,n),n}(i._clientId),e.clientRoleOptions)try{KL(e.clientRoleOptions),o=Object.assign({},e.clientRoleOptions)}catch(e){px.warning("[".concat(i._clientId,"] ").concat(e.toString())),kx("warning",l(i),e.toString())}return i._statsCollector=new IH(i.store),i._statsCollector.onStatsException=function(e,t,n){px.debug("[".concat(i._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),Nx("debug",l(i),xL.EXCEPTION,{code:e,message:t,uid:n}),i.emit(xL.EXCEPTION,{code:e,msg:t,uid:n})},i._statsCollector.onUploadPublishDuration=function(e,t,n,r){var o=i._users.find((function(t){return t.uid===e}));o&&NV.peerPublishStatus(i._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:o._uintid})},i._gateway=new Oz(i.store,{clientId:i._clientId,mode:i._mode,codec:i._codec,websocketRetryConfig:e.websocketRetryConfig||ox,httpRetryConfig:e.httpRetryConfig||ox,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:i._statsCollector,role:e.role,clientRoleOptions:o}),i._config=e,i._configDistribute=new AJ,i._p2pChannel=new T0(i.store,i._statsCollector),i._handleP2PChannelEvents(),i._handleGatewayEvents(),r(i)}return g(n,[{key:"connectionState",get:function(){return this._gateway.state}},{key:"remoteUsers",get:function(){return this._users}},{key:"localTracks",get:function(){return this._p2pChannel.getAllTracks(!0)}},{key:"uid",get:function(){return this._uid}},{key:"channelName",get:function(){return this._channelName}},{key:"isStringUID",get:function(){return!!this._joinInfo&&!!this._joinInfo.stringUid}},{key:"join",value:function(){var e=u(c().mark((function e(t,n,r,i,o){var a,s,l,d,f,p,h,v,g,A,m,E,y,b,C,_,I,w,S=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=++this._numberOfJoinCount,this._performanceRecorder.checkPoint("startJoin"),this.store.joinStart(),i&&(this.store.uid=i),s=F0(),l=Q0()?window.isSecureContext:"Browser Not Support",(Q0()||s)&&window.isSecureContext||(d="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser",px.warning(d),Dx("warning",this,d)),f=qH(),"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),px.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)),Dx("debug",this,"join",void 0,"[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),p=NV.reportApiInvoke(f,{name:bL.JOIN,options:[t,n,r,i],states:{isHttps:s,isSecureContext:l},tag:CL.TRACER}),NV.setAppId(t),e.prev=8,r||null===r){e.next=11;break}throw new ix($N.INVALID_PARAMS,"Invalid token: ".concat(r,". If you don not use token, set it to null"));case 11:r&&sL(r,"token",1,2047),sL(t,"appid",1,2047),uL(n),i&&lL(i),o&&sL(o,"optionalInfo",1,2047),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),p.onError(e.t0),e.t0;case 17:if(px.info("[".concat(this._clientId,"] start join channel ").concat(n,", join number: ").concat(a)),Px("info",this,"join",{channel:n}),!this._leaveMutex.isLocked){e.next=25;break}return px.debug("[".concat(this._clientId,"] join: waiting leave operation")),kx("debug",this,"join: waiting leave operation"),e.next=21,this._leaveMutex.lock();case 21:e.t1=e.sent,(0,e.t1)(),px.debug("[".concat(this._clientId,"] join: continue")),kx("debug",this,"join: continue");case 25:if(this._joinAndNotLeaveYet=!0,"DISCONNECTED"===this.connectionState){e.next=28;break}throw h=new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state")),p.onError(h),h;case 28:if(this._sessionId||(this._sessionId=f,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING",v=F2({clientId:this._clientId,appId:t,sid:this._sessionId,cname:n,uid:"string"!=typeof i?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:r||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:o,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),"string"==typeof i&&(v.stringUid=i,this._uintUid?(v.uid=this._uintUid,this._uintUid=void 0):v.uid=0),"none"===this._encryptionMode||!this._encryptionSecret){e.next=38;break}return v.aesmode=this._encryptionMode,e.next=34,function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oq("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),e.next=3,window.crypto.subtle.importKey("spki",n,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]);case 3:return r=e.sent,i=_V(t),e.next=7,window.crypto.subtle.encrypt({name:"RSA-OAEP"},r,i);case 7:return o=e.sent,e.abrupt("return",aq(new Uint8Array(o)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this._encryptionSecret);case 34:if(v.aespassword=e.sent,this._joinAndNotLeaveYet){e.next=37;break}throw new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));case 37:this._encryptionSalt&&(v.aessalt=this._encryptionSalt);case 38:if(this._startSession(this._sessionId,{channel:n,appId:t}),g=this._sessionId,setTimeout((function(){"CONNECTING"===S.connectionState&&g===S._sessionId&&NV.joinChannelTimeout(S._sessionId,5)}),5e3),e.prev=41,"443only"===(m=v.cloudProxyServer)?v.proxyServer=Zx("PROXY_SERVER_TYPE2"):["proxy3","proxy4","proxy5"].includes(m)&&(E=Zx("PROXY_SERVER_TYPE3"),Array.isArray(E)?v.proxyServer=E[0]:v.proxyServer=E),NV.setProxyServer(v.proxyServer),px.setProxyServer(v.proxyServer),Rx(v.proxyServer),this._performanceRecorder.checkPoint("startRequestAp"),this.store.requestAPStart(),!v.stringUid||v.uid||"normal"!==m){e.next=58;break}return e.next=47,$z(v,this._axiosCancelSource.token,this._config.httpRetryConfig||ox,!1,this.store);case 47:return e.next=49,tJ(v.stringUid,v,this._axiosCancelSource.token,this._config.httpRetryConfig||ox,this.store);case 49:return y=e.sent,px.debug("getUserAccount Success ".concat(v.stringUid," => ").concat(y)),kx("debug",this,"getUserAccount Success ".concat(v.stringUid," => ").concat(y)),v.uid=y,e.next=55,Xz(v,this._axiosCancelSource.token,this._config.httpRetryConfig||ox,this.store);case 55:A=e.sent,e.next=73;break;case 58:if(!v.stringUid||v.uid){e.next=70;break}return e.next=61,tJ(v.stringUid,v,this._axiosCancelSource.token,this._config.httpRetryConfig||ox,this.store);case 61:return b=e.sent,px.debug("getUserAccount Success ".concat(v.stringUid," => ").concat(b)),kx("debug",this,"getUserAccount Success ".concat(v.stringUid," => ").concat(b)),v.uid=b,e.next=67,$z(v,this._axiosCancelSource.token,this._config.httpRetryConfig||ox,!0,this.store);case 67:A=e.sent,e.next=73;break;case 70:return e.next=72,$z(v,this._axiosCancelSource.token,this._config.httpRetryConfig||ox,!0,this.store);case 72:A=e.sent;case 73:if(this._joinAndNotLeaveYet){e.next=75;break}throw new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));case 75:return this.store.requestAPEnd(),this._performanceRecorder.checkPoint("startJoinGateway"),setTimeout((function(){S._configDistribute.startGetConfigDistribute(v,S._axiosCancelSource.token),S._configDistribute.on(RP.UPDATE_BITRATE_LIMIT,(function(e){S._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=r||t,C=A.gatewayInfo,this._joinInfo=F2(F2({},v),{},{cid:C.cid,uid:v.uid?v.uid:C.uid,vid:C.vid,apResponse:C.res,uni_lbs_ip:C.uni_lbs_ip,gatewayAddrs:C.gatewayAddrs}),e.next=80,this._joinGateway();case 80:if(_=e.sent,this._joinAndNotLeaveYet){e.next=83;break}throw new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));case 83:return e.abrupt("return",(p.onSuccess(_),this._appId=t,this._channelName=v.cname,this._uid=_,this.store.uid=_,setTimeout((function(){S._networkQualityInterval&&window.clearInterval(S._networkQualityInterval),S._networkQualityInterval=window.setInterval(S._handleUpdateNetworkQuality,2e3),window.addEventListener(Pk()?"beforeunload":"pagehide",S._handleBeforeUnload)}),0),px.info("[".concat(this._clientId,"] Joining channel success: ").concat(n)),Px("info",this,"join",n,"success"),setTimeout((function(){Zx("USE_NEW_LOG")?Bx():px.startUpload()}),5e3),this._performanceRecorder.checkPoint("finishJoin"),this.store.joinEnd(),w=this,aD.includes(w)||aD.push(w),_));case 86:throw e.prev=86,e.t2=e.catch(41),I=Array.isArray(e.t2)?e.t2[0]:e.t2,px.error("[".concat(this._clientId,"] join number: ").concat(a,", Joining channel failed, rollback"),I),Px("error",this,"join",n,I.toString()),I.code!==$N.OPERATION_ABORTED&&this._numberOfJoinCount===a&&(this._gateway.state="DISCONNECTED",this._reset()),p.onError(I),I;case 90:case"end":return e.stop()}}),e,this,[[8,14],[41,86]])})));function t(t,n,r,i,o){return e.apply(this,arguments)}return t}()},{key:"_joinGateway",value:function(){var e=this;if(!this._joinInfo||!this._key)throw new ix($N.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!Zx("JOIN_WITH_FALLBACK_SIGNAL_PROXY"))).then((function(e){return e})).catch((function(t){if(t.code===$N.INIT_WEBSOCKET_TIMEOUT)return e._gateway.leave(!0,NL.FALLBACK);throw t})).then((function(t){if(t)return t;if(px.info("[".concat(e._clientId,"] join timeout, fallback to proxy")),!e._joinInfo||!e._key)throw new ix($N.INVALID_OPERATION);e._joinInfo.cloudProxyServer="fallback",e._cloudProxyServerMode="fallback",e.store.cloudProxyServerMode="fallback";var n=Zx("PROXY_SERVER_TYPE3");if(Array.isArray(n))if(e._joinInfo.apUrl){var r=new tz(e._joinInfo.apUrl).host.split("."),i=r.slice(r.length-2).join(".");n.forEach((function(t){e._joinInfo&&t.includes(i)&&(e._joinInfo.proxyServer=t)})),e._joinInfo.proxyServer||(e._joinInfo.proxyServer=n[0])}else e._joinInfo.proxyServer=n[0];else e._joinInfo.proxyServer=n;return px.setProxyServer(e._joinInfo.proxyServer),NV.setProxyServer(e._joinInfo.proxyServer),Rx(e._joinInfo.proxyServer),NV.reportApiInvoke(e._sessionId,{name:bL.JOIN_FALLBACK_TO_PROXY,options:[e._joinInfo.proxyServer],tag:CL.TRACER}).onSuccess(),e.emit(xL.JOIN_FALLBACK_TO_PROXY,e._joinInfo.proxyServer),e._gateway.join(e._joinInfo,e._key)})).then((function(e){return e}))}},{key:"leave",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=NV.reportApiInvoke(this._sessionId,{name:bL.LEAVE,options:[],tag:CL.TRACER}),px.info("[".concat(this._clientId,"] Leaving channel")),Px("info",this,"leave"),window.removeEventListener(Pk()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){var t=aD.indexOf(e);-1!==t&&aD.splice(t,1)}(this),e.next=4,this._leaveMutex.lock();case 4:if(n=e.sent,"DISCONNECTED"!==this.connectionState){e.next=7;break}return e.abrupt("return",(px.info("[".concat(this._clientId,"] Leaving channel repeated, success")),n(),t.onSuccess()));case 7:return e.next=9,this._gateway.leave("CONNECTED"!==this.connectionState);case 9:px.info("[".concat(this._clientId,"] Leaving channel success")),Px("info",this,"leave",void 0,"success"),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),n(),t.onSuccess();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"publish",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,s,u,l,d,f,p,h=this,v=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(v.length>1&&void 0!==v[1])||v[1],Array.isArray(t)||(t=[t]),r=NV.reportApiInvoke(this._sessionId,{name:bL.PUBLISH,options:t.map((function(e){return e?Object(e).toString():"null"})),tag:CL.TRACER}),0!==t.length){e.next=6;break}return i=new ix($N.INVALID_PARAMS,"track list is empty"),e.abrupt("return",(r.onError(i),i.throw()));case 6:if("audience"!==this._gateway.role){e.next=9;break}return o=new ix($N.INVALID_OPERATION,"audience can not publish stream"),e.abrupt("return",(r.onError(o),o.throw()));case 9:s=a(t),e.prev=10,s.s();case 12:if((u=s.n()).done){e.next=22;break}if((l=u.value)instanceof jV){e.next=17;break}return d=new ix($N.INVALID_PARAMS,"parameter is not local track"),e.abrupt("return",(r.onError(d),d.throw()));case 17:if(l._enabled||!n){e.next=20;break}return f=new ix($N.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(l.getTrackId())),e.abrupt("return",(r.onError(f),f.throw()));case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),s.e(e.t0);case 27:return e.prev=27,s.f(),e.finish(27);case 30:return px.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(t.map((function(e){return"".concat(e.getTrackId()," ")})))),Px("info",this,"publish",t.map((function(e){return"".concat(e.getTrackId())}))),e.next=34,this._configDistribute.awaitConfigDistributeComplete();case 34:return n&&t.forEach((function(e){var t=h._configDistribute.getBitrateLimit();e instanceof MX&&t&&e.setBitrateLimit(t.uplink)})),e.next=37,this._publishMutex.lock();case 37:return p=e.sent,e.prev=38,e.next=41,this._publishHighStream(t);case 41:r.onSuccess(t.map((function(e){return e.trackMediaType+":"+e.getTrackLabel()})).toString()),px.info("[".concat(this._clientId,"] Publish success, id ").concat(t.map((function(e){return"".concat(e.getTrackId()," ")})))),Px("info",this,"publish",t.map((function(e){return"".concat(e.getTrackId())})),"success"),e.next=49;break;case 46:throw e.prev=46,e.t1=e.catch(38),r.onError(e.t1),px.error("[".concat(this._clientId,"] publish error"),e.t1.toString()),Px("error",this,"publish",void 0,e.t1.toString()),e.t1;case 49:return e.prev=49,p(),e.finish(49);case 52:case"end":return e.stop()}}),e,this,[[10,24,27,30],[38,46,49,52]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unpublish",value:function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo&&void 0!==this._uid){e.next=2;break}throw new ix($N.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");case 2:return t?Array.isArray(t)||(t=[t]):t=this._p2pChannel.getAllTracks(!0),n=NV.reportApiInvoke(this._sessionId,{name:bL.UNPUBLISH,options:t.map((function(e){return e.getTrackId()})),tag:CL.TRACER}),px.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(t.map((function(e){return"".concat(e.getTrackId()," ")}))," ")),Px("info",this,"unpublish",t.map((function(e){return"".concat(e.getTrackId())}))),e.next=7,this._publishMutex.lock();case 7:return r=e.sent,e.prev=8,e.next=11,this._p2pChannel.unpublish(t);case 11:if(i=e.sent,e.t0=i,!e.t0){e.next=16;break}return e.next=16,this._gateway.unpublish(i,this._uid);case 16:px.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(t.map((function(e){return"".concat(e.getTrackId())})))),Px("info",this,"unpublish",t.map((function(e){return"".concat(e.getTrackId())})),"success"),n.onSuccess(),e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(8),n.onError(e.t1),px.error("[".concat(this._clientId,"] unpublish error"),e.t1.toString()),Px("error",this,"unpublish",void 0,e.t1.toString()),e.t1;case 24:return e.prev=24,r&&r(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[8,21,24,27]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"subscribe",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._subscribe(t,n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_subscribe",value:function(){var e=u(c().mark((function e(t,n,r){var i,o,a,s,u,l,d,f,p,h,v,g,A,m=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iL(n,"mediaType",["audio","video"]),i=NV.reportApiInvoke(this._sessionId,{name:bL.SUBSCRIBE,options:[t.uid,n],tag:CL.TRACER}),this._joinInfo){e.next=5;break}throw o=new ix($N.INVALID_OPERATION,"Can't subscribe stream, not joined"),i.onError(o),o;case 5:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=8;break}throw a=new ix($N.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state")),i.onError(a),a;case 8:if(this._users.find((function(e){return e===t}))){e.next=11;break}throw s=new ix($N.INVALID_REMOTE_USER,"user is not in the channel"),px.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),Px("error",this,"subscribe",t.uid,"this user is not in the channel"),i.onError(s),s;case 11:if(t.hasAudio||t.hasVideo){e.next=14;break}throw u=new ix($N.INVALID_REMOTE_USER,"user is not published"),px.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),Px("error",this,"subscribe",t.uid,"this user is not published"),i.onError(u),u;case 14:if(r||("audio"!==n||t.hasAudio&&void 0!==t._audioSSRC)&&("video"!==n||t.hasVideo&&void 0!==t._videoSSRC)){e.next=17;break}throw l=new ix($N.REMOTE_USER_IS_NOT_PUBLISHED),px.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(n,", remote track is not published")),Px("error",this,"subscribe",t.uid,"mediaType ".concat(n,", remote track is not published")),i.onError(l),l;case 17:return d="audio"===n?t._audioSSRC:t._videoSSRC,f="audio"===n?t._audioOrtc:t._videoOrtc,p="video"===n?t._rtxSsrcId:void 0,h={stream_type:"audio"===n?OP.AUDIO:OP.VIDEO,ssrcId:d},e.next=23,this._subscribeMutex.lock();case 23:return v=e.sent,px.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(n)),Px("info",this,"subscribe",{uid:t.uid,mediaType:n}),e.prev=25,e.next=28,this._p2pChannel.hasRemoteMediaWithLock(t,n);case 28:if(!e.sent){e.next=33;break}return e.next=31,this._p2pChannel.unmuteRemote(t,n);case 31:e.next=58;break;case 33:return e.prev=33,bH.markSubscribeStart(this.store.clientId,d),this.store.subscribe(t.uid,n,Date.now()),e.next=38,this._p2pChannel.subscribe(t,n,d,p,f);case 38:return e.prev=38,e.next=41,this._gateway.subscribe(t.uid,h,!0);case 41:e.next=52;break;case 43:if(e.prev=43,e.t0=e.catch(38),(null==e.t0?void 0:e.t0.code)===$N.WS_ABORT){e.next=49;break}return e.next=48,this._p2pChannel.unsubscribe(t,n);case 48:throw e.t0;case 49:return e.next=51,this._p2pChannel.unsubscribe(t,n,!0);case 51:this._p2pChannel.setPendingRemoteMedia(t,n);case 52:this.store.subscribe(t.uid,n,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,t,n),e.next=58;break;case 55:throw e.prev=55,e.t1=e.catch(33),this._p2pChannel.reportSubscribeEvent(!1,null==e.t1?void 0:e.t1.code,t,n),e.t1;case 58:if(px.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(n)),Px("info",this,"subscribe",{uid:t.uid,mediaType:n},"success"),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch((function(e){px.warning("[".concat(m._clientId,"] auto set fallback failed"),e),kx("warning",m,"auto set fallback failed, ".concat(e.toString()))})),g="audio"===n?t._audioTrack:t._videoTrack){e.next=63;break}return A=new ix($N.UNEXPECTED_ERROR,"can not find remote track in user object"),e.abrupt("return",(i.onError(A),A.throw()));case 63:return e.abrupt("return",(i.onSuccess(g.getTrackId()),g));case 66:throw e.prev=66,e.t2=e.catch(25),i.onError(e.t2),px.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),e.t2),Px("error",this,"subscribe",{uid:t.uid,mediaType:n},e.t2.toString()),e.t2;case 69:return e.prev=69,v(),e.finish(69);case 72:case"end":return e.stop()}}),e,this,[[25,66,69,72],[33,55],[38,43]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"massSubscribe",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,u,l,d,f,p,v,g,A,m,E,y,b,C,_,I,w,S,T,R,k,O,N,x,D=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cL(t,"subscribeList"),n=NV.reportApiInvoke(this._sessionId,{name:bL.MASS_SUBSCRIBE,options:t.map((function(e){var t=e.user,n=e.mediaType;return[null==t?void 0:t.uid,n]})),tag:CL.TRACER}),this._joinInfo){e.next=5;break}throw r=new ix($N.INVALID_OPERATION,"Can't subscribe stream, not joined"),n.onError(r),r;case 5:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=8;break}throw i=new ix($N.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state")),n.onError(i),i;case 8:return o=Date.now(),u=new Map,e.next=12,this._subscribeMutex.lock();case 12:return l=e.sent,px.info("[".concat(this._clientId,"]start massSubscribe user ").concat(t.map((function(e){var t=e.user,n=e.mediaType;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),Px("info",this,"massSubscribe",t),d=(t=h(t)).map((function(e){return{user:e.user,mediaType:e.mediaType}})),e.next=17,this._p2pChannel.globalLock();case 17:f=e.sent,e.prev=18,v=function(e){var r=t[e],i=r.user,o=r.mediaType;if(iL(o,"mediaType",["audio","video"]),!i){var a=new ix($N.INVALID_PARAMS,"user property does not exist in subscribeList item");throw px.error("[".concat(D._clientId,"] user property does not exist in subscribeList item")),n.onError(a),a}if(!D._users.find((function(e){return e===i}))){var s=new ix($N.INVALID_REMOTE_USER,"user is not in the channel");return px.error("[".concat(D._clientId,"] can not massSubscribe ").concat(i.uid,", this user is not in the channel")),Px("error",D,"massSubscribe",i.uid,"this user is not in the channel"),d[e].error=s,t.splice(e,1),"continue"}if("audio"===o&&(!i.hasAudio||void 0===i._audioSSRC)||"video"===o&&(!i.hasVideo||void 0===i._videoSSRC)){var c=new ix($N.REMOTE_USER_IS_NOT_PUBLISHED);return px.error("[".concat(D._clientId,"] can not subscribe ").concat(i.uid," with mediaType ").concat(o,", remote user is not published")),Px("error",D,"subscribe",i.uid,"mediaType ".concat(o,", remote user is not published")),d[e].error=c,t.splice(e,1),"continue"}var l=hP.Video|hP.LwoVideo,f=u.get(i);if(f){if("video"===o?f&l:f&hP.Audio)return t.splice(e,1),px.warning("repeat massSubscribe user:".concat(i.uid,", mediaType:").concat(o," twice")),"continue";u.set(i,f|("video"===o?l:hP.Audio))}else u.set(i,"video"===o?l:hP.Audio)},g=t.length-1;case 21:if(!(g>=0)){e.next=28;break}if("continue"!==v(g)){e.next=25;break}return e.abrupt("continue",25);case 25:g--,e.next=21;break;case 28:A=t.length-1;case 29:if(!(A>=0)){e.next=39;break}if(m=t[A],E=m.user,y=m.mediaType,b=hP.Video|hP.LwoVideo,!this._p2pChannel.hasRemoteMedia(E,y)){e.next=36;break}return e.next=34,this._p2pChannel.unmuteRemoteNoLock(E,y);case 34:C=u.get(E),u.set(E,"video"===y?C^b:C^hP.Audio),t.splice(A,1);case 36:A--,e.next=29;break;case 39:if(this.store.massSubscribe(t.map((function(e){return{userId:e.user.uid,type:e.mediaType}})),o),_=Hf(p=Array.from(u.entries())).call(p,(function(e,t){var n=s(t,2),r=n[0],i=n[1];if(0===i)return e;var o={stream_id:r.uid,stream_type:i};return i&hP.Audio&&(o.audio_ssrc=r._audioSSRC),i&hP.Video&&(o.video_ssrc=r._videoSSRC),e.push(o),e}),[]),e.prev=41,e.t0=t.length>0,!e.t0){e.next=46;break}return e.next=46,this._p2pChannel.massSubscribeNoLock(t.map((function(e){var t=e.user,n=e.mediaType;return{user:t,mediaType:n,ssrcId:n===OP.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:t._rtxSsrcId}})));case 46:if(I=new Map,!(_.length>0)){e.next=52;break}return e.next=50,this._gateway.subscribeAll(_,!0);case 50:((null==(w=e.sent)?void 0:w.users)||[]).forEach((function(e){var t=e.stream_id,n=e.video_error_code,r=e.audio_error_code,i=e.error_code;(n||r||i)&&I.set(t,{video_error_code:n,audio_error_code:r,error_code:i})}));case 52:if(!(Array.from(I.entries()).length>0)){e.next=56;break}return S=Array.from(I.entries()).map((function(e){var t,n=s(e,2),r=n[0],i=n[1];return i.error_code||i.video_error_code&&i.audio_error_code?t=void 0:i.video_error_code?t=OP.VIDEO:i.audio_error_code&&(t=OP.AUDIO),{user:D.remoteUsers.find((function(e){return e.uid===r})),mediaType:t}})),e.next=56,this._p2pChannel.massUnsubscribeNoLock(S);case 56:T=a(d);try{for(T.s();!(R=T.n()).done;)k=R.value,(O=I.get(k.user.uid))&&(N=O.error_code||"audio"===k.mediaType&&O.audio_error_code||"video"===k.mediaType&&O.video_error_code)&&(x=oz(N),px.error("user:".concat(k.user.uid," mediaType:").concat(k.mediaType," has massSubscribe error ").concat(x.desc)),k.error=new ix($N.SUBSCRIBE_FAILED,"code ".concat(N,": ").concat(x.desc))),k.error||("video"===k.mediaType?k.track=k.user.videoTrack:k.track=k.user.audioTrack)}catch(c){T.e(c)}finally{T.f()}return e.abrupt("return",(this.store.massSubscribe(d.filter((function(e){return!e.error})).map((function(e){return{userId:e.user.uid,type:e.mediaType}})),void 0,Date.now()),d.forEach((function(e){var t;NV.subscribe(D.store.sessionId,{succ:!!e.error,ec:(null===(t=e.error)||void 0===t?void 0:t.code)||null,video:e.mediaType===OP.VIDEO,audio:e.mediaType===OP.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===OP.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:D.store.p2pId,eventElapse:Math.floor(performance.now()-o)},!0)})),n.onSuccess(),px.info("[".concat(this._clientId,"] massSubscribe success ").concat(t.map((function(e){var t=e.user,n=e.mediaType;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),Px("info",this,"massSubscribe",t,"success"),d));case 61:return e.prev=61,e.t1=e.catch(41),e.next=65,this._p2pChannel.massUnsubscribeNoLock(t);case 65:throw n.onError(e.t1),e.t1;case 67:return e.prev=67,f(),l(),e.finish(67);case 70:case"end":return e.stop()}}),e,this,[[18,,67,70],[41,61]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unsubscribe",value:function(){var e=u(c().mark((function e(t,n){var r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&iL(n,"mediaType",["audio","video"]),this._joinInfo){e.next=2;break}throw new ix($N.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");case 2:if(r=NV.reportApiInvoke(this._sessionId,{name:bL.UNSUBSCRIBE,options:[t.uid,n],tag:CL.TRACER}),this._users.find((function(e){return e===t}))){e.next=6;break}throw i=new ix($N.INVALID_REMOTE_USER,"user is not in the channel"),px.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),Px("error",this,"unsubscribe",{uid:t.uid,mediaType:n},"user is not in the channel"),r.onError(i),i;case 6:return px.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: ").concat(n)),Px("info",this,"unsubscribe",{uid:t.uid,mediaType:n}),e.prev=7,e.next=10,this._p2pChannel.unsubscribe(t,n);case 10:if(o=e.sent,e.t0=o,!e.t0){e.next=15;break}return e.next=15,this._gateway.unsubscribe(o,t.uid);case 15:px.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(t.uid,", mediaType: ").concat(n)),Px("info",this,"unsubscribe",{uid:t.uid,mediaType:n},"success"),r.onSuccess(),e.next=25;break;case 20:if(e.prev=20,e.t1=e.catch(7),e.t1.code!==$N.DISCONNECT_P2P){e.next=24;break}return e.abrupt("return",(px.warning("disconnecting p2p, abort unsubscribe request."),void r.onSuccess()));case 24:throw px.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),e.t1.toString()),Px("error",this,"unsubscribe",{uid:t.uid,mediaType:n},e.t1.toString()),r.onError(e.t1),e.t1;case 25:case"end":return e.stop()}}),e,this,[[7,20]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"massUnsubscribe",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s,u=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cL(t,"unsubscribeList"),n=NV.reportApiInvoke(this._sessionId,{name:bL.UNSUBSCRIBE,options:t.map((function(e){var t=e.user,n=e.mediaType;return{uid:null==t?void 0:t.uid,mediaType:n}})),tag:CL.TRACER}),this._joinInfo){e.next=5;break}throw r=new ix($N.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!"),n.onError(r),r;case 5:px.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(t.map((function(e){var t=e.user,n=e.mediaType;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),Px("info",this,"massUnsubscribe",t),t=h(t),i=new Map,o=function(e){var r=t[e],o=r.user,a=r.mediaType;if(!o){var s=new ix($N.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw px.error("[".concat(u._clientId,"] user property does not exist in unsubscribeList item")),n.onError(s),s}if(iL(a,"mediaType",["video","audio",void 0]),!u._users.find((function(e){return e===o})))return px.warning("[".concat(u._clientId,"] can not unsubscribe ").concat(o.uid,", user is not in the channel")),Px("error",u,"unsubscribe",{uid:o.uid,mediaType:a},"user is not in the channel"),t.splice(e,1),"continue";var c=hP.Video|hP.LwoVideo;if(i.has(o)){var l,d=i.get(o);switch(a){case"video":l=d&c;break;case"audio":l=d&hP.Audio;break;default:l=d&(hP.Audio|c)}if(l)return px.warning("repeat massUnsubscribe user:".concat(o.uid,",mediaType:").concat(a," twice.")),t.splice(e,1),"continue";a?"audio"===a?i.set(o,d|hP.Audio):"video"===a&&i.set(o,d|c):i.set(o,d|hP.Audio|c)}else a?"audio"===a?i.set(o,hP.Audio):"video"===a&&i.set(o,c):i.set(o,hP.Audio|c)},a=t.length-1;case 9:if(!(a>=0)){e.next=16;break}if("continue"!==o(a)){e.next=13;break}return e.abrupt("continue",13);case 13:a--,e.next=9;break;case 16:return e.prev=16,e.next=19,this._p2pChannel.massUnsubscribe(t);case 19:if(s=e.sent,e.t0=s,!e.t0){e.next=24;break}return e.next=24,this._gateway.massUnsubscribe(s);case 24:px.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(t.map((function(e){var t=e.user,n=e.mediaType;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),Px("info",this,"massUnsubscribe",t,"success"),n.onSuccess(),e.next=34;break;case 29:if(e.prev=29,e.t1=e.catch(16),e.t1.code!==$N.DISCONNECT_P2P){e.next=33;break}return e.abrupt("return",(px.warning("disconnecting p2p, abort unsubscribe request."),void n.onSuccess()));case 33:throw px.error("[".concat(this._clientId,"] massUnsubscribe error"),e.t1.toString()),Px("error",this,"massUnsubscribe",t,e.t1.toString()),n.onError(e.t1),e.t1;case 34:case"end":return e.stop()}}),e,this,[[16,29]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setLowStreamParameter",value:function(e){!function(e){if(!e)throw new ix($N.INVALID_PARAMS);dL(e.width)||aL(e.width,"streamParameter.width"),dL(e.height)||aL(e.height,"streamParameter.height"),dL(e.framerate)||aL(e.framerate,"streamParameter.framerate"),dL(e.bitrate)||oL(e.bitrate,"streamParameter.bitrate")}(e);var t=NV.reportApiInvoke(this._sessionId,{name:bL.SET_LOW_STREAM_PARAMETER,options:[e],tag:CL.TRACER});(!e.width&&e.height||e.width&&!e.height)&&(px.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),kx("warning",this,"The width and height parameters take effect only when both are set")),px.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e)),Px("info",this,"setLowStreamParameter",e);var n=this._configDistribute.getLowStreamConfigDistribute();n&&n.bitrate&&e.bitrate&&n.bitrate<e.bitrate&&(e.bitrate=n.bitrate),this._lowStreamParameter=e,t.onSuccess()}},{key:"enableDualStream",value:function(){var e=u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=NV.reportApiInvoke(this._sessionId,{name:bL.ENABLE_DUAL_STREAM,options:[],tag:CL.TRACER}),qP().supportDualStream){e.next=5;break}throw NV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),n=new ix($N.NOT_SUPPORTED,"Your browser is not support dual stream"),t.onError(n),n;case 5:if(!this._isDualStreamEnabled){e.next=8;break}throw r=new ix($N.INVALID_OPERATION,"Dual stream is already enabled"),t.onError(r),r;case 8:if(!this._p2pChannel.canPublishLowStream()){e.next=17;break}return e.prev=9,e.next=12,this._publishLowStream();case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(9),NV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),t.onError(e.t0),e.t0;case 17:this._isDualStreamEnabled=!0,NV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),px.info("[".concat(this._clientId,"] enable dual stream")),Px("info",this,"enableDualStream"),t.onSuccess();case 18:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"disableDualStream",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isDualStreamEnabled){e.next=2;break}return e.abrupt("return");case 2:if(this._joinInfo){e.next=4;break}throw new ix($N.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 4:if(t=NV.reportApiInvoke(this._sessionId,{name:bL.DISABLE_DUAL_STREAM,options:[],tag:CL.TRACER}),!this._p2pChannel.getLocalMedia(NP.LocalVideoLowTrack)){e.next=19;break}return e.prev=6,e.next=9,this._p2pChannel.unpublishLowStream();case 9:if(n=e.sent,e.t0=n,!e.t0){e.next=14;break}return e.next=14,this._gateway.unpublish(n,this._joinInfo.stringUid||this._joinInfo.uid);case 14:e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(6),NV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),t.onError(e.t1),e.t1;case 19:this._isDualStreamEnabled=!1,NV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),px.info("[".concat(this._clientId,"] disable dual stream")),Px("info",this,"disableDualStream"),t.onSuccess();case 20:case"end":return e.stop()}}),e,this,[[6,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setClientRole",value:function(){var e=u(c().mark((function e(t,n){var r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){iL(e,"role",["audience","host"])}(t),n&&KL(n),r=NV.reportApiInvoke(this._sessionId,{name:bL.SET_CLIENT_ROLE,options:[t,n],tag:CL.TRACER}),"rtc"!==this._mode){e.next=6;break}return px.warning("[".concat(this._clientId,"]rtc mode can not use setClientRole")),Px("warning",this,"setClientRole",t,"rtc mode can not use setClientRole"),i=new ix($N.INVALID_OPERATION,"rtc mode can not use setClientRole"),e.abrupt("return",(r.onError(i),i.throw()));case 6:if(!n||!n.level||"host"!==t){e.next=9;break}return o=new ix($N.INVALID_OPERATION,"host mode can not set audience latency level"),e.abrupt("return",(r.onError(o),o.throw()));case 9:if(e.prev=9,"audience"!==t||!this._p2pChannel.hasLocalMedia()){e.next=13;break}return a=new ix($N.INVALID_OPERATION,"can not set client role to audience when publishing stream"),e.abrupt("return",(r.onError(a),a.throw()));case 13:return e.next=15,this._gateway.setClientRole(t,n);case 15:px.info("[".concat(this._clientId,"] set client role to ").concat(t,", level: ").concat(n&&n.level)),Px("info",this,"setClientRole",{role:t,level:n&&n.level}),r.onSuccess(),e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(9),r.onError(e.t0),e.t0;case 23:case"end":return e.stop()}}),e,this,[[9,20]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setProxyServer",value:function(e,t){if(sL(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new ix($N.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new ix($N.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,NV.setProxyServer(this._proxyServer),px.setProxyServer(this._proxyServer),Rx(this._proxyServer),px.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success.")),Px("info",this,"setProxyServer",Array.prototype.slice.call(arguments),"success")}},{key:"setTurnServer",value:function(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new ix($N.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new ix($N.INVALID_OPERATION,"You have already set the proxy")}if(HL(e))return this._turnServer={servers:e,mode:"original-manual"},px.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((function(e){return e.urls})).join(","),".")),void Px("info",this,"setOriginalTurnServer",Array.prototype.slice.call(arguments),"success");e.forEach((function(e){return qL(e)})),this._turnServer={servers:e,mode:"manual"},px.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success.")),Px("info",this,"setTurnServer",Array.prototype.slice.call(arguments),"success")}},{key:"setLicense",value:function(e){if("DISCONNECTED"!==this.connectionState)throw new ix($N.INVALID_OPERATION,"you should set license before join channel");sL(e,"license",0,32),this._license=e,px.info("[".concat(this._clientId,"] set license success"),e)}},{key:"startProxyServer",value:function(e){var t=NV.reportApiInvoke(this._sessionId,{name:bL.START_PROXY_SERVER,options:[],tag:CL.TRACER});if("DISCONNECTED"!==this.connectionState){var n=new ix($N.INVALID_OPERATION,"Start proxy server before join channel");throw t.onError(n),n}if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint){var r=new ix($N.INVALID_OPERATION,"You have already set the proxy");throw t.onError(r),r}var i,o=[1,2,3,4,5];switch(void 0===e&&(e=1),e){case 1:i="normal";break;case 2:i="443only";break;case 3:i="proxy3";break;case 4:i="proxy4";break;case 5:i="proxy5";break;default:var a=new ix($N.INVALID_PARAMS,"proxy server mode must be ".concat(o.join("|")));throw t.onError(a),a}this._cloudProxyServerMode=i,this.store.cloudProxyServerMode=i,px.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),Px("info",this,"startProxyServer",this._cloudProxyServerMode),t.onSuccess()}},{key:"stopProxyServer",value:function(){var e=NV.reportApiInvoke(this._sessionId,{name:bL.STOP_PROXY_SERVER,options:[],tag:CL.TRACER});if("DISCONNECTED"!==this.connectionState)throw new ix($N.INVALID_OPERATION,"Stop proxy server after leave channel");NV.setProxyServer(),px.setProxyServer(),Rx(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",px.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),Px("info",this,"stopProxyServer",this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]},e.onSuccess()}},{key:"setLocalAccessPoints",value:function(e,t){if(cL(e,"serverList"),sL(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new ix($N.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");var n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((function(e){return n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e})),this._useLocalAccessPoint=!0,Xx("WEBCS_DOMAIN",e),Xx("WEBCS_DOMAIN_BACKUP_LIST",e),Xx("GATEWAY_DOMAINS",[t]),Xx("EVENT_REPORT_DOMAIN",e[0]),Xx("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),Xx("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),px.info("set local access point success"),Px("info",this,"setLocalAccessPoints")}},{key:"setRemoteDefaultVideoStreamType",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iL(t,"streamType",[0,1]),this._remoteDefaultVideoStreamType=t,!this._joinInfo){e.next=12;break}return e.prev=1,e.next=4,this._gateway.setDefaultRemoteVideoStreamType(t);case 4:this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),px.error("[".concat(this._clientId,"] set default remote video stream type error"),e.t0.toString()),e.t0;case 10:e.next=13;break;case 12:px.debug("haven't joined yet, cache remoteDefaultVideoStreamType ".concat(t));case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setRemoteVideoStreamType",value:function(){var e=u(c().mark((function e(t,n){var r,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iL(n,"streamType",[0,1]),r=NV.reportApiInvoke(this._sessionId,{name:bL.SET_REMOTE_VIDEO_STREAM_TYPE,options:[t,n],tag:CL.TRACER}),e.prev=2,e.next=5,this._gateway.setRemoteVideoStreamType(t,n);case 5:setTimeout((function(){var e=i._users.find((function(e){return e.uid===t}));e&&e.videoTrack&&e.videoTrack.updateMediaStreamTrackResolution()}),2e3),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),r.onError(e.t0),px.error("[".concat(this._clientId,"] set remote video stream type error"),e.t0.toString()),Px("error",this,"setRemoteVideoStreamType",void 0,e.t0.toString()),e.t0;case 11:px.info("[".concat(this._clientId,"] set remote ").concat(t," video stream type to ").concat(n)),Px("info",this,"setRemoteVideoStreamType",{uid:t,streamType:n}),this._remoteStreamTypeCacheMap.set(t,n),r.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setStreamFallbackOption",value:function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iL(n,"fallbackType",[0,1,2]),r=NV.reportApiInvoke(this._sessionId,{name:bL.SET_STREAM_FALLBACK_OPTION,options:["too long to show",n],tag:CL.TRACER}),e.prev=2,e.next=5,this._gateway.setStreamFallbackOption(t,n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),r.onError(e.t0),px.error("[".concat(this._clientId,"] set stream fallback option"),e.t0.toString()),Px("error",this,"setStreamFallbackOption",void 0,e.t0.toString()),e.t0;case 10:px.info("[".concat(this._clientId,"] set remote ").concat(t," stream fallback type to ").concat(n)),Px("info",this,"setStreamFallbackOption",{uid:t,fallbackType:n}),this._streamFallbackTypeCacheMap.set(t,n),r.onSuccess();case 11:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setEncryptionConfig",value:function(e,t,n){if(function(e){iL(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),sL(t,"secret"),["aes-128-gcm2","aes-256-gcm2"].includes(e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new ix($N.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new ix($N.INVALID_PARAMS,"current encrypt mode does not need salt");new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||(px.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),kx("warning",this,"The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      ")),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=aq(n))}},{key:"renewToken",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sL(t,"token",1,2047),n=NV.reportApiInvoke(this._sessionId,{name:bL.RENEW_TOKEN,options:[t],tag:CL.TRACER}),this._key&&this._joinInfo){e.next=5;break}return r=new ix($N.INVALID_OPERATION,"renewToken should not be called before user join"),e.abrupt("return",(n.onError(r),r.throw()));case 5:return i=this._key,this._key=t,this._joinInfo&&(this._joinInfo.token=t),e.next=9,this._renewTokenMutex.lock();case 9:if(o=e.sent,e.prev=10,!Zx("USE_NEW_TOKEN")){e.next=22;break}return px.debug("start renew token with ticket from unilbs"),Px("debug",this,"renewToken","unilbs"),e.next=15,pJ(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||ox);case 15:return a=e.sent,px.debug("[".concat(this._clientId,"] get ticket from unilbs success")),Px("debug",this,"renewToken","unilbs","success"),e.next=20,this._gateway.renewToken({token:t,ticket:a});case 20:e.next=26;break;case 22:return px.debug("start renew token without ticket"),Px("debug",this,"renewToken"),e.next=26,this._gateway.renewToken({token:t});case 26:px.debug("[".concat(this._clientId,"] renewToken success")),Px("debug",this,"renewToken",void 0,"success"),n.onSuccess(),e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(10),this._key=i,this._joinInfo.token=i,n.onError(e.t0),px.error("[".concat(this._clientId,"] renewToken failed"),e.t0.toString()),Px("error",this,"renewToken",void 0,e.t0.toString()),e.t0;case 32:return e.prev=32,o(),e.finish(32);case 35:case"end":return e.stop()}}),e,this,[[10,29,32,35]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"enableAudioVolumeIndicator",value:function(){var e=this,t=NV.reportApiInvoke(this._sessionId,{name:bL.ENABLE_AUDIO_VOLUME_INDICATOR,options:[],tag:CL.TRACER});if(this._audioVolumeIndicationInterval)return px.warning("you have already enabled audio volume indicator!"),Px("warning",this,"enableAudioVolumeIndicator","you have already enabled audio volume indicator!"),t.onSuccess();this._audioVolumeIndicationInterval=window.setInterval((function(){var t=e._p2pChannel.getAudioLevels();e.emit(xL.VOLUME_INDICATOR,t)}),Zx("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3),t.onSuccess()}},{key:"getRTCStats",value:function(){var e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}},{key:"startLiveStreaming",value:function(e,t){var n=NV.reportApiInvoke(this._sessionId,{name:bL.START_LIVE_STREAMING,options:[e,t],tag:CL.TRACER});if(!t){if("h264"!==this._codec){var r=new ix($N.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");return n.onError(r),wI.reject(r)}if(!this._p2pChannel.hasLocalMedia()){var i=new ix($N.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming");return n.onError(i),wI.reject(i)}}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e)){var o=new ix($N.LIVE_STREAMING_TASK_CONFLICT);return n.onError(o),wI.reject(o)}var a=t?YL.TRANSCODE:YL.RAW;return this._createLiveStreamingClient(a).startLiveStreamingTask(e,a).then((function(){return n.onSuccess()})).catch((function(e){throw n.onError(e),e}))}},{key:"setLiveTranscoding",value:function(e){var t=NV.reportApiInvoke(this._sessionId,{name:bL.SET_LIVE_TRANSCODING,options:[e],tag:CL.TRACER});return this._createLiveStreamingClient(YL.TRANSCODE).setTranscodingConfig(e).then((function(){return t.onSuccess()})).catch((function(e){throw t.onError(e),e}))}},{key:"stopLiveStreaming",value:function(e){var t=NV.reportApiInvoke(this._sessionId,{name:bL.STOP_LIVE_STREAMING,options:[e],tag:CL.TRACER}),n=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((function(t){return t&&t.hasUrl(e)}));if(!n.length){var r=new ix($N.INVALID_PARAMS,"can not find live streaming url to stop");return t.onError(r),wI.reject(r)}return wI.all(n.map((function(t){return t&&t.stopLiveStreamingTask(e)}))).then((function(){return t.onSuccess()})).catch((function(e){throw t.onError(e),e}))}},{key:"addInjectStreamUrl",value:function(){var e=u(c().mark((function e(t,n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NV.reportApiInvoke(this._sessionId,{name:bL.ADD_INJECT_STREAM_URL,options:[t,n],tag:CL.TRACER}),e.prev=1,this._joinInfo){e.next=4;break}throw new ix($N.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");case 4:return(i=this._createLiveStreamingClient(YL.INJECT)).setInjectStreamConfig(n,0),e.next=8,i.startLiveStreamingTask(t,YL.INJECT);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),r.onError(e.t0),e.t0;case 13:r.onSuccess();case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"removeInjectStreamUrl",value:function(){var e=u(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=NV.reportApiInvoke(this._sessionId,{name:bL.REMOVE_INJECT_STREAM_URL,options:[],tag:CL.TRACER}),e.prev=1,r=this._createLiveStreamingClient(YL.INJECT),i=Array.from(cH(n=r.streamingTasks).call(n)).find((function(e){return e.mode===YL.INJECT})),this._joinInfo&&i){e.next=5;break}throw new ix($N.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");case 5:return e.next=7,r.stopLiveStreamingTask(i.url);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),t.onError(e.t0),e.t0;case 12:t.onSuccess();case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"startChannelMediaRelay",value:function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NV.reportApiInvoke(this._sessionId,{name:bL.START_CHANNEL_MEDIA_RELAY,options:[t],tag:CL.TRACER}),e.prev=1,wJ(t),r=this._createChannelMediaRelayClient(),e.next=6,r.startChannelMediaRelay(t);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(n.onError(e.t0),e.t0.throw()));case 11:n.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateChannelMediaRelay",value:function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NV.reportApiInvoke(this._sessionId,{name:bL.UPDATE_CHANNEL_MEDIA_RELAY,options:[t],tag:CL.TRACER}),e.prev=1,wJ(t),r=this._createChannelMediaRelayClient(),e.next=6,r.updateChannelMediaRelay(t);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",(n.onError(e.t0),e.t0.throw()));case 11:n.onSuccess();case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopChannelMediaRelay",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=NV.reportApiInvoke(this._sessionId,{name:bL.STOP_CHANNEL_MEDIA_RELAY,options:[],tag:CL.TRACER}),e.prev=1,n=this._createChannelMediaRelayClient(),e.next=5,n.stopChannelMediaRelay();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",(t.onError(e.t0),e.t0.throw()));case 10:t.onSuccess();case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"sendStreamMessage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new ix($N.INVALID_OPERATION,"can not send data stream, not joined");if("string"==typeof e&&(e=(new TextEncoder).encode(e)),new Blob([e]).size>1024)throw new ix($N.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(ML.DATA_STREAM,{payload:aq(e)},!t)}},{key:"sendMetadata",value:function(e){if(!this._joinInfo)throw new ix($N.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new ix($N.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(ML.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:aq(e)})}},{key:"sendCustomReportMessage",value:function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=[t]),t.forEach(gL),n=NV.reportApiInvoke(this._sessionId,{name:bL.SEND_CUSTOM_REPORT_MESSAGE,options:[JSON.stringify(t)],tag:CL.TRACER}),this._joinInfo){e.next=5;break}return r=new ix($N.INVALID_OPERATION,"can not send custom report, not joined"),e.abrupt("return",(n.onError(r),r.throw()));case 5:return e.next=7,NV.sendCustomReportMessage(this._joinInfo.sid,t);case 7:n.onSuccess();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getLocalAudioStats",value:function(){return this._statsCollector.getLocalAudioTrackStats()}},{key:"getRemoteAudioStats",value:function(){return this._statsCollector.getRemoteAudioTrackStats()}},{key:"getLocalVideoStats",value:function(){return this._statsCollector.getLocalVideoTrackStats()}},{key:"getRemoteVideoStats",value:function(){return this._statsCollector.getRemoteVideoTrackStats()}},{key:"getRemoteNetworkQuality",value:function(){return this._statsCollector.getRemoteNetworkQualityStats()}},{key:"pickSVCLayer",value:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iL(n.spatialLayer,"spatialLayer",[0,1,2,3]),iL(n.temporalLayer,"temporalLayer",[0,1,2,3]),e.prev=1,e.next=4,this._gateway.pickSVCLayer(t,n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),px.error("[".concat(this._clientId,"] pick SVC layer failed"),e.t0.toString()),Dx("error",this,"pickSVCLayer",n,e.t0.toString()),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_reset",value:function(){if(px.debug("[".concat(this._clientId,"] reset client")),Dx("debug",this,"_reset"),this._axiosCancelSource.cancel(),this._axiosCancelSource=ex.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._users.forEach((function(e){e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy()})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new BV("client-publish"),this._subscribeMutex=new BV("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(b){}}},{key:"_startSession",value:function(e,t){var n=e||qH();e?px.debug("[".concat(this._clientId,"] new Session ").concat(n)):px.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(n)),Dx("debug",this,"_startSession",{newSid:n,sid:this._sessionId}),this._sessionId=n,this.store.sessionId=n,t?NV.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this._mode}):this._joinInfo?NV.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this._mode}):this._gateway.joinInfo&&NV.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this._mode}),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}},{key:"_publishHighStream",value:function(){var e=u(c().mark((function e(t){var n,r,i,o,s,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo&&void 0!==this._uid){e.next=2;break}throw new ix($N.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new ix($N.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));case 4:if("auto"!==this._turnServer.mode||!Zx("FORCE_TURN")||Zx("TURN_ENABLE_TCP")||Zx("TURN_ENABLE_UDP")){e.next=6;break}throw new ix($N.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");case 6:return px.debug("[".concat(this._clientId,"] publish high stream")),Dx("debug",this,"_publishHighStream"),e.prev=7,e.next=10,this._p2pChannel.publish(t,this._isDualStreamEnabled,this._lowStreamParameter);case 10:return n=e.sent,e.next=13,n.next();case 13:if(!(r=e.sent.value)){e.next=27;break}return e.prev=15,e.next=18,this._gateway.publish(this._uid,r,!0);case 18:o=e.sent,e.next=25;break;case 21:if(e.prev=21,e.t0=e.catch(15),e.t0.code===$N.DISCONNECT_P2P){e.next=25;break}throw n.throw(e.t0),e.t0;case 25:return e.next=27,n.next((null===(i=o)||void 0===i?void 0:i.ortc)||[]);case 27:this._p2pChannel.reportPublishEvent(!0,null),s=a(t),e.prev=29,s.s();case 31:if((u=s.n()).done){e.next=40;break}if((l=u.value)instanceof MX&&l._encoderConfig&&this._gateway.setVideoProfile(l._encoderConfig),e.t1=!l.muted&&l.enabled,e.t1){e.next=38;break}return e.next=38,this._p2pChannel.muteLocalTrack(l);case 38:e.next=31;break;case 40:e.next=45;break;case 42:e.prev=42,e.t2=e.catch(29),s.e(e.t2);case 45:return e.prev=45,s.f(),e.finish(45);case 48:e.next=55;break;case 50:if(e.prev=50,e.t3=e.catch(7),this._p2pChannel.reportPublishEvent(!1,null==e.t3?void 0:e.t3.code,t),(null==e.t3?void 0:e.t3.code)!==$N.WS_ABORT){e.next=54;break}return e.abrupt("return");case 54:throw e.t3;case 55:case"end":return e.stop()}}),e,this,[[7,50],[15,21],[29,42,45,48]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_publishLowStream",value:function(){var e=u(c().mark((function e(){var t,n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._joinInfo&&void 0!==this._uid){e.next=2;break}throw new ix($N.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");case 2:if("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState){e.next=4;break}throw new ix($N.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));case 4:return px.debug("[".concat(this._clientId,"] publish low stream")),Dx("debug",this,"_publishLowStream"),(t=this._configDistribute.getLowStreamConfigDistribute())&&t.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&t.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=t.bitrate)),e.prev=7,e.next=10,this._p2pChannel.publishLowStream(this._lowStreamParameter);case 10:return n=e.sent,e.next=13,n.next();case 13:if(!(r=e.sent.value)){e.next=26;break}return e.prev=15,e.next=18,this._gateway.publish(this._uid,r,!0);case 18:o=e.sent,e.next=25;break;case 21:if(e.prev=21,e.t0=e.catch(15),e.t0.code===$N.DISCONNECT_P2P){e.next=25;break}throw n.throw(e.t0),e.t0;case 25:n.next((null===(i=o)||void 0===i?void 0:i.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0);case 26:e.next=33;break;case 28:if(e.prev=28,e.t1=e.catch(7),this._p2pChannel.reportPublishEvent(!1,null==e.t1?void 0:e.t1.code,void 0,!0),(null==e.t1?void 0:e.t1.code)!==$N.WS_ABORT){e.next=32;break}return e.abrupt("return");case 32:throw e.t1;case 33:case"end":return e.stop()}}),e,this,[[7,28],[15,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_createLiveStreamingClient",value:function(e){var t=this;if(!this._joinInfo||!this._appId)return new ix($N.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();var n=function(){return new _J(t._joinInfo,t._config.websocketRetryConfig||ox,t._config.httpRetryConfig||ox)},r=function(e){e.onLiveStreamError=function(e,n){NV.reportApiInvoke(t._sessionId,{name:bL.ON_LIVE_STREAM_ERROR,options:[e,n],tag:CL.TRACER}).onSuccess(),t.emit(xL.LIVE_STREAMING_ERROR,e,n)},e.onLiveStreamWarning=function(e,n){NV.reportApiInvoke(t._sessionId,{name:bL.ON_LIVE_STREAM_WARNING,options:[e,n],tag:CL.TRACER}).onSuccess(),t.emit(xL.LIVE_STREAMING_WARNING,e,n)},e.on(oP.REQUEST_WORKER_MANAGER_LIST,(function(e,n,r){if(!t._joinInfo)return r(new ix($N.INVALID_OPERATION,"can not find join info to get worker manager"));uJ(e,t._joinInfo,t._axiosCancelSource.token,ox).then(n).catch(r)}))};switch(e){case YL.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=n(),r(this._liveRawStreamingClient)),this._liveRawStreamingClient;case YL.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=n(),r(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case YL.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=n(),this._injectStreamingClient.on(oP.REQUEST_WORKER_MANAGER_LIST,(function(e,n,r){if(!t._joinInfo)return r(new ix($N.INVALID_OPERATION,"can not find join info to get worker manager"));uJ(e,t._joinInfo,t._axiosCancelSource.token,ox).then(n).catch(r)})),this._injectStreamingClient.onInjectStatusChange=function(e,n,r){t.emit(xL.INJECT_STREAM_STATUS,e,n,r)}),this._injectStreamingClient}}},{key:"_createChannelMediaRelayClient",value:function(){var e=this;return this._joinInfo?(this._channelMediaRelayClient||(this._channelMediaRelayClient=new kJ(this._joinInfo,this._clientId,this._config.websocketRetryConfig||ox,this._config.httpRetryConfig||ox),this._channelMediaRelayClient.on("state",(function(t){t===lP.RELAY_STATE_FAILURE&&e._channelMediaRelayClient&&e._channelMediaRelayClient.dispose(),e.emit(xL.CHANNEL_MEDIA_RELAY_STATE,t)})),this._channelMediaRelayClient.on("event",(function(t){e.emit(xL.CHANNEL_MEDIA_RELAY_EVENT,t)}))),this._channelMediaRelayClient):new ix($N.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw()}},{key:"_handleGatewayEvents",value:function(){var e=this;this._gateway.on(pP.DISCONNECT_P2P,u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._p2pChannel.disconnectForReconnect();case 2:case"end":return t.stop()}}),t)})))),this._gateway.on(pP.CONNECTION_STATE_CHANGE,(function(t,n,r){var i;if(r!==NL.FALLBACK){var o=function(){e.emit(xL.CONNECTION_STATE_CHANGE,t,n,r)};if(NV.reportApiInvoke(e._sessionId||(null===(i=e._gateway.joinInfo)||void 0===i?void 0:i.sid)||null,{name:bL.CONNECTION_STATE_CHANGE,options:[t,n,r],tag:CL.TRACER}).onSuccess(JSON.stringify({cur:t,prev:n,reason:r})),px.info("[".concat(e._clientId,"] connection state change: ").concat(n," -> ").concat(t)),Ox("info",e,"connection-state-change","".concat(n," -> ").concat(t)),"DISCONNECTED"===t)return e._reset(),void o();if("RECONNECTING"===t)e._users.forEach((function(e){e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0})),e._userOfflineTimeout&&window.clearTimeout(e._userOfflineTimeout),e._streamRemovedTimeout&&window.clearTimeout(e._streamRemovedTimeout),e._userOfflineTimeout=void 0,e._streamRemovedTimeout=void 0;else if("CONNECTED"===t){var a;e._streamFallbackTypeCacheMap.forEach((function(t,n){e._gateway.setStreamFallbackOption(n,t).catch((function(t){px.warning("[".concat(e._clientId,"] auto set stream fallback option failed"),t),kx("warning",e,"auto set stream fallback option failed, ".concat(t.toString()))}))})),e._remoteStreamTypeCacheMap.forEach((function(t,n){e._gateway.setRemoteVideoStreamType(n,t).catch((function(t){px.warning("[".concat(e._clientId,"] auto set remote stream type failed"),t),kx("warning",e,"auto set remote stream type failed, ".concat(t.toString()))}))})),void 0!==e._remoteDefaultVideoStreamType&&void 0===(null===(a=e._joinInfo)||void 0===a?void 0:a.defaultVideoStream)&&e.setRemoteDefaultVideoStreamType(e._remoteDefaultVideoStreamType).then((function(){px.debug("[".concat(e._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((function(t){px.error("[".concat(e._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(t))})),e._p2pChannel.republish(),e._userOfflineTimeout=window.setTimeout((function(){"CONNECTED"===e.connectionState&&(e._userOfflineTimeout=void 0,e._users.filter((function(e){return!e._trust_in_room_})).forEach((function(t){px.debug("[".concat(e._clientId,"] user offline timeout, emit user offline ").concat(t.uid)),kx("debug",e,"user offline timeout, emit user offline ".concat(t.uid)),e._handleUserOffline({uid:t.uid})})))}),3e3),e._streamRemovedTimeout=window.setTimeout((function(){"CONNECTED"===e.connectionState&&(e._streamRemovedTimeout=void 0,e._users.forEach((function(t){t._trust_audio_mute_state_||(px.debug("[".concat(e._clientId,"] auto dispatch audio unmute event ").concat(t.uid)),kx("debug",e,"auto dispatch audio unmute event ".concat(t.uid)),e._handleMuteStream(t.uid,"audio",!1)),t._trust_video_mute_state_||(px.debug("[".concat(e._clientId,"] auto dispatch video unmute event ").concat(t.uid)),kx("debug",e,"auto dispatch video unmute event ".concat(t.uid)),e._handleMuteStream(t.uid,"video",!1)),t._trust_audio_enabled_state_||(px.debug("[".concat(e._clientId,"] auto dispatch enable local audio ").concat(t.uid)),kx("debug",e,"auto dispatch enable local audio ".concat(t.uid)),e._handleSetStreamLocalEnable("audio",t.uid,!0)),t._trust_video_enabled_state_||(px.debug("[".concat(e._clientId,"] auto dispatch enable local video ").concat(t.uid)),kx("debug",e,"auto dispatch enable local video ".concat(t.uid)),e._handleSetStreamLocalEnable("video",t.uid,!0)),t._trust_video_stream_added_state_||(px.debug("[".concat(e._clientId,"] auto dispatch reset video stream added ").concat(t.uid)),e._handleResetAddStream(t,"video")),t._trust_audio_stream_added_state_||(px.debug("[".concat(e._clientId,"] auto dispatch reset audio stream added ").concat(t.uid)),e._handleResetAddStream(t,"audio")),t._video_added_||t._audio_added_||(px.debug("[".concat(e._clientId,"] auto dispatch stream remove ").concat(t.uid)),kx("debug",e,"auto dispatch stream remove ".concat(t.uid)),e._handleRemoveStream({uid:t.uid,uint_id:t._uintid}))})))}),1e3)}o()}})),this._gateway.on(pP.REQUEST_NEW_GATEWAY_LIST,(function(t,n){if(!e._joinInfo)return n(new ix($N.UNEXPECTED_ERROR,"can not recover, no join info"));Xz(e._joinInfo,e._axiosCancelSource.token,e._config.httpRetryConfig||ox,e.store).then((function(n){e._joinInfo&&(e._joinInfo.apResponse=n.gatewayInfo.res,e._joinInfo.gatewayAddrs=n.gatewayInfo.gatewayAddrs,e._joinInfo.uni_lbs_ip=n.gatewayInfo.uni_lbs_ip),t(n.gatewayInfo.gatewayAddrs.map((function(t){if(e._joinInfo&&e._joinInfo.proxyServer){var n=t.address.split(":");return"wss://".concat(e._joinInfo.proxyServer,"/ws/?h=").concat(n[0],"&p=").concat(n[1])}return"wss://".concat(t.address)})))})).catch(n)})),this._gateway.on(pP.NETWORK_QUALITY,(function(t){"normal"===e._networkQualitySensitivity&&e.emit(xL.NETWORK_QUALITY,t)})),this._gateway.on(pP.STREAM_TYPE_CHANGE,(function(t,n){e.emit(xL.STREAM_TYPE_CHANGED,t,n),NV.reportApiInvoke(e._sessionId,{name:bL.STREAM_TYPE_CHANGE,options:[t,n],tag:CL.TRACER}).onSuccess(JSON.stringify({uid:t,streamType:n}))})),this._gateway.on(pP.IS_P2P_DISCONNECTED,(function(t){e._p2pChannel.isP2PDisconnected()?t(!0):e._p2pChannel.hasLocalMedia()||e._p2pChannel.hasRemoteMedia()?t(!1):t(!0)})),this._gateway.on(pP.NEED_RENEW_SESSION,(function(){e._startSession()})),this._gateway.on(pP.REQUEST_P2P_CONNECTION_PARAMS,function(){var t=u(c().mark((function t(n,r,i){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,e._p2pChannel.startP2PConnection(n);case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),i(t.t2);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n,r){return t.apply(this,arguments)}}()),this._gateway.on(pP.JOIN_RESPONSE,(function(t,n,r){var i=y1(t.ortc,n,r),o=i.dtlsParameters,a=i.iceParameters,s=i.candidates,c=i.rtpCapabilities,u=i.setup,l=i.cname;e._p2pChannel.connect(a,o,s,c,u,l)})),this._gateway.signal.on(UL.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(UL.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(UL.ON_ADD_AUDIO_STREAM,(function(t){return e._handleAddAudioOrVideoStream("audio",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc)})),this._gateway.signal.on(UL.ON_ADD_VIDEO_STREAM,(function(t){return e._handleAddAudioOrVideoStream("video",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc,t.rtxSsrcId)})),this._gateway.signal.on(UL.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(UL.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(UL.MUTE_AUDIO,(function(t){return Ox("debug",["AgoraRTCGateway",e._clientId],"mute_audio",{uid:t.uid}),e._handleMuteStream(t.uid,"audio",!0)})),this._gateway.signal.on(UL.UNMUTE_AUDIO,(function(t){return Ox("debug",["AgoraRTCGateway",e._clientId],"unmute_audio",{uid:t.uid}),e._handleMuteStream(t.uid,"audio",!1)})),this._gateway.signal.on(UL.MUTE_VIDEO,(function(t){return Ox("debug",["AgoraRTCGateway",e._clientId],"mute_video",{uid:t.uid}),e._handleMuteStream(t.uid,"video",!0)})),this._gateway.signal.on(UL.UNMUTE_VIDEO,(function(t){return Ox("debug",["AgoraRTCGateway",e._clientId],"unmute_video",{uid:t.uid}),e._handleMuteStream(t.uid,"video",!1)})),this._gateway.signal.on(UL.RECEIVE_METADATA,(function(t){var n=oq(t.metadata);e.emit(xL.RECEIVE_METADATA,t.uid,n)})),this._gateway.signal.on(UL.ON_DATA_STREAM,(function(t){t.seq&&delete t.seq,t.payload=oq(t.payload),e.emit(xL.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)})),this._gateway.signal.on(UL.ON_CRYPT_ERROR,(function(){iq((function(){px.warning("[".concat(e._clientId,"] on crypt error")),Ox("warning",e,"crypt_error"),e.emit(xL.CRYPT_ERROR)}),e._sessionId)})),this._gateway.signal.on(UL.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(UL.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(function(){px.warning("[".concat(e._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),Ox("warning",e,"token_privilege_did_expire"),e._gateway.leave(!0),e.emit(xL.ON_TOKEN_PRIVILEGE_DID_EXPIRE),e._reset()})),this._gateway.signal.on(UL.ON_STREAM_FALLBACK_UPDATE,(function(t){px.debug("[".concat(e._clientId,"] stream fallback peerId: ").concat(t.stream_id,", attr: ").concat(t.stream_type)),Ox("debug",e,"stream_fallback_update",{peerId:t.stream_id,attr:t.stream_type}),e.emit(xL.STREAM_FALLBACK,t.stream_id,1===t.stream_type?"fallback":"recover")})),this._gateway.signal.on(UL.ON_PUBLISH_STREAM,(function(t){e.uid===e._uid&&(e._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:t.proxy})),px.info("[".concat(e._clientId,"] on publish stream, ").concat(JSON.stringify(t))),Ox("info",e,"publish_stream",t))})),this._gateway.signal.on(UL.ENABLE_LOCAL_VIDEO,(function(t){e._handleSetStreamLocalEnable("video",t.uid,!0)})),this._gateway.signal.on(UL.DISABLE_LOCAL_VIDEO,(function(t){e._handleSetStreamLocalEnable("video",t.uid,!1)})),this._gateway.signal.on(PL.REQUEST_TIMEOUT,(function(t,n){if(e._joinInfo)switch(t){case ML.PUBLISH:if(!n)return;var r=n.ortc;if(r){var i,o,a,s,c=r.some((function(e){return e.stream_type===fP.Audio})),u=r.some((function(e){return e.stream_type!==fP.Audio})),l=r.some((function(e){var t=e.stream_type;return t===fP.Screen||t===fP.ScreenLow}));"offer"===n.state&&NV.publish(e._joinInfo.sid,{eventElapse:bH.measureFromPublishStart(e.store.clientId,e.store.pubId),succ:!1,ec:$N.TIMEOUT,audio:c,video:u,p2pid:n.p2p_id,publishRequestid:e.store.pubId,screenshare:l,audioName:c?null===(i=r.find((function(e){return e.stream_type===fP.Audio})))||void 0===i||null===(o=i.ssrcs[0])||void 0===o?void 0:o.ssrcId.toString():void 0,videoName:u?null===(a=r.find((function(e){return e.stream_type!==fP.Audio})))||void 0===a||null===(s=a.ssrcs[0])||void 0===s?void 0:s.ssrcId.toString():void 0})}break;case ML.SUBSCRIBE:n&&NV.subscribe(e._joinInfo.sid,{succ:!1,ec:$N.TIMEOUT,audio:n.stream_type===OP.AUDIO,video:n.stream_type===OP.VIDEO,peerid:n.stream_id,subscribeRequestid:n.ssrcId,p2pid:e.store.p2pId,eventElapse:bH.measureFromSubscribeStart(e.store.clientId,n.ssrcId)})}})),this._gateway.signal.on(UL.ON_P2P_OK,(function(t){e.uid,e._uid})),this._gateway.signal.on(UL.ON_PUBLISHED_USER_LIST,(function(t){if(null!=t&&t.users){var n,r=[],i=[],o=a(t.users);try{var s=function(){var t=n.value,o=e._users.find((function(e){return e.uid===t.stream_id}));o?o._trust_in_room_=!0:(o=new UX(t.stream_id,t.stream_id),e._users.push(o),0===e.getListeners(xL.PUBLISHED_USER_LIST).length&&(px.debug("[".concat(e._clientId,"] user online"),t.stream_id),Nx("info",e,"user-joined",{uid:t.stream_id}),e.emit(xL.USER_JOINED,o)));var a=hP.Audio&t.stream_type,s=(hP.Video|hP.LwoVideo)&t.stream_type,c=a&&o.hasAudio,u=s&&o.hasVideo;s&&(o._trust_video_stream_added_state_=!0,o._video_added_=!0,o._videoSSRC=t.video_ssrc),a&&(o._trust_audio_stream_added_state_=!0,o._audio_added_=!0,o._audioSSRC=t.audio_ssrc),a&&!c&&0===e.getListeners(xL.PUBLISHED_USER_LIST).length&&(px.info("[".concat(e._clientId,"] remote user ").concat(o.uid," published audio")),kx("info",e,"remote user ".concat(o.uid," published audio")),e.emit(xL.USER_PUBLISHED,o,"audio")),s&&!u&&0===e.getListeners(xL.PUBLISHED_USER_LIST).length&&(px.info("[".concat(e._clientId,"] remote user ").concat(o.uid," published video")),kx("info",e,"remote user ".concat(o.uid," published video")),e.emit(xL.USER_PUBLISHED,o,"video")),(a&&!c||s&&!u)&&r.push(o),s&&e._p2pChannel.hasPendingRemoteMedia(o,"video")&&i.push({user:o,mediaType:"video"}),a&&e._p2pChannel.hasPendingRemoteMedia(o,"audio")&&i.push({user:o,mediaType:"audio"})};for(o.s();!(n=o.n()).done;)s()}catch(c){o.e(c)}finally{o.f()}i.length>0&&(px.debug("[".concat(e._clientId,"] RE massSubscribe after reconnect ").concat(i.map((function(e){return"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType)})).join("; ")," ")),e.massSubscribe(i).catch((function(t){px.error("[".concat(e._clientId,"] mass resubscribe error"),t.toString())}))),e.getListeners(xL.PUBLISHED_USER_LIST).length>0?(px.info("[".concat(e._clientId,"] client emit user-list event, users: ").concat(r.map((function(e){return e.uid})).join(", "))),e.emit(xL.PUBLISHED_USER_LIST,r)):px.info("[".concat(e._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(r.map((function(e){return e.uid})).join(", ")))}}))}},{key:"_handleP2PChannelEvents",value:function(){var e=this;this._p2pChannel.on(DP.RequestMuteLocal,function(){var t=u(c().mark((function t(n,r,i){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._joinInfo){t.next=12;break}return t.prev=1,t.next=4,e._gateway.muteLocal(n,e._joinInfo.stringUid||e._joinInfo.uid);case 4:r(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.code===$N.DISCONNECT_P2P?r():i(t.t0);case 10:t.next=13;break;case 12:r();case 13:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()),this._p2pChannel.on(DP.RequestUnmuteLocal,function(){var t=u(c().mark((function t(n,r,i){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._joinInfo){t.next=12;break}return t.prev=1,t.next=4,e._gateway.unmuteLocal(n,e._joinInfo.stringUid||e._joinInfo.uid);case 4:r(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.code===$N.DISCONNECT_P2P?r():i(t.t0);case 10:t.next=13;break;case 12:r();case 13:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}()),this._p2pChannel.on(DP.RequestRePublish,(function(t,n,r){e.publish(t,!1).then(n).catch(r)})),this._p2pChannel.on(DP.RequestReSubscribe,function(){var t=u(c().mark((function t(n,r,i){var o,s,u,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=a(n),t.prev=2,o.s();case 4:if((s=o.n()).done){t.next=15;break}if(u=s.value,l=u.user,u.kind!==OP.VIDEO){t.next=11;break}return t.next=9,e.subscribe(l,"video");case 9:t.next=13;break;case 11:return t.next=13,e.subscribe(l,"audio");case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),o.e(t.t0);case 20:return t.prev=20,o.f(),t.finish(20);case 23:r(),t.next=29;break;case 26:t.prev=26,t.t1=t.catch(0),i(t.t1);case 29:case"end":return t.stop()}}),t,null,[[0,26],[2,17,20,23]])})));return function(e,n,r){return t.apply(this,arguments)}}()),this._p2pChannel.on(DP.RequestUploadStats,(function(t,n){e._gateway.uploadStats(t,n)})),this._p2pChannel.on(DP.MediaReconnectStart,(function(t){e.emit(xL.MEDIA_RECONNECT_START,t)})),this._p2pChannel.on(DP.MediaReconnectEnd,(function(t){e.emit(xL.MEDIA_RECONNECT_END,t)})),this._p2pChannel.on(DP.NeedSignalRTT,(function(t){t(e._gateway.getSignalRTT())})),this._p2pChannel.on(DP.RequestRestartICE,u(c().mark((function t(){var n,r,i,o,a,s,u,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._p2pChannel.reEstablish();case 2:if(!(n=t.sent)){t.next=15;break}return t.next=6,e._gateway.restartICE({iceParameters:n.iceParameters});case 6:return r=t.sent,i=r.restartICEResponse,o=r.gatewayIP,a=r.gatewayPort,s=function(e,t,n){var r,i=e.iceParameters;return void 0!==t&&void 0!==n?(r=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t,port:n.toString(),type:"host",extension:{}}],px.debug("Using remote candidate from AP ".concat(t,":").concat(n)),kx("debug",[],"Using remote candidate from AP ".concat(t,":").concat(n))):r=i.candidates.map((function(e){return{foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}})),{candidates:r,iceParameters:{iceUfrag:i.iceUfrag,icePwd:i.icePwd}}}(i,o,a),u=s.candidates,l=s.iceParameters,t.next=15,n.restartICE(l,u);case 15:case"end":return t.stop()}}),t)})))),this._p2pChannel.on(DP.RequestReconnect,u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._gateway.reconnect();case 1:case"end":return t.stop()}}),t)})))),this._p2pChannel.on(DP.RequestReconnectPC,u(c().mark((function t(){var n,r,i,o,a,s,u,l,d,f,p,h,v,g,A,m;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._p2pChannel.startP2PConnection({turnServer:null===(n=e._joinInfo)||void 0===n?void 0:n.turnServer});case 2:return r=t.sent,i=r.iceParameters,o=r.dtlsParameters,a=r.rtpCapabilities,t.next=8,e._gateway.reconnectPC({iceParameters:i,dtlsParameters:o,rtpCapabilities:a});case 8:return s=t.sent,u=s.gatewayEstablishParams,l=s.gatewayIP,d=s.gatewayPort,f=y1(u,l,d),p=f.dtlsParameters,h=f.iceParameters,v=f.candidates,g=f.rtpCapabilities,A=f.setup,m=f.cname,t.next=21,e._p2pChannel.connect(h,p,v,g,A,m);case 21:return t.next=23,e._p2pChannel.republish();case 23:return t.next=25,e._p2pChannel.reSubscribe();case 25:case"end":return t.stop()}}),t)})))),this._p2pChannel.on(DP.RequestUnpublishForReconnectPC,function(){var t=u(c().mark((function t(n,r,i){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._joinInfo||void 0===e._uid){t.next=6;break}return t.next=3,e._gateway.unpublish(n,e._uid);case 3:r(),t.next=7;break;case 6:i();case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),this._p2pChannel.on(DP.P2PLost,(function(){e.emit(xL.P2P_LOST,e.store.uid)})),this._p2pChannel.on(DP.UpdateVideoEncoder,(function(t){t._encoderConfig&&e._gateway.setVideoProfile(t._encoderConfig)})),this._p2pChannel.on(DP.ConnectionTypeChange,(function(t){e.emit(xL.IS_USING_CLOUD_PROXY,t)})),this._p2pChannel.on(DP.RequestLowStreamParameter,(function(t){t(e._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}))}},{key:"getKeyMetrics",value:function(){return this.store.keyMetrics}},{key:"enableContentInspect",value:function(){var e=u(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CONNECTED"===this.connectionState&&this._joinInfo){e.next=2;break}throw new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));case 2:if(!this._inspect){e.next=4;break}throw new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));case 4:if(t){e.next=6;break}throw new ix($N.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));case 6:if(!(t&&t.extraInfo&&t.extraInfo.length>1024)){e.next=8;break}throw new ix($N.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));case 8:return e.prev=8,n=new U2(t),this._inspect=n,this.handleVideoInspectEvents(this._inspect),e.next=14,n.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},ox);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(8),Array.isArray(e.t0)?e.t0[0]:e.t0;case 19:case"end":return e.stop()}}),e,this,[[8,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"disableContentInspect",value:function(){var e=u(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._inspect){e.next=2;break}throw new ix($N.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));case 2:e.prev=2,this._inspect.close(),this._inspect=void 0,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),Array.isArray(e.t0)?e.t0[0]:e.t0;case 9:case"end":return e.stop()}}),e,this,[[2,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleVideoInspectEvents",value:function(e){var t=this;e.on(VP.CONNECTION_STATE_CHANGE,(function(n,r){if(t.emit(xL.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,n,r),r===FP.CONNECTED){if("CONNECTED"!==t.connectionState)return void t.emit(xL.CONTENT_INSPECT_ERROR,new ix($N.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(VP.INSPECT_RESULT,(function(e,n){var r;if((null==n?void 0:n.code)===$N.INVALID_OPERATION&&"DISCONNECTED"===t.connectionState)return px.debug("Stop inspect content because that has left channel"),null==t||null===(r=t._inspect)||void 0===r||r.close(),void(t._inspect=void 0);t.emit(xL.CONTENT_INSPECT_RESULT,e,n)})),e.on(VP.CLIENT_LOCAL_VIDEO_TRACK,(function(e){e(t.localTracks.filter((function(e){return"video"===e.trackMediaType}))[0])}))}},{key:"getJoinChannelServiceRecords",value:function(){return px.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}},{key:"setPublishAudioFilterEnabled",value:function(){var e=u(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rL(t,"enabled"),Xx("ENABLE_PUBLISH_AUDIO_FILTER",t),e.t0=this._joinInfo,!e.t0){e.next=6;break}return e.next=6,this._gateway.setPublishAudioFilterEnabled(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_handleResetAddStream",value:function(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}]),n}(nx)).prototype,"setProxyServer",[I2],Object.getOwnPropertyDescriptor(M2.prototype,"setProxyServer"),M2.prototype),oV(M2.prototype,"setTurnServer",[w2],Object.getOwnPropertyDescriptor(M2.prototype,"setTurnServer"),M2.prototype),oV(M2.prototype,"setLicense",[S2],Object.getOwnPropertyDescriptor(M2.prototype,"setLicense"),M2.prototype),oV(M2.prototype,"setLocalAccessPoints",[T2],Object.getOwnPropertyDescriptor(M2.prototype,"setLocalAccessPoints"),M2.prototype),oV(M2.prototype,"setRemoteDefaultVideoStreamType",[R2],Object.getOwnPropertyDescriptor(M2.prototype,"setRemoteDefaultVideoStreamType"),M2.prototype),oV(M2.prototype,"setEncryptionConfig",[k2],Object.getOwnPropertyDescriptor(M2.prototype,"setEncryptionConfig"),M2.prototype),oV(M2.prototype,"pickSVCLayer",[O2],Object.getOwnPropertyDescriptor(M2.prototype,"pickSVCLayer"),M2.prototype),oV(M2.prototype,"enableContentInspect",[N2],Object.getOwnPropertyDescriptor(M2.prototype,"enableContentInspect"),M2.prototype),oV(M2.prototype,"disableContentInspect",[x2],Object.getOwnPropertyDescriptor(M2.prototype,"disableContentInspect"),M2.prototype),oV(M2.prototype,"getJoinChannelServiceRecords",[D2],Object.getOwnPropertyDescriptor(M2.prototype,"getJoinChannelServiceRecords"),M2.prototype),oV(M2.prototype,"setPublishAudioFilterEnabled",[L2],Object.getOwnPropertyDescriptor(M2.prototype,"setPublishAudioFilterEnabled"),M2.prototype),P2=M2))||P2),V2=function(e){f(n,e);var t=p(n);function n(e){var r;v(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=t.call(this),tO(l(r),"audioBuffer",void 0),tO(l(r),"sourceNode",void 0),tO(l(r),"startPlayTime",0),tO(l(r),"startPlayOffset",0),tO(l(r),"pausePlayTime",0),tO(l(r),"options",void 0),tO(l(r),"currentLoopCount",0),tO(l(r),"_currentState","stopped"),r.audioBuffer=e,r.options=i,r.startPlayOffset=r.options.startPlayTime||0,r}return g(n,[{key:"currentState",get:function(){return this._currentState},set:function(e){e!==this._currentState&&(this._currentState=e,this.emit(FL.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}},{key:"createWebAudioDiagram",value:function(){return this.context.createGain()}},{key:"duration",get:function(){return this.audioBuffer.duration}},{key:"currentTime",get:function(){return"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:(this.context.currentTime-this.startPlayTime+this.startPlayOffset)%this.audioBuffer.duration}},{key:"updateOptions",value:function(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):px.warning("can not set audio source options")}},{key:"startProcessAudioBuffer",value:function(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}},{key:"pauseProcessAudioBuffer",value:function(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}},{key:"seekAudioBuffer",value:function(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}},{key:"resumeProcessAudioBuffer",value:function(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}},{key:"stopProcessAudioBuffer",value:function(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(b){}this.reset()}}},{key:"startSourceNode",value:function(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}},{key:"createSourceNode",value:function(){var e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e}},{key:"handleSourceNodeEnded",value:function(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}},{key:"reset",value:function(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}]),n}(eG),G2=new Map;function H2(e,t){return q2.apply(this,arguments)}function q2(){return q2=u(c().mark((function e(t,n){var r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,"string"!=typeof t){e.next=16;break}if(!(i=G2.get(t))){e.next=5;break}return e.abrupt("return",(px.debug("use cached audio resource: ",t),i));case 5:return e.prev=5,e.next=8,sx((function(){return ex.get(t,{responseType:"arraybuffer"})}),void 0,void 0,{maxRetryCount:3});case 8:r=e.sent.data,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new ix($N.FETCH_AUDIO_FILE_FAILED,e.t0.toString());case 14:e.next=20;break;case 16:return o=new wI((function(e,n){var r=new FileReader;r.onload=function(t){t.target?e(t.target.result):n(new ix($N.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=function(){n(new ix($N.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(t)})),e.next=19,o;case 19:r=e.sent;case 20:return e.next=22,function(e){var t=YV();return new wI((function(n,r){t.decodeAudioData(e,(function(e){n(e)}),(function(e){r(new ix($N.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(r);case 22:return a=e.sent,e.abrupt("return",("string"==typeof t&&n&&G2.set(t,a),a));case 24:case"end":return e.stop()}}),e,null,[[5,11]])}))),q2.apply(this,arguments)}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K2(Object(n),!0).forEach((function(t){tO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y2(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=W2(W2({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?(px.debug("[".concat(e,"] set content hint to"),n.optimizationMode),Px("debug",["AgoraRTC"],"videoTrackOptimizationModeProcess",[e,n,r])):(px.debug("[".concat(e,"] set content hint failed")),Px("warning",["AgoraRTC"],"videoTrackOptimizationModeProcess",[e,n,r],"failed")))):(px.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")),kx("warning",["AgoraRTC"],"[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig"))))}var z2=Sk().name;function J2(e,t,n,r){var i,o=0,a=null;return new wI((function(s,c){setTimeout((function(){i&&(i(),s(o))}),t),i=XV((function(){!function(){o>r&&i&&(i(),s(o));var t=n.getContext("2d");if(!t){var u=new ix($N.UNEXPECTED_ERROR,"can not get canvas 2d context.");return px.error(u.toString()),void c(u)}t.drawImage(e,0,0,160,120);var l=t.getImageData(0,0,n.width,n.height),d=Math.floor(l.data.length/3);if(a){for(var f=0;f<d;f+=3)if(l.data[f]!==a[f])return o+=1,void(a=l.data);a=l.data}else a=l.data}()}),30)}))}var X2,Z2,$2=function(){function e(t,n){v(this,e),tO(this,"id",0),tO(this,"element",void 0),tO(this,"peerPair",void 0),tO(this,"context",void 0),tO(this,"audioPlayerElement",void 0),tO(this,"audioTrack",void 0),e.count+=1,this.id=e.count,this.element=t,this.context=n}return g(e,[{key:"initPeers",value:function(){var e=this;this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=function(t){var n=document.createElement("audio");n.srcObject=new MediaStream([t.track]),n.play(),e.audioPlayerElement=n}}},{key:"switchSdp",value:function(){var e=u(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.peerPair){e.next=2;break}return e.abrupt("return");case 2:return t=function(){var e=u(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("offer"!==n){e.next=6;break}return e.next=3,t.createOffer();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,t.createAnswer();case 8:e.t0=e.sent;case 9:return r=e.t0,e.next=12,t.setLocalDescription(r);case 12:return e.abrupt("return","complete"===t.iceGatheringState?t.localDescription:new wI((function(e){t.onicegatheringstatechange=function(){"complete"===t.iceGatheringState&&e(t.localDescription)}})));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setRemoteDescription(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,t(this.peerPair[0],"offer");case 6:return r=e.sent,e.next=9,n(this.peerPair[1],r);case 9:return e.next=11,t(this.peerPair[1],"answer");case 11:return i=e.sent,e.next=14,n(this.peerPair[0],i);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(3),new ix($N.LOCAL_AEC_ERROR,e.t0.toString()).print();case 19:case"end":return e.stop()}}),e,this,[[3,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTracksFromMediaElement",value:function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.audioTrack){e.next=2;break}return e.abrupt("return",this.audioTrack);case 2:e.prev=2,t instanceof HTMLVideoElement&&(t.captureStream?t.captureStream():t.mozCaptureStream()),n=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(t).connect(n),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new ix($N.LOCAL_AEC_ERROR,e.t0.toString()).print();case 10:if(n){e.next=12;break}throw new ix($N.LOCAL_AEC_ERROR,"no dest node when local aec").print();case 12:return r=n.stream.getAudioTracks()[0],e.abrupt("return",(this.audioTrack=r,r));case 14:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getElement",value:function(){return this.element}},{key:"startEchoCancellation",value:function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.resume(),this.peerPair&&this.close(),this.initPeers(),t=this.element,e.next=4,this.getTracksFromMediaElement(t);case 4:return n=e.sent,this.peerPair&&this.peerPair[0].addTrack(n),e.next=8,this.switchSdp();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){px.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((function(e){e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}]),e}();tO($2,"count",0);var e3=window.AudioContext||window.webkitAudioContext,t3=new(X2=kV({report:NV}),oV((Z2=function(){function e(){v(this,e),tO(this,"units",[]),tO(this,"context",void 0)}return g(e,[{key:"processExternalMediaAEC",value:function(e){if(!this._doesEnvironmentNeedAEC())return px.debug("the system does not need to process local aec"),-1;this.context||(this.context=new e3);var t=this.units.find((function(t){return t&&t.getElement()===e}));return t||(t=new $2(e,this.context),this.units.push(t)),t.startEchoCancellation(),px.debug("start processing local audio echo cancellation, id is",t.id),t.id}},{key:"_doesEnvironmentNeedAEC",value:function(){return Sk().name!==bk.SAFARI}}]),e}()).prototype,"processExternalMediaAEC",[X2],Object.getOwnPropertyDescriptor(Z2.prototype,"processExternalMediaAEC"),Z2.prototype),Z2);Xx("PROCESS_ID","process-".concat(HH(8,""),"-").concat(HH(4,""),"-").concat(HH(4,""),"-").concat(HH(4,""),"-").concat(HH(12,""))),function(){var e=Sk();HP.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),HP.getStreamFromExtension=e.name===bk.CHROME&&Number(e.version)>34,HP.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var e=new RTCPeerConnection,t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),HP.supportMinBitrate=e.name===bk.CHROME||e.name===bk.EDGE,HP.supportSetRtpSenderParameters=function(){var e=Sk();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!Kk()||!(!Pk()&&!Nk())||e.name===bk.FIREFOX&&Number(e.version)>=64)}(),e.name===bk.SAFARI&&(Number(e.version)>=14?HP.supportDualStream=!0:HP.supportDualStream=!1),HP.webAudioMediaStreamDest=function(){var e=Sk();return!(e.name===bk.SAFARI&&Number(e.version)<12)}(),HP.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,HP.supportWebGL="undefined"!=typeof WebGLRenderingContext,HP.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,Kk()||(HP.webAudioWithAEC=!0),HP.supportShareAudio=function(){var e=Sk();return(e.os===yk.WIN_10||e.os===yk.WIN_81||e.os===yk.WIN_7||e.os===yk.LINUX||e.os===yk.MAC_OS)&&e.name===bk.CHROME&&Number(e.version)>=74}(),HP.supportDualStreamEncoding=function(){var e=Sk();return"Safari"===e.name&&Number(e.version)>=14}(),px.info("browser compatibility",JSON.stringify(HP),JSON.stringify(e)),Dx("info",[],"updateAgoraRTCCompatibility",{browserCompatibility:HP,browserInfo:e})}(),function(){var e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void px.error("Error loading sdk config",e.message)}if(e)try{var t=JSON.parse(window.atob(e)),n=Date.now();px.debug("Loading global parameters from cache",t),Dx("debug",[],"loadConfigFromLocalStorage",t),Object.keys(t).forEach((function(e){if(Object.prototype.hasOwnProperty.call($x,e)){var r=t[e],i=r.value,o=r.expires;if(o&&o<=n)return;eD[e]=i,$x[e]=i}}))}catch(C){px.error("Error loading mutableParamsCache: ".concat(e),C.message)}}();var n3={__CLIENT_LIST__:aD,__TRACK_LIST__:sD,VERSION:Fx,BUILD:jx,setParameter:Xx,getParameter:Zx,getSupportedCodec:function(){var e=u(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={audio:[],video:[]},e.prev=1,(n=new RTCPeerConnection).addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"}),e.next=6,n.createOffer();case 6:if(r=e.sent.sdp){e.next=9;break}return e.abrupt("return",t);case 9:n.close(),n=null,t=function(e){var t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(r),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),new ix($N.CREATE_OFFER_FAILED,e.t0.toString&&e.t0.toString()).print();case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));function t(){return e.apply(this,arguments)}return t}(),checkSystemRequirements:function(){var e=NV.reportApiInvoke(null,{name:bL.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:CL.TRACER}),t=!1;try{var n=window.RTCPeerConnection,r=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,i=window.WebSocket;t=!!(n&&r&&i)}catch(e){return px.error("check system requirement failed: ",e),!1}var o=!1,a=Sk();a.name===bk.CHROME&&Number(a.version)>=58&&(!Dk()||xk())&&(o=!0),a.name===bk.FIREFOX&&Number(a.version)>=56&&(o=!0),a.name===bk.OPERA&&Number(a.version)>=45&&(o=!0),a.name===bk.SAFARI&&Number(a.version)>=11&&(o=!0),(Hk()||Sk().name===bk.QQ)&&(o=!0),px.debug("checkSystemRequirements, api:",t,"browser",o);var s=t&&o;return e.onSuccess(s),s},getDevices:function(e){return yG.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return yG.getRecordingDevices(e)},getCameras:function(e){return yG.getCamerasDevices(e)},getElectronScreenSources:aG,getPlaybackDevices:function(e){return yG.getSpeakers(e)},createClient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"},t=NV.reportApiInvoke(null,{name:bL.CREATE_CLIENT,options:[e],tag:CL.TRACER});try{GL(e)}catch(e){throw t.onError(e),e}return void 0===e.audioCodec&&(e.audioCodec="opus"),t.onSuccess(),new Q2(F2(F2({forceWaitGatewayResponse:!0},e),{},{role:"rtc"===e.mode?"host":e.role}))},createCameraVideoTrack:function(){var e=u(c().mark((function e(){var t,n,r,i,o,a,s,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{encoderConfig:"480p_1"},n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_CAM_VIDEO_TRACK,options:[W2({},t)]}),r=iX(t),i=HH(8,"track-cam-"),o=null,px.info("start create camera video track with config",JSON.stringify(t),"trackId",i),Px("info",["AgoraRTC"],"createCameraVideoTrack",t),e.prev=4,e.next=7,pG({video:r},i);case 7:if(e.t0=e.sent.getVideoTracks()[0],e.t0){e.next=10;break}e.t0=null;case 10:o=e.t0,e.next=16;break;case 13:throw e.prev=13,e.t1=e.catch(4),n.onError(e.t1),e.t1;case 16:if(o){e.next=19;break}return a=new ix($N.UNEXPECTED_ERROR,"can not find track in media stream"),e.abrupt("return",(n.onError(a),a.throw()));case 19:return t.optimizationMode&&Y2(i,o,t,t.encoderConfig&&Kx(t.encoderConfig)),s=new BX(o,t,r,t.scalabiltyMode?Yx(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,i),e.abrupt("return",(n.onSuccess(s.getTrackId()),px.info("create camera video success, trackId:",i),Px("info",["AgoraRTC"],"createCameraVideoTrack",void 0,i),s));case 22:case"end":return e.stop()}}),e,null,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}(),createCustomVideoTrack:function(e){var t=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),n=new MX(e.mediaStreamTrack,{bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?Yx(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode);return t.onSuccess(n.getTrackId()),px.info("create custom video track success with config",e,"trackId",n.getTrackId()),Px("info",["AgoraRTC"],"createCustomVideoTrack",e,n.getTrackId()),n},createScreenVideoTrack:function(){var e=u(c().mark((function e(){var t,n,r,i,o,a,s,u,l,d,f,p,h,v,g=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:{},n=g.length>1&&void 0!==g[1]?g[1]:"disable",r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_SCREEN_VIDEO_TRACK,options:[W2({},t),n]}),t.encoderConfig?"string"==typeof t.encoderConfig||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig="1080p_2",i=oX(t),o=HH(8,"track-scr"),a=null,s=null,(u=qP()).supportShareAudio||"enable"!==n){e.next=9;break}return l=new ix($N.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio"),e.abrupt("return",(r.onError(l),l.throw()));case 9:return px.info("start create screen video track with config",t,"withAudio",n,"trackId",o),Px("info",["AgoraRTC"],"createScreenVideoTrack",[t,n]),e.prev=10,e.next=13,pG({screen:i,screenAudio:"auto"===n?u.supportShareAudio:"enable"===n},o);case 13:d=e.sent,a=d.getVideoTracks()[0]||null,s=d.getAudioTracks()[0]||null,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(10),r.onError(e.t0),e.t0;case 20:if(a){e.next=23;break}return f=new ix($N.UNEXPECTED_ERROR,"can not find track in media stream"),e.abrupt("return",(r.onError(f),f.throw()));case 23:if(s||"enable"!==n){e.next=27;break}return a&&a.stop(),p=new ix($N.SHARE_AUDIO_NOT_ALLOWED),e.abrupt("return",(r.onError(p),p.throw()));case 27:if(t.optimizationMode||(t.optimizationMode="detail"),t.optimizationMode&&(Y2(o,a,t,t.encoderConfig&&Wx(t.encoderConfig)),t.encoderConfig&&"string"!=typeof t.encoderConfig&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax)),h=new MX(a,t.encoderConfig?Wx(t.encoderConfig):{},t.scalabiltyMode?Yx(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,o,[gP.SCREEN_TRACK]),s){e.next=31;break}return e.abrupt("return",(r.onSuccess(h.getTrackId()),px.info("create screen video track success","video:",h.getTrackId()),Px("info",["AgoraRTC"],"createScreenVideoTrack",void 0,{videoTrack:h.getTrackId()}),h));case 31:return v=new vH(s),e.abrupt("return",(r.onSuccess([h.getTrackId(),v.getTrackId()]),px.info("create screen video track success","video:",h.getTrackId(),"audio:",v.getTrackId()),Px("info",["AgoraRTC"],"createScreenVideoTrack",void 0,{videoTrack:h.getTrackId(),audioTrack:v.getTrackId()}),[h,v]));case 33:case"end":return e.stop()}}),e,null,[[10,17]])})));function t(){return e.apply(this,arguments)}return t}(),createMicrophoneAndCameraTracks:function(){var e=u(c().mark((function e(){var t,n,r,i,o,a,s,u,l,d,f,p,h,v=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},n=v.length>1&&void 0!==v[1]?v[1]:{encoderConfig:"480p_1"},r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_MIC_AND_CAM_TRACKS,options:[t,n]}),i=iX(n),o=aX(t),a=HH(8,"track-mic-"),s=HH(8,"track-cam-"),u=null,l=null,px.info("start create camera video track(".concat(s,") and microphone audio track(").concat(a,") with config, audio: ").concat(JSON.stringify(t),", video: ").concat(JSON.stringify(n))),Px("info",["AgoraRTC"],"createMicrophoneAndCameraTracks",{videoConfig:n,audioConfig:t}),e.prev=4,e.next=7,pG({audio:o,video:i},"".concat(a,"-").concat(s));case 7:d=e.sent,u=d.getAudioTracks()[0],l=d.getVideoTracks()[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),r.onError(e.t0),e.t0;case 14:if(u&&l){e.next=17;break}return f=new ix($N.UNEXPECTED_ERROR,"can not find tracks in media stream"),e.abrupt("return",(r.onError(f),f.throw()));case 17:return n.optimizationMode&&Y2(s,l,n,n.encoderConfig&&Kx(n.encoderConfig)),p=new gH(u,t,o,a),h=new BX(l,n,i,n.scalabiltyMode?Yx(n.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},n.optimizationMode,s),e.abrupt("return",(r.onSuccess([p.getTrackId(),h.getTrackId()]),px.info("create camera video track(".concat(s,") and microphone audio track(").concat(a,") success")),Px("info",["AgoraRTC"],"createMicrophoneAndCameraTracks",void 0,{videoTrackId:s,audioTrackId:a}),[p,h]));case 20:case"end":return e.stop()}}),e,null,[[4,11]])})));function t(){return e.apply(this,arguments)}return t}(),createMicrophoneAudioTrack:function(){var e=u(c().mark((function e(){var t,n,r,i,o,a,s,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_MIC_AUDIO_TRACK,options:[t]}),r=aX(t),i=HH(8,"track-mic-"),o=null,px.info("start create microphone audio track with config",JSON.stringify(t),"trackId",i),Px("info",["AgoraRTC"],"createMicrophoneAudioTrack",t),e.prev=4,e.next=7,pG({audio:r},i);case 7:if(e.t0=e.sent.getAudioTracks()[0],e.t0){e.next=10;break}e.t0=null;case 10:o=e.t0,e.next=16;break;case 13:throw e.prev=13,e.t1=e.catch(4),n.onError(e.t1),e.t1;case 16:if(o){e.next=19;break}return a=new ix($N.UNEXPECTED_ERROR,"can not find track in media stream"),e.abrupt("return",(n.onError(a),a.throw()));case 19:return s=new gH(o,t,r,i),e.abrupt("return",(n.onSuccess(s.getTrackId()),px.info("create microphone audio track success, trackId:",i),Px("info",["AgoraRTC"],"createMicrophoneAudioTrack",t,i),s));case 21:case"end":return e.stop()}}),e,null,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}(),createCustomAudioTrack:function(e){var t=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new vH(e.mediaStreamTrack,e.encoderConfig?Jx(e.encoderConfig):{});return px.info("create custom audio track success with config",e,"trackId",n.getTrackId()),Px("info",["AgoraRTC"],"createCustomAudioTrack",e,n.getTrackId()),t.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:function(){var e=u(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CREATE_BUFFER_AUDIO_TRACK,options:[t]}),r=HH(8,"track-buf-"),px.info("start create buffer source audio track with config",JSON.stringify(t),"trackId",r),Px("info",[],"createBufferSourceAudioTrack",t),i=t.source,t.source instanceof AudioBuffer){e.next=13;break}return e.prev=4,e.next=7,H2(t.source,t.cacheOnlineFile);case 7:t.source=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",(n.onError(e.t0),e.t0.throw()));case 13:return o=new V2(t.source),a=new AH(i,o,t.encoderConfig?Jx(t.encoderConfig):{},r),e.abrupt("return",(px.info("create buffer source audio track success, trackId:",r),Px("info",["AgoraRTC"],"createBufferSourceAudioTrack",void 0,r),n.onSuccess(a.getTrackId()),a));case 15:case"end":return e.stop()}}),e,null,[[4,10]])})));function t(t){return e.apply(this,arguments)}return t}(),setAppType:function(e){if(px.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw px.debug("Invalid appType"),new ix($N.INVALID_PARAMS,"invalid app type",e);Xx("APP_TYPE",Math.floor(e))},setLogLevel:function(e){Zx("USE_NEW_LOG")?function(e){e=Math.min(Math.max(0,e),4),Ex=e}(e):px.setLogLevel(e)},enableLogUpload:function(){Zx("USE_NEW_LOG")?Xx("UPLOAD_LOG",!0):px.enableLogUpload()},disableLogUpload:function(){Zx("USE_NEW_LOG")?Xx("UPLOAD_LOG",!1):px.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new IJ},checkAudioTrackIsActive:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s,u,l,d=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:5e3,r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[n]}),t instanceof vH||t instanceof A0){e.next=5;break}return i=new ix($N.INVALID_TRACK,"the parameter is not a audio track"),e.abrupt("return",(r.onError(i),i.throw()));case 5:return n&&n<1e3&&(n=1e3),o=t instanceof vH?t.getTrackLabel():"remote_track",a=t.getVolumeLevel(),s=a,u=a,l=Date.now(),e.abrupt("return",new wI((function(e){var i=setInterval((function(){var a=t.getVolumeLevel(),c=(s=a>s?a:s)-(u=a<u?a:u)>1e-4,d=Date.now()-l;if(c||d>n){clearInterval(i);var f=c,p={duration:d,deviceLabel:o,maxVolumeLevel:s,result:f};px.info("[track-".concat(t.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(p))),r.onSuccess(p),e(f)}}),200)})));case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkVideoTrackIsActive:function(){var e=u(c().mark((function e(t){var n,r,i,o,a,s,u,l,d,f,p,h,v,g=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:5e3,r=NV.reportApiInvoke(null,{tag:CL.TRACER,name:bL.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[n]}),t instanceof MX||t instanceof g0){e.next=5;break}return i=new ix($N.INVALID_TRACK,"the parameter is not a video track"),e.abrupt("return",(r.onError(i),i.throw()));case 5:return o=4,n&&n<1e3&&(n=1e3),a=t instanceof MX?t.getTrackLabel():"remote_track",s=t.getMediaStreamTrack(!0),(u=document.createElement("video")).style.width="1px",u.style.height="1px",u.setAttribute("muted",""),u.muted=!0,u.setAttribute("playsinline",""),u.controls=!1,(Pk()||Nk())&&(u.style.opacity="0.01",u.style.position="fixed",u.style.left="0",u.style.top="0",document.body.appendChild(u)),u.srcObject=new MediaStream([s]),u.play(),(l=document.createElement("canvas")).width=160,l.height=120,d=0,f=0,e.prev=12,p=Date.now(),e.next=16,J2(u,n,l,o);case 16:d=e.sent,f=Date.now()-p,e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(12),r.onError(e.t0),e.t0;case 23:return z2===bk.SAFARI&&(u.pause(),u.remove()),u.srcObject=null,v={duration:f,changedPicNum:d,deviceLabel:a,result:h=d>o},e.abrupt("return",(px.info("[track-".concat(t.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(v))),r.onSuccess(v),h));case 26:case"end":return e.stop()}}),e,null,[[12,20]])})));function t(t){return e.apply(this,arguments)}return t}(),setArea:function(e){var t=NV.reportApiInvoke(null,{name:bL.SET_AREA,options:e,tag:CL.TRACER});try{var n=[];if("string"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach((function(e){if(!TP.includes(e))throw new ix($N.INVALID_PARAMS,"invalid area code")})),n=e),"[object Object]"===Object.prototype.toString.call(e)){var r=e.areaCode,i=e.excludedArea;if(!r)throw new ix($N.INVALID_PARAMS,"area code is needed");var o=r;"string"==typeof r&&(o=[r]),n=i?Jz(o,i):o}Xx("AREAS",n);var a=function(e){var t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((function(e){var n=MP[e],r=Object.keys(n);r&&r.map((function(e){"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t}(n);Object.keys(a).map((function(e){Xx(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?a[e][0]:a[e])})),px.debug("set area success:",n.join(","))}catch(e){throw t.onError(e),e}t.onSuccess()},loadModule:function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(px.debug("loadModule: ".concat(t.name,", loadOption: ").concat(JSON.stringify(n))),t.moduleInit){e.next=2;break}throw px.debug("Invalid Plugin"),new ix($N.INVALID_PLUGIN,"invalid plugin");case 2:return e.prev=2,QV.installPlugin(t),e.next=6,t.moduleInit({logger:px,report:NV,pluginCenter:QV,getParameter:Zx},n);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new ix($N.UNEXPECTED_ERROR,"unexpected error in loadModule",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),audioElementPlayCenter:_G,processExternalMediaAEC:function(e){t3.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach((function(e){var t=e;t.__registered__=!0,t.logger.hookLog=px.extLog,t.reporter.hookApiInvoke=NV.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach((function(e){t.parameters[e]=Zx(e)}))}))},ChannelMediaRelayError:dP,ChannelMediaRelayEvent:uP,ChannelMediaRelayState:lP,RemoteStreamFallbackType:mP,RemoteStreamType:AP,ConnectionDisconnectedReason:NL,AudienceLatencyLevelType:OL,AREAS:bP};return Object.defineProperties(n3,{onAudioAutoplayFailed:{get:function(){return bV.onAudioAutoplayFailed},set:function(e){bV.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:function(){return bV.onAutoplayFailed},set:function(e){bV.onAutoplayFailed=e}}}),yG.on(IL.CAMERA_DEVICE_CHANGED,(function(e){px.info("camera device changed",JSON.stringify(e)),n3.onCameraChanged&&n3.onCameraChanged(e)})),yG.on(IL.RECORDING_DEVICE_CHANGED,(function(e){px.info("microphone device changed",JSON.stringify(e)),n3.onMicrophoneChanged&&n3.onMicrophoneChanged(e)})),yG.on(IL.PLAYOUT_DEVICE_CHANGED,(function(e){px.debug("playout device changed",JSON.stringify(e)),n3.onPlaybackDeviceChanged&&n3.onPlaybackDeviceChanged(e)})),_G.onAutoplayFailed=function(){px.info("detect audio element autoplay failed"),bV.onAudioAutoplayFailed&&bV.onAudioAutoplayFailed()},KV.on("autoplay-failed",(function(){px.info("detect webaudio autoplay failed"),bV.onAudioAutoplayFailed&&bV.onAudioAutoplayFailed()})),window&&(window.__ARTC__=n3),n3}()},1197:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var t;module=__webpack_require__.nmd(module),t=function(){function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ja(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){function o(e){rm(s,r,i,o,a,"next",e)}function a(e){rm(s,r,i,o,a,"throw",e)}var s=e.apply(t,n);o(void 0)}))}}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cb(e,t,n){return t&&sm(e.prototype,t),n&&sm(e,n),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hf(e,t)}function Sd(e){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hf(e,t){return(Hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tm(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Di(e,t,n){return(Di=tm()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),e=new(Function.bind.apply(e,r)),n&&Hf(e,n.prototype),e}).apply(null,arguments)}function If(e){var t="function"==typeof Map?new Map:void 0;return(If=function(e){function n(){return Di(e,arguments,Sd(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Hf(n,e)})(e)}function Ei(e,t){if(null==e)return{};if(null==e)var n={};else{n={};var r,i=Object.keys(e);for(r=0;r<i.length;r++){var o=i[r];0<=t.indexOf(o)||(n[o]=e[o])}}if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)i=r[o],0<=t.indexOf(i)||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i]);return n}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){var t=tm();return function(){var n=Sd(e);if(t){var r=Sd(this).constructor;n=Reflect.construct(n,arguments,r)}else n=n.apply(this,arguments);return!n||"object"!=typeof n&&"function"!=typeof n?z(this):n}}function Fi(e,t,n){return(Fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sd(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function Xa(e,t){var n=Array.isArray(e)?e:void 0;if(!n)if(null==(n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"])))n=void 0;else{var r,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0;var s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}n=i}if(!(e=n||um(e,t)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function W(e){var t=Array.isArray(e)?Gi(e):void 0;if(t||(t="undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]?Array.from(e):void 0),!(e=t||um(e)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function um(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gi(e,t)}}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ca(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function tb(e){var t={exports:{}};return e(t,t.exports),t.exports}function Ae(e){e||(e={});var t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;var n=Rt.test(t)&&!St.test(t)||!!e.tablet&&Tt.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}function vm(e,t){var n,r=3>arguments.length?e:arguments[2];return Ia(e)===r?e[t]:(n=Zb.f(e,t))?ha(n,"value")?n.value:void 0===n.get?void 0:n.get.call(r):va(n=nc(e))?vm(n,t,r):void 0}function Ut(e){var t=e.charCodeAt(0)<<24,n=0|Vt(~t),r=0,i=0|e.length,o="";if(5>n&&i>=n){for(t=t<<n>>>24+n,r=1;r<n;r=r+1|0)t=t<<6|63&e.charCodeAt(r);65535>=t?o+=Td(t):1114111>=t?o+=Td(55296+((t=t-65536|0)>>10)|0,56320+(1023&t)|0):r=0}for(;r<i;r=r+1|0)o+="\ufffd";return o}function wm(){}function Wt(e){var t=0|e.charCodeAt(0);if(55296<=t&&56319>=t){var n=0|e.charCodeAt(1);if(!(n==n&&56320<=n&&57343>=n))return Td(239,191,189);if(65535<(t=(t-55296<<10)+n-56320+65536|0))return Td(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}return 127>=t?e:2047>=t?Td(192|t>>>6,128|63&t):Td(224|t>>>12,128|t>>>6&63,128|63&t)}function xm(){}function ya(){ya.init.call(this)}function Ug(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+oa(e))}function ym(e,t,n,r){Ug(n);var i=e._events;if(void 0===i)i=e._events=Object.create(null),e._eventsCount=0;else{void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events);var o=i[t]}return void 0===o?(i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(n=void 0===e._maxListeners?ya.defaultMaxListeners:e._maxListeners)&&o.length>n&&!o.warned&&(o.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,console&&console.warn&&console.warn(n))),e}function Xt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zm(e,t,n){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},(t=Xt.bind(e)).listener=n,e.wrapFn=t}function Am(e,t,n){if(void 0===(e=e._events))return[];if(void 0===(t=e[t]))return[];if("function"==typeof t)return n?[t.listener||t]:[t];if(n)for(n=Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];else n=Bm(t,t.length);return n}function Cm(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function Bm(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Yt(e,t,n){"function"==typeof e.on&&Dm(e,"error",t,n)}function Dm(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+oa(e));e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}function Zt(e){return e?W(e):$t((function(){return[]}),(function(e,t){return e.push(t),e}))}function Em(e,t){var n,r,i,o;return M.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Fm(e)([Gm,Gm,function(e,t){return t}])[2],r=0;case 2:if(!(r<t.length)){a.next=17;break}if(i=t[r],!((o=n(Hi,i))instanceof Vg)){a.next=11;break}if((o=Ii(o.deref()))===Hi){a.next=10;break}return a.next=10,o;case 10:return a.abrupt("return");case 11:if(o===Hi){a.next=14;break}return a.next=14,o;case 14:r++,a.next=2;break;case 17:case"end":return a.stop()}}),au)}function Wg(e,t){return null!=t&&"function"==typeof t[Symbol.iterator]?Em(Wg(e),t):function(t){var n=t[2];return bu(t,(function(t,r){return n(t,e(r))}))}}function Xc(e){return Object.prototype.toString.call(e).slice(8,-1)}function Be(e){return"Object"===Xc(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Hm(e){var t;return(t="Boolean"===Xc(e)||"Null"===Xc(e)||"Undefined"===Xc(e))||(t="Number"===Xc(e)&&!isNaN(e)),t||"String"===Xc(e)||"Symbol"===Xc(e)}function Ud(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jf(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xg;++t<n;)this.add(e[t])}function Ee(e){this.size=(this.__data__=new Yg(e)).size}function Fe(e,t,n,r,i,o){var a,s=1&t,c=2&t,u=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Db(e))return e;if(r=pb(e)){if(a=cu(e),!s)return Ji(e,a)}else{var l=Kf(e),d="[object Function]"==l||"[object GeneratorFunction]"==l;if(Lf(e))return Im(e,s);if("[object Object]"==l||"[object Arguments]"==l||d&&!i){if(a=c||d?{}:Jm(e),!s)return c?du(e,eu(a,e)):fu(e,gu(a,e))}else{if(!Na[l])return i?e:{};a=hu(e,l,s)}}if(o||(o=new Ge),i=o.get(e))return i;o.set(e,a),iu(e)?e.forEach((function(r){a.add(Fe(r,t,n,r,e,o))})):ju(e)&&e.forEach((function(r,i){a.set(i,Fe(r,t,n,i,e,o))})),c=u?c?Km:Ki:c?Mf:Vd;var f=r?void 0:c(e);return ku(f||e,(function(r,i){f&&(r=e[i=r]),Lm(a,i,Fe(r,t,n,i,e,o))})),a}function Li(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r)||o,r)};return n.cache=new(Li.Cache||Xg),n}function Mm(e){if("string"==typeof e)return e;if(pb(e))return He(e,Mm)+"";if(Ie(e))return Nm?Nm.call(e):"";var t=e+"";return"0"==t&&1/e==-lu?"-0":t}function Mi(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=mu),i||(i=[]);++o<a;){var s=e[o];0<t&&n(s)?1<t?Mi(s,t-1,n,r,i):Ni(i,s):r||(i[i.length]=s)}return i}function Je(e,t,n,r,i){if(e===t)t=!0;else if(null==e||null==t||!Bc(e)&&!Bc(t))t=e!=e&&t!=t;else e:{var o=pb(e),a=pb(t),s=o?"[object Array]":Kf(e),c=a?"[object Array]":Kf(t),u="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s);if(a="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),(c=s==c)&&Lf(e)){if(!Lf(t)){t=!1;break e}o=!0,u=!1}if(c&&!u)i||(i=new Ge),t=o||Oi(e)?Om(e,t,n,r,Je,i):nu(e,t,s,n,r,Je,i);else{if(!(1&n)&&(o=u&&Pm.call(e,"__wrapped__"),s=a&&Pm.call(t,"__wrapped__"),o||s)){e=o?e.value():e,t=s?t.value():t,i||(i=new Ge),t=Je(e,t,n,r,i);break e}if(c)t:if(i||(i=new Ge),o=1&n,s=Ki(e),a=s.length,c=Ki(t).length,a==c||o){for(c=a;c--;){var l=s[c];if(!(o?l in t:ou.call(t,l))){t=!1;break t}}if(u=i.get(e),l=i.get(t),u&&l)t=u==t&&l==e;else{u=!0,i.set(e,t),i.set(t,e);for(var d=o;++c<a;){var f=e[l=s[c]],p=t[l];if(r)var h=o?r(p,f,l,t,e,i):r(f,p,l,e,t,i);if(void 0===h?f!==p&&!Je(f,p,n,r,i):!h){u=!1;break}d||(d="constructor"==l)}u&&!d&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(u=!1),i.delete(e),i.delete(t),t=u}}else t=!1;else t=!1}}return t}function Oa(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Eb(e){return!0===(e&&e.__isLong__)}function Wd(e,t){var n;if(t){if((t=0<=(e>>>=0)&&256>e)&&(n=Qm[e]))return n;n=Pa(e,0>(0|e)?-1:0,!0),t&&(Qm[e]=n)}else{if((t=-128<=(e|=0)&&128>e)&&(n=Rm[e]))return n;n=Pa(e,0>e?-1:0,!1),t&&(Rm[e]=n)}return n}function $b(e,t){if(isNaN(e))return t?Xd:ac;if(t){if(0>e)return Xd;if(e>=Sm)return Tm}else{if(e<=-Um)return Fb;if(e+1>=Um)return Vm}return 0>e?$b(-e,t).neg():Pa(e%Ke|0,e/Ke|0,t)}function Pa(e,t,n){return new Oa(e,t,n)}function Pi(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return ac;if("number"==typeof t?(n=t,t=!1):t=!!t,2>(n=n||10)||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(0===r)return Pi(e.substring(1),t,n).neg();r=$b(Zg(n,8));for(var i=ac,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=$b(Zg(n,a)),i=i.mul(a).add($b(s))):i=(i=i.mul(r)).add($b(s))}return i.unsigned=t,i}function oc(e,t){return"number"==typeof e?$b(e,t):"string"==typeof e?Pi(e,t):Pa(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}function da(e,t){function n(){this.constructor=e}_Qi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Le(e){return"function"==typeof e}function Me(e){setTimeout((function(){throw e}),0)}function Ri(e){return null!==e&&"object"===oa(e)}function Wm(e){return e.reduce((function(e,t){return e.concat(t instanceof Nf?t.errors:t)}),[])}function Si(e){for(;e;){var t=e.destination,n=e.isStopped;if(e.closed||n)return!1;e=t&&t instanceof za?t:null}return!0}function td(e){return e}function Ti(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xm(e)}function Xm(e){return 0===e.length?td:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function Ym(e){if(e||(e=bc.Promise||Promise),!e)throw Error("no Promise impl found");return e}function Zm(){return function(e){return e.lift(new pu(e))}}function Of(e){return e?qu(e):Nb}function qu(e){return new ra((function(t){return e.schedule((function(){return t.complete()}))}))}function ud(e){return e&&"function"==typeof e.schedule}function Ui(e,t){return new ra((function(n){var r=new kb,i=0;return r.add(t.schedule((function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||r.add(this.schedule()))}))),r}))}function Pf(e,t){return t?Ui(e,t):new ra($m(e))}function wb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ud(t=e[e.length-1])?(e.pop(),Ui(e,t)):Pf(e)}function pa(e,t){return new ra(t?function(n){return t.schedule(ru,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function ru(e){e.subscriber.error(e.error)}function su(e,t){return void 0===t&&(t=0),function(n){return n.lift(new tu(e,t))}}function an(e){return e in Vi&&(delete Vi[e],!0)}function Cc(){}function Da(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new uu(e,t))}}function bn(e,t,n){if(t){if(!ud(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return bn(e,n).apply(void 0,r).pipe(Da((function(e){return cc(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,o=this,a={context:o,subject:i,callbackFunc:e,scheduler:n};return new ra((function(r){if(n)return n.schedule(vu,0,{args:t,subscriber:r,params:a});if(!i){i=new Qf;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(1>=e.length?e[0]:e),i.complete()}]))}catch(e){Si(i)?i.error(e):console.warn(e)}}return i.subscribe(r)}))}}function vu(e){var t=this,n=e.args,r=e.subscriber,i=e.params;e=i.callbackFunc;var o=i.context,a=i.scheduler,s=i.subject;if(!s){s=i.subject=new Qf,i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.add(a.schedule(wu,0,{value:1>=e.length?e[0]:e,subject:s}))};try{e.apply(o,n.concat([i]))}catch(e){s.error(e)}}this.add(s.subscribe(r))}function wu(e){var t=e.subject;t.next(e.value),t.complete()}function cn(e,t,n){if(t){if(!ud(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return cn(e,n).apply(void 0,r).pipe(Da((function(e){return cc(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new ra((function(r){var o=i.context,a=i.subject;if(n)return n.schedule(xu,0,{params:i,subscriber:r,context:o});if(!a){a=i.subject=new Qf;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(t=e.shift())?a.error(t):(a.next(1>=e.length?e[0]:e),a.complete())}]))}catch(e){Si(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function xu(e){var t=this,n=e.params,r=e.subscriber;e=e.context;var i=n.callbackFunc,o=n.args,a=n.scheduler,s=n.subject;if(!s){s=n.subject=new Qf,n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(n=e.shift())?t.add(a.schedule(dn,0,{err:n,subject:s})):t.add(a.schedule(yu,0,{value:1>=e.length?e[0]:e,subject:s}))};try{i.apply(e,o.concat([n]))}catch(e){this.add(a.schedule(dn,0,{err:e,subject:s}))}}this.add(s.subscribe(r))}function yu(e){var t=e.subject;t.next(e.value),t.complete()}function dn(e){e.subject.error(e.err)}function en(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function Wi(e,t,n,r,i){if(void 0===i&&(i=new zu(e,n,r)),!i.closed)return t instanceof ra?t.subscribe(i):Rf(t)(i)}function Au(e,t){return new ra((function(n){var r=new kb;return r.add(t.schedule((function(){var i=e[Ne]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}function Bu(e,t){return new ra((function(n){var r=new kb;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}function Cu(e,t){if(!e)throw Error("Iterable cannot be null");return new ra((function(n){var r,i=new kb;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[vd](),i.add(t.schedule((function(){if(!n.closed){try{var e=r.next(),t=e.value,i=e.done}catch(e){return void n.error(e)}i?n.complete():(n.next(t),this.schedule())}})))}))),i}))}function fn(e,t){if(null!=e){if(e&&"function"==typeof e[Ne])return Au(e,t);if(en(e))return Bu(e,t);if(gn(e))return Ui(e,t);if(e&&"function"==typeof e[vd]||"string"==typeof e)return Cu(e,t)}throw new TypeError((null!==e&&oa(e)||e)+" is not observable")}function Dc(e,t){return t?fn(e,t):e instanceof ra?e:new ra(Rf(e))}function Yc(e,t){if(!t.closed){if(e instanceof ra)return e.subscribe(t);try{var n=Rf(e)(t)}catch(e){t.error(e)}return n}}function Ab(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(Ab((function(n,r){return Dc(e(n,r)).pipe(Da((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Du(e,n))})}function $g(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Ab(td,e)}function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $g(1)(wb.apply(void 0,e))}function wd(e){return new ra((function(t){try{var n=e()}catch(e){return void t.error(e)}return(n?Dc(n):Of()).subscribe(t)}))}function ah(e,t){return new ra((function(n){var r=e.length;if(0===r)n.complete();else for(var i=Array(r),o=0,a=0,s=function(s){var c=Dc(e[s]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c)}))}function Gb(e,t,n,r){return Le(n)&&(r=n,n=void 0),r?Gb(e,t,n).pipe(Da((function(e){return cc(e)?r.apply(void 0,e):r(e)}))):new ra((function(r){jn(e,t,(function(e){1<arguments.length?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function jn(e,t,n,r,i){if(e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){e.addEventListener(t,n,i);var o=function(){return e.removeEventListener(t,n,i)}}else if(e&&"function"==typeof e.on&&"function"==typeof e.off)e.on(t,n),o=function(){return e.off(t,n)};else if(e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener)e.addListener(t,n),o=function(){return e.removeListener(t,n)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,s=e.length;a<s;a++)jn(e[a],t,n,r,i)}r.add(o)}function kn(e,t,n){return n?kn(e,t).pipe(Da((function(e){return cc(e)?n.apply(void 0,e):n(e)}))):new ra((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{var i=e(r)}catch(e){return void n.error(e)}if(Le(t))return function(){return t(r,i)}}))}function Eu(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}try{var i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function Xi(e){return!cc(e)&&0<=e-parseFloat(e)+1}function ln(e,t){return void 0===e&&(e=0),void 0===t&&(t=xd),(!Xi(e)||0>e)&&(e=0),t&&"function"==typeof t.schedule||(t=xd),new ra((function(n){return n.add(t.schedule(Fu,e,{subscriber:n,counter:0,period:e})),n}))}function Fu(e){var t=e.subscriber,n=e.counter;e=e.period,t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}function Ec(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var n=null,r=e[e.length-1];return ud(r)?(n=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof ra?e[0]:$g(t)(Pf(e,n))}function Yi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return Nb;var n=e[0],r=e.slice(1);return 1===e.length&&cc(n)?Yi.apply(void 0,n):new ra((function(e){var t=function(){return e.add(Yi.apply(void 0,r).subscribe(e))};return Dc(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function Gu(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription;if(e=e.obj,!r.closed)if(n<t.length){var o=t[n];r.next([o,e[o]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:e}))}else r.complete()}function Hu(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function Ob(e,t){return function(n){return n.lift(new Iu(e,t))}}function ab(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!cc(e[0]))return e[0];e=e[0]}return Pf(e,void 0).lift(new Ju)}function Ku(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function Zc(e,t,n){void 0===e&&(e=0);var r=-1;return Xi(t)?r=1>Number(t)?1:Number(t):ud(t)&&(n=t),ud(n)||(n=xd),new ra((function(t){var i=Xi(e)?e:+e-n.now();return n.schedule(Lu,i,{index:0,period:r,subscriber:t})}))}function Lu(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof(t=e[e.length-1])&&e.pop(),Pf(e,void 0).lift(new Mu(t))}function Ya(e){return function(t){var n=new Nu(e);return t=t.lift(n),n.caught=t}}function $i(e,t){return Ab(e,t,1)}function mn(e){return void 0===e&&(e=null),function(t){return t.lift(new Ou(e))}}function Yd(e,t){void 0===t&&(t=xd);var n=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new Pu(n,t))}}function nn(e,t){return function(n){return n.lift(new Qu(e,t))}}function Zd(e){return void 0===e&&(e=Ru),function(t){return t.lift(new Su(e))}}function Ru(){return new bh}function db(e){return function(t){return 0===e?Of():t.lift(new Tu(e))}}function ch(e){return function(t){return t.lift(new Uu(e))}}function Aa(e,t){var n=2<=arguments.length;return function(r){return r.pipe(e?Ob((function(t,n){return e(t,n,r)})):td,db(1),n?mn(t):Zd((function(){return new bh})))}}function Vu(){return function(e){return e.lift(new Wu)}}function on(e){return function(t){return 0===e?Of():t.lift(new Xu(e))}}function Sf(e){return function(t){return t.lift(new Yu(e))}}function dh(e,t){var n=!1;return 2<=arguments.length&&(n=!0),function(r){return r.lift(new Zu(e,t,n))}}function pn(e,t){return 2<=arguments.length?function(n){return Ti(dh(e,t),on(1),mn(t))(n)}:function(t){return Ti(dh((function(t,n,r){return e(t,n,r+1)})),on(1))(t)}}function $u(e,t){return function(n){var r="function"==typeof e?e:function(){return e};if("function"==typeof t)return n.lift(new av(r,t));var i=Object.create(n,bv);return i.source=n,i.subjectFactory=r,i}}function Oe(e){return function(t){return t.lift(new cv(e,t))}}function dv(){return new nb}function Pe(){return function(e){return Zm()($u(dv)(e))}}function qn(e,t,n){var r=e&&"object"===oa(e)?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift(ev(r))}}function ev(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=void 0===(r=e.windowTime)?Number.POSITIVE_INFINITY:r,a=e.refCount,s=e.scheduler,c=0,u=!1,l=!1;return function(e){if(c++,!t||u){u=!1;var r=(t=new Qe(i,o,s)).subscribe(this);n=e.subscribe({next:function(e){t.next(e)},error:function(e){u=!0,t.error(e)},complete:function(){l=!0,n=void 0,t.complete()}}),l&&(n=void 0)}else r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!l&&a&&0===c&&(n.unsubscribe(),t=n=void 0)}))}}function Fc(e,t){return"function"==typeof t?function(n){return n.pipe(Fc((function(n,r){return Dc(e(n,r)).pipe(Da((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new fv(e))}}function Gc(e){return function(t){return t.lift(new gv(e))}}function sa(e,t,n){return function(r){return r.lift(new hv(e,t,n))}}function iv(e,t,n){return void 0===t&&(t=xd),void 0===n&&(n=jv),function(r){return r.lift(new kv(e,t,n.leading,n.trailing))}}function lv(e){e.subscriber.clearThrottle()}function mv(e,t,n){return void 0===n&&(n=xd),function(r){var i=e instanceof Date&&!isNaN(+e),o=i?+e-n.now():Math.abs(e);return r.lift(new nv(o,i,t,n))}}function Hb(e,t){return void 0===t&&(t=xd),mv(e,pa(new Pb),t)}function ov(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new pv(e,n))}}function rn(e){(aj||e)&&(sn.abort(),e&&(sn=new AbortController),aj=e)}function tn(e,t,n,r,i){e!==t&&un(t,(function(o,a){if(i||(i=new Ge),Db(o)){o=i;var s=bj(e,a),c=bj(t,a),u=o.get(c);if(u)cj(e,a,u);else{var l=void 0===(u=r?r(s,c,a+"",e,t,o):void 0);if(l){var d=pb(c),f=!d&&Lf(c),p=!d&&!f&&Oi(c);u=c,d||f||p?pb(s)?u=s:Bc(s)&&$d(s)?u=Ji(s):f?(l=!1,u=Im(c,!0)):p?(l=!1,u=vn(c,!0)):u=[]:wn(c)||Tf(c)?(u=s,Tf(s)?u=Re(s,Mf(s)):Db(s)&&!dj(s)||(u=Jm(c))):l=!1}l&&(o.set(c,u),tn(u,c,n,r,o),o.delete(c)),cj(e,a,u)}}else void 0===(s=r?r(bj(e,a),o,a+"",e,t,i):void 0)&&(s=o),cj(e,a,s)}),Mf)}function qv(e){var t=1,n=ej;1==(1>=arguments.length?0:arguments.length-1)?"number"==typeof(1>=arguments.length?void 0:arguments[1])?t=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:2==(1>=arguments.length?0:arguments.length-1)&&(t=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var r=t||1;return function(t){return t.pipe(dh((function(t,i){var o=n.now(),a=o-e;if((t=t.filter((function(e){return e.until>a}))).length>=r){var s=t[t.length-1],c=t[0].until+e*Math.floor(t.length/r);t.push({delay:s.until<o?c-o:c-s.until,until:c,value:i})}else t.push({delay:0,until:o,value:i});return t}),[]),Da((function(e){return e[e.length-1]})),$i((function(e){var t=wb(e.value);return e.delay?t.pipe(Yd(e.delay,n)):t})))}}function rv(e,t){var n=(t=void 0===t?{protocols:xn,makeWebSocket:yn}:t).protocols,r=void 0===n?xn:n,i=void 0===(t=t.makeWebSocket)?yn:t;return new ra((function(t){var n,o=new nb,a=i(e,r),s=!1,c=!1,u=!1,l=function(e){if(n)throw s=!0,e=Error("Web socket message factory function called more than once"),t.error(e),e;return n=e.subscribe((function(e){a.send(e)})),o};return a.onopen=function(){u=!0,c?(s=!0,a.close()):t.next(l)},a.onmessage=function(e){o.next(e.data)},a.onerror=function(e){s=!0,t.error(Error(e.message))},a.onclose=function(e){s||(s=!0,c?(t.complete(),o.complete()):t.error(Error(1e3===e.code?"Normal closure":e.reason)))},function(){c=!0,n&&n.unsubscribe(),s||(s=!0,u&&a.close())}}))}function eh(){this._listeners={}}function zn(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,n){o[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3]}function n(e,t,n){o[0]=e,t[n]=a[3],t[n+1]=a[2],t[n+2]=a[1],t[n+3]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],o[0]}function i(e,t){return a[3]=e[t],a[2]=e[t+1],a[1]=e[t+2],a[0]=e[t+3],o[0]}var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),s=128===a[3];e.writeFloatLE=s?t:n,e.writeFloatBE=s?n:t,e.readFloatLE=s?r:i,e.readFloatBE=s?i:r}():function(){function t(e,t,n,r){var i=0>t?1:0;if(i&&(t=-t),0===t)e(0<1/t?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(34028234663852886e22<t)e((i<<31|2139095040)>>>0,n,r);else if(11754943508222875e-54>t)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){return n=e(t,n),e=2*(n>>31)+1,t=n>>>23&255,n&=8388607,255===t?n?NaN:1/0*e:0===t?1401298464324817e-60*e*n:e*Math.pow(2,t-150)*(n+8388608)}e.writeFloatLE=t.bind(null,An),e.writeFloatBE=t.bind(null,Bn),e.readFloatLE=n.bind(null,Cn),e.readFloatBE=n.bind(null,Dn)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,n){o[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3],t[n+4]=a[4],t[n+5]=a[5],t[n+6]=a[6],t[n+7]=a[7]}function n(e,t,n){o[0]=e,t[n]=a[7],t[n+1]=a[6],t[n+2]=a[5],t[n+3]=a[4],t[n+4]=a[3],t[n+5]=a[2],t[n+6]=a[1],t[n+7]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],a[4]=e[t+4],a[5]=e[t+5],a[6]=e[t+6],a[7]=e[t+7],o[0]}function i(e,t){return a[7]=e[t],a[6]=e[t+1],a[5]=e[t+2],a[4]=e[t+3],a[3]=e[t+4],a[2]=e[t+5],a[1]=e[t+6],a[0]=e[t+7],o[0]}var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),s=128===a[7];e.writeDoubleLE=s?t:n,e.writeDoubleBE=s?n:t,e.readDoubleLE=s?r:i,e.readDoubleBE=s?i:r}():function(){function t(e,t,n,r,i,o){var a=0>r?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(0<1/r?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(17976931348623157e292<r)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else if(22250738585072014e-324>r)e((r/=5e-324)>>>0,i,o+t),e((a<<31|r/4294967296)>>>0,i,o+n);else{var s=Math.floor(Math.log(r)/Math.LN2);1024===s&&(s=1023),e(4503599627370496*(r*=Math.pow(2,-s))>>>0,i,o+t),e((a<<31|s+1023<<20|1048576*r&1048575)>>>0,i,o+n)}}function n(e,t,n,r,i){return t=e(r,i+t),r=e(r,i+n),e=2*(r>>31)+1,t=4294967296*(1048575&r)+t,2047===(n=r>>>20&2047)?t?NaN:1/0*e:0===n?5e-324*e*t:e*Math.pow(2,n-1075)*(t+4503599627370496)}e.writeDoubleLE=t.bind(null,An,0,4),e.writeDoubleBE=t.bind(null,Bn,4,0),e.readDoubleLE=n.bind(null,Cn,0,4),e.readDoubleBE=n.bind(null,Dn,4,0)}(),e}function An(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Bn(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function Cn(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Dn(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function qb(e,t){this.lo=e>>>0,this.hi=t>>>0}function Uf(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function fj(){}function sv(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function xa(){this.len=0,this.tail=this.head=new Uf(fj,0,0),this.states=null}function gj(e,t,n){t[n]=255&e}function hj(e,t){this.len=e,this.next=void 0,this.val=t}function ij(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo>>>=7;t[n++]=e.lo}function jj(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Hc(){kj.call(this)}function tv(e,t,n){40>e.length?na.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}function pc(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function eb(e){this.buf=e,this.pos=0,this.len=e.length}function lj(){var e=new En(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw pc(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw pc(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function fh(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Fn(){if(this.pos+8>this.len)throw pc(this,8);return new En(fh(this.buf,this.pos+=4),fh(this.buf,this.pos+=4))}function ae(e){mj.call(this,e)}function Vf(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");na.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}function Sa(e){return"string"==typeof e&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e)&&"null"!==e}function Gn(e){try{var t=e.split(".").map((function(e){return Number(e)}))}catch(e){return!1}if(4!==t.length||0===t[0])return!1;for(e=0;e<t.length;e++){var n=t[e];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function Hn(e,t){if(!Array.isArray(t)||0===t.length||32<t.length||t.some((function(e){return 0===e.length||32<e.length})))throw new Z("arguments is not valid",bb);if(!Sa(e))throw new Z("ID is invalid",bb)}function Wf(e){var t=e.attributes,n=e.attrSizeMap,r=e.maxAttrsCount,i=e.maxAttrValueSize;if(e=e.maxTotalSize,!Be(t))throw new Z("attributes must be an object",bb);if(Object.keys(t).length>r)throw new dc("Exceed the limit of ".concat(r," attributes"),Se);if(0===Object.keys(t).length)throw new Z("The attributes is an empty object",bb);var o=0,a=0;for(t=Object.entries(t);a<t.length;a++){var s=Xa(t[a],2),c=s[1];s=new Blob([s[0]]).size;var u=new Blob([c]).size;if(0===s||32<s)throw new Z("Invalid attribute key",bb);if(u>i)throw new dc("Invalid attribute value, over the limit of ".concat(i," bytes"),Se);if("string"!=typeof c||0===c.length)throw new Z("Invalid attribute value",bb);o+=s,o+=u}if(o>e)throw new dc("The attributes size overflow",Se);if(void 0!==n){if(Object.keys(n).length>r)throw new dc("Exceed the limit of ".concat(r," attributes"),Se);for(o=r=0,n=Object.entries(n);o<n.length;o++){if(a=(t=Xa(n[o],2))[1],0===(t=new Blob([t[0]]).size))throw new Z("Invalid attribute key",bb);if(a>i)throw new dc("Invalid attribute value, over the limit of ".concat(i," bytes"),Se);r+=t,r+=a}if(r>e)throw new dc("The attributes size overflow",Se)}}function gh(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function hh(){var e=gh(0,4294967295),t=gh(1,4294967295);return new ma(e,t,!0)}function rb(e){return e.toString().padEnd(32,"0")}function In(e,t){return new TypeError("Unexpected ".concat(e,": ").concat(t))}function Jn(e,t){return e=e.split(".").map((function(e){return Number(e)})),t=t.split(".").map((function(e){return Number(e)})),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function Kn(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function nj(e,t){t="".concat(e).concat(t||"");var n=Ln.get(t)||1;return Ln.set(t,n+1),"".concat(e).concat(n)}function Mn(e,t){var n="number"==typeof t?t:void 0!==t&&"string"!=typeof t?t.code:void 0;return t="number"!=typeof t&&"string"!=typeof t&&void 0!==t&&void 0!==t.serverCode?t.serverCode:void 0,n="".concat(void 0!==n?" Error Code ".concat(n):"").concat(void 0!==t?", server Code ".concat(t):""),e="string"==typeof e&&e?ih(e):Array.isArray(e)&&"string"==typeof e[0]&&e[0]?ih(Nn.apply(void 0,[e[0]].concat(W(e.slice(1))))):"","".concat(""===n?"":"".concat(n," - ")).concat(e)}function uv(e,t){return oj.apply(this,arguments)}function oj(){return(oj=ja(M.mark((function e(t,n){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.aborted){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){setTimeout(e,t),null==n||n.addEventListener("abort",e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(e,t,n){return pj.apply(this,arguments)}function pj(){return(pj=ja(M.mark((function e(t,n,r){var i,o,a,s,c,u,l,d,f,p,h,v,g,A,m,E,y,b,C,_,I,w,S,T,R,k;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.body,o=n.headers,a=void 0===o?{}:o,s=n.timeout,c=void 0===s?1e4:s,u=n.signal,l=n.withCredentials,d=void 0!==l&&l,f=(r||{}).useBinaryResponse,p=void 0!==f&&f,(h=new XMLHttpRequest).open("POST",t,!0),h.responseType=p?"arraybuffer":"text",h.withCredentials=d,h.timeout=c,v=i instanceof FormData,g=i instanceof Uint8Array,!(1<(A=Object.keys(a).filter((function(e){return"content-type"===e.toLowerCase()}))).length)){e.next=14;break}throw new RangeError("multiple content-type");case 14:0===A.length&&(g?a["Content-Type"]="application/octet-stream":v||(a["Content-Type"]="application/json"));case 15:if("setRequestHeader"in h){e.next=46;break}return h.abort(),e.next=19,fetch(t,{body:v||g?i:JSON.stringify(i),cache:"no-cache",credentials:d?"include":"same-origin",headers:a,method:"POST",mode:"cors",referrer:"no-referrer",signal:u});case 19:if(m=e.sent,!(200<=(E=m.status)&&300>E||304===E)){e.next=31;break}if(!p){e.next=27;break}return e.next=25,m.arrayBuffer();case 25:return y=e.sent,e.abrupt("return",{status:E,responseData:y});case 27:return e.next=29,m.text();case 29:return b=e.sent,e.abrupt("return",{status:E,responseText:b});case 31:return C=new Ja(["Post XHR failure, status %d",E]),e.prev=32,e.next=35,m.text();case 35:throw _=e.sent,C.statusCode=E,C.message=_||"Request failed, status ".concat(E),C;case 41:throw e.prev=41,e.t0=e.catch(32),C.statusCode=E,C.message="Request failed, status ".concat(E),C;case 46:if(0!==Object.keys(a).length)for(I=0,w=Object.entries(a);I<w.length;I++)S=Xa(w[I],2),T=S[0],R=S[1],h.setRequestHeader(T,R);return void 0!==u&&(k=function e(){h.abort(),u.removeEventListener("abort",e)},u.addEventListener("abort",k)),v||g?h.send(i):h.send(JSON.stringify(i)),e.abrupt("return",new Promise((function(e,t){h.onload=function(){var n=h.status;if(200<=n&&300>n||304===n)e(p?{status:n,responseData:h.response}:{status:n,responseText:h.responseText});else{var r=new Ja(["Post XHR failure, status %d",n]);r.statusCode=n,r.message=h.response||"Request failed, status ".concat(h.status),t(r)}},h.ontimeout=function(e){t(new Qb(["XHR request timed out after %d ms",c],{originalError:e}))},h.onerror=function(){var e=new Ja(["Post XHR failure, status %d",h.status]);e.statusCode=h.status,e.message=h.response||"Request failed, status ".concat(h.status),t(e)},h.onabort=function(){try{t(new DOMException("The request aborted.","AbortError"))}catch(n){var e=Error("The request aborted.");e.name="AbortError",t(e)}}})));case 50:case"end":return e.stop()}}),e,null,[[32,41]])})))).apply(this,arguments)}function On(e,t){if(!Be(e))throw new Z("message object is not a plain object",t);if(void 0===e.messageType)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",void 0!==e.text)throw new Z("Raw messages cannot have text property. Use description instead",t)}else{if("string"!=typeof e.text)throw new Z("messageType is undefined",t);if(e.messageType="TEXT",void 0!==e.rawMessage)throw new Z("Text messages cannot have rawMessage property",t)}}function kh(e){return qj.apply(this,arguments)}function qj(){return(qj=ja(M.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,p,h,v,g,A,m,E,y,b;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.message,r=t.peerId,i=t.toPeer,o=t.session,a=t.errorCodes,s=t.diff,c=t.logger,void 0!==o){e.next=3;break}throw new aa("The client is not logged in. Cannot do the operation",a.NOT_LOGGED_IN);case 3:if(u=!1,"TEXT"!==n.messageType||!n.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!i){e.next=11;break}if(l=n.text.split("_"),d=Xa(l,3),f=d[0],p=d[1],void 0!==d[2]&&Sa(p)&&"AgoraRTMLegacyEndcallCompatibleMessagePrefix"===f){e.next=10;break}throw new Z("Message is not valid",Xf);case 10:u=!0;case 11:if(h=Date.now(),v=o.messageSentTimes.length-1,!((g=o.messageSentTimes[v])&&g+3e3<h)){e.next=18;break}o.messageSentTimes=[h],e.next=29;break;case 18:A=v;case 19:if(!(0<=A)){e.next=28;break}if(!(o.messageSentTimes[A]+3e3<h)){e.next=23;break}return o.messageSentTimes=o.messageSentTimes.slice(A+1,v+1),e.abrupt("break",28);case 23:if(!(180<=v-A+1)){e.next=25;break}throw new dc("Message sent failed, exceeded the 180 message in 3 seconds",a.TOO_OFTEN);case 25:A--,e.next=19;break;case 28:o.messageSentTimes.push(h);case 29:e.t0=n.messageType,e.next="TEXT"===e.t0?32:"RAW"===e.t0?37:39;break;case 32:if(!u){e.next=36;break}return m=n.text.split("_"),E=Xa(m,3),y=E[1],b=E[2],c.info("[rtm-API] EndCall message send api is called"),e.abrupt("return",o.sendInvitationMessage({peerId:r,type:"CallCancel",extra:b,channelId:y,callId:"0"}));case 36:return e.abrupt("return",o.sendTextMessage(n.text,r,i,1e4-s));case 37:return void 0===n.description&&(n.description=""),e.abrupt("return",o.sendRawMessage(n.rawMessage,n.description,r,i,1e4-s));case 39:throw new Z("Invalid message type",Xf);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(n=n.split(".").slice(e.length-2).join(".")),-1!==n.indexOf("/")?n.split("/")[0]:n}function Ka(e){if("string"!=typeof e)return"[Sensitive Info]";var t=Math.floor(.7*e.length),n=e.length;return Pn(e,t,n,"*".repeat(n-t))}function Qn(e,t,n){function r(i){if(void 0===e)return e;if(Hm(i))return i;if(Array.isArray(i))return i.map(r);var o={},a=0;for(i=lh(i);a<i.length;a++){var s=Xa(i[a],2),c=s[0];if("string"==typeof(s=s[1])&&n.includes(c)){o[c]="string"==typeof s?Ka(s):"[Sensitive Info]";break}t.includes(c)?o[c]="[Hidden Info]":o[c]=null==s?s:n.includes(c)?"[Sensitive Info]":r(s)}return o}return Array.isArray(e)?e.map(r):r(e)}function Rn(e){return Object.getOwnPropertyNames(e).forEach((function(t){"object"==oa(t=e[t])&&null!==t&&Rn(t)})),Object.freeze(e)}function Yf(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function mh(e){return(new TextEncoder).encode(e).length}function Sn(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e+=n[t].length;for(e=new Uint8Array(e),r=t=0;r<n.length;r++){var i=n[r];e.set(i,t),t+=i.length}return e}function Te(e,t,n){var r=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=null==r?void 0:r[1],r=null==r?void 0:r[2]){var i;for(r=r.substr(1).split("&"),i=0;i<r.length;i++)if(r[i].split("=")[0]==t){r[i]=t+"="+encodeURIComponent(n);break}return i==r.length&&r.push(t+"="+encodeURIComponent(n)),e+"?"+r.join("&")}return e+"?"+t+"="+encodeURIComponent(n)}function Pn(e,t,n,r){return"string"!=typeof e?"[Sensitive Info]":e.substring(0,t)+r+e.substring(n)}function Zf(e){return"string"==typeof e&&0!==e.length&&"false"!==e&&"null"!==e&&"undefined"!==e}function Tn(e){var t=[];return function e(n){if(null===n||"object"!==oa(n))return n;if(-1!==t.indexOf(n))return"[Circular]";if(t.push(n),"function"==typeof n.toJSON)try{var r=e(n.toJSON());return t.pop(),r}catch(e){return"[Throws: "+(e?e.message:"?")+"]"}return Array.isArray(n)?(r=n.map(e),t.pop(),r):(r=Object.keys(n).reduce((function(t,r){e:{if(wv.call(n,r))try{var i=n[r];break e}catch(e){i="[Throws: "+(e?e.message:"?")+"]";break e}i=n[r]}return t[r]=e(i),t}),{}),t.pop(),r)}(e)}function xv(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function nh(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}function yv(e){var t=e.areas,n=e.excludedArea;if(1===t.length&&t[0]===R.GLOBAL&&n===R.CHINA)return Ue([R.OVERSEA]);if(t.includes(R.GLOBAL)){if(e=$f(oh).filter((function(e){return e!==R.GLOBAL&&e!==R.OVERSEA})),n in ag){t=ag[n];var r=[].concat(W(null!=t?t:[]),[n]);return Ue(e.filter((function(e){return!r.includes(e)})))}if(Un(n)){var i=zv(n);return Ue(e.filter((function(e){return e!==n&&e!==i})))}}if(Un(n)||n in ag)return Ue(t);throw new Z("Invalid excludedArea area config")}function fb(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map((function(){return"%o"}))):"%s"),this.name,t].concat(W(i.map(Ve))));try{var a=r.apply(this,i)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(W(i.map(Ve)))),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return ja(M.mark((function n(){var r,o;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(W(i.map(Ve)))),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,Ve(r)):"Object"!==Xc(r)||Be(r)?e.resultTracker("%s result is %o",t,Ve(r)):e.resultTracker("%s result is %s",t,r.name||(null===(o=r.constructor)||void 0===o?void 0:o.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function Ic(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map((function(){return"%o"}))):"%s"),this.name,t].concat(i));try{var a=r.apply(this,i)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(i)),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return ja(M.mark((function n(){var r,o;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(i)),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,r):"Object"!==Xc(r)||Be(r)?e.resultTracker("%s result is %o",t,r):e.resultTracker("%s result is %s",t,r.name||(null===(o=r.constructor)||void 0===o?void 0:o.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function Av(e,t){var n="".concat(e,"Uri");if("number"!=typeof(n=rj[n])||0===n)throw new TypeError("Got Unknown URI Name");return t=new(e=Vn[e])(t),t=e.encode(t).finish(),new Bv({uri:n,data:t})}function Wn(e,t){var n=Zf(null);return"".concat(e.split(".").join("-"),".edge.").concat(n?null:t?"sd-rtn.com":"agora.io")}function xb(e,t,n){return sj.apply(this,arguments)}function sj(){return(sj=ja(M.mark((function e(t,n,r){var i,o,a,s=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=3<s.length&&void 0!==s[3]&&s[3],o=Cv[t].encode(n).finish(),a=function(){var e=ja(M.mark((function e(n){var s,c,u,l=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(3<(c=1<l.length&&void 0!==l[1]?l[1]:0))){e.next=3;break}return e.abrupt("return");case 3:if(u=Te(u=r?"https://".concat(null!==(s=null==ca?void 0:ca.PROXY_NGINX[0])&&void 0!==s?s:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(n,"&p=443&d=events/proto-raw"):"https://".concat(n,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),u=Te(u,"id",Dv[t].toString()),!i){e.next=9;break}return e.next=9,uv(1e4);case 9:return e.next=11,jh(u,{body:o,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch((function(e){return a(n,c+1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,a((null==ca?void 0:ca.EVENT_REPORT_DOMAIN[0])||Zf(null)&&null||"webcollector-rtm.agora.io");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,a(ca&&Xn(1<(null==ca?void 0:ca.EVENT_REPORT_DOMAIN.length)?null==ca?void 0:ca.EVENT_REPORT_DOMAIN.slice(1):null==ca?void 0:ca.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function yb(e){return void 0===e?ma.fromNumber(0):ma.fromNumber(Date.now()-e)}function ph(e,t){return ma.fromValue(e).eq(t)}function qh(e,t){var n=void 0===t?e.val:t,r=e.isBoolean;t=e.isNumber;var i=e.oneof,o=e.len;if(2!==[r,t,i].filter((function(e){return!e})).length)throw new TypeError("invalid field type");if(void 0!==n&&(e=!1,void 0!==i&&(i=tj(i),Ev(i,ph).length===i.length&&void 0!==Fv(i,(function(e){return ph(n,e)}))&&(e=!0)),r=void 0!==r&&(0===n||1===n)&&1===o,t=void 0!==t&&n.toString(2).length<=o,!(e||r||t)))throw Error("invalid field value")}function Yn(e){return e.reduce((function(e,t){return e.concat(t instanceof rh.UnsubscriptionError?t.errors:t)}),[])}function Gv(e,t){do{2147483647==bg?bg=0:bg++}while(We.hasOwnProperty(bg));var n=bg;return We[n]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},uj.postMessage({name:"setInterval",fakeId:n,time:t}),n}function Zn(e){return function(){var t=e();if(!t)throw new aa("Client is not logged in. Cannot do the operation");return t}}var Va="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},sh=function(e){return e&&e.Math==Math&&e},Q=sh("object"==typeof globalThis&&globalThis)||sh("object"==typeof window&&window)||sh("object"==typeof self&&self)||sh("object"==typeof Va&&Va)||function(){return this}()||Function("return this")(),ia=function(e){try{return!!e()}catch(e){return!0}},ta=!ia((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),$n={}.propertyIsEnumerable,ao=Object.getOwnPropertyDescriptor,cg=ao&&!$n.call({1:2},1)?function(e){return!!(e=ao(this,e))&&e.enumerable}:$n,Jc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Hv={}.toString,qc=function(e){return Hv.call(e).slice(8,-1)},Iv="".split,dg=ia((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==qc(e)?Iv.call(e,""):Object(e)}:Object,Bb=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Ib=function(e){return dg(Bb(e))},va=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Kc=function(e,t){if(!va(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!va(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!va(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!va(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},lb=function(e){return Object(Bb(e))},Jv={}.hasOwnProperty,ha=function(e,t){return Jv.call(lb(e),t)},Xe=Q.document,th=va(Xe)&&va(Xe.createElement),bo=!ta&&!ia((function(){return 7!=Object.defineProperty(th?Xe.createElement("div"):{},"a",{get:function(){return 7}}).a})),co=Object.getOwnPropertyDescriptor,Zb={f:ta?co:function(e,t){if(e=Ib(e),t=Kc(t,!0),bo)try{return co(e,t)}catch(e){}if(ha(e,t))return Jc(!cg.call(e,t),e[t])}},Ia=function(e){if(!va(e))throw TypeError(String(e)+" is not an object");return e},eo=Object.defineProperty,mb={f:ta?eo:function(e,t,n){if(Ia(e),t=Kc(t,!0),Ia(n),bo)try{return eo(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},gb=ta?function(e,t,n){return mb.f(e,t,Jc(1,n))}:function(e,t,n){return e[t]=n,e},vj=function(e,t){try{gb(Q,e,t)}catch(n){Q[e]=t}return t},yd=Q["__core-js_shared__"]||vj("__core-js_shared__",{}),Kv=Function.toString;"function"!=typeof yd.inspectSource&&(yd.inspectSource=function(e){return Kv.call(e)});var wj=yd.inspectSource,fo=Q.WeakMap,Lv="function"==typeof fo&&/native code/.test(wj(fo)),zd=tb((function(e){(e.exports=function(e,t){return yd[e]||(yd[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Mv=0,Nv=Math.random(),Ye=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Mv+Nv).toString(36)},go=zd("keys"),uh=function(e){return go[e]||(go[e]=Ye(e))},Ze={},Ov=Q.WeakMap;if(Lv||yd.state)var be=yd.state||(yd.state=new Ov),Pv=be.get,ho=be.has,Qv=be.set,xj=function(e,t){if(ho.call(be,e))throw new TypeError("Object already initialized");return t.facade=e,Qv.call(be,e,t),t},vh=function(e){return Pv.call(be,e)||{}},yj=function(e){return ho.call(be,e)};else{var $e=uh("state");Ze[$e]=!0,xj=function(e,t){if(ha(e,$e))throw new TypeError("Object already initialized");return t.facade=e,gb(e,$e,t),t},vh=function(e){return ha(e,$e)?e[$e]:{}},yj=function(e){return ha(e,$e)}}var Za={set:xj,get:vh,has:yj,enforce:function(e){return yj(e)?vh(e):xj(e,{})},getterFor:function(e){return function(t){var n;if(!va(t)||(n=vh(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Wa=tb((function(e){var t=Za.get,n=Za.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable;if(o=!!o&&!!o.noTargetGet,"function"==typeof i){"string"!=typeof t||ha(i,"name")||gb(i,"name",t);var c=n(i);c.source||(c.source=r.join("string"==typeof t?t:""))}e===Q?s?e[t]=i:vj(t,i):(a?!o&&e[t]&&(s=!0):delete e[t],s?e[t]=i:gb(e,t,i))})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||wj(this)}))})),io=function(e){return"function"==typeof e?e:void 0},Lc=function(e,t){return 2>arguments.length?io(Q[e])||io(Q[e]):Q[e]&&Q[e][t]||Q[e]&&Q[e][t]},Rv=Math.ceil,Sv=Math.floor,rc=function(e){return isNaN(e=+e)?0:(0<e?Sv:Rv)(e)},Tv=Math.min,La=function(e){return 0<e?Tv(rc(e),9007199254740991):0},Uv=Math.max,Vv=Math.min,Rb=function(e,t){return 0>(e=rc(e))?Uv(e+t,0):Vv(e,t)},jo=function(e){return function(t,n,r){t=Ib(t);var i=La(t.length);if(r=Rb(r,i),e&&n!=n){for(;i>r;)if((n=t[r++])!=n)return!0}else for(;i>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},ko=jo(!0),zj=jo(!1),lo=function(e,t){e=Ib(e);var n,r=0,i=[];for(n in e)!ha(Ze,n)&&ha(e,n)&&i.push(n);for(;t.length>r;)ha(e,n=t[r++])&&(~zj(i,n)||i.push(n));return i},wh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Wv=wh.concat("length","prototype"),ce={f:Object.getOwnPropertyNames||function(e){return lo(e,Wv)}},eg={f:Object.getOwnPropertySymbols},mo=Lc("Reflect","ownKeys")||function(e){var t=ce.f(Ia(e)),n=eg.f;return n?t.concat(n(e)):t},no=function(e,t){for(var n=mo(t),r=mb.f,i=Zb.f,o=0;o<n.length;o++){var a=n[o];ha(e,a)||r(e,a,i(t,a))}},Xv=/#|\.prototype\./,Mc=function(e,t){return(e=Yv[Zv(e)])==$v||e!=aw&&("function"==typeof t?ia(t):!!t)},Zv=Mc.normalize=function(e){return String(e).replace(Xv,".").toLowerCase()},Yv=Mc.data={},aw=Mc.NATIVE="N",$v=Mc.POLYFILL="P",bw=Zb.f,ba=function(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat;if(r=a?Q:s?Q[o]||vj(o,{}):(Q[o]||{}).prototype)for(i in t){var c=t[i],u=e.noTargetGet?(n=bw(r,i))&&n.value:r[i];if(!(n=Mc(a?i:o+(s?".":"#")+i,e.forced))&&void 0!==u){if(typeof c==typeof u)continue;no(c,u)}(e.sham||u&&u.sham)&&gb(c,"sham",!0);try{Wa(r,i,c,e)}catch(e){}}},Aj=function(){var e=Ia(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Nc=ia((function(){var e=new RegExp("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),cw=ia((function(){var e=new RegExp("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),xh=RegExp.prototype.exec,dw=zd("native-string-replace",String.prototype.replace),oo=xh,Bj=(c=/a/,b=/b*/g,xh.call(c,"a"),xh.call(b,"a"),0!==c.lastIndex||0!==b.lastIndex),po=Nc||cw,Cj=void 0!==/()??/.exec("")[1],c,b;(Bj||Cj||po)&&(oo=function(e){var t,n=po&&this.sticky,r=Aj.call(this),i=this.source,o=0,a=e;if(n){-1===(r=r.replace("y","")).indexOf("g")&&(r+="g"),a=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==e[this.lastIndex-1])&&(i="(?: "+i+")",a=" "+a,o++);var s=new RegExp("^(?:"+i+")",r)}if(Cj&&(s=new RegExp("^"+i+"$(?!\\s)",r)),Bj)var c=this.lastIndex;var u=xh.call(n?s:this,a);return n?u?(u.input=u.input.slice(o),u[0]=u[0].slice(o),u.index=this.lastIndex,this.lastIndex+=u[0].length):this.lastIndex=0:Bj&&u&&(this.lastIndex=this.global?u.index+u[0].length:c),Cj&&u&&1<u.length&&dw.call(u[0],s,(function(){for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(u[t]=void 0)})),u});var fg=oo;ba({target:"RegExp",proto:!0,forced:/./.exec!==fg},{exec:fg});var af=Lc("navigator","userAgent")||"",qo=Q.process,ro=qo&&qo.versions,so=ro&&ro.v8;if(so)var Ad=so.split("."),Dj=4>Ad[0]?1:Ad[0]+Ad[1];else af&&(Ad=af.match(/Edge\/(\d+)/),(!Ad||74<=Ad[1])&&(Ad=af.match(/Chrome\/(\d+)/))&&(Dj=Ad[1]));var Bd=Dj&&+Dj,Oc=!!Object.getOwnPropertySymbols&&!ia((function(){return!String(Symbol())||!Symbol.sham&&Bd&&41>Bd})),to=Oc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gg=zd("wks"),hg=Q.Symbol,ew=to?hg:hg&&hg.withoutSetter||Ye,Ea=function(e){return ha(gg,e)&&(Oc||"string"==typeof gg[e])||(Oc&&ha(hg,e)?gg[e]=hg[e]:gg[e]=ew("Symbol."+e)),gg[e]},fw=Ea("species"),Ej=RegExp.prototype,gw=!ia((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),uo="$0"==="a".replace(/./,"$0"),vo=Ea("replace"),wo=!!/./[vo]&&""===/./[vo]("a","$0"),hw=!ia((function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},2!==(e="ab".split(e)).length||"a"!==e[0]||"b"!==e[1]})),yh=function(e,t,n,r){var i=Ea(e),o=!ia((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!ia((function(){var t=!1,n=/a/;return"split"===e&&((n={constructor:{}}).constructor[fw]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!gw||!uo||wo)||"split"===e&&!hw){var s=/./[i],c=(n=n(i,""[e],(function(e,t,n,r,i){var a=t.exec;return a===fg||a===Ej.exec?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:uo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:wo}))[1];Wa(String.prototype,e,n[0]),Wa(Ej,i,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}r&&gb(Ej[i],"sham",!0)},iw=Ea("match"),Fj=function(e){var t;return va(e)&&(void 0!==(t=e[iw])?!!t:"RegExp"==qc(e))},Sb=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},jw=Ea("species"),de=function(e,t){var n;return void 0===(e=Ia(e).constructor)||null==(n=Ia(e)[jw])?t:Sb(n)},xo=function(e){return function(t,n){t=String(Bb(t)),n=rc(n);var r,i=t.length;if(0>n||n>=i)return e?"":void 0;var o=t.charCodeAt(n);return 55296>o||56319<o||n+1===i||56320>(r=t.charCodeAt(n+1))||57343<r?e?t.charAt(n):o:e?t.slice(n,n+2):r-56320+(o-55296<<10)+65536}},kw=xo(!1),yo=xo(!0),Gj=function(e,t,n){return t+(n?yo(e,t).length:1)},bf=function(e,t){var n=e.exec;if("function"==typeof n){if("object"!=typeof(e=n.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return e}if("RegExp"!==qc(e))throw TypeError("RegExp#exec called on incompatible receiver");return fg.call(e,t)},lw=[].push,mw=Math.min;yh("split",2,(function(e,t,n){var r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,n){var r=String(Bb(this));if(0===(n=void 0===n?4294967295:n>>>0))return[];if(void 0===e)return[r];if(!Fj(e))return t.call(r,e,n);var i,o,a,s=[],c=0;for(e=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=fg.call(e,r))&&!((o=e.lastIndex)>c&&(s.push(r.slice(c,i.index)),1<i.length&&i.index<r.length&&lw.apply(s,i.slice(1)),a=i[0].length,c=o,s.length>=n));)e.lastIndex===i.index&&e.lastIndex++;return c===r.length?(a||!e.test(""))&&s.push(""):s.push(r.slice(c)),s.length>n?s.slice(0,n):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t;return[function(t,n){var i=Bb(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=Ia(e);e=String(this);var s=de(a,RegExp);if(o=a.unicode,a=new s(Nc?"^(?:"+a.source+")":a,(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Nc?"g":"y")),0===(i=void 0===i?4294967295:i>>>0))return[];if(0===e.length)return null===bf(a,e)?[e]:[];var c=0,u=0;for(s=[];u<e.length;){a.lastIndex=Nc?0:u;var l,d=bf(a,Nc?e.slice(u):e);if(null===d||(l=mw(La(a.lastIndex+(Nc?u:0)),e.length))===c)u=Gj(e,u,o);else{if(s.push(e.slice(c,u)),s.length===i)return s;for(c=1;c<=d.length-1;c++)if(s.push(d[c]),s.length===i)return s;u=c=l}}return s.push(e.slice(c)),s}]}),Nc);var nw=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,ow=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,Hj=function(e){return function(t){return t=String(Bb(t)),1&e&&(t=t.replace(nw,"")),2&e&&(t=t.replace(ow,"")),t}};Hj(1),Hj(2);var Ij=Hj(3),zh=Q.parseInt,pw=/^[+-]?0[Xx]/,zo=8!==zh("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff08")||22!==zh("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff0x16")?function(e,t){return e=Ij(String(e)),zh(e,t>>>0||(pw.test(e)?16:10))}:zh;ba({global:!0,forced:parseInt!=zo},{parseInt:zo});var Cd=function(e,t,n){if(Sb(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Dd=Array.isArray||function(e){return"Array"==qc(e)},qw=Ea("species"),Ah=function(e,t){if(Dd(e)){var n=e.constructor;"function"!=typeof n||n!==Array&&!Dd(n.prototype)?va(n)&&null===(n=n[qw])&&(n=void 0):n=void 0}return new(void 0===n?Array:n)(0===t?0:t)},Ao=[].push,Ed=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){var f=lb(c),p=dg(f);u=Cd(u,l,3),l=La(p.length);var h,v=0;for(d=d||Ah,c=t?d(c,l):n||a?d(c,0):void 0;l>v;v++)if((s||v in p)&&(h=u(d=p[v],v,f),e))if(t)c[v]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return v;case 2:Ao.call(c,d)}else switch(e){case 4:return!1;case 7:Ao.call(c,d)}return o?-1:r||i?i:c}},ee=Ed(0),Bo=Ed(1),Co=Ed(2),rw=Ed(3),sw=Ed(4),Do=Ed(5),tw=Ed(6);Ed(7);var uw=Ea("species"),ig=function(e){return 51<=Bd||!ia((function(){var t=[];return(t.constructor={})[uw]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},vw=ig("filter");ba({target:"Array",proto:!0,forced:!vw},{filter:function(e){return Co(this,e,1<arguments.length?arguments[1]:void 0)}});var $c=Object.keys||function(e){return lo(e,wh)},ww=ia((function(){$c(1)}));ba({target:"Object",stat:!0,forced:ww},{keys:function(e){return $c(lb(e))}});var cf=function(e,t){var n=[][e];return!!n&&ia((function(){n.call(null,t||function(){throw 1},1)}))},xw=[].join,yw=dg!=Object,zw=cf("join",",");ba({target:"Array",proto:!0,forced:yw||!zw},{join:function(e){return xw.call(Ib(this),void 0===e?",":e)}});var Aw=ig("map");ba({target:"Array",proto:!0,forced:!Aw},{map:function(e){return Bo(this,e,1<arguments.length?arguments[1]:void 0)}});var Jj=function(e){var t=e.return;if(void 0!==t)return Ia(t.call(e)).value},df={},Bw=Ea("iterator"),Cw=Array.prototype,Kj=function(e){return void 0!==e&&(df.Array===e||Cw[Bw]===e)},ef=function(e,t,n){(t=Kc(t))in e?mb.f(e,t,Jc(0,n)):e[t]=n},Dw=Ea("toStringTag"),Eo={};Eo[Dw]="z";var Lj="[object z]"===String(Eo),Ew=Ea("toStringTag"),Fw="Arguments"==qc(function(){return arguments}()),ff=Lj?qc:function(e){var t;if(void 0===e)var n="Undefined";else{if(null===e)var r="Null";else{e:{var i=e=Object(e);try{r=i[Ew];break e}catch(e){}r=void 0}r="string"==typeof(n=r)?n:Fw?qc(e):"Object"==(t=qc(e))&&"function"==typeof e.callee?"Arguments":t}n=r}return n},Gw=Ea("iterator"),jg=function(e){if(null!=e)return e[Gw]||e["@@iterator"]||df[ff(e)]},fe=function(e){var t,n=lb(e),r="function"==typeof this?this:Array,i=arguments.length,o=1<i?arguments[1]:void 0,a=void 0!==o,s=jg(n),c=0;if(a&&(o=Cd(o,2<i?arguments[2]:void 0,2)),null==s||r==Array&&Kj(s)){var u=La(n.length);for(r=new r(u);u>c;c++)s=a?o(n[c],c):n[c],ef(r,c,s)}else for(i=(n=s.call(n)).next,r=new r;!(t=i.call(n)).done;c++){if(a){s=n;var l=o;t=[t.value,c];try{u=l(Ia(t)[0],t[1])}catch(e){throw Jj(s),e}}else u=t.value;ef(r,c,s=u)}return r.length=c,r},Fo=Ea("iterator"),Go=!1;try{var Hw=0,Ho={next:function(){return{done:!!Hw++}},return:function(){Go=!0}};Ho[Fo]=function(){return this},Array.from(Ho,(function(){throw 2}))}catch(c){}var Bh=function(e,t){if(!t&&!Go)return!1;var n=!1;try{(t={})[Fo]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch(e){}return n},Iw=!Bh((function(e){Array.from(e)}));ba({target:"Array",stat:!0,forced:Iw},{from:fe});var Io=!ia((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Jo=uh("IE_PROTO"),Jw=Object.prototype,nc=Io?Object.getPrototypeOf:function(e){return e=lb(e),ha(e,Jo)?e[Jo]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Jw:null},Mj=Ea("iterator"),Ko=!1,Kw=function(){return this},ge;if([].keys){var Lo=[].keys();if("next"in Lo){var Mo=nc(nc(Lo));Mo!==Object.prototype&&(ge=Mo)}else Ko=!0}(null==ge||ia((function(){var e={};return ge[Mj].call(e)!==e})))&&(ge={}),ha(ge,Mj)||gb(ge,Mj,Kw);var Ch=ge,Dh=Ko,No=ta?Object.defineProperties:function(e,t){Ia(e);for(var n,r=$c(t),i=r.length,o=0;i>o;)mb.f(e,n=r[o++],t[n]);return e},Nj=Lc("document","documentElement"),Oo=uh("IE_PROTO"),Oj=function(){},Pj,_Eh=function(){try{Pj=document.domain&&new ActiveXObject("htmlfile")}catch(e){}if(Pj){var e=Pj;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=th?Xe.createElement("iframe"):{}).style.display="none",Nj.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(_Eh=e,e=wh.length;e--;)delete _Eh.prototype[wh[e]];return _Eh()};Ze[Oo]=!0;var ec=Object.create||function(e,t){if(null!==e){Oj.prototype=Ia(e);var n=new Oj;Oj.prototype=null,n[Oo]=e}else n=_Eh();return void 0===t?n:No(n,t)},Lw=mb.f,Po=Ea("toStringTag"),sc=function(e,t,n){e&&!ha(e=n?e:e.prototype,Po)&&Lw(e,Po,{configurable:!0,value:t})},Mw=function(){return this},Qo=function(e,t,n){return t+=" Iterator",e.prototype=ec(Ch,{next:Jc(1,n)}),sc(e,t,!1),df[t]=Mw,e},ob=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]),e=t instanceof Array}catch(e){}return function(t,r){if(Ia(t),!va(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return e?n.call(t,r):t.__proto__=r,t}}():void 0),kg=Ea("iterator"),Nw=function(){return this},Qj=function(e,t,n,r,i,o,a){Qo(n,t,r),r=function(e){if(e===i&&f)return f;if(!Dh&&e in l)return l[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}};var s,c=t+" Iterator",u=!1,l=e.prototype,d=l[kg]||l["@@iterator"]||i&&l[i],f=!Dh&&d||r(i),p="Array"==t&&l.entries||d;if(p&&(e=nc(p.call(new e)),Ch!==Object.prototype&&e.next&&(nc(e)!==Ch&&(ob?ob(e,Ch):"function"!=typeof e[kg]&&gb(e,kg,Nw)),sc(e,c,!0))),"values"==i&&d&&"values"!==d.name&&(u=!0,f=function(){return d.call(this)}),l[kg]!==f&&gb(l,kg,f),df[t]=f,i){var h={values:r("values"),keys:o?f:r("keys"),entries:r("entries")};if(a)for(s in h)!Dh&&!u&&s in l||Wa(l,s,h[s]);else ba({target:t,proto:!0,forced:Dh||u},h)}return h},Ow=Za.set,Pw=Za.getterFor("String Iterator");Qj(String,"String",(function(e){Ow(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e=Pw(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=yo(t,n),e.index+=t.length,{value:t,done:!1})}));var Rj=Ea("unscopables"),Sj=Array.prototype;null==Sj[Rj]&&mb.f(Sj,Rj,{configurable:!0,value:ec(null)});var lg=function(e){Sj[Rj][e]=!0},Ro=!0;"find"in[]&&Array(1).find((function(){Ro=!1})),ba({target:"Array",proto:!0,forced:Ro},{find:function(e){return Do(this,e,1<arguments.length?arguments[1]:void 0)}}),lg("find");var So=function(e){var t=String(Bb(this)),n="";if(0>(e=rc(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(n+=t);return n};ba({target:"String",proto:!0},{repeat:So});var To=[].indexOf,Uo=!!To&&0>1/[1].indexOf(1,-0),Qw=cf("indexOf");ba({target:"Array",proto:!0,forced:Uo||!Qw},{indexOf:function(e){return Uo?To.apply(this,arguments)||0:zj(this,e,1<arguments.length?arguments[1]:void 0)}});var Rt=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,St=/CrOS/,Tt=/android|ipad|playbook|silk/i;Ae.isMobile=Ae,Ae.default=Ae,ba({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),ba({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),Q.Number.isNaN;var Rw=Lj?{}.toString:function(){return"[object "+ff(this)+"]"};Lj||Wa(Object.prototype,"toString",Rw,{unsafe:!0});var Fh=Q.Promise,gf=function(e,t,n){for(var r in t)Wa(e,r,t[r],n);return e},Vo=Ea("species"),mg=function(e){e=Lc(e);var t=mb.f;ta&&e&&!e[Vo]&&t(e,Vo,{configurable:!0,get:function(){return this}})},tc=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ng=function(e,t){this.stopped=e,this.result=t},Gh=function(e,t,n){var r,i=!(!n||!n.AS_ENTRIES),o=!(!n||!n.IS_ITERATOR),a=!(!n||!n.INTERRUPTED),s=Cd(t,n&&n.that,1+i+a),c=function(e){return u&&Jj(u),new ng(!0,e)};if(t=function(e){return i?(Ia(e),a?s(e[0],e[1],c):s(e[0],e[1])):a?s(e,c):s(e)},o)var u=e;else{if("function"!=typeof(o=jg(e)))throw TypeError("Target is not iterable");if(Kj(o)){for(o=0,n=La(e.length);n>o;o++)if((r=t(e[o]))&&r instanceof ng)return r;return new ng(!1)}u=o.call(e)}for(e=u.next;!(o=e.call(u)).done;){try{r=t(o.value)}catch(e){throw Jj(u),e}if("object"==typeof r&&r&&r instanceof ng)return r}return new ng(!1)},Wo=/(?:iphone|ipod|ipad).*applewebkit/i.test(af),ad="process"==qc(Q.process),Hh=Q.location,Tj=Q.setImmediate,Xo=Q.clearImmediate,Sw=Q.process,Yo=Q.MessageChannel,Uj=Q.Dispatch,Vj=0,og={},Wj=function(e){if(og.hasOwnProperty(e)){var t=og[e];delete og[e],t()}},Xj=function(e){return function(){Wj(e)}},Zo=function(e){Wj(e.data)},$o=function(e){Q.postMessage(e+"",Hh.protocol+"//"+Hh.host)};if(!Tj||!Xo)if(Tj=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return og[++Vj]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},pg(Vj),Vj},Xo=function(e){delete og[e]},ad)var pg=function(e){Sw.nextTick(Xj(e))};else if(Uj&&Uj.now)pg=function(e){Uj.now(Xj(e))};else if(Yo&&!Wo){var ap=new Yo,bp=ap.port2;ap.port1.onmessage=Zo,pg=Cd(bp.postMessage,bp,1)}else Q.addEventListener&&"function"==typeof postMessage&&!Q.importScripts&&Hh&&"file:"!==Hh.protocol&&!ia($o)?(pg=$o,Q.addEventListener("message",Zo,!1)):pg="onreadystatechange"in(th?Xe.createElement("script"):{})?function(e){Nj.appendChild(th?Xe.createElement("script"):{}).onreadystatechange=function(){Nj.removeChild(this),Wj(e)}}:function(e){setTimeout(Xj(e),0)};var Yj=Tj,Tw=/web0s(?!.*chrome)/i.test(af),Uw=Zb.f,cp=Q.MutationObserver||Q.WebKitMutationObserver,dp=Q.document,ep=Q.process,Ih=Q.Promise,fp=Uw(Q,"queueMicrotask"),gp=fp&&fp.value,he,qg;if(!gp){var Kh=function(){var e;for(ad&&(e=ep.domain)&&e.exit();he;){var t=he.fn;he=he.next;try{t()}catch(e){throw he?Jh():qg=void 0,e}}qg=void 0,e&&e.enter()};if(Wo||ad||Tw||!cp||!dp)if(Ih&&Ih.resolve){var Zj=Ih.resolve(void 0);Zj.constructor=Ih;var Vw=Zj.then,Jh=function(){Vw.call(Zj,Kh)}}else Jh=ad?function(){ep.nextTick(Kh)}:function(){Yj.call(Q,Kh)};else{var hp=!0,ip=dp.createTextNode("");new cp(Kh).observe(ip,{characterData:!0}),Jh=function(){ip.data=hp=!hp}}}var jp=gp||function(e){e={fn:e,next:void 0},qg&&(qg.next=e),he||(he=e,Jh()),qg=e},Ww=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Sb(t),this.reject=Sb(n)},ak={f:function(e){return new Ww(e)}},Xw=function(e,t){var n=Q.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},bk=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Yw="object"==typeof window,Zw=Ea("species"),kp=Za.get,$w=Za.set,ax=Za.getterFor("Promise"),ie=Fh&&Fh.prototype,_Tb=Fh,Lh=ie,lp=Q.TypeError,ck=Q.document,dk=Q.process,hf=ak.f,bx=hf,cx=!!(ck&&ck.createEvent&&Q.dispatchEvent),mp="function"==typeof PromiseRejectionEvent,np=!1,rg=Mc("Promise",(function(){var e=wj(_Tb)!==String(_Tb);if(!e&&66===Bd)return!0;if(51<=Bd&&/native code/.test(_Tb))return!1;var t=new _Tb((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[Zw]=n,!(np=t.then((function(){}))instanceof n)||!e&&Yw&&!mp})),dx=rg||!Bh((function(e){_Tb.all(e).catch((function(){}))})),op=function(e){var t;return!(!va(e)||"function"!=typeof(t=e.then))&&t},ek=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;jp((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s=n[o++],c=i?s.ok:s.fail,u=s.resolve,l=s.reject,d=s.domain;try{if(c){if(i||(2===e.rejection&&ex(e),e.rejection=1),!0===c)var f=r;else if(d&&d.enter(),f=c(r),d){d.exit();var p=!0}f===s.promise?l(lp("Promise-chain cycle")):(a=op(f))?a.call(f,u,l):u(f)}else l(r)}catch(e){d&&!p&&d.exit(),l(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&fx(e)}))}},pp=function(e,t,n){var r;if(cx){var i=ck.createEvent("Event");i.promise=t,i.reason=n,i.initEvent(e,!1,!0),Q.dispatchEvent(i)}else i={promise:t,reason:n};!mp&&(r=Q["on"+e])?r(i):"unhandledrejection"===e&&Xw("Unhandled promise rejection",n)},fx=function(e){Yj.call(Q,(function(){var t=e.facade,n=e.value;if(1!==e.rejection&&!e.parent){var r=bk((function(){ad?dk.emit("unhandledRejection",n,t):pp("unhandledrejection",t,n)}));if(e.rejection=ad||1!==e.rejection&&!e.parent?2:1,r.error)throw r.value}}))},ex=function(e){Yj.call(Q,(function(){var t=e.facade;ad?dk.emit("rejectionHandled",t):pp("rejectionhandled",t,e.value)}))},jf=function(e,t,n){return function(r){e(t,r,n)}},kf=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ek(e,!0))},fk=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw lp("Promise can't be resolved itself");var i=op(n);i?jp((function(){var r={done:!1};try{i.call(n,jf(e,r,t),jf(kf,r,t))}catch(n){kf(r,n,t)}})):(t.value=n,t.state=1,ek(t,!1))}catch(n){kf({done:!1},n,t)}}};if(rg){_Tb=function(e){tc(this,_Tb,"Promise"),Sb(e),gk.call(this);var t=kp(this);try{e(jf(fk,t),jf(kf,t))}catch(e){kf(t,e)}},Lh=_Tb.prototype;var gk=function(e){$w(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};gk.prototype=gf(Lh,{then:function(e,t){var n=ax(this),r=hf(de(this,_Tb));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ad?dk.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ek(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var gx=function(){var e=new gk,t=kp(e);this.promise=e,this.resolve=jf(fk,t),this.reject=jf(kf,t)};if(ak.f=hf=function(e){return e===_Tb||e===hx?new gx(e):bx(e)},"function"==typeof Fh&&ie!==Object.prototype){var ix=ie.then;np||(Wa(ie,"then",(function(e,t){var n=this;return new _Tb((function(e,t){ix.call(n,e,t)})).then(e,t)}),{unsafe:!0}),Wa(ie,"catch",Lh.catch,{unsafe:!0}));try{delete ie.constructor}catch(c){}ob&&ob(ie,Lh)}}ba({global:!0,wrap:!0,forced:rg},{Promise:_Tb}),sc(_Tb,"Promise",!1),mg("Promise");var hx=Lc("Promise");ba({target:"Promise",stat:!0,forced:rg},{reject:function(e){var t=hf(this);return t.reject.call(void 0,e),t.promise}}),ba({target:"Promise",stat:!0,forced:rg},{resolve:function(e){if(Ia(this),!va(e)||e.constructor!==this){var t=ak.f(this);(0,t.resolve)(e),e=t.promise}return e}}),ba({target:"Promise",stat:!0,forced:dx},{all:function(e){var t=this,n=hf(t),r=n.resolve,i=n.reject,o=bk((function(){var n=Sb(t.resolve),o=[],a=0,s=1;Gh(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=hf(t),r=n.reject,i=bk((function(){var i=Sb(t.resolve);Gh(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var jx=Math.floor,kx="".replace,lx=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,mx=/\$([$&'`]|\d{1,2})/g,nx=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,c=mx;return void 0!==i&&(i=lb(i),c=lx),kx.call(o,c,(function(o,c){switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":o=i[c.slice(1,-1)];break;default:var u=+c;if(0===u)return o;if(u>s)return 0===(u=jx(u/10))?o:u<=s?void 0===r[u-1]?c.charAt(1):r[u-1]+c.charAt(1):o;o=r[u-1]}return void 0===o?"":o}))},ox=Math.max,px=Math.min;yh("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=Bb(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(t,e,this,r);if(s.done)return s.value}var c=Ia(e);e=String(this),(s="function"==typeof r)||(r=String(r));var u=c.global;if(u){var l=c.unicode;c.lastIndex=0}for(var d=[];;){var f=bf(c,e);if(null===f)break;if(d.push(f),!u)break;""===String(f[0])&&(c.lastIndex=Gj(e,La(c.lastIndex),l))}for(l="",u=c=0;u<d.length;u++){f=d[u];for(var p=String(f[0]),h=ox(px(rc(f.index),e.length),0),v=[],g=1;g<f.length;g++){var A=v,m=f[g];A.push.call(A,void 0===m?m:String(m))}f=f.groups,s?(v=[p].concat(v,h,e),void 0!==f&&v.push(f),f=String(r.apply(void 0,v))):f=nx(p,e,h,v,f,r),h>=c&&(l+=e.slice(c,h)+f,c=h+p.length)}return l+e.slice(c)}]}));var qx=ig("slice"),rx=Ea("species"),sx=[].slice,tx=Math.max;ba({target:"Array",proto:!0,forced:!qx},{slice:function(e,t){var n=Ib(this),r=La(n.length);if(e=Rb(e,r),t=Rb(void 0===t?r:t,r),Dd(n)){var i=n.constructor;if("function"!=typeof i||i!==Array&&!Dd(i.prototype)?va(i)&&null===(i=i[rx])&&(i=void 0):i=void 0,i===Array||void 0===i)return sx.call(n,e,t)}for(i=new(void 0===i?Array:i)(tx(t-e,0)),r=0;e<t;e++,r++)e in n&&ef(i,r,n[e]);return i.length=r,i}});var ux=Za.set,vx=Za.getterFor("Array Iterator"),Fd=Qj(Array,"Array",(function(e,t){ux(this,{type:"Array Iterator",target:Ib(e),index:0,kind:t})}),(function(){var e=vx(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");df.Arguments=df.Array,lg("keys"),lg("values"),lg("entries");var qp="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,lf=function(e){if(void 0===e)return 0;e=rc(e);var t=La(e);if(e!==t)throw RangeError("Wrong length or index");return t},wx=Math.abs,bd=Math.pow,xx=Math.floor,yx=Math.log,zx=Math.LN2,rp=function(e){var t=lb(this),n=La(t.length),r=arguments.length,i=Rb(1<r?arguments[1]:void 0,n);for(n=void 0===(r=2<r?arguments[2]:void 0)?n:Rb(r,n);n>i;)t[i++]=e;return t},Ax=ce.f,Bx=mb.f,mf=Za.get,sp=Za.set,uc=Q.ArrayBuffer,_Ub2=uc,_vc=Q.DataView,Mh=_vc&&_vc.prototype,tp=Object.prototype,Nh=Q.RangeError,up=function(e,t,n){var r,i=Array(n),o=(1<<(n=8*n-t-1))-1,a=o>>1,s=23===t?bd(2,-24)-bd(2,-77):0,c=0>e||0===e&&0>1/e?1:0,u=0;if((e=wx(e))!=e||1/0===e){e=e!=e?1:0;var l=o}else l=xx(yx(e)/zx),1>e*(r=bd(2,-l))&&(l--,r*=2),2<=(e=1<=l+a?e+s/r:e+s*bd(2,1-a))*r&&(l++,r/=2),l+a>=o?(e=0,l=o):1<=l+a?(e=(e*r-1)*bd(2,t),l+=a):(e=e*bd(2,a-1)*bd(2,t),l=0);for(;8<=t;i[u++]=255&e,e/=256,t-=8);for(l=l<<t|e,n+=t;0<n;i[u++]=255&l,l/=256,n-=8);return i[--u]|=128*c,i},vp=function(e,t){var n=e.length,r=8*n-t-1,i=(1<<r)-1,o=i>>1;r-=7,--n;var a=e[n--],s=127&a;for(a>>=7;0<r;s=256*s+e[n],n--,r-=8);var c=s&(1<<-r)-1;for(s>>=-r,r+=t;0<r;c=256*c+e[n],n--,r-=8);if(0===s)s=1-o;else{if(s===i)return c?NaN:a?-1/0:1/0;c+=bd(2,t),s-=o}return(a?-1:1)*c*bd(2,s-t)},wp=function(e){return[255&e]},xp=function(e){return[255&e,e>>8&255]},yp=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},zp=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Cx=function(e){return up(e,23,4)},Dx=function(e){return up(e,52,8)},Oh=function(e,t){Bx(e.prototype,t,{get:function(){return mf(this)[t]}})},Gd=function(e,t,n,r){n=lf(n);var i=mf(e);if(n+t>i.byteLength)throw Nh("Wrong index");return e=mf(i.buffer).bytes,n+=i.byteOffset,t=e.slice(n,n+t),r?t:t.reverse()},Hd=function(e,t,n,r,i,o){n=lf(n);var a=mf(e);if(n+t>a.byteLength)throw Nh("Wrong index");for(e=mf(a.buffer).bytes,n+=a.byteOffset,r=r(+i),i=0;i<t;i++)e[n+i]=r[o?i:t-i-1]};if(qp){if(!ia((function(){uc(1)}))||!ia((function(){new uc(-1)}))||ia((function(){return new uc,new uc(1.5),new uc(NaN),"ArrayBuffer"!=uc.name}))){_Ub2=function(e){return tc(this,_Ub2),new uc(lf(e))};for(var Ex=_Ub2.prototype=uc.prototype,Ap=Ax(uc),Bp=0,hk;Ap.length>Bp;)(hk=Ap[Bp++])in _Ub2||gb(_Ub2,hk,uc[hk]);Ex.constructor=_Ub2}ob&&nc(Mh)!==tp&&ob(Mh,tp);var Ph=new _vc(new _Ub2(2)),Cp=Mh.setInt8;Ph.setInt8(0,2147483648),Ph.setInt8(1,2147483649),!Ph.getInt8(0)&&Ph.getInt8(1)||gf(Mh,{setInt8:function(e,t){Cp.call(this,e,t<<24>>24)},setUint8:function(e,t){Cp.call(this,e,t<<24>>24)}},{unsafe:!0})}else _Ub2=function(e){tc(this,_Ub2,"ArrayBuffer"),e=lf(e),sp(this,{bytes:rp.call(Array(e),0),byteLength:e}),ta||(this.byteLength=e)},_vc=function(e,t,n){tc(this,_vc,"DataView"),tc(e,_Ub2,"DataView");var r=mf(e).byteLength;if(0>(t=rc(t))||t>r)throw Nh("Wrong offset");if(t+(n=void 0===n?r-t:La(n))>r)throw Nh("Wrong length");sp(this,{buffer:e,byteLength:n,byteOffset:t}),ta||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},ta&&(Oh(_Ub2,"byteLength"),Oh(_vc,"buffer"),Oh(_vc,"byteLength"),Oh(_vc,"byteOffset")),gf(_vc.prototype,{getInt8:function(e){return Gd(this,1,e)[0]<<24>>24},getUint8:function(e){return Gd(this,1,e)[0]},getInt16:function(e){var t=Gd(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Gd(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return zp(Gd(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return zp(Gd(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return vp(Gd(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return vp(Gd(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){Hd(this,1,e,wp,t)},setUint8:function(e,t){Hd(this,1,e,wp,t)},setInt16:function(e,t){Hd(this,2,e,xp,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){Hd(this,2,e,xp,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){Hd(this,4,e,yp,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){Hd(this,4,e,yp,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){Hd(this,4,e,Cx,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){Hd(this,8,e,Dx,t,2<arguments.length?arguments[2]:void 0)}});sc(_Ub2,"ArrayBuffer"),sc(_vc,"DataView");var sg={ArrayBuffer:_Ub2,DataView:_vc},ik=sg.ArrayBuffer,Dp=sg.DataView,Ep=ik.prototype.slice,Fx=ia((function(){return!new ik(2).slice(1,void 0).byteLength}));ba({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Fx},{slice:function(e,t){if(void 0!==Ep&&void 0===t)return Ep.call(Ia(this),e);var n=Ia(this).byteLength;e=Rb(e,n),t=Rb(void 0===t?n:t,n),n=new(de(this,ik))(La(t-e));for(var r=new Dp(this),i=new Dp(n),o=0;e<t;)i.setUint8(o++,r.getUint8(e++));return n}});var Gx=mb.f,Qh=Q.Int8Array,jk=Qh&&Qh.prototype,Fp=Q.Uint8ClampedArray,Gp=Fp&&Fp.prototype,Pc=Qh&&nc(Qh),wc=jk&&nc(jk),Hp=Object.prototype,Ip=Hp.isPrototypeOf,Jp=Ea("toStringTag"),kk=Ye("TYPED_ARRAY_TAG"),cd=qp&&!!ob&&"Opera"!==ff(Q.opera),Kp=!1,Vb,Qc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Hx={BigInt64Array:8,BigUint64Array:8},Rh=function(e){return!!va(e)&&(e=ff(e),ha(Qc,e)||ha(Hx,e))};for(Vb in Qc)Q[Vb]||(cd=!1);if((!cd||"function"!=typeof Pc||Pc===Function.prototype)&&(Pc=function(){throw TypeError("Incorrect invocation")},cd))for(Vb in Qc)Q[Vb]&&ob(Q[Vb],Pc);if((!cd||!wc||wc===Hp)&&(wc=Pc.prototype,cd))for(Vb in Qc)Q[Vb]&&ob(Q[Vb].prototype,wc);if(cd&&nc(Gp)!==wc&&ob(Gp,wc),ta&&!ha(wc,Jp))for(Vb in Kp=!0,Gx(wc,Jp,{get:function(){return va(this)?this[kk]:void 0}}),Qc)Q[Vb]&&gb(Q[Vb],kk,Vb);var tg=cd,Lp=Kp&&kk,Ta=function(e){if(Rh(e))return e;throw TypeError("Target is not a typed array")},nf=function(e){if(ob){if(Ip.call(Pc,e))return e}else for(var t in Qc)if(ha(Qc,Vb)){var n=Q[t];if(n&&(e===n||Ip.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Qa=function(e,t,n){if(ta){if(n)for(var r in Qc){var i=Q[r];if(i&&ha(i.prototype,e))try{delete i.prototype[e]}catch(e){}}wc[e]&&!n||Wa(wc,e,n?t:cd&&jk[e]||t)}},Mp=function(e,t,n){var r,i;if(ta){if(ob){if(n)for(r in Qc)if((i=Q[r])&&ha(i,e))try{delete i[e]}catch(e){}if(Pc[e]&&!n)return;try{return Wa(Pc,e,n?t:cd&&Pc[e]||t)}catch(e){}}for(r in Qc)!(i=Q[r])||i[e]&&!n||Wa(i,e,t)}},Np=Pc,ug=wc,Ix=Q.ArrayBuffer,je=Q.Int8Array,lk=!tg||!ia((function(){je(1)}))||!ia((function(){new je(-1)}))||!Bh((function(e){new je,new je(null),new je(1.5),new je(e)}),!0)||ia((function(){return 1!==new je(new Ix(2),1,void 0).length})),Sh=function(e,t){if(0>(e=rc(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},mk=function(e){var t=lb(e),n=arguments.length,r=1<n?arguments[1]:void 0,i=void 0!==r,o=jg(t);if(null!=o&&!Kj(o)){var a=o.call(t),s=a.next;for(t=[];!(o=s.call(a)).done;)t.push(o.value)}for(i&&2<n&&(r=Cd(r,arguments[2],2)),o=La(t.length),a=new(nf(this))(o),n=0;o>n;n++)a[n]=i?r(t[n],n):t[n];return a},Th=function(e,t,n){var r,i;return ob&&"function"==typeof(r=t.constructor)&&r!==n&&va(i=r.prototype)&&i!==n.prototype&&ob(e,i),e},vg=tb((function(e){var t=ce.f,n=Za.get,r=Za.set,i=mb.f,o=Zb.f,a=Math.round,s=Q.RangeError,c=sg.ArrayBuffer,u=sg.DataView,l=function(e,t){var n=0,r=t.length;for(e=new(nf(e))(r);r>n;)e[n]=t[n++];return e},d=function(e,t){i(e,t,{get:function(){return n(this)[t]}})},f=function(e){var t;return e instanceof c||"ArrayBuffer"==(t=ff(e))||"SharedArrayBuffer"==t},p=function(e,t){return Rh(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},h=function(e,t){return p(e,t=Kc(t,!0))?Jc(2,e[t]):o(e,t)},v=function(e,t,n){return!(p(e,t=Kc(t,!0))&&va(n)&&ha(n,"value"))||ha(n,"get")||ha(n,"set")||n.configurable||ha(n,"writable")&&!n.writable||ha(n,"enumerable")&&!n.enumerable?i(e,t,n):(e[t]=n.value,e)};ta?(tg||(Zb.f=h,mb.f=v,d(ug,"buffer"),d(ug,"byteOffset"),d(ug,"byteLength"),d(ug,"length")),ba({target:"Object",stat:!0,forced:!tg},{getOwnPropertyDescriptor:h,defineProperty:v}),e.exports=function(e,o,d){var p=e.match(/\d+$/)[0]/8,h=e+(d?"Clamped":"")+"Array",v="get"+e,g="set"+e,A=Q[h],m=A;e=m&&m.prototype;var E={},y=function(e,t){i(e,t,{get:function(){var e=n(this);return e.view[v](t*p+e.byteOffset,!0)},set:function(e){var r=n(this);d&&(e=0>(e=a(e))?0:255<e?255:255&e),r.view[g](t*p+r.byteOffset,e,!0)},enumerable:!0})};tg?lk&&(m=o((function(e,t,n,r){return tc(e,m,h),Th(va(t)?f(t)?void 0!==r?new A(t,Sh(n,p),r):void 0!==n?new A(t,Sh(n,p)):new A(t):Rh(t)?l(m,t):mk.call(m,t):new A(lf(t)),e,m)})),ob&&ob(m,Np),ee(t(A),(function(e){e in m||gb(m,e,A[e])})),m.prototype=e):(m=o((function(e,t,n,i){tc(e,m,h);var o=0,a=0;if(va(t)){if(!f(t))return Rh(t)?l(m,t):mk.call(m,t);var d=t;if(a=Sh(n,p),t=t.byteLength,void 0===i){if(t%p)throw s("Wrong length");if(0>(i=t-a))throw s("Wrong length")}else if((i=La(i)*p)+a>t)throw s("Wrong length");t=i/p}else t=lf(t),d=new c(i=t*p);for(r(e,{buffer:d,byteOffset:a,byteLength:i,length:t,view:new u(d)});o<t;)y(e,o++)})),ob&&ob(m,Np),e=m.prototype=ec(ug)),e.constructor!==m&&gb(e,"constructor",m),Lp&&gb(e,Lp,h),E[h]=m,ba({global:!0,forced:m!=A,sham:!tg},E),"BYTES_PER_ELEMENT"in m||gb(m,"BYTES_PER_ELEMENT",p),"BYTES_PER_ELEMENT"in e||gb(e,"BYTES_PER_ELEMENT",p),mg(h)}):e.exports=function(){}}));vg("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Jx=Math.min,Kx=[].copyWithin||function(e,t){var n=lb(this),r=La(n.length),i=Rb(e,r),o=Rb(t,r),a=2<arguments.length?arguments[2]:void 0;for(r=Jx((void 0===a?r:Rb(a,r))-o,r-i),a=1,o<i&&i<o+r&&(a=-1,o+=r-1,i+=r-1);0<r--;)o in n?n[i]=n[o]:delete n[i],i+=a,o+=a;return n};Qa("copyWithin",(function(e,t){return Kx.call(Ta(this),e,t,2<arguments.length?arguments[2]:void 0)})),Qa("every",(function(e){return sw(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("fill",(function(e){return rp.apply(Ta(this),arguments)})),Qa("filter",(function(e){var t=Co(Ta(this),e,1<arguments.length?arguments[1]:void 0),n=de(this,this.constructor),r=0,i=t.length;for(n=new(nf(n))(i);i>r;)n[r]=t[r++];return n})),Qa("find",(function(e){return Do(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("findIndex",(function(e){return tw(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("forEach",(function(e){ee(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("includes",(function(e){return ko(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("indexOf",(function(e){return zj(Ta(this),e,1<arguments.length?arguments[1]:void 0)}));var Op=Ea("iterator"),Pp=Q.Uint8Array,Lx=Fd.values,Mx=Fd.keys,Nx=Fd.entries,nk=Pp&&Pp.prototype[Op],Qp=!!nk&&("values"==nk.name||null==nk.name),Rp=function(){return Lx.call(Ta(this))};Qa("entries",(function(){return Nx.call(Ta(this))})),Qa("keys",(function(){return Mx.call(Ta(this))})),Qa("values",Rp,!Qp),Qa(Op,Rp,!Qp);var Ox=[].join;Qa("join",(function(e){return Ox.apply(Ta(this),arguments)}));var Px=Math.min,ok=[].lastIndexOf,Sp=!!ok&&0>1/[1].lastIndexOf(1,-0),Qx=cf("lastIndexOf"),Rx=Sp||!Qx?function(e){if(Sp)return ok.apply(this,arguments)||0;var t=Ib(this),n=La(t.length),r=n-1;for(1<arguments.length&&(r=Px(r,rc(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:ok;Qa("lastIndexOf",(function(e){return Rx.apply(Ta(this),arguments)})),Qa("map",(function(e){return Bo(Ta(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(nf(de(e,e.constructor)))(t)}))}));var Tp=function(e){return function(t,n,r,i){Sb(n),t=lb(t);var o=dg(t),a=La(t.length),s=e?a-1:0,c=e?-1:1;if(2>r)for(;;){if(s in o){i=o[s],s+=c;break}if(s+=c,e?0>s:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=s:a>s;s+=c)s in o&&(i=n(i,o[s],s,t));return i}},Up=Tp(!1),Sx=Tp(!0);Qa("reduce",(function(e){return Up(Ta(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)})),Qa("reduceRight",(function(e){return Sx(Ta(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}));var Tx=Math.floor;Qa("reverse",(function(){for(var e,t=Ta(this).length,n=Tx(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var Ux=ia((function(){new Int8Array(1).set({})}));Qa("set",(function(e){Ta(this);var t=Sh(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=lb(e),i=La(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),Ux);var Vx=[].slice,Wx=ia((function(){new Int8Array(1).slice()}));Qa("slice",(function(e,t){e=Vx.call(Ta(this),e,t);var n=de(this,this.constructor);t=0;var r=e.length;for(n=new(nf(n))(r);r>t;)n[t]=e[t++];return n}),Wx),Qa("some",(function(e){return rw(Ta(this),e,1<arguments.length?arguments[1]:void 0)}));var Xx=[].sort;Qa("sort",(function(e){return Xx.call(Ta(this),e)})),Qa("subarray",(function(e,t){var n=Ta(this),r=n.length;return e=Rb(e,r),new(de(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,La((void 0===t?r:Rb(t,r))-e))}));var Uh=Q.Int8Array,Vp=[].toLocaleString,Yx=[].slice,Zx=!!Uh&&ia((function(){Vp.call(new Uh(1))})),$x=ia((function(){return[1,2].toLocaleString()!=new Uh([1,2]).toLocaleString()}))||!ia((function(){Uh.prototype.toLocaleString.call([1,2])}));Qa("toLocaleString",(function(){return Vp.apply(Zx?Yx.call(Ta(this)):Ta(this),arguments)}),$x);var Wp=Q.Uint8Array,ay=Wp&&Wp.prototype||{},Vh=[].toString,by=[].join;ia((function(){Vh.call({})}))&&(Vh=function(){return by.call(this)}),Qa("toString",Vh,ay.toString!=Vh);var Xp=sg.ArrayBuffer;ba({global:!0,forced:Q.ArrayBuffer!==Xp},{ArrayBuffer:Xp}),mg("ArrayBuffer");var cy=mb.f,pk=Function.prototype,dy=pk.toString,ey=/^\s*function ([^ (]*)/;!ta||"name"in pk||cy(pk,"name",{configurable:!0,get:function(){try{return dy.call(this).match(ey)[1]}catch(e){return""}}});var Yp=RegExp.prototype,Zp=Yp.toString,fy=ia((function(){return"/a/b"!=Zp.call({source:"a",flags:"b"})})),gy="toString"!=Zp.name;(fy||gy)&&Wa(RegExp.prototype,"toString",(function(){var e=Ia(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Yp)?Aj.call(e):n)}),{unsafe:!0});var hy=ig("splice"),iy=Math.max,jy=Math.min;ba({target:"Array",proto:!0,forced:!hy},{splice:function(e,t){var n,r,i=lb(this),o=La(i.length),a=Rb(e,o),s=arguments.length;if(0===s?s=n=0:1===s?(s=0,n=o-a):(s-=2,n=jy(iy(rc(t),0),o-a)),9007199254740991<o+s-n)throw TypeError("Maximum allowed length exceeded");var c=Ah(i,n);for(r=0;r<n;r++){var u=a+r;u in i&&ef(c,r,i[u])}if(c.length=n,s<n){for(r=a;r<o-n;r++){var l=r+s;(u=r+n)in i?i[l]=i[u]:delete i[l]}for(r=o;r>o-n+s;r--)delete i[r-1]}else if(s>n)for(r=o-n;r>a;r--)l=r+s-1,(u=r+n-1)in i?i[l]=i[u]:delete i[l];for(r=0;r<s;r++)i[r+a]=arguments[r+2];return i.length=o-n+s,c}});var qk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},rk=Ea("iterator"),$p=Ea("toStringTag"),sk=Fd.values,Wh;for(Wh in qk){var aq=Q[Wh],dd=aq&&aq.prototype;if(dd){if(dd[rk]!==sk)try{gb(dd,rk,sk)}catch(c){dd[rk]=sk}if(dd[$p]||gb(dd,$p,Wh),qk[Wh])for(var of in Fd)if(dd[of]!==Fd[of])try{gb(dd,of,Fd[of])}catch(c){dd[of]=Fd[of]}}}var bq=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};yh("search",1,(function(e,t,n){return[function(t){var n=Bb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;e=Ia(e);var i=String(this);return r=e.lastIndex,bq(r,0)||(e.lastIndex=0),i=bf(e,i),bq(e.lastIndex,r)||(e.lastIndex=r),null===i?-1:i.index}]})),tb((function(e){var t,n;t="undefined"!=typeof self?self:Va,n=function(e){function t(e){return btoa(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function r(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function i(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function o(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=o(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=o(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function a(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function s(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(i(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach((function(n){n in e&&(t[n]=e[n])}));break;default:throw new TypeError("Unsupported key type")}return t}function c(e){return e=s(e),y&&(e.extractable=e.ext,delete e.ext),r(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}function u(e){var n=l(e),r=!1;if("1.2.840.113549.1.1.1"!==(2<n.length&&(r=!0,n.shift()),e={ext:!0},n[0][0]))throw new TypeError("Unsupported key type");var o="n e d p q dp dq qi".split(" ");for(n=l(n[1]),r&&n.shift(),r=0;r<n.length;r++)n[r][0]||(n[r]=n[r].subarray(1)),e[o[r]]=t(i(n[r]));return e.kty="RSA",e}function l(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),2>t.end-t.pos||t.end>e.length)throw new RangeError("Malformed DER");var n=e[t.pos++],r=e[t.pos++];if(128<=r){if(r&=127,t.end-t.pos<r)throw new RangeError("Malformed DER");for(var o=0;r--;)o<<=8,o|=e[t.pos++];r=o}if(t.end-t.pos<r)throw new RangeError("Malformed DER");switch(n){case 2:n=e.subarray(t.pos,t.pos+=r);break;case 3:if(e[t.pos++])throw Error("Unsupported bit string");r--;case 4:n=new Uint8Array(e.subarray(t.pos,t.pos+=r)).buffer;break;case 5:n=null;break;case 6:if(!((e=btoa(i(e.subarray(t.pos,t.pos+=r))))in C))throw Error("Unsupported OBJECT ID "+e);n=C[e];break;case 48:for(n=[],r=t.pos+r;t.pos<r;)n.push(l(e,t));break;default:throw Error("Unsupported DER tag 0x"+n.toString(16))}return n}function d(e,t){t||(t=[]);var n=t.length+2;if(t.push(0,0),e instanceof Uint8Array)for(var i=2,o=e.length,a=0;a<o;a++)t.push(e[a]);else if(e instanceof ArrayBuffer)for(i=4,o=e.byteLength,e=new Uint8Array(e),a=0;a<o;a++)t.push(e[a]);else if(null===e)i=5,o=0;else if("string"==typeof e&&e in _)for(i=6,o=(e=r(atob(_[e]))).length,a=0;a<o;a++)t.push(e[a]);else if(e instanceof Array){for(a=0;a<e.length;a++)d(e[a],t);i=48,o=t.length-n}else{if(!("object"===oa(e)&&3===e.tag&&e.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+e);for(i=3,o=(e=new Uint8Array(e.value)).byteLength,t.push(0),a=0;a<o;a++)t.push(e[a]);o++}if(128<=o){for(a=o,o=4,t.splice(n,0,a>>24&255,a>>16&255,a>>8&255,255&a);1<o&&!(a>>24);)a<<=8,o--;4>o&&t.splice(n,4-o),o|=128}return t.splice(n-2,2,i,o),t}function f(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function p(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function h(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var v=e.crypto||e.msCrypto;if(v){var g=v.subtle||v.webkitSubtle;if(g){var A=e.Crypto||v.constructor||Object,m=e.SubtleCrypto||g.constructor||Object;e.CryptoKey||e.Key;var E=-1<e.navigator.userAgent.indexOf("Edge/"),y=!!e.msCrypto&&!E,b=!v.subtle&&!!v.webkitSubtle;if(y||b){var C={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},_={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var t=g[e];g[e]=function(i,l,d){var A=[].slice.call(arguments);switch(e){case"generateKey":var m=o(i),E=l,C=d;break;case"importKey":m=o(d),E=A[3],C=A[4],"jwk"===i&&((l=s(l)).alg||(l.alg=a(m)),l.key_ops||(l.key_ops="oct"!==l.kty?"d"in l?C.filter(h):C.filter(p):C.slice()),A[1]=c(l));break;case"unwrapKey":m=A[4],E=A[5],C=A[6],A[2]=d._key}if("generateKey"===e&&"HMAC"===m.name&&m.hash)return m.length=m.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[m.hash.name],g.importKey("raw",v.getRandomValues(new Uint8Array(m.length+7>>3)),m,E,C);if(b&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===m.name&&(!m.modulusLength||2048<=m.modulusLength))return(i=o(i)).name="RSAES-PKCS1-v1_5",delete i.hash,g.generateKey(i,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([g.exportKey("jwk",e.publicKey),g.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=a(m),e[0].key_ops=C.filter(p),e[1].key_ops=C.filter(h),Promise.all([g.importKey("jwk",e[0],m,!0,e[0].key_ops),g.importKey("jwk",e[1],m,E,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((b||y&&"SHA-1"===(m.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===m.name&&"oct"===l.kty)return g.importKey("raw",r(n(l.k)),d,A[3],A[4]);if(b&&"importKey"===e&&("spki"===i||"pkcs8"===i))return g.importKey("jwk",u(l),d,A[3],A[4]);if(y&&"unwrapKey"===e)return g.decrypt(A[3],d,l).then((function(e){return g.importKey(i,e,A[4],A[5],A[6])}));try{var _=t.apply(g,A)}catch(e){return Promise.reject(e)}return y&&(_=new Promise((function(e,t){_.onabort=_.onerror=function(e){t(e)},_.oncomplete=function(t){e(t.target.result)}}))),_=_.then((function(e){return"HMAC"!==m.name||m.length||(m.length=8*e.algorithm.length),0==m.name.search("RSA")&&(m.modulusLength||(m.modulusLength=(e.publicKey||e).algorithm.modulusLength),m.publicExponent||(m.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e.publicKey&&e.privateKey?{publicKey:new f(e.publicKey,m,E,C.filter(p)),privateKey:new f(e.privateKey,m,E,C.filter(h))}:new f(e,m,E,C)}))}})),["exportKey","wrapKey"].forEach((function(e){var o=g[e];g[e]=function(c,u,l){var f=[].slice.call(arguments);switch(e){case"exportKey":f[1]=u._key;break;case"wrapKey":f[1]=u._key,f[2]=l._key}if((b||y&&"SHA-1"===(u.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===c&&"HMAC"===u.algorithm.name&&(f[0]="raw"),!b||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(f[0]="jwk"),y&&"wrapKey"===e)return g.exportKey(c,u).then((function(e){return"jwk"===c&&(e=r(unescape(encodeURIComponent(JSON.stringify(s(e)))))),g.encrypt(f[3],l,e)}));try{var v=o.apply(g,f)}catch(e){return Promise.reject(e)}return y&&(v=new Promise((function(e,t){v.onabort=v.onerror=function(e){t(e)},v.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===c&&(v=v.then((function(e){return(b||y&&"SHA-1"===(u.algorithm.hash||{}).name)&&"HMAC"===u.algorithm.name?{kty:"oct",alg:a(u.algorithm),key_ops:u.usages.slice(),ext:!0,k:t(i(e))}:((e=s(e)).alg||(e.alg=a(u.algorithm)),e.key_ops||(e.key_ops="public"===u.type?u.usages.filter(p):"private"===u.type?u.usages.filter(h):u.usages.slice()),e)}))),!b||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(v=v.then((function(e){var t=[["",null]],i=!1;if("RSA"!==(e=s(e)).kty)throw new TypeError("Unsupported key type");for(var o="n e d p q dp dq qi".split(" "),a=[],c=0;c<o.length&&o[c]in e;c++){var u=a[c]=r(n(e[o[c]]));128&u[0]&&(a[c]=new Uint8Array(u.length+1),a[c].set(u,1))}return 2<a.length&&(i=!0,a.unshift(new Uint8Array([0]))),t[0][0]="1.2.840.113549.1.1.1",t.push(new Uint8Array(d(a)).buffer),i?t.unshift(new Uint8Array([0])):t[1]={tag:3,value:t[1]},new Uint8Array(d(t)).buffer}))),v}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=g[e];g[e]=function(n,r,i,a){if(y&&(!i.byteLength||a&&!a.byteLength))throw Error("Empty input is not allowed");var s=[].slice.call(arguments),c=o(n);if(!y||"sign"!==e&&"verify"!==e||"RSASSA-PKCS1-v1_5"!==n&&"HMAC"!==n||(s[0]={name:n}),y&&r.algorithm.hash&&(s[0].hash=s[0].hash||r.algorithm.hash),y&&"decrypt"===e&&"AES-GCM"===c.name){var u=n.tagLength>>3;s[2]=(i.buffer||i).slice(0,i.byteLength-u),n.tag=(i.buffer||i).slice(i.byteLength-u)}y&&"AES-GCM"===c.name&&void 0===s[0].tagLength&&(s[0].tagLength=128),s[1]=r._key;try{var l=t.apply(g,s)}catch(e){return Promise.reject(e)}return y&&(l=new Promise((function(t,n){l.onabort=l.onerror=function(e){n(e)},l.oncomplete=function(n){if(n=n.target.result,"encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,i=n.tag;(n=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.byteLength),n=n.buffer}t(n)}}))),l}})),y){var I=g.digest;g.digest=function(e,t){if(!t.byteLength)throw Error("Empty input is not allowed");try{var n=I.call(g,e,t)}catch(e){return Promise.reject(e)}return n=new Promise((function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}}))},e.crypto=Object.create(v,{getRandomValues:{value:function(e){return v.getRandomValues(e)}},subtle:{value:g}}),e.CryptoKey=f}b&&(v.subtle=g,e.Crypto=A,e.SubtleCrypto=m,e.CryptoKey=f)}}}},e.exports?e.exports=n(t):n(t)})),function(e){e.console||(e.console={}),e=e.console;for(var t,n=function(){},r=["memory"],i="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");t=r.pop();)e[t]||(e[t]={});for(;t=i.pop();)e[t]||(e[t]=n)}("undefined"==typeof window?Va:window),ba({target:"Object",stat:!0},{setPrototypeOf:ob});var ky=ia((function(){nc(1)}));ba({target:"Object",stat:!0,forced:ky,sham:!Io},{getPrototypeOf:function(e){return nc(lb(e))}});var cq=[].slice,tk={},ly=Function.bind||function(e){var t=Sb(this),n=cq.call(arguments,1),r=function r(){var i=n.concat(cq.call(arguments));if(this instanceof r){var o=i.length;if(!(o in tk)){for(var a=[],s=0;s<o;s++)a[s]="a["+s+"]";tk[o]=Function("C,a","return new C("+a.join(",")+")")}i=tk[o](t,i)}else i=t.apply(e,i);return i};return va(t.prototype)&&(r.prototype=t.prototype),r},uk=Lc("Reflect","construct"),dq=ia((function(){function e(){}return!(uk((function(){}),[],e)instanceof e)})),eq=!ia((function(){uk((function(){}))})),fq=dq||eq;ba({target:"Reflect",stat:!0,forced:fq,sham:fq},{construct:function(e,t){Sb(e),Ia(t);var n=3>arguments.length?e:Sb(arguments[2]);if(eq&&!dq)return uk(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}return(n=[null]).push.apply(n,t),new(ly.apply(e,n))}n=n.prototype,n=ec(va(n)?n:Object.prototype);var r=Function.apply.call(e,n,t);return va(r)?r:n}}),ba({target:"Reflect",stat:!0},{get:vm});var gq=Zb.f,my=ia((function(){gq(1)}));ba({target:"Object",stat:!0,forced:!ta||my,sham:!ta},{getOwnPropertyDescriptor:function(e,t){return gq(Ib(e),t)}});var hq=ce.f,ny={}.toString,iq="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vk=function(e){if(iq&&"[object Window]"==ny.call(e))try{var t=hq(e)}catch(e){t=iq.slice()}else t=hq(Ib(e));return t},jq={f:Ea},oy=mb.f,Xh=function(e){var t=Q.Symbol||(Q.Symbol={});ha(t,e)||oy(t,e,{value:jq.f(e)})},Jb=uh("hidden"),kq=Ea("toPrimitive"),py=Za.set,lq=Za.getterFor("Symbol"),fc=Object.prototype,_Kb=Q.Symbol,wg=Lc("JSON","stringify"),mq=Zb.f,Id=mb.f,nq=vk,qy=cg,ed=zd("symbols"),xg=zd("op-symbols"),wk=zd("string-to-symbol-registry"),xk=zd("symbol-to-string-registry"),ry=zd("wks"),yk=Q.QObject,zk=!yk||!yk.prototype||!yk.prototype.findChild,Ak=ta&&ia((function(){return 7!=ec(Id({},"a",{get:function(){return Id(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=mq(fc,t);r&&delete fc[t],Id(e,t,n),r&&e!==fc&&Id(fc,t,r)}:Id,Bk=function(e,t){var n=ed[e]=ec(_Kb.prototype);return py(n,{type:"Symbol",tag:e,description:t}),ta||(n.description=t),n},Ck=to?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof _Kb},Yh=function e(t,n,r){return t===fc&&e(xg,n,r),Ia(t),n=Kc(n,!0),Ia(r),ha(ed,n)?(r.enumerable?(ha(t,Jb)&&t[Jb][n]&&(t[Jb][n]=!1),r=ec(r,{enumerable:Jc(0,!1)})):(ha(t,Jb)||Id(t,Jb,Jc(1,{})),t[Jb][n]=!0),Ak(t,n,r)):Id(t,n,r)},oq=function(e,t){Ia(e);var n=Ib(t);return t=$c(n).concat(Dk(n)),ee(t,(function(t){ta&&!Ek.call(n,t)||Yh(e,t,n[t])})),e},Ek=function(e){e=Kc(e,!0);var t=qy.call(this,e);return!(this===fc&&ha(ed,e)&&!ha(xg,e))&&(!(t||!ha(this,e)||!ha(ed,e)||ha(this,Jb)&&this[Jb][e])||t)},pq=function(e,t){if(e=Ib(e),t=Kc(t,!0),e!==fc||!ha(ed,t)||ha(xg,t)){var n=mq(e,t);return!n||!ha(ed,t)||ha(e,Jb)&&e[Jb][t]||(n.enumerable=!0),n}},qq=function(e){e=nq(Ib(e));var t=[];return ee(e,(function(e){ha(ed,e)||ha(Ze,e)||t.push(e)})),t},Dk=function(e){var t=e===fc;e=nq(t?xg:Ib(e));var n=[];return ee(e,(function(e){!ha(ed,e)||t&&!ha(fc,e)||n.push(ed[e])})),n};if(Oc||(_Kb=function(){if(this instanceof _Kb)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Ye(e),n=function e(n){this===fc&&e.call(xg,n),ha(this,Jb)&&ha(this[Jb],t)&&(this[Jb][t]=!1),Ak(this,t,Jc(1,n))};return ta&&zk&&Ak(fc,t,{configurable:!0,set:n}),Bk(t,e)},Wa(_Kb.prototype,"toString",(function(){return lq(this).tag})),Wa(_Kb,"withoutSetter",(function(e){return Bk(Ye(e),e)})),cg=Ek,mb.f=Yh,Zb.f=pq,ce.f=vk=qq,eg.f=Dk,jq.f=function(e){return Bk(Ea(e),e)},ta&&(Id(_Kb.prototype,"description",{configurable:!0,get:function(){return lq(this).description}}),Wa(fc,"propertyIsEnumerable",Ek,{unsafe:!0}))),ba({global:!0,wrap:!0,forced:!Oc,sham:!Oc},{Symbol:_Kb}),ee($c(ry),(function(e){Xh(e)})),ba({target:"Symbol",stat:!0,forced:!Oc},{for:function(e){if(e=String(e),ha(wk,e))return wk[e];var t=_Kb(e);return wk[e]=t,xk[t]=e,t},keyFor:function(e){if(!Ck(e))throw TypeError(e+" is not a symbol");if(ha(xk,e))return xk[e]},useSetter:function(){zk=!0},useSimple:function(){zk=!1}}),ba({target:"Object",stat:!0,forced:!Oc,sham:!ta},{create:function(e,t){return void 0===t?ec(e):oq(ec(e),t)},defineProperty:Yh,defineProperties:oq,getOwnPropertyDescriptor:pq}),ba({target:"Object",stat:!0,forced:!Oc},{getOwnPropertyNames:qq,getOwnPropertySymbols:Dk}),ba({target:"Object",stat:!0,forced:ia((function(){eg.f(1)}))},{getOwnPropertySymbols:function(e){return eg.f(lb(e))}}),wg){var sy=!Oc||ia((function(){var e=_Kb();return"[null]"!=wg([e])||"{}"!=wg({a:e})||"{}"!=wg(Object(e))}));ba({target:"JSON",stat:!0,forced:sy},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(va(t)||void 0!==e)&&!Ck(e))return Dd(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Ck(t))return t}),i[1]=t,wg.apply(null,i)}})}_Kb.prototype[kq]||gb(_Kb.prototype,kq,_Kb.prototype.valueOf),sc(_Kb,"Symbol"),Ze[Jb]=!0;var ty=mb.f,fd=Q.Symbol;if(ta&&"function"==typeof fd&&(!("description"in fd.prototype)||void 0!==fd().description)){var rq={},yg=function e(){var t=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new fd(t):void 0===t?fd():fd(t);return""===t&&(rq[n]=!0),n};no(yg,fd);var Fk=yg.prototype=fd.prototype;Fk.constructor=yg;var uy=Fk.toString,vy="Symbol(test)"==String(fd("test")),wy=/^Symbol\((.*)\)[^)]+$/;ty(Fk,"description",{configurable:!0,get:function(){var e=va(this)?this.valueOf():this,t=uy.call(e);return ha(rq,e)?"":""===(e=vy?t.slice(7,-1):t.replace(wy,"$1"))?void 0:e}}),ba({global:!0,forced:!0},{Symbol:yg})}Xh("toStringTag"),sc(Q.JSON,"JSON",!0),sc(Math,"Math",!0),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}var s=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=0,r=(e=this.listeners[e]).length;n<r;n++)if(e[n].callback===t){e.splice(n,1);break}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),c=function(t){function c(){e(this,c);var t=u.call(this);return t.listeners||s.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,t);var u=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(n,arguments,i)}else n=n.apply(this,arguments);return!n||"object"!==oa(n)&&"function"!=typeof n?o(this):n}}(c);return n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),a(r(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(s),u=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){try{var e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(u.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var t=!0}else t="function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController;t&&(e.AbortController=u,e.AbortSignal=c)}("undefined"!=typeof self?self:Va)}();var xy=Math.floor,yy=Math.log,zy=Math.LOG2E;ba({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-xy(yy(e+.5)*zy):32}});var Ay=Math.log,By=Math.LN2,Vt=Math.clz32||function(e){return 31-Ay(e>>>0)/By|0},Td=String.fromCharCode,sq={}.toString,Gk=window.Uint8Array,Hk=Gk||Array,Cy=sq.call((window.ArrayBuffer||Hk).prototype),Ik;wm.prototype.decode=function(e){if(e=e&&e.buffer||e,sq.call(e)!==Cy)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var t="",n=0,r=0|(e=Gk?new Hk(e):e).length;n<r;n=n+32768|0)t+=Td.apply(0,e[Gk?"slice":"subarray"](n,n+32768|0));return t.replace(/[\xc0-\xff][\x80-\xbf]*/g,Ut)},window.TextDecoder||(window.TextDecoder=wm),xm.prototype.encode=function(e){for(var t=0|(e=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,Wt)).length,n=new Hk(t),r=0;r<t;r=r+1|0)n[r]=e.charCodeAt(r);return n},window.TextEncoder||(window.TextEncoder=xm),function(e){var t,n,r,i,o,a,s,c,u,l,d,f;(n=t||(t={})).LOGIN="LOGIN",n.LOGIN_SUCCESS="LOGIN_SUCCESS",n.LOGIN_FAILURE="LOGIN_FAILURE",n.LOGIN_TIMEOUT="LOGIN_TIMEOUT",n.INTERRUPTED="INTERRUPTED",n.LOGOUT="LOGOUT",n.BANNED_BY_SERVER="BANNED_BY_SERVER",n.REMOTE_LOGIN="REMOTE_LOGIN",n.TOKEN_EXPIRED="TOKEN_EXPIRED",e.ConnectionChangeReason=t,function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.RECONNECTING="RECONNECTING",e.ABORTED="ABORTED"}(r||(r={})),e.ConnectionState=r,function(e){e.IDLE="IDLE",e.SENT_TO_REMOTE="SENT_TO_REMOTE",e.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",e.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",e.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(i||(i={})),e.LocalInvitationState=i,function(e){e.INVITATION_RECEIVED="INVITATION_RECEIVED",e.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",e.REFUSED="REFUSED",e.ACCEPTED="ACCEPTED",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(o||(o={})),e.RemoteInvitationState=o,function(e){e.UNKNOWN="UNKNOWN",e.PEER_NO_RESPONSE="PEER_NO_RESPONSE",e.INVITATION_EXPIRE="INVITATION_EXPIRE",e.PEER_OFFLINE="PEER_OFFLINE",e.NOT_LOGGEDIN="NOT_LOGGEDIN"}(a||(a={})),e.LocalInvitationFailureReason=a,function(e){e.UNKNOWN="UNKNOWN",e.PEER_OFFLINE="PEER_OFFLINE",e.ACCEPT_FAILURE="ACCEPT_FAILURE",e.INVITATION_EXPIRE="INVITATION_EXPIRE"}(s||(s={})),e.RemoteInvitationFailureReason=s,function(e){e.ONLINE="ONLINE",e.UNREACHABLE="UNREACHABLE",e.OFFLINE="OFFLINE"}(c||(c={})),e.PeerOnlineState=c,(u||(u={})).ONLINE_STATUS="ONLINE_STATUS",e.PeerSubscriptionOption=u,function(e){e.TEXT="TEXT",e.RAW="RAW"}(l||(l={})),e.MessageType=l,function(e){e.CN="CN",e.NA="NA",e.EU="EU",e.AS="AS",e.JP="JP",e.IN="IN",e.GLOB="GLOB",e.OC="OC",e.SA="SA",e.AF="AF",e.OVS="OVS"}(d||(d={})),e.LegacyAreaCode=d,function(e){e.GLOBAL="GLOBAL",e.INDIA="INDIA",e.JAPAN="JAPAN",e.ASIA="ASIA",e.EUROPE="EUROPE",e.CHINA="CHINA",e.NORTH_AMERICA="NORTH_AMERICA"}(f||(f={})),e.AreaCode=f}(Ik||(Ik={}));var qa=Ik;ba({target:"Array",proto:!0},{includes:function(e){return ko(this,e,1<arguments.length?arguments[1]:void 0)}}),lg("includes");var Jk=function(e){if(Fj(e))throw TypeError("The method doesn't accept regular expressions");return e},Dy=Ea("match"),Kk=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Dy]=!1,"/./"[e](t)}catch(e){}}return!1};ba({target:"String",proto:!0,forced:!Kk("includes")},{includes:function(e){return!!~String(Bb(this)).indexOf(Jk(e),1<arguments.length?arguments[1]:void 0)}});var xc={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};Xh("iterator"),Xh("asyncIterator");var Lk=cf("forEach")?[].forEach:function(e){return ee(this,e,1<arguments.length?arguments[1]:void 0)},tq;for(tq in qk){var uq=Q[tq],Zh=uq&&uq.prototype;if(Zh&&Zh.forEach!==Lk)try{gb(Zh,"forEach",Lk)}catch(c){Zh.forEach=Lk}}var Ey=[].reverse,vq=[1,2];ba({target:"Array",proto:!0,forced:String(vq)===String(vq.reverse())},{reverse:function(){return Dd(this)&&(this.length=this.length),Ey.call(this)}});var M=tb((function(e){e=function(e){function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,o){return t=Object.create((t&&t.prototype instanceof i?t:i).prototype),o=new f(o||[]),t._invoke=function(e,t,n){var i=C;return function(o,a){if(i===I)throw Error("Generator is already running");if(i===w){if("throw"===o)throw a;return h()}for(n.method=o,n.arg=a;;){if((o=n.delegate)&&(o=u(o,n))){if(o===S)continue;return o}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===C)throw i=w,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);if(i=I,"normal"===(o=r(e,t,n)).type){if(i=n.done?w:_,o.arg===S)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(i=w,n.method="throw",n.arg=o.arg)}}}(e,n,o),t}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach((function(n){t(e,n,(function(e){return this._invoke(n,e)}))}))}function c(e,t){function n(i,o,a,s){if("throw"!==(i=r(e[i],e,o)).type){var c=i.arg;return(i=c.value)&&"object"===oa(i)&&A.call(i,"__await")?t.resolve(i.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(i).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(i.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function u(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,u(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}return"throw"===(n=r(n,e.iterator,t.arg)).type?(t.method="throw",t.arg=n.arg,t.delegate=null,S):(n=n.arg)?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,S):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function p(e){if(e){var t=e[E];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1;return(t=function t(){for(;++n<e.length;)if(A.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t}).next=t}}return{next:h}}function h(){return{value:v,done:!0}}var v,g=Object.prototype,A=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},E=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",b=m.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var C="suspendedStart",_="suspendedYield",I="executing",w="completed",S={};t(m={},E,(function(){return this}));var T=Object.getPrototypeOf;(T=T&&T(T(p([]))))&&T!==g&&A.call(T,E)&&(m=T);var R=a.prototype=i.prototype=Object.create(m);return o.prototype=a,t(R,"constructor",a),t(a,"constructor",o),o.displayName=t(a,b,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,t(e,b,"GeneratorFunction")),e.prototype=Object.create(R),e},e.awrap=function(e){return{__await:e}},s(c.prototype),t(c.prototype,y,(function(){return this})),e.AsyncIterator=c,e.async=function(t,r,i,o,a){void 0===a&&(a=Promise);var s=new c(n(t,r,i,o),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},s(R),t(R,b,"Generator"),t(R,E,(function(){return this})),t(R,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=p,f.prototype={constructor:f,reset:function(e){if(this.next=this.prev=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&A.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=A.call(i,"catchLoc"),s=A.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&A.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}return i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null),(n=i?i.completion:{}).type=e,n.arg=t,i?(this.method="next",this.next=i.finallyLoc,S):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),S}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){if("throw"===(e=n.completion).type){var r=e.arg;d(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),S}},e}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":oa(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),wq=!ia((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mk=tb((function(e){var t=mb.f,n=Ye("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!va(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ha(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!ha(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return wq&&a.REQUIRED&&i(e)&&!ha(e,n)&&o(e),e}};Ze[n]=!0})),xq=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=Q[e],s=a&&a.prototype,c=a,u={},l=function(e){var t=s[e];Wa(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!va(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!va(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!va(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Mc(e,"function"!=typeof a||!(i||s.forEach&&!ia((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,o),Mk.REQUIRED=!0;else if(Mc(e,!0)){var d=new c,f=d[o](i?{}:-0,1)!=d,p=ia((function(){d.has(1)})),h=Bh((function(e){new a(e)})),v=!i&&ia((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));h||((c=t((function(t,n){return tc(t,c,e),t=Th(new a,t,c),null!=n&&Gh(n,t[o],{that:t,AS_ENTRIES:r}),t}))).prototype=s,s.constructor=c),(p||v)&&(l("delete"),l("has"),r&&l("get")),(v||f)&&l(o),i&&s.clear&&delete s.clear}return u[e]=c,ba({global:!0,forced:c!=a},u),sc(c,e),i||n.setStrong(c,e,r),c},Fy=mb.f,yq=Mk.fastKey,zq=Za.set,Nk=Za.getterFor,Aq={getConstructor:function(e,t,n,r){var i=e((function(e,o){tc(e,i,t),zq(e,{type:t,index:ec(null),first:void 0,last:void 0,size:0}),ta||(e.size=0),null!=o&&Gh(o,e[r],{that:e,AS_ENTRIES:n})})),o=Nk(t),a=function(e,t,n){var r,i=o(e),a=s(e,t);return a?a.value=n:(i.last=a={index:r=yq(t,!0),key:t,value:n,previous:t=i.last,next:void 0,removed:!1},i.first||(i.first=a),t&&(t.next=a),ta?i.size++:e.size++,"F"!==r&&(i.index[r]=a)),e},s=function(e,t){e=o(e);var n=yq(t);if("F"!==n)return e.index[n];for(e=e.first;e;e=e.next)if(e.key==t)return e};return gf(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,ta?e.size=0:this.size=0},delete:function(e){var t=o(this);if(e=s(this,e)){var n=e.next,r=e.previous;delete t.index[e.index],e.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==e&&(t.first=n),t.last==e&&(t.last=r),ta?t.size--:this.size--}return!!e},forEach:function(e){for(var t,n=o(this),r=Cd(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),gf(i.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),ta&&Fy(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=Nk(t),o=Nk(r);Qj(e,t,(function(e,t){zq(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),mg(t)}};xq("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Aq);var Ok=Lc("Reflect","apply"),Gy=Function.apply,Hy=!ia((function(){Ok((function(){}))}));ba({target:"Reflect",stat:!0,forced:Hy},{apply:function(e,t,n){return Sb(e),Ia(n),Ok?Ok(e,t,n):Gy.call(e,t,n)}}),ba({target:"Reflect",stat:!0},{ownKeys:mo});var Bq=Ea("isConcatSpreadable"),Iy=51<=Bd||!ia((function(){var e=[];return e[Bq]=!1,e.concat()[0]!==e})),Jy=ig("concat");ba({target:"Array",proto:!0,forced:!Iy||!Jy},{concat:function(e){var t,n=lb(this),r=Ah(n,0),i=0,o=-1;for(t=arguments.length;o<t;o++){var a=-1===o?n:arguments[o],s=a;if(va(s)){var c=s[Bq];s=void 0!==c?!!c:Dd(s)}else s=!1;if(s){if(9007199254740991<i+(c=La(a.length)))throw TypeError("Maximum allowed index exceeded");for(s=0;s<c;s++,i++)s in a&&ef(r,i,a[s])}else{if(9007199254740991<=i)throw TypeError("Maximum allowed index exceeded");ef(r,i++,a)}}return r.length=i,r}});var Ky=vk,Ly=ia((function(){return!Object.getOwnPropertyNames(1)}));ba({target:"Object",stat:!0,forced:Ly},{getOwnPropertyNames:Ky});var My=ce.f,Ny=Zb.f,Oy=mb.f,Jd=Q.Number,$h=Jd.prototype,Py="Number"==qc(ec($h)),Cq=function(e){var t,n=Kc(e,!1);if("string"==typeof n&&2<n.length)if(43===(e=(n=Ij(n)).charCodeAt(0))||45===e){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===e){switch(n.charCodeAt(1)){case 66:case 98:e=2;var r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}var i=(n=n.slice(2)).length;for(t=0;t<i;t++){var o=n.charCodeAt(t);if(48>o||o>r)return NaN}return parseInt(n,e)}return+n};if(Mc("Number",!Jd(" 0o1")||!Jd("0b1")||Jd("+0x1"))){for(var ke=function e(t){var n=1>arguments.length?0:t,r=this;return r instanceof e&&(Py?ia((function(){$h.valueOf.call(r)})):"Number"!=qc(r))?Th(new Jd(Cq(n)),r,e):Cq(n)},Dq=ta?My(Jd):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),Pk=0,ai;Dq.length>Pk;Pk++)ha(Jd,ai=Dq[Pk])&&!ha(ke,ai)&&Oy(ke,ai,Ny(Jd,ai));ke.prototype=$h,$h.constructor=ke,Wa(Q,"Number",ke)}var pf="object"===("undefined"==typeof Reflect?"undefined":oa(Reflect))?Reflect:null,Eq=pf&&"function"==typeof pf.apply?pf.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Qy=pf&&"function"==typeof pf.ownKeys?pf.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Fq=Number.isNaN||function(e){return e!=e};ya.EventEmitter=ya,ya.prototype._events=void 0,ya.prototype._eventsCount=0,ya.prototype._maxListeners=void 0;var Gq=10;Object.defineProperty(ya,"defaultMaxListeners",{enumerable:!0,get:function(){return Gq},set:function(e){if("number"!=typeof e||0>e||Fq(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Gq=e}}),ya.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ya.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||Fq(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ya.prototype.getMaxListeners=function(){return void 0===this._maxListeners?ya.defaultMaxListeners:this._maxListeners},ya.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);n="error"===e;var r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var i;if(0<t.length&&(i=t[0]),i instanceof Error)throw i;throw(t=Error("Unhandled error."+(i?" ("+i.message+")":""))).context=i,t}if(void 0===(n=r[e]))return!1;if("function"==typeof n)Eq(n,this,t);else for(r=Bm(n,i=n.length),n=0;n<i;++n)Eq(r[n],this,t);return!0},ya.prototype.addListener=function(e,t){return ym(this,e,t,!1)},ya.prototype.on=ya.prototype.addListener,ya.prototype.prependListener=function(e,t){return ym(this,e,t,!0)},ya.prototype.once=function(e,t){return Ug(t),this.on(e,zm(this,e,t)),this},ya.prototype.prependOnceListener=function(e,t){return Ug(t),this.prependListener(e,zm(this,e,t)),this},ya.prototype.removeListener=function(e,t){var n;Ug(t);var r=this._events;if(void 0===r)return this;var i=r[e];if(void 0===i)return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){var o=-1;for(n=i.length-1;0<=n;n--)if(i[n]===t||i[n].listener===t){var a=i[n].listener;o=n;break}if(0>o)return this;if(0===o)i.shift();else{for(;o+1<i.length;o++)i[o]=i[o+1];i.pop()}1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},ya.prototype.off=ya.prototype.removeListener,ya.prototype.removeAllListeners=function(e){var t=this._events;if(void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var n=Object.keys(t);for(t=0;t<n.length;++t){var r=n[t];"removeListener"!==r&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=t[e]))this.removeListener(e,n);else if(void 0!==n)for(t=n.length-1;0<=t;t--)this.removeListener(e,n[t]);return this},ya.prototype.listeners=function(e){return Am(this,e,!0)},ya.prototype.rawListeners=function(e){return Am(this,e,!1)},ya.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Cm.call(e,t)},ya.prototype.listenerCount=Cm,ya.prototype.eventNames=function(){return 0<this._eventsCount?Qy(this._events):[]},ya.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}Dm(e,t,o,{once:!0}),"error"!==t&&Yt(e,i,{once:!0})}))};var qf=Object.assign,Hq=Object.defineProperty,zg=!qf||ia((function(){if(ta&&1!==qf({b:1},qf(Hq({},"a",{enumerable:!0,get:function(){Hq(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=qf({},e)[n]||"abcdefghijklmnopqrst"!=$c(qf({},t)).join("")}))?function(e,t){for(var n=lb(e),r=arguments.length,i=1,o=eg.f,a=cg;r>i;)for(var s,c=dg(arguments[i++]),u=o?$c(c).concat(o(c)):$c(c),l=u.length,d=0;l>d;)s=u[d++],(!ta||a.call(c,s))&&(n[s]=c[s]);return n}:qf;ba({target:"Object",stat:!0,forced:Object.assign!==zg},{assign:zg}),xq("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Aq);var Ry=Math.log,Sy=Math.LN2;ba({target:"Math",stat:!0},{log2:function(e){return Ry(e)/Sy}});var Ty=mb.f,Uy=ce.f,Vy=Za.enforce,Wy=Ea("match"),Rc=Q.RegExp,Qk=Rc.prototype,Ag=/a/g,Rk=/a/g,Sk=new Rc(Ag)!==Ag;if(ta&&Mc("RegExp",!Sk||Nc||ia((function(){return Rk[Wy]=!1,Rc(Ag)!=Ag||Rc(Rk)==Rk||"/a/i"!=Rc(Ag,"i")})))){for(var gd=function e(t,n){var r,i=this instanceof e,o=Fj(t),a=void 0===n;return!i&&o&&t.constructor===e&&a||(Sk?o&&!a&&(t=t.source):t instanceof e&&(a&&(n=Aj.call(t)),t=t.source),Nc&&(r=!!n&&-1<n.indexOf("y"))&&(n=n.replace(/y/g,"")),t=Th(Sk?new Rc(t,n):Rc(t,n),i?this:Qk,e),Nc&&r&&(Vy(t).sticky=!0)),t},Xy=function(e){e in gd||Ty(gd,e,{configurable:!0,get:function(){return Rc[e]},set:function(t){Rc[e]=t}})},Iq=Uy(Rc),Jq=0;Iq.length>Jq;)Xy(Iq[Jq++]);Qk.constructor=gd,gd.prototype=Qk,Wa(Q,"RegExp",gd)}mg("RegExp"),vg("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),vg("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),vg("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),vg("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Tk=function(e,t){return e===t?0:null==e?null==t?0:-1:null==t?null==e?0:1:"function"==typeof e.compare?e.compare(t):"function"==typeof t.compare?-t.compare(e):e<t?-1:e>t?1:0},Uk=[],Kq=Uk.sort,Yy=ia((function(){Uk.sort(void 0)})),Zy=ia((function(){Uk.sort(null)})),$y=cf("sort");ba({target:"Array",proto:!0,forced:Yy||!Zy||!$y},{sort:function(e){return void 0===e?Kq.call(lb(this)):Kq.call(lb(this),Sb(e))}});var Lq=Object.getPrototypeOf({}),Bg=function(e,t){var n;return e===t||(null==e?e==t:"function"===oa(e.equiv)?e.equiv(t):null==t?e==t:"function"===oa(t.equiv)?t.equiv(e):"string"!==oa(e)&&"string"!==oa(t)&&(null!=(n=Object.getPrototypeOf(e))&&n!==Lq||null!=(n=Object.getPrototypeOf(t))&&n!==Lq?"function"!==oa(e)&&void 0!==e.length&&"function"!==oa(t)&&void 0!==t.length?bz(e,t):e instanceof Set&&t instanceof Set?cz(e,t):e instanceof Map&&t instanceof Map?dz(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:az(e,t)))},bz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg,r=e.length;if(r===t.length)for(;0<=--r&&n(e[r],t[r]););return 0>r},cz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg;return e.size===t.size&&n(W(e.keys()).sort(),W(t.keys()).sort())},dz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg;return e.size===t.size&&n(W(e).sort(),W(t).sort())},az=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!t.hasOwnProperty(r)||!n(e[r],t[r]))return!1;return!0},Mq=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return void 0!==e?": "+e:""};return function(n){function r(n){return ua(this,r),i.call(this,e(n)+t(n))}Ga(r,n);var i=Ha(r);return r}(If(Error))},ez=Mq((function(){return"illegal argument(s)"})),bi=function(e){throw new ez(e)},Vk=Mq((function(){return"index out of bounds"})),Nq=1/4294967295,fz=function(){function e(){ua(this,e)}return cb(e,[{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.int()*Nq*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(this.int()*Nq-.5)*e}},{key:"minmax",value:function(e,t){return this.float()*(t-e)+e}}]),e}(),Wk=Math.random,gz=new(function(e){function t(){return ua(this,t),n.apply(this,arguments)}Ga(t,e);var n=Ha(t);return cb(t,[{key:"int",value:function(){return 4294967296*Wk()>>>0}},{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return Wk()*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(Wk()-.5)*e}}]),t}(fz)),Hi=Symbol(),Gm=function(){},hz=Mk.onFreeze,Xk=Object.freeze,iz=ia((function(){Xk(1)}));ba({target:"Object",stat:!0,forced:iz,sham:!wq},{freeze:function(e){return Xk&&va(e)?Xk(hz(e)):e}});var jz=cf("reduce"),kz=!ad&&79<Bd&&83>Bd;ba({target:"Array",proto:!0,forced:!jz||kz},{reduce:function(e){return Up(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Fm=function(e){return null!=e&&"function"==typeof e.xform?e.xform():e},Vg=function(){function e(t){ua(this,e),this.value=t}return cb(e,[{key:"deref",value:function(){return this.value}}]),e}(),Ii=function(e){return e instanceof Vg?e.deref():e},$t=function(e,t){return[e,function(e){return e},t]},lz=M.mark((function(e,t){var n,r,i,o,a,s;return M.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=Fm(e)(Zt()),r=n[1],i=n[2],o=0;case 4:if(!(o<t.length)){c.next=15;break}if(a=t[o],!((s=i([],a))instanceof Vg)){c.next=10;break}return c.delegateYield(Ii(r(s.deref())),"t0",9);case 9:return c.abrupt("return");case 10:if(!s.length){c.next=12;break}return c.delegateYield(s,"t1",12);case 12:o++,c.next=4;break;case 15:return c.delegateYield(Ii(r([])),"t2",16);case 16:case"end":return c.stop()}}),lz)})),au=M.mark(Em),bu=function(e,t){return[e[0],e[1],t]},mz=function(){function e(t){ua(this,e),this._length=0,t&&this.into(t)}return cb(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var e,t=this.head;t;)e=t.next,delete t.value,delete t.prev,delete t.next,t=e;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(e){var t=this._length;if(t<e._length)return-1;if(t>e._length)return 1;if(0===t)return 0;t=this.head,e=e.head;for(var n=0;t&&0==n;)n=Tk(t.value,e.value),t=t.next,e=e.next;return n}},{key:"equiv",value:function(t){if(!(t instanceof e||null!=t&&"function"!=typeof t&&void 0!==t.length)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var n=this.head,r=0;r<t.length;r++){if(!Bg(n.value,t[r]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:M.mark((function e(){var t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"seq",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(!(e>=t||0>e)){e=this.nthCell(e);var n=this.nthCell(t-1);return t=function e(t){return{first:function(){return t.value},next:function(){return t!==n&&t.next?e(t.next):void 0}}},e?t(e):void 0}}},{key:"cycle",value:M.mark((function e(){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this,"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"$reduce",value:function(e,t){for(var n=this.head;n&&!(t instanceof Vg);)t=e(t,n.value),n=n.next;return t}},{key:"drop",value:function(){var e=this.head;if(e)return(this.head=e.next)?delete this.head.prev:delete this.tail,this._length--,e.value}},{key:"cons",value:function(e){return e={value:e,next:this.head},this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}},{key:"insertBefore",value:function(e,t){return e||bi("cell is undefined"),t={value:t,next:e,prev:e.prev},e.prev?e.prev.next=t:this.head=t,e.prev=t,this._length++,this}},{key:"insertAfter",value:function(e,t){return e||bi("cell is undefined"),t={value:t,next:e.next,prev:e},e.next?e.next.prev=t:this.tail=t,e.next=t,this._length++,this}},{key:"insertBeforeNth",value:function(e,t){if(0>e&&(e+=this._length),0>=e)return this.cons(t);if(0>e||e>=this._length)throw new Vk(e);return this.insertBefore(this.nthCellUnsafe(e),t)}},{key:"insertAfterNth",value:function(e,t){if(0>e&&(e+=this._length),e>=this._length-1)return this.push(t);if(0>e||e>=this._length)throw new Vk(e);return this.insertAfter(this.nthCellUnsafe(e),t)}},{key:"insertSorted",value:function(e,t){t=t||Tk;for(var n=this.head;n;){if(0>=t(e,n.value))return this.insertBefore(n,e);n=n.next}return this.push(e)}},{key:"find",value:function(e){for(var t=this.head;t;){if(t.value===e)return t;t=t.next}}},{key:"findWith",value:function(e){for(var t=this.head;t;){if(e(t.value))return t;t=t.next}}},{key:"concat",value:function(){for(var e=this.copy(),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e.into(n[t]);return e}},{key:"into",value:function(e){for(var t=0;t<e.length;t++)this.push(e[t])}},{key:"slice",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;t=0>t?t+this._length:t,n=0>n?n+this._length:n,(0>t||0>n)&&bi("invalid indices: ${from} / ${to}");for(var r=new e,i=this.nthCell(t);i&&++t<=n;)r.push(i.value),i=i.next;return r}},{key:"splice",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;if("number"==typeof t){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new Vk(t);var i=this.nthCellUnsafe(t)}else i=t;var o=new e;if(0<n)for(;i&&0<n--;)this.remove(i),o.push(i.value),i=i.next;else i&&(i=i.next);if(r)if(i)for(n=0;n<r.length;n++)this.insertBefore(i,r[n]);else for(i=0;i<r.length;i++)this.push(r[i]);return o}},{key:"remove",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}},{key:"swap",value:function(e,t){if(e!==t){var n=e.value;e.value=t.value,t.value=n}return this}},{key:"push",value:function(e){return this.tail?(e={value:e,prev:this.tail},this.tail=this.tail.next=e,this._length++,this):this.cons(e)}},{key:"pop",value:function(){var e=this.tail;if(e)return(this.tail=e.prev)?delete this.tail.next:delete this.head,this._length--,e.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(e){return this.head?(this.head.value=e,this):this.cons(e)}},{key:"setTail",value:function(e){return this.tail?(this.tail.value=e,this):this.push(e)}},{key:"setNth",value:function(e,t){var n=this.nthCell(e);return!n&&bi("index out of bounds: ".concat(e)),n.value=t,this}},{key:"nth",value:function(e,t){return(e=this.nthCell(e))?e.value:t}},{key:"nthCell",value:function(e){if(0>e&&(e+=this._length),!(0>e||e>=this._length))return this.nthCellUnsafe(e)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var e=this.peek();return this.pop(),this.cons(e)}}},{key:"map",value:function(t){for(var n=new e,r=this.head;r;)n.push(t(r.value)),r=r.next;return n}},{key:"filter",value:function(t){for(var n=new e,r=this.head;r;)t(r.value)&&n.push(r.value),r=r.next;return n}},{key:"reduce",value:function(e,t){for(var n=this.head;n;)t=e(t,n.value),n=n.next;return t}},{key:"shuffle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:gz;if(2>this._length)return this;for(e=null!=e?e:Math.ceil(1.5*Math.log2(this._length));0<e;e--)for(var n=this.head;n;){var r=n.next;.5>t.float()?this.asHead(n):this.asTail(n),n=r}return this}},{key:"sort",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Tk;if(!this._length)return this;for(var t=1;;){var n=this.head;this.tail=this.head=void 0;for(var r=0;n;){r++;for(var i=n,o=0,a=0;a<t&&(o++,i=i.next);a++);for(a=t;0<o||0<a&&i;){if(0===o){var s=i;i=i.next,a--}else i&&0!==a?0>=e(n.value,i.value)?(s=n,n=n.next,o--):(s=i,i=i.next,a--):(s=n,n=n.next,o--);this.tail?this.tail.next=s:this.head=s,s.prev=this.tail,this.tail=s}n=i}if(this.tail.next=void 0,1>=r)return this;t*=2}}},{key:"reverse",value:function(){for(var e=this.head,t=this.tail,n=(this._length>>>1)+(1&this._length);e&&t&&0<n;){var r=e.value;e.value=t.value,t.value=r,e=e.next,t=t.prev,n--}return this}},{key:"asHead",value:function(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}},{key:"asTail",value:function(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}},{key:"toString",value:function(){for(var e=[],t=this.head;t;)e.push(String(t.value)),t=t.next;return e.join(", ")}},{key:"toJSON",value:function(){return W(this)}},{key:"nthCellUnsafe",value:function(e){if(e<=this._length>>1)var t=this.head,n="next";else t=this.tail,n="prev",e=this._length-e-1;for(;0<e--&&t;)t=t[n];return t}}]),e}(),Sc=function(){function e(t,n){ua(this,e),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new mz,this._size=0,this.opts=n,t&&this.into(t)}return cb(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Wg((function(e){return[e.k,e]}),this.items)}},{key:"keys",value:function(){return Wg((function(e){return e.k}),this.items)}},{key:"values",value:function(){return Wg((function(e){return e.v}),this.items)}},{key:"copy",value:function(){var e=this.empty();e.items=this.items.copy();for(var t=e.items.head;t;)e.map.set(t.value.k,t),t=t.next;return e}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var e=this.opts.release;if(e){for(var t;t=this.items.drop();)e(t.k,t.v);return!0}return this.items.release()}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e,t){return(e=this.map.get(e))?this.resetEntry(e):t}},{key:"set",value:function(e,t){var n=this.opts.ksize(e)+this.opts.vsize(t),r=this.map.get(e);return this._size+=Math.max(0,n-(r?r.value.s:0)),this.ensureSize()&&this.doSetEntry(r,e,t,n),t}},{key:"into",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.set(n[0],n[1])}return this}},{key:"getSet",value:function(e,t){var n=this,r=this.map.get(e);return r?Promise.resolve(this.resetEntry(r)):t().then((function(t){return n.set(e,t)}))}},{key:"delete",value:function(e){return!!(e=this.map.get(e))&&(this.removeEntry(e),!0)}},{key:"resetEntry",value:function(e){return this.items.asTail(e),e.value.v}},{key:"ensureSize",value:function(){for(var e=this.opts.release,t=this.opts.maxsize,n=this.opts.maxlen;this._size>t||this.length>=n;){var r=this.items.drop();if(!r)return!1;this.map.delete(r.k),e&&e(r.k,r.v),this._size-=r.s}return!0}},{key:"removeEntry",value:function(e){var t=e.value;this.map.delete(t.k),this.items.remove(e),this.opts.release&&this.opts.release(t.k,t.v),this._size-=t.s}},{key:"doSetEntry",value:function(e,t,n,r){e?(e.value.v=n,e.value.s=r,this.items.asTail(e)):(this.items.push({k:t,v:n,s:r}),this.map.set(t,this.items.tail))}}]),e}(),nz=function(e){function t(e,r){return ua(this,t),r=Object.assign({ttl:36e5},r),n.call(this,e,r)}Ga(t,e);var n=Ha(t);return cb(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e,t){if(e=this.map.get(e)){if(e.value.t>=Date.now())return this.resetEntry(e);this.removeEntry(e)}return t}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,r=this.opts.ksize(e)+this.opts.vsize(t),i=this.map.get(e);return this._size+=Math.max(0,r-(i?i.value.s:0)),this.ensureSize()&&(n=Date.now()+n,i?(i.value.v=t,i.value.s=r,i.value.t=n,this.items.asTail(i)):(this.items.push({k:e,v:t,s:r,t:n}),this.map.set(e,this.items.tail))),t}},{key:"getSet",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,i=this.get(e);return i?Promise.resolve(i):t().then((function(t){return n.set(e,t,r)}))}},{key:"prune",value:function(){for(var e=Date.now(),t=this.items.head;t;)t.value.t<e&&this.removeEntry(t),t=t.next}},{key:"ensureSize",value:function(){for(var e=this.opts.maxsize,n=this.opts.maxlen,r=Date.now(),i=this.items.head;i&&(this._size>e||this.length>=n);)i.value.t<r&&this.removeEntry(i),i=i.next;return Fi(Sd(t.prototype),"ensureSize",this).call(this)}}]),t}(Sc),Oq="object"==oa(Va)&&Va&&Va.Object===Object&&Va,oz="object"==("undefined"==typeof self?"undefined":oa(self))&&self&&self.Object===Object&&self,Wb=Oq||oz||Function("return this")(),gc=Wb.Symbol,Pq=Object.prototype,pz=Pq.hasOwnProperty,qz=Pq.toString,Cg=gc?gc.toStringTag:void 0,rz=Object.prototype.toString,Qq=gc?gc.toStringTag:void 0,le=function(e){if(null==e)e=void 0===e?"[object Undefined]":"[object Null]";else if(Qq&&Qq in Object(e)){var t=pz.call(e,Cg),n=e[Cg];try{e[Cg]=void 0;var r=!0}catch(e){}var i=qz.call(e);r&&(t?e[Cg]=n:delete e[Cg]),e=i}else e=rz.call(e);return e},Db=function(e){var t=oa(e);return null!=e&&("object"==t||"function"==t)},dj=function(e){return!!Db(e)&&("[object Function]"==(e=le(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},Yk=Wb["__core-js_shared__"],Rq=function(){var e=/[^.]+$/.exec(Yk&&Yk.keys&&Yk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),sz=Function.prototype.toString,me=function(e){if(null!=e){try{return sz.call(e)}catch(e){}return e+""}return""},tz=/^\[object .+?Constructor\]$/,uz=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=function(e,t){return e=null==e?void 0:e[t],!Db(e)||Rq&&Rq in e||!(dj(e)?uz:tz).test(me(e))?void 0:e},Dg=ne(Object,"create"),vz=Object.prototype.hasOwnProperty,wz=Object.prototype.hasOwnProperty;Ud.prototype.clear=function(){this.__data__=Dg?Dg(null):{},this.size=0},Ud.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Ud.prototype.get=function(e){var t=this.__data__;return Dg?"__lodash_hash_undefined__"===(e=t[e])?void 0:e:vz.call(t,e)?t[e]:void 0},Ud.prototype.has=function(e){var t=this.__data__;return Dg?void 0!==t[e]:wz.call(t,e)},Ud.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dg&&void 0===t?"__lodash_hash_undefined__":t,this};var Eg=function(e,t){return e===t||e!=e&&t!=t},ci=function(e,t){for(var n=e.length;n--;)if(Eg(e[n][0],t))return n;return-1},xz=Array.prototype.splice;Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__;return!(0>(e=ci(t,e)))&&(e==t.length-1?t.pop():xz.call(t,e,1),--this.size,!0)},Ce.prototype.get=function(e){var t=this.__data__;return 0>(e=ci(t,e))?void 0:t[e][1]},Ce.prototype.has=function(e){return-1<ci(this.__data__,e)},Ce.prototype.set=function(e,t){var n=this.__data__,r=ci(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var Yg=Ce,Fg=ne(Wb,"Map"),di=function(e,t){e=e.__data__;var n=oa(t);return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map};De.prototype.clear=function(){this.size=0,this.__data__={hash:new Ud,map:new(Fg||Yg),string:new Ud}},De.prototype.delete=function(e){return e=di(this,e).delete(e),this.size-=e?1:0,e},De.prototype.get=function(e){return di(this,e).get(e)},De.prototype.has=function(e){return di(this,e).has(e)},De.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Xg=De;Jf.prototype.add=Jf.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Jf.prototype.has=function(e){return this.__data__.has(e)};var Sq=function(e,t,n,r){var i=e.length;for(n+=r?1:-1;r?n--:++n<i;)if(t(e[n],n,e))return n;return-1},yz=function(e){return e!=e},zz=function(e,t){var n;if(n=!(null==e||!e.length)){if(t==t)e:{n=-1;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=Sq(e,yz,0);n=-1<e}return n},Az=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},Bz=function(e,t){return e.has(t)},rf=ne(Wb,"Set"),Cz=function(){},Zk=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Dz=1/0,Ez=rf&&1/Zk(new rf([,-0]))[1]==Dz?function(e){return new rf(e)}:Cz,$k=function(e,t,n){var r=-1,i=zz,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=Az;else if(200<=o){if(i=t?null:Ez(e))return Zk(i);a=!1,i=Bz,c=new Jf}else c=t?[]:s;e:for(;++r<o;){var u=e[r],l=t?t(u):u;if(u=n||0!==u?u:0,a&&l==l){for(var d=c.length;d--;)if(c[d]===l)continue e;t&&c.push(l),s.push(u)}else i(c,l,n)||(c!==s&&c.push(l),s.push(u))}return s},Tq=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},He=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};Ee.prototype.clear=function(){this.__data__=new Yg,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yg){var r=n.__data__;if(!Fg||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xg(r)}return n.set(e,t),this.size=n.size,this};var Ge=Ee,ku=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},ei=function(){try{var e=ne(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gg=function(e,t,n){"__proto__"==t&&ei?ei(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Fz=Object.prototype.hasOwnProperty,Lm=function(e,t,n){var r=e[t];Fz.call(e,t)&&Eg(r,n)&&(void 0!==n||t in e)||Gg(e,t,n)},Re=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?Gg(n,s,c):Lm(n,s,c)}return n},Bc=function(e){return null!=e&&"object"==oa(e)},Uq=function(e){return Bc(e)&&"[object Arguments]"==le(e)},Vq=Object.prototype,Gz=Vq.hasOwnProperty,Hz=Vq.propertyIsEnumerable,Tf=Uq(function(){return arguments}())?Uq:function(e){return Bc(e)&&Gz.call(e,"callee")&&!Hz.call(e,"callee")},pb=Array.isArray,Iz=function(){return!1},Lf=tb((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?Wb.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||Iz})),Jz=/^(?:0|[1-9]\d*)$/,al=function(e,t){var n=oa(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Jz.test(e))&&-1<e&&0==e%1&&e<t},bl=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},Ua={};Ua["[object Float32Array]"]=Ua["[object Float64Array]"]=Ua["[object Int8Array]"]=Ua["[object Int16Array]"]=Ua["[object Int32Array]"]=Ua["[object Uint8Array]"]=Ua["[object Uint8ClampedArray]"]=Ua["[object Uint16Array]"]=Ua["[object Uint32Array]"]=!0,Ua["[object Arguments]"]=Ua["[object Array]"]=Ua["[object ArrayBuffer]"]=Ua["[object Boolean]"]=Ua["[object DataView]"]=Ua["[object Date]"]=Ua["[object Error]"]=Ua["[object Function]"]=Ua["[object Map]"]=Ua["[object Number]"]=Ua["[object Object]"]=Ua["[object RegExp]"]=Ua["[object Set]"]=Ua["[object String]"]=Ua["[object WeakMap]"]=!1;var Kz=function(e){return Bc(e)&&bl(e.length)&&!!Ua[le(e)]},fi=function(e){return function(t){return e(t)}},sf=tb((function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&Oq.process;e:{try{var r=t&&t.require&&t.require("util").types;if(r){var i=r;break e}i=n&&n.binding&&n.binding("util");break e}catch(e){}i=void 0}e.exports=i})),Wq=sf&&sf.isTypedArray,Oi=Wq?fi(Wq):Kz,Lz=Object.prototype.hasOwnProperty,Xq=function(e,t){var n=pb(e),r=!n&&Tf(e),i=!n&&!r&&Lf(e),o=!n&&!r&&!i&&Oi(e);if(n=n||r||i||o){r=e.length;for(var a=String,s=-1,c=Array(r);++s<r;)c[s]=a(s);r=c}else r=[];for(var u in a=r.length,e)!t&&!Lz.call(e,u)||n&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||al(u,a))||r.push(u);return r},Mz=Object.prototype,cl=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Mz)},Yq=function(e,t){return function(n){return e(t(n))}},Nz=Yq(Object.keys,Object),Oz=Object.prototype.hasOwnProperty,$d=function(e){return null!=e&&bl(e.length)&&!dj(e)},Vd=function(e){if($d(e))e=Xq(e);else if(cl(e)){var t,n=[];for(t in Object(e))Oz.call(e,t)&&"constructor"!=t&&n.push(t);e=n}else e=Nz(e);return e},gu=function(e,t){return e&&Re(t,Vd(t),e)},Pz=Object.prototype.hasOwnProperty,Mf=function(e){if($d(e))e=Xq(e,!0);else if(Db(e)){var t=cl(e),n=[];for(r in e)("constructor"!=r||!t&&Pz.call(e,r))&&n.push(r);e=n}else{var r=[];if(null!=e)for(t in Object(e))r.push(t);e=r}return e},eu=function(e,t){return e&&Re(t,Mf(t),e)},Im=tb((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,r=(t=n&&n.exports===t?Wb.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=r?r(t):new e.constructor(t),e.copy(t),t)}})),Ji=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Qz=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Zq=function(){return[]},Rz=Object.prototype.propertyIsEnumerable,$q=Object.getOwnPropertySymbols,dl=$q?function(e){return null==e?[]:(e=Object(e),Qz($q(e),(function(t){return Rz.call(e,t)})))}:Zq,fu=function(e,t){return Re(e,dl(e),t)},Ni=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},el=Yq(Object.getPrototypeOf,Object),ar=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ni(t,dl(e)),e=el(e);return t}:Zq,du=function(e,t){return Re(e,ar(e),t)},br=function(e,t,n){return t=t(e),pb(e)?t:Ni(t,n(e))},Ki=function(e){return br(e,Vd,dl)},Km=function(e){return br(e,Mf,ar)},fl=ne(Wb,"DataView"),gl=ne(Wb,"Promise"),hl=ne(Wb,"WeakMap"),Sz=me(fl),Tz=me(Fg),Uz=me(gl),Vz=me(rf),Wz=me(hl),oe=le;(fl&&"[object DataView]"!=oe(new fl(new ArrayBuffer(1)))||Fg&&"[object Map]"!=oe(new Fg)||gl&&"[object Promise]"!=oe(gl.resolve())||rf&&"[object Set]"!=oe(new rf)||hl&&"[object WeakMap]"!=oe(new hl))&&(oe=function(e){var t=le(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?me(e):"")switch(e){case Sz:return"[object DataView]";case Tz:return"[object Map]";case Uz:return"[object Promise]";case Vz:return"[object Set]";case Wz:return"[object WeakMap]"}return t});var Kf=oe,Xz=Object.prototype.hasOwnProperty,cu=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Xz.call(e,"index")&&(n.index=e.index,n.input=e.input),n},gi=Wb.Uint8Array,il=function(e){var t=new e.constructor(e.byteLength);return new gi(t).set(new gi(e)),t},Yz=/\w*$/,cr=gc?gc.prototype:void 0,dr=cr?cr.valueOf:void 0,vn=function(e,t){return t=t?il(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},hu=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return il(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?il(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vn(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,Yz.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return dr?Object(dr.call(e)):{}}},er=Object.create,Zz=function(){function e(){}return function(t){return Db(t)?er?er(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),Jm=function(e){return"function"!=typeof e.constructor||cl(e)?{}:Zz(el(e))},$z=function(e){return Bc(e)&&"[object Map]"==Kf(e)},fr=sf&&sf.isMap,ju=fr?fi(fr):$z,aA=function(e){return Bc(e)&&"[object Set]"==Kf(e)},gr=sf&&sf.isSet,iu=gr?fi(gr):aA,Na={};Na["[object Arguments]"]=Na["[object Array]"]=Na["[object ArrayBuffer]"]=Na["[object DataView]"]=Na["[object Boolean]"]=Na["[object Date]"]=Na["[object Float32Array]"]=Na["[object Float64Array]"]=Na["[object Int8Array]"]=Na["[object Int16Array]"]=Na["[object Int32Array]"]=Na["[object Map]"]=Na["[object Number]"]=Na["[object Object]"]=Na["[object RegExp]"]=Na["[object Set]"]=Na["[object String]"]=Na["[object Symbol]"]=Na["[object Uint8Array]"]=Na["[object Uint8ClampedArray]"]=Na["[object Uint16Array]"]=Na["[object Uint32Array]"]=!0,Na["[object Error]"]=Na["[object Function]"]=Na["[object WeakMap]"]=!1;var Ie=function(e){return"symbol"==oa(e)||Bc(e)&&"[object Symbol]"==le(e)},bA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cA=/^\w*$/,jl=function(e,t){if(pb(e))return!1;var n=oa(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ie(e))||cA.test(e)||!bA.test(e)||null!=t&&e in Object(t)};Li.Cache=Xg;var dA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eA=/\\(\\)?/g,fA=function(e){var t=(e=Li(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dA,(function(e,n,r,i){t.push(r?i.replace(eA,"$1"):n||e)})),t})),lu=1/0,hr=gc?gc.prototype:void 0,Nm=hr?hr.toString:void 0,hi=function(e,t){return pb(e)?e:jl(e,t)?[e]:fA(null==e?"":Mm(e))},gA=1/0,Hg=function(e){if("string"==typeof e||Ie(e))return e;var t=e+"";return"0"==t&&1/e==-gA?"-0":t},ii=function(e,t){for(var n=0,r=(t=hi(t,e)).length;null!=e&&n<r;)e=e[Hg(t[n++])];return n&&n==r?e:void 0},hA=function(e,t){if(!(2>(t=hi(t,e)).length)){var n=t,r=0,i=-1,o=-1,a=n.length;for(0>r&&(r=-r>a?0:a+r),0>(i=i>a?a:i)&&(i+=a),a=r>i?0:i-r>>>0,r>>>=0,i=Array(a);++o<a;)i[o]=n[o+r];e=ii(e,i)}return(n=null==e)||(n=null==t?0:t.length,n=delete e[Hg(n?t[n-1]:void 0)]),n},ir=Function.prototype.toString,iA=Object.prototype.hasOwnProperty,jA=ir.call(Object),wn=function(e){return!(!Bc(e)||"[object Object]"!=le(e))&&(null===(e=el(e))||"function"==typeof(e=iA.call(e,"constructor")&&e.constructor)&&e instanceof e&&ir.call(e)==jA)},kA=function(e){return wn(e)?void 0:e},jr=gc?gc.isConcatSpreadable:void 0,mu=function(e){return pb(e)||Tf(e)||!!(jr&&e&&e[jr])},lA=function(e){return null!=e&&e.length?Mi(e,1):[]},mA=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},kr=Math.max,lr=function(e,t,n){return t=kr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=kr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];for(i=-1,o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),mA(e,this,o)}},nA=function(e){return function(){return e}},ji=function(e){return e},oA=Date.now,mr=function(e){var t=0,n=0;return function(){var r=oA(),i=16-(r-n);if(n=r,0<i){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ei?function(e,t){return ei(e,"toString",{configurable:!0,enumerable:!1,value:nA(t),writable:!0})}:ji),kl=(e=function(e,t){var n={};if(null==e)return n;var r=!1;t=He(t,(function(t){return t=hi(t,e),r||(r=1<t.length),t})),Re(e,Km(e),n),r&&(n=Fe(n,7,kA));for(var i=t.length;i--;)hA(n,t[i]);return n},mr(lr(e,void 0,lA),e+"")),pA=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},un=function(e,t,n){for(var r=-1,i=Object(e),o=(n=n(e)).length;o--;){var a=n[++r];if(!1===t(i[a],a,i))break}return e},nr=function(e,t){return e&&un(e,t,Vd)},ll=function(e,t){return function(t,n){if(null==t)return t;if(!$d(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(nr),qA=function(e,t,n,r){return ll(e,(function(e,i,o){t(r,e,n(e),o)})),r},or=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Om=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;c=o.get(e);var u=o.get(t);if(c&&u)return c==t&&u==e;c=-1,u=!0;var l=2&n?new Jf:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],f=t[c];if(r)var p=a?r(f,d,c,t,e,o):r(d,f,c,e,t,o);if(void 0!==p){if(p)continue;u=!1;break}if(l){if(!or(t,(function(e,t){if(!l.has(t)&&(d===e||i(d,e,n,r,o)))return l.push(t)}))){u=!1;break}}else if(d!==f&&!i(d,f,n,r,o)){u=!1;break}}return o.delete(e),o.delete(t),u},rA=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},pr=gc?gc.prototype:void 0,ml=pr?pr.valueOf:void 0,nu=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new gi(e),new gi(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Eg(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=rA;case"[object Set]":if(s||(s=Zk),e.size!=t.size&&!(1&r))break;return(n=a.get(e))?n==t:(r|=2,a.set(e,t),t=Om(s(e),s(t),r,i,o,a),a.delete(e),t);case"[object Symbol]":if(ml)return ml.call(e)==ml.call(t)}return!1},ou=Object.prototype.hasOwnProperty,Pm=Object.prototype.hasOwnProperty,sA=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{if(s=new Ge,r)var d=r(u,l,c,e,t,s);if(void 0===d?!Je(l,u,3,r,s):!d)return!1}}return!0},tA=function(e){for(var t=Vd(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,i==i&&!Db(i)]}return t},qr=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},uA=function(e){var t=tA(e);return 1==t.length&&t[0][2]?qr(t[0][0],t[0][1]):function(n){return n===e||sA(n,e,t)}},vA=function(e,t){return jl(e)&&t==t&&!Db(t)?qr(Hg(e),t):function(n){var r=null==n?void 0:ii(n,e);if(void 0===(r=void 0===r?void 0:r)&&r===t){if(r=null!=n){for(var i=-1,o=(r=hi(r=e,n)).length,a=!1;++i<o;){var s=Hg(r[i]);if(!(a=null!=n&&null!=n&&s in Object(n)))break;n=n[s]}r=a||++i!=o?a:!!(o=null==n?0:n.length)&&bl(o)&&al(s,o)&&(pb(n)||Tf(n))}s=r}else s=Je(t,r,3);return s}},wA=function(e){return function(t){return null==t?void 0:t[e]}},xA=function(e){return function(t){return ii(t,e)}},tf=function(e){return"function"==typeof e?e:null==e?ji:"object"==oa(e)?pb(e)?vA(e[0],e[1]):uA(e):jl(e)?wA(Hg(e)):xA(e)},nl=function(e,t){return function(t,n){return(pb(t)?pA:qA)(t,e,tf(n),{})}}((function(e,t,n){Gg(e,n,t)})),hd=function(e,t){var n={};return t=tf(t),nr(e,(function(e,r,i){Gg(n,r,t(e,r,i))})),n},e;ba({target:"String",proto:!0,forced:ia((function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length}))},{sub:function(){return"<sub>"+String(Bb(this))+"</sub>"}});var ma=Oa,hc=null;try{hc=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(c){}Oa.prototype.__isLong__,Object.defineProperty(Oa.prototype,"__isLong__",{value:!0}),Oa.isLong=Eb;var Rm={},Qm={};Oa.fromInt=Wd,Oa.fromNumber=$b,Oa.fromBits=Pa;var Zg=Math.pow;Oa.fromString=Pi,Oa.fromValue=oc;var Ke=4294967296,Sm=Ke*Ke,Um=Sm/2,rr=Wd(16777216),ac=Wd(0);Oa.ZERO=ac;var Xd=Wd(0,!0);Oa.UZERO=Xd;var uf=Wd(1);Oa.ONE=uf;var sr=Wd(1,!0);Oa.UONE=sr;var ol=Wd(-1);Oa.NEG_ONE=ol;var Vm=Pa(-1,2147483647,!1);Oa.MAX_VALUE=Vm;var Tm=Pa(-1,-1,!0);Oa.MAX_UNSIGNED_VALUE=Tm;var Fb=Pa(0,-2147483648,!1);Oa.MIN_VALUE=Fb;var T=Oa.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*Ke+(this.low>>>0):this.high*Ke+(this.low>>>0)},T.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Fb)){var t=$b(e),n=this.div(t);return t=n.mul(t).sub(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}n=$b(Zg(e,6),this.unsigned),t=this;for(var r="";;){var i=t.div(n),o=(t.sub(i.mul(n)).toInt()>>>0).toString(e);if((t=i).isZero())return o+r;for(;6>o.length;)o="0"+o;r=""+o+r}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Fb)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&0>this.high},T.isPositive=function(){return this.unsigned||0<=this.high},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return Eb(e)||(e=oc(e)),(this.unsigned===e.unsigned||1!=this.high>>>31||1!=e.high>>>31)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return 0>this.comp(e)},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return 0>=this.comp(e)},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return 0<this.comp(e)},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return 0<=this.comp(e)},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(Eb(e)||(e=oc(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(Fb)?Fb:this.not().add(uf)},T.neg=T.negate,T.add=function(e){Eb(e)||(e=oc(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=e.high>>>16,o=65535&e.high,a=e.low>>>16;return r=(a=((e=(65535&this.low)+(65535&e.low))>>>16)+(r+a))>>>16,Pa((65535&a)<<16|65535&e,(t=((r+=n+o)>>>16)+(t+i)&65535)<<16|65535&r,this.unsigned)},T.subtract=function(e){return Eb(e)||(e=oc(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return ac;if(Eb(e)||(e=oc(e)),hc){var t=hc.mul(this.low,this.high,e.low,e.high);return Pa(t,hc.get_high(),this.unsigned)}if(e.isZero())return ac;if(this.eq(Fb))return e.isOdd()?Fb:ac;if(e.eq(Fb))return this.isOdd()?Fb:ac;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(rr)&&e.lt(rr))return $b(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=i*(e=65535&e.low),u=(c>>>16)+r*e,l=u>>>16;l+=(u=(65535&u)+i*s)>>>16;var d=(l+=n*e)>>>16;return Pa((65535&u)<<16|65535&c,(d=(d+=(l=(65535&l)+r*s)>>>16)+((l=(65535&l)+i*a)>>>16)+(t*e+n*s+r*a+i*o)&65535)<<16|65535&l,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(Eb(e)||(e=oc(e)),e.isZero())throw Error("division by zero");if(hc)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Pa(e=(this.unsigned?hc.div_u:hc.div_s)(this.low,this.high,e.low,e.high),hc.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Xd:ac;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Xd;if(e.gt(this.shru(1)))return sr;var t=Xd}else{if(this.eq(Fb)){if(e.eq(uf)||e.eq(ol))return Fb;if(e.eq(Fb))return uf;var n=this.shr(1).div(e).shl(1);if(n.eq(ac))return e.isNegative()?uf:ol;var r=this.sub(e.mul(n));return n.add(r.div(e))}if(e.eq(Fb))return this.unsigned?Xd:ac;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=ac}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var i=Math.ceil(Math.log(n)/Math.LN2);i=48>=i?1:Zg(2,i-48);for(var o=$b(n),a=o.mul(e);a.isNegative()||a.gt(r);)a=(o=$b(n-=i,this.unsigned)).mul(e);o.isZero()&&(o=uf),t=t.add(o),r=r.sub(a)}return t},T.div=T.divide,T.modulo=function(e){return Eb(e)||(e=oc(e)),hc?Pa(e=(this.unsigned?hc.rem_u:hc.rem_s)(this.low,this.high,e.low,e.high),hc.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return Pa(~this.low,~this.high,this.unsigned)},T.and=function(e){return Eb(e)||(e=oc(e)),Pa(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return Eb(e)||(e=oc(e)),Pa(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return Eb(e)||(e=oc(e)),Pa(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return Eb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Pa(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Pa(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return Eb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Pa(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Pa(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(Eb(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return 32>e?Pa(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Pa(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?Pa(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:Pa(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Oa.fromBytes=function(e,t,n){return n?Oa.fromBytesLE(e,t):Oa.fromBytesBE(e,t)},Oa.fromBytesLE=function(e,t){return new Oa(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Oa.fromBytesBE=function(e,t){return new Oa(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var _Qi=function(e,t){return(_Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},pl=!1,bc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):pl&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),pl=e},get useDeprecatedSynchronousErrorHandling(){return pl}},ki={closed:!0,next:function(e){},error:function(e){if(bc.useDeprecatedSynchronousErrorHandling)throw e;Me(e)},complete:function(){}},cc=Array.isArray||function(e){return e&&"number"==typeof e.length},Nf=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),kb=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var o=0;o<t.length;++o)t[o].remove(this);if(Le(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof Nf?Wm(e.errors):[e]}}if(cc(i))for(o=-1,t=i.length;++o<t;)if(Ri(n=i[o]))try{n.unsubscribe()}catch(e){a=a||[],e instanceof Nf?a=a.concat(Wm(e.errors)):a.push(e)}if(a)throw new Nf(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(oa(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),li="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),za=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=ki;break;case 1:if(!n){o.destination=ki;break}if("object"===oa(n)){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new tr(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new tr(o,n,r,i)}return o}return da(t,e),t.prototype[li]=function(){return this},t.create=function(e,n,r){return(e=new t(e,n,r)).syncErrorThrowable=!1,e},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=e,this},t}(kb),tr=function(e){function t(t,n,r,i){var o=e.call(this)||this;if(o._parentSubscriber=t,t=o,Le(n))var a=n;else n&&(a=n.next,r=n.error,i=n.complete,n!==ki&&(Le((t=Object.create(n)).unsubscribe)&&o.add(t.unsubscribe.bind(t)),t.unsubscribe=o.unsubscribe.bind(o)));return o._context=t,o._next=a,o._error=r,o._complete=i,o}return da(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;bc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=bc.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Me(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Me(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};bc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,n):this.__tryOrUnsub(n)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),bc.useDeprecatedSynchronousErrorHandling)throw e;Me(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!bc.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{t.call(this._context,n)}catch(t){return bc.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):Me(t),!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._parentSubscriber=this._context=null,e.unsubscribe()},t}(za),Ne="function"==typeof Symbol&&Symbol.observable||"@@observable",ra=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator;e:{if(e){if(e instanceof za)break e;if(e[li]){e=e[li]();break e}}e=e||t||n?new za(e,t,n):new za(ki)}if(r?e.add(r.call(e,this.source)):e.add(this.source||bc.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),bc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){bc.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Si(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Ym(t))((function(t,r){var i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Ne]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Xm(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ym(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}(),Kd=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),ur=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return da(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1)}},t}(kb),vr=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return da(t,e),t}(za),nb=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return da(t,e),t.prototype[li]=function(){return new vr(this)},t.prototype.lift=function(e){var t=new wr(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Kd;if(!this.isStopped){var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].next(e)}},t.prototype.error=function(e){if(this.closed)throw new Kd;this.hasError=!0,this.thrownError=e,this.isStopped=!0;var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Kd;this.isStopped=!0;var e=this.observers,t=e.length;e=e.slice();for(var n=0;n<t;n++)e[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Kd;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Kd;return this.hasError?(e.error(this.thrownError),kb.EMPTY):this.isStopped?(e.complete(),kb.EMPTY):(this.observers.push(e),new ur(this,e))},t.prototype.asObservable=function(){var e=new ra;return e.source=this,e},t.create=function(e,t){return new wr(e,t)},t}(ra),wr=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return da(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):kb.EMPTY},t}(nb),pu=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;return n._refCount++,e=new yA(e,n),t=t.subscribe(e),e.closed||(e.connection=n.connect()),t},e}(),yA=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return da(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null},t}(za),xr=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return da(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new kb).add(this.source.subscribe(new zA(this.getSubject(),this))),e.closed&&(this._connection=null,e=kb.EMPTY)),e},t.prototype.refCount=function(){return Zm()(this)},t}(ra),bv=function(){var e=xr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),zA=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return da(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(vr);!function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}da(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null}}(za),function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).keySelector=n,t.elementSelector=r,t.durationSelector=i,t.subjectSelector=o,t.groups=null,t.attemptedToUnsubscribe=!1,t.count=0,t}da(t,e),t.prototype._next=function(e){try{var t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r=n.get(t);if(this.elementSelector)try{var i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r&&(r=this.subjectSelector?this.subjectSelector():new nb,n.set(t,r),e=new ql(t,r,this),this.destination.next(e),this.durationSelector)){e=void 0;try{e=this.durationSelector(new ql(t,r))}catch(e){return void this.error(e)}this.add(e.subscribe(new AA(t,r,this)))}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))}}(za);var AA=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return da(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(za),ql=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return da(t,e),t.prototype._subscribe=function(e){var t=new kb,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new BA(n)),t.add(r.subscribe(e)),t},t}(ra),BA=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return da(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(kb),CA=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return da(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Kd;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(nb),Ig=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return da(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return da(t,e),t.prototype.schedule=function(e,t){return this},t}(kb)),DA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return da(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),0<n?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return 0<n||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(Ig),rl=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Jg=function(e){function t(n,r){void 0===r&&(r=rl.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return da(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(rl),Kg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t}(Jg))(DA),Nb=new ra((function(e){return e.complete()})),$m=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},sl;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(sl||(sl={}));var vf=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return wb(this.value);case"E":return pa(this.error);case"C":return Of()}throw Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),tu=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new yr(e,this.scheduler,this.delay))},e}(),yr=function(e){function t(t,n,r){return void 0===r&&(r=0),(t=e.call(this,t)||this).scheduler=n,t.delay=r,t}return da(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new EA(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(vf.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(vf.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(vf.createComplete()),this.unsubscribe()},t}(za),EA=function(e,t){this.notification=e,this.destination=t},Qe=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=1>t?1:t,i._windowTime=1>n?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return da(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new FA(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;if(this.closed)throw new Kd;if(this.isStopped||this.hasError)var o=kb.EMPTY;else this.observers.push(e),o=new ur(this,e);if(r&&e.add(e=new yr(e,r)),t)for(t=0;t<i&&!e.closed;t++)e.next(n[t]);else for(t=0;t<i&&!e.closed;t++)e.next(n[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o},t.prototype._getNow=function(){return(this.scheduler||Kg).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),0<o&&r.splice(0,o),r},t}(nb),FA=function(e,t){this.time=e,this.value=t},Qf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return da(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),kb.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),kb.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(nb),GA=1,HA=Promise.resolve(),Vi={},zr={setImmediate:function(e){var t=GA++;return Vi[t]=!0,HA.then((function(){return an(t)&&e()})),t},clearImmediate:function(e){an(e)}},IA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return da(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=zr.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(zr.clearImmediate(n),t.scheduled=void 0)},t}(Ig),ej=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(Jg))(IA),JA=ej,tl=new Jg(Ig),xd=tl,KA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return da(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(Ig),Ar=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(Jg))(KA),LA=function(e){function t(t,n){void 0===t&&(t=Br),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return da(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(Jg),Br=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return da(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),this.delay=e.frame+r,(e=e.actions).push(this),e.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Ig),ul=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),bh=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Pb=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),uu=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new MA(e,this.project,this.thisArg))},e}(),MA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).project=n,t.count=0,t.thisArg=r||t,t}return da(t,e),t.prototype._next=function(e){try{var t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(za),vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(za),zu=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return da(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(za),NA=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Me),t}},vd="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",OA=function(e){return function(t){for(var n=e[vd]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},PA=function(e){return function(t){var n=e[Ne]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},gn=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},Rf=function(e){if(e&&"function"==typeof e[Ne])return PA(e);if(gn(e))return $m(e);if(en(e))return NA(e);if(e&&"function"==typeof e[vd])return OA(e);throw e=Ri(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Cr={},RA=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new QA(e,this.resultSelector))},e}(),QA=function(e){function t(t,n){return(t=e.call(this,t)||this).resultSelector=n,t.active=0,t.values=[],t.observables=[],t}return da(t,e),t.prototype._next=function(e){this.values.push(Cr),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.toRespond=this.active=t;for(var n=0;n<t;n++)this.add(Wi(this,e[n],void 0,n))}},t.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=(e=this.values)[n];r=this.toRespond?r===Cr?--this.toRespond:this.toRespond:0,e[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(e):this.destination.next(e.slice()))},t.prototype._tryResultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(vl),id=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return da(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(za);!function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i}da(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(za);var jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(za);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}da(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(za);var Du=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new SA(e,this.project,this.concurrent))},e}(),SA=function(e){function t(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),(t=e.call(this,t)||this).project=n,t.concurrent=r,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return da(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var t=new id(this),n=this.destination;n.add(t),(e=Yc(e,t))!==t&&n.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(jd),wl=Q.parseFloat,Dr=-1/0!=1/wl("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")?function(e){e=Ij(String(e));var t=wl(e);return 0===t&&"-"==e.charAt(0)?-0:t}:wl;ba({global:!0,forced:parseFloat!=Dr},{parseFloat:Dr});var xl=new ra(Cc),Iu=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new TA(e,this.predicate,this.thisArg))},e}(),TA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).predicate=n,t.thisArg=r,t.count=0,t}return da(t,e),t.prototype._next=function(e){try{var t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(za),Ju=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new UA(e))},e}(),UA=function(e){function t(t){return(t=e.call(this,t)||this).hasFirst=!1,t.observables=[],t.subscriptions=[],t}return da(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=Wi(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){for(this.hasFirst=!0,e=0;e<this.subscriptions.length;e++)if(e!==n){var r=this.subscriptions[e];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)},t}(vl),Mu=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new VA(e,this.resultSelector))},e}(),VA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).resultSelector=n,t.iterators=[],t.active=0,t.resultSelector="function"==typeof n?n:void 0,t}return da(t,e),t.prototype._next=function(e){var t=this.iterators;cc(e)?t.push(new WA(e)):"function"==typeof e[vd]?t.push(new XA(e[vd]())):t.push(new YA(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}var o=!1,a=[];for(r=0;r<t;r++){var s=(i=e[r]).next();if(i.hasCompleted()&&(o=!0),s.done)return void n.complete();a.push(s.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()},t.prototype._tryresultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(za),XA=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},e}(),WA=function(){function e(e){this.array=e,this.length=this.index=0,this.length=e.length}return e.prototype[vd]=function(){return this},e.prototype.next=function(e){e=this.index++;var t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),YA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).parent=n,t.observable=r,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return da(t,e),t.prototype[vd]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Yc(this.observable,new id(this))},t}(jd),ZA=Object.freeze({__proto__:null,Observable:ra,ConnectableObservable:xr,GroupedObservable:ql,observable:Ne,Subject:nb,BehaviorSubject:CA,ReplaySubject:Qe,AsyncSubject:Qf,asap:JA,asapScheduler:ej,async:xd,asyncScheduler:tl,queue:Kg,queueScheduler:Kg,animationFrame:Ar,animationFrameScheduler:Ar,VirtualTimeScheduler:LA,VirtualAction:Br,Scheduler:rl,Subscription:kb,Subscriber:za,Notification:vf,get NotificationKind(){return sl},pipe:Ti,noop:Cc,identity:td,isObservable:function(e){return!!e&&(e instanceof ra||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:ul,EmptyError:bh,ObjectUnsubscribedError:Kd,UnsubscriptionError:Nf,TimeoutError:Pb,bindCallback:bn,bindNodeCallback:cn,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=t=void 0;return ud(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&cc(e[0])&&(e=e[0]),Pf(e,n).lift(new RA(t))},concat:hn,defer:wd,empty:Of,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(cc(n))return ah(n,null);if(Ri(n)&&Object.getPrototypeOf(n)===Object.prototype)return ah((e=Object.keys(n)).map((function(e){return n[e]})),e)}if("function"==typeof e[e.length-1]){var r=e.pop();return ah(e=1===e.length&&cc(e[0])?e[0]:e,null).pipe(Da((function(e){return r.apply(void 0,e)})))}return ah(e,null)},from:Dc,fromEvent:Gb,fromEventPattern:kn,generate:function(e,t,n,r,i){if(1==arguments.length){var o=e.initialState;t=e.condition,n=e.iterate;var a=e.resultSelector||td;i=e.scheduler}else void 0===r||ud(r)?(o=e,a=td,i=r):(o=e,a=r);return new ra((function(e){var r=o;if(i)return i.schedule(Eu,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var s=void 0;try{s=t(r)}catch(t){e.error(t);break}if(!s){e.complete();break}}s=void 0;try{s=a(r)}catch(t){e.error(t);break}if(e.next(s),e.closed)break;try{r=n(r)}catch(t){e.error(t);break}}}))},iif:function(e,t,n){return void 0===t&&(t=Nb),void 0===n&&(n=Nb),wd((function(){return e()?t:n}))},interval:ln,merge:Ec,never:function(){return xl},of:wb,onErrorResumeNext:Yi,pairs:function(e,t){return new ra(t?function(n){var r=Object.keys(e),i=new kb;return i.add(t.schedule(Gu,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})},partition:function(e,t,n){return[Ob(t,n)(new ra(Rf(e))),Ob(Hu(t,n))(new ra(Rf(e)))]},race:ab,range:function(e,t,n){return void 0===e&&(e=0),new ra((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(Ku,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))},throwError:pa,timer:Zc,using:function(e,t){return new ra((function(n){try{var r=e()}catch(e){return void n.error(e)}try{var i=t(r)}catch(e){return void n.error(e)}var o=(i?Dc(i):Nb).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))},zip:Zi,scheduled:fn,EMPTY:Nb,NEVER:xl,config:bc}),Nu=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new $A(e,this.selector,this.caught))},e}(),$A=function(e){function t(t,n,r){return(t=e.call(this,t)||this).selector=n,t.caught=r,t}return da(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),t=new id(this),this.add(t),(n=Yc(n,t))!==t&&this.add(n)}},t}(jd),Ou=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new aB(e,this.defaultValue))},e}(),aB=function(e){function t(t,n){return(t=e.call(this,t)||this).defaultValue=n,t.isEmpty=!0,t}return da(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(za),Pu=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new bB(e,this.delay,this.scheduler))},e}(),bB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).delay=n,t.scheduler=r,t.queue=[],t.active=!1,t.errored=!1,t}return da(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;0<n.length&&0>=n[0].time-r.now();)n.shift().notification.observe(i);0<n.length?(t=Math.max(0,n[0].time-r.now()),this.schedule(e,t)):(this.unsubscribe(),t.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler;e=new cB(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(vf.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(vf.createComplete()),this.unsubscribe()},t}(za),cB=function(e,t){this.time=e,this.notification=t},Qu=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new dB(e,this.keySelector,this.flushes))},e}(),dB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).keySelector=n,t.values=new Set,r&&t.add(Yc(r,new id(t))),t}return da(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t=this.destination;try{var n=this.keySelector(e)}catch(e){return void t.error(e)}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(jd),Su=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new eB(e,this.errorFactory))},e}(),eB=function(e){function t(t,n){return(t=e.call(this,t)||this).errorFactory=n,t.hasValue=!1,t}return da(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(za),Tu=function(){function e(e){if(this.total=e,0>this.total)throw new ul}return e.prototype.call=function(e,t){return t.subscribe(new fB(e,this.total))},e}(),fB=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.count=0,t}return da(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(za),Uu=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new gB(e,this.callback))},e}(),gB=function(e){function t(t,n){return(t=e.call(this,t)||this).add(new kb(n)),t}return da(t,e),t}(za),Wu=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new hB(e))},e}(),hB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype._next=function(e){},t}(za),Xu=function(){function e(e){if(this.total=e,0>this.total)throw new ul}return e.prototype.call=function(e,t){return t.subscribe(new iB(e,this.total))},e}(),iB=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.ring=[],t.count=0,t}return da(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(za),Yu=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new jB(e,this.value))},e}(),jB=function(e){function t(t,n){return(t=e.call(this,t)||this).value=n,t}return da(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(za),Zu=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new kB(e,this.accumulator,this.seed,this.hasSeed))},e}(),kB=function(e){function t(t,n,r,i){return(t=e.call(this,t)||this).accumulator=n,t._seed=r,t.hasSeed=i,t.index=0,t}return da(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=n,this.destination.next(n)},t}(za),av=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory();return(e=n(r).subscribe(e)).add(t.subscribe(r)),e},e}(),cv=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new lB(e,this.notifier,this.source))},e}(),lB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).notifier=n,t.source=r,t}return da(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.retriesSubscription=this.errors=void 0;else{n=new nb;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}i=Yc(r,new id(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(jd),fv=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new mB(e,this.project))},e}(),mB=function(e){function t(t,n){return(t=e.call(this,t)||this).project=n,t.index=0,t}return da(t,e),t.prototype._next=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this._innerSub(n)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),t=new id(this);var n=this.destination;n.add(t),this.innerSubscription=Yc(e,t),this.innerSubscription!==t&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(jd),gv=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){e=new nB(e);var n=Yc(this.notifier,new id(e));return n&&!e.seenValue?(e.add(n),t.subscribe(e)):e},e}(),nB=function(e){function t(t){return(t=e.call(this,t)||this).seenValue=!1,t}return da(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(jd),hv=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new oB(e,this.nextOrObserver,this.error,this.complete))},e}(),oB=function(e){function t(t,n,r,i){return(t=e.call(this,t)||this)._tapNext=Cc,t._tapError=Cc,t._tapComplete=Cc,t._tapError=r||Cc,t._tapComplete=i||Cc,Le(n)?(t._context=t,t._tapNext=n):n&&(t._context=n,t._tapNext=n.next||Cc,t._tapError=n.error||Cc,t._tapComplete=n.complete||Cc),t}return da(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(za),jv={leading:!0,trailing:!1};!function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}da(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._sendValue;this._hasValue&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){(e=this.tryDurationSelector(e))&&this.add(this._throttled=Yc(e,new id(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()}}(jd);for(var kv=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new pB(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),pB=function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).duration=n,t.scheduler=r,t.leading=i,t.trailing=o,t._hasTrailingValue=!1,t._trailingValue=null,t}return da(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(lv,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(za),nv=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new qB(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),qB=function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).absoluteTimeout=n,t.waitFor=r,t.withObservable=i,t.scheduler=o,t.scheduleTimeout(),t}return da(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Yc(t,new id(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(jd),pv=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new rB(e,this.observables,this.project))},e}(),rB=function(e){function t(t,n,r){(t=e.call(this,t)||this).observables=n,t.project=r,t.toRespond=[],r=n.length,t.values=Array(r);for(var i=0;i<r;i++)t.toRespond.push(i);for(i=0;i<r;i++)t.add(Wi(t,n[i],void 0,i));return t}return da(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t,0<(e=this.toRespond).length&&-1!==(n=e.indexOf(n))&&e.splice(n,1)},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){0===this.toRespond.length&&(e=[e].concat(this.values),this.project?this._tryProject(e):this.destination.next(e))},t.prototype._tryProject=function(e){try{var t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(vl),Er=tb((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),ub=[],mi=0;256>mi;++mi)ub[mi]=(mi+256).toString(16).substr(1);var Fr=function(e,t){return t=t||0,[ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]]].join("")},Lg=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||Er)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||Fr(e)},Mg=Lg(),aj=!1,sn=new AbortController,kd,Ld,yl,zl,Md,pe,yc,wf,ic,Al,ld,qe,md,nd,od,xf;!function(e){e[e.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"}(kd||(kd={})),function(e){e[e.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",e[e.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Ld||(Ld={})),function(e){e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(yl||(yl={})),function(e){e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(zl||(zl={})),function(e){e[e.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",e[e.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",e[e.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",e[e.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(Md||(Md={})),function(e){e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",e[e.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",e[e.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",e[e.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(pe||(pe={})),function(e){e[e.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",e[e.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",e[e.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",e[e.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(yc||(yc={})),function(e){e[e.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",e[e.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(wf||(wf={})),function(e){e[e.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",e[e.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",e[e.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",e[e.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",e[e.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",e[e.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",e[e.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",e[e.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",e[e.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",e[e.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",e[e.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(ic||(ic={})),function(e){e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(Al||(Al={})),function(e){e[e.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",e[e.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",e[e.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",e[e.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(ld||(ld={})),function(e){e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(qe||(qe={})),function(e){e[e.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",e[e.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",e[e.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",e[e.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(md||(md={})),function(e){e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(nd||(nd={})),function(e){e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(od||(od={})),function(e){e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(xf||(xf={}));var jc=kd.ATTRIBUTE_OPERATION_ERR_FAILURE,bb=kd.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,Se=kd.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;kd.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var Gr=kd.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,kc=kd.ATTRIBUTE_OPERATION_ERR_TIMEOUT,lc=kd.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,ni=Ld.CHANNEL_MESSAGE_ERR_FAILURE,Bl=Ld.CHANNEL_MESSAGE_ERR_TIMEOUT,Hr=Ld.CHANNEL_MESSAGE_ERR_TOO_OFTEN,Cl=Ld.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,sB=Ld.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,Dl=Ld.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,tB=yl.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,Ir=zl.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;nd.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var Jr=nd.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;nd.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var Kr=nd.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,uB=nd.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;nd.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var vB=nd.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,wB=Md.GET_MEMBERS_ERR_FAILURE,xB=Md.GET_MEMBERS_ERR_REJECTED;Md.GET_MEMBERS_ERR_TIMEOUT,Md.GET_MEMBERS_ERR_TOO_OFTEN;var yB=Md.GET_MEMBERS_ERR_NOT_IN_CHANNEL,zB=Md.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,Tc=pe.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,AB=pe.INVITATION_API_CALL_ERR_NOT_STARTED,oi=pe.INVITATION_API_CALL_ERR_ALREADY_END,Lr=pe.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,BB=pe.INVITATION_API_CALL_ERR_ALREADY_SENT,Mr=yc.JOIN_CHANNEL_ERR_FAILURE;yc.JOIN_CHANNEL_ERR_REJECTED;var CB=yc.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,Nr=yc.JOIN_CHANNEL_TIMEOUT,Or=yc.JOIN_CHANNEL_ERR_EXCEED_LIMIT,Pr=yc.JOIN_CHANNEL_ERR_ALREADY_JOINED;yc.JOIN_CHANNEL_ERR_TOO_OFTEN;var Qr=yc.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Rr=yc.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Sr=wf.LEAVE_CHANNEL_ERR_FAILURE,Tr=wf.LEAVE_CHANNEL_ERR_REJECTED,DB=wf.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,EB=wf.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,Ur=ic.LOGIN_ERR_UNKNOWN,Ng=ic.LOGIN_ERR_REJECTED,pi=ic.LOGIN_ERR_INVALID_ARGUMENT,Vr=ic.LOGIN_ERR_INVALID_APP_ID,Wr=ic.LOGIN_ERR_INVALID_TOKEN,qi=ic.LOGIN_ERR_TOKEN_EXPIRED;ic.LOGIN_ERR_NOT_AUTHORIZED;var FB=ic.LOGIN_ERR_ALREADY_LOGIN,GB=ic.LOGIN_ERR_TIMEOUT,HB=ic.LOGIN_ERR_TOO_OFTEN,Xr=Al.LOGOUT_ERR_USER_NOT_LOGGED_IN,Yr=ld.PEER_MESSAGE_ERR_FAILURE,El=ld.PEER_MESSAGE_ERR_TIMEOUT,Zr=ld.PEER_MESSAGE_ERR_TOO_OFTEN,$r=ld.PEER_MESSAGE_ERR_INVALID_USERID,Xf=ld.PEER_MESSAGE_ERR_INVALID_MESSAGE,Fl=ld.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;ld.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var as=qe.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;qe.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var IB=qe.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;qe.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var JB=qe.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,Gl=md.RENEW_TOKEN_ERR_FAILURE,KB=md.RENEW_TOKEN_ERR_INVALID_ARGUMENT;md.RENEW_TOKEN_ERR_REJECTED,md.RENEW_TOKEN_ERR_TOO_OFTEN;var LB=md.RENEW_TOKEN_ERR_TOKEN_EXPIRED,MB=md.RENEW_TOKEN_ERR_INVALID_TOKEN,bs=md.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,cs=od.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,Og=od.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;od.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var NB=od.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;od.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var ds=od.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,Hl=od.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var OB=function(e,t){var n;return ll(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},ri=function(e,t,n){if(!Db(n))return!1;var r=oa(t);return!!("number"==r?$d(n)&&al(t,n.length):"string"==r&&t in n)&&Eg(n[t],e)},Il=function(e,t,n){var r=pb(e)?or:OB;return n&&ri(e,t,n)&&(t=void 0),r(e,tf(t))},PB=function(e,t){var n=-1,r=$d(e)?Array(e.length):[];return ll(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},QB=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},RB=function(e,t,n){t=t.length?He(t,(function(e){return pb(e)?function(t){return ii(t,1===e.length?e[0]:e)}:e})):[ji];var r=-1;return t=He(t,fi(tf)),e=PB(e,(function(e,n,i){return{criteria:He(t,(function(t){return t(e)})),index:++r,value:e}})),QB(e,(function(e,t){e:{for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){t:{var c=i[r],u=o[r];if(c!==u){var l=void 0!==c,d=null===c,f=c==c,p=Ie(c),h=void 0!==u,v=null===u,g=u==u,A=Ie(u);if(!v&&!A&&!p&&c>u||p&&h&&g&&!v&&!A||d&&h&&g||!l&&g||!f){c=1;break t}if(!d&&!p&&!A&&c<u||A&&l&&f&&!d&&!p||v&&l&&f||!h&&f||!g){c=-1;break t}}c=0}if(c){e=r>=s?c:c*("desc"==n[r]?-1:1);break e}}e=e.index-t.index}return e}))},es=function(e,t){return mr(lr(e,t,ji),e+"")},fs=es((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&ri(e,t[0],t[1])?t=[]:2<n&&ri(t[0],t[1],t[2])&&(t=[t[0]]),RB(e,Mi(t,1),[])})),gs=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}(ZA),hs=tb((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=function(e,t){return new WebSocket(e,t)};t.normalClosureMessage="Normal closure",t.default=function(e,i){var o=(i=void 0===i?{protocols:n,makeWebSocket:r}:i).protocols,a=void 0===o?n:o,s=void 0===(i=i.makeWebSocket)?r:i;return new gs.Observable((function(n){var r,i=new gs.Subject,o=s(e,a),c=!1,u=!1,l=function(e){if(r)throw c=!0,e=Error("Web socket message factory function called more than once"),n.error(e),e;return r=e.subscribe((function(e){o.send(e)})),i};return o.onopen=function(){u?(c=!0,o.close()):n.next(l)},o.onmessage=function(e){i.next(e.data)},o.onerror=function(e){c=!0,n.error(Error(e.message))},o.onclose=function(e){c||(c=!0,u?(n.complete(),i.complete()):n.error(Error(1e3===e.code?t.normalClosureMessage:e.reason)))},function(){u=!0,r&&r.unsubscribe(),c||(c=!0,o.close())}}))}}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(hs);var cj=function(e,t,n){(void 0===n||Eg(e[t],n))&&(void 0!==n||t in e)||Gg(e,t,n)},bj=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},SB=function(e){return es((function(t,n){var r=-1,i=n.length,o=1<i?n[i-1]:void 0,a=2<i?n[2]:void 0;for(o=3<e.length&&"function"==typeof o?(i--,o):void 0,a&&ri(n[0],n[1],a)&&(o=3>i?void 0:o,i=1),t=Object(t);++r<i;)(a=n[r])&&e(t,a,r,o);return t}))}((function(e,t,n,r){tn(e,t,n,r)})),TB=Math.floor,UB=Math.random,is=function(e,t){return e+TB(UB()*(t-e+1))},js=function(e){var t=e.length;return t?e[is(0,t-1)]:void 0},VB=function(e,t){return He(t,(function(t){return e[t]}))},tj=function(e){return null==e?[]:VB(e,Vd(e))},WB=function(e){return js(tj(e))},Xn=function(e){return(pb(e)?js:WB)(e)},xn=[],yn=function(e,t){return new WebSocket(e,t)},XB=Math.floor;ba({target:"Number",stat:!0},{isInteger:function(e){return!va(e)&&isFinite(e)&&XB(e)===e}}),Mp("from",mk,lk);var YB=function(e,t){for(var n=Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))},ZB=tb((function(e,t){t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};var n=Array(64),r=Array(123);for(e=0;64>e;)r[n[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(e,t,r){for(var i,o=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=n[u>>2],i=(3&u)<<4,c=1;break;case 1:a[s++]=n[i|u>>4],i=(15&u)<<2,c=2;break;case 2:a[s++]=n[i|u>>6],a[s++]=n[63&u],c=0}8191<s&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=n[i],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))},t.decode=function(e,t,n){for(var i,o=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&1<a)break;if(void 0===(c=r[c]))throw Error("invalid encoding");switch(a){case 0:i=c,a=1;break;case 1:t[n++]=i<<2|(48&c)>>4,i=c,a=2;break;case 2:t[n++]=(15&i)<<4|(60&c)>>2,i=c,a=3;break;case 3:t[n++]=(3&i)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}));eh.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},eh.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else{e=this._listeners[e];for(var n=0;n<e.length;)e[n].fn===t?e.splice(n,1):++n}return this},eh.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var $B=zn(zn),aC=function aC(c){try{var b=eval("quire".replace(/^/,"re"))(c);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},bC=tb((function(e,t){t.length=function(e){for(var t,n=0,r=0;r<e.length;++r)128>(t=e.charCodeAt(r))?n+=1:2048>t?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},t.read=function(e,t,n){if(1>n-t)return"";for(var r,i=null,o=[],a=0;t<n;)128>(r=e[t++])?o[a++]=r:191<r&&224>r?o[a++]=(31&r)<<6|63&e[t++]:239<r&&365>r?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)128>(r=e.charCodeAt(a))?t[n++]=r:(2048>r?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-o}})),cC=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){return 1>n||n>i?e(n):(a+n>r&&(o=e(r),a=0),n=t.call(o,a,a+=n),7&a&&(a=1+(7|a)),n)}},re=qb.zero=new qb(0,0);re.toNumber=function(){return 0},re.zzEncode=re.zzDecode=function(){return this},re.length=function(){return 1};var dC=qb.zeroHash="\0\0\0\0\0\0\0\0";qb.fromNumber=function(e){if(0===e)return re;var t=0>e;t&&(e=-e);var n=e>>>0;return e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new qb(n,e)},qb.from=function(e){if("number"==typeof e)return qb.fromNumber(e);if(na.isString(e)){if(!na.Long)return qb.fromNumber(parseInt(e,10));e=na.Long.fromString(e)}return e.low||e.high?new qb(e.low>>>0,e.high>>>0):re},qb.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},qb.prototype.toLong=function(e){return na.Long?new na.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var Nd=String.prototype.charCodeAt;qb.fromHash=function(e){return e===dC?re:new qb((Nd.call(e,0)|Nd.call(e,1)<<8|Nd.call(e,2)<<16|Nd.call(e,3)<<24)>>>0,(Nd.call(e,4)|Nd.call(e,5)<<8|Nd.call(e,6)<<16|Nd.call(e,7)<<24)>>>0)},qb.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},qb.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},qb.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},qb.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>n?9:10};var na=tb((function(e,t){function n(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=YB,t.base64=ZB,t.EventEmitter=eh,t.float=$B,t.inquire=aC,t.utf8=bC,t.pool=cC,t.LongBits=qb,t.isNode=!!(void 0!==Va&&Va&&Va.process&&Va.process.versions&&Va.process.versions.node),t.global=t.isNode&&Va||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||Va,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===oa(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==oa(n)||0<(Array.isArray(n)?n.length:Object.keys(n).length))},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){return e=t.LongBits.fromHash(e),t.Long?t.Long.fromBits(e.lo,e.hi,n):e.toNumber(!!n)},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),kj=xa,Jl,si=na.LongBits,ks=na.base64,ls=na.utf8,ms=function(){return na.Buffer?function(){return(xa.create=function(){return new Jl})()}:function(){return new xa}};xa.create=ms(),xa.alloc=function(e){return new na.Array(e)},na.Array!==Array&&(xa.alloc=na.pool(xa.alloc,na.Array.prototype.subarray)),xa.prototype._push=function(e,t,n){return this.tail=this.tail.next=new Uf(e,t,n),this.len+=t,this},hj.prototype=Object.create(Uf.prototype),hj.prototype.fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},xa.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new hj(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},xa.prototype.int32=function(e){return 0>e?this._push(ij,10,si.fromNumber(e)):this.uint32(e)},xa.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},xa.prototype.uint64=function(e){return e=si.from(e),this._push(ij,e.length(),e)},xa.prototype.int64=xa.prototype.uint64,xa.prototype.sint64=function(e){return e=si.from(e).zzEncode(),this._push(ij,e.length(),e)},xa.prototype.bool=function(e){return this._push(gj,1,e?1:0)},xa.prototype.fixed32=function(e){return this._push(jj,4,e>>>0)},xa.prototype.sfixed32=xa.prototype.fixed32,xa.prototype.fixed64=function(e){return e=si.from(e),this._push(jj,4,e.lo)._push(jj,4,e.hi)},xa.prototype.sfixed64=xa.prototype.fixed64,xa.prototype.float=function(e){return this._push(na.float.writeFloatLE,4,e)},xa.prototype.double=function(e){return this._push(na.float.writeDoubleLE,8,e)};var eC=na.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};xa.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(gj,1,0);if(na.isString(e)){var n=xa.alloc(t=ks.length(e));ks.decode(e,n,0),e=n}return this.uint32(t)._push(eC,t,e)},xa.prototype.string=function(e){var t=ls.length(e);return t?this.uint32(t)._push(ls.write,t,e):this._push(gj,1,0)},xa.prototype.fork=function(){return this.states=new sv(this),this.head=this.tail=new Uf(fj,0,0),this.len=0,this},xa.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Uf(fj,0,0),this.len=0),this},xa.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},xa.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},xa._configure=function(e){Jl=e,xa.create=ms(),Jl._configure()},(Hc.prototype=Object.create(kj.prototype)).constructor=Hc,Hc._configure=function(){Hc.alloc=na._Buffer_allocUnsafe,Hc.writeBytesBuffer=na.Buffer&&na.Buffer.prototype instanceof Uint8Array&&"set"===na.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},Hc.prototype.bytes=function(e){na.isString(e)&&(e=na._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Hc.writeBytesBuffer,t,e),this},Hc.prototype.string=function(e){var t=na.Buffer.byteLength(e);return this.uint32(t),t&&this._push(tv,t,e),this},Hc._configure();var mj=eb,Kl,En=na.LongBits,fC=na.utf8,ns="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new eb(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new eb(e);throw Error("illegal buffer")},os=function(){return na.Buffer?function(e){return(eb.create=function(e){return na.Buffer.isBuffer(e)?new Kl(e):ns(e)})(e)}:ns};eb.create=os(),eb.prototype._slice=na.Array.prototype.subarray||na.Array.prototype.slice,eb.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++])return e;if((this.pos+=5)>this.len)throw this.pos=this.len,pc(this,10);return e}}(),eb.prototype.int32=function(){return 0|this.uint32()},eb.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},eb.prototype.bool=function(){return 0!==this.uint32()},eb.prototype.fixed32=function(){if(this.pos+4>this.len)throw pc(this,4);return fh(this.buf,this.pos+=4)},eb.prototype.sfixed32=function(){if(this.pos+4>this.len)throw pc(this,4);return 0|fh(this.buf,this.pos+=4)},eb.prototype.float=function(){if(this.pos+4>this.len)throw pc(this,4);var e=na.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},eb.prototype.double=function(){if(this.pos+8>this.len)throw pc(this,4);var e=na.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},eb.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw pc(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},eb.prototype.string=function(){var e=this.bytes();return fC.read(e,0,e.length)},eb.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw pc(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw pc(this)}while(128&this.buf[this.pos++]);return this},eb.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},eb._configure=function(e){Kl=e,eb.create=os(),Kl._configure();var t=na.Long?"toLong":"toNumber";na.merge(eb.prototype,{int64:function(){return lj.call(this)[t](!1)},uint64:function(){return lj.call(this)[t](!0)},sint64:function(){return lj.call(this).zzDecode()[t](!1)},fixed64:function(){return Fn.call(this)[t](!0)},sfixed64:function(){return Fn.call(this)[t](!1)}})},(ae.prototype=Object.create(mj.prototype)).constructor=ae,ae._configure=function(){na.Buffer&&(ae.prototype._slice=na.Buffer.prototype.slice)},ae.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},ae._configure(),(Vf.prototype=Object.create(na.EventEmitter.prototype)).constructor=Vf,Vf.prototype.rpcCall=function e(t,n,r,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return na.asPromise(e,a,t,n,r,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){a.emit("error",e,t),setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},Vf.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var gC=tb((function(e,t){t.Service=Vf})),hC={},zc=tb((function(e,t){function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=t;r.build="minimal",r.Writer=kj,r.BufferWriter=Hc,r.Reader=mj,r.BufferReader=ae,r.util=na,r.rpc=gC,r.roots=hC,r.configure=n,n()}));zc.util.Long=ma,zc.configure();var K=zc.Reader,fa=zc.Writer,D=zc.util,H=zc.roots.default||(zc.roots.default={}),iC=H.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[15]="UserTicketNearlyExpireUri"]=15,t[e[16]="UserRenewTokenReqUri"]=16,t[e[17]="UserRenewTokenRespUri"]=17,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t}(),ti=H.Wrapper=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri=0,e.prototype.data=D.newBuffer([]),e.encode=function(e,t){return t||(t=fa.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(8).int32(e.uri),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Wrapper;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.uri=e.int32();break;case 2:n.data=e.bytes();break;default:e.skipType(7&r)}}return n},e}(),jC=H.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Ping;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),kC=H.Pong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Pong;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),lC=H.UserJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.opt=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.opt&&Object.hasOwnProperty.call(e,"opt")&&t.uint32(16).uint64(e.opt),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(34).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(42).string(e.ticket),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserJoin;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.opt=e.uint64();break;case 3:n.instance=e.uint64();break;case 4:n.account=e.string();break;case 5:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),mC=H.UserResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserResp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),nC=H.UserQuit=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.encode=function(e,t){return t||(t=fa.create()),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserQuit;e.pos<t;){var r=e.uint32();e.skipType(7&r)}return n},e}(),oC=H.UserDrop=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserDrop;e.pos<t;){var r=e.uint32();r>>>3===1?n.code=e.uint32():e.skipType(7&r)}return n},e}(),pC=H.UserTicketNearlyExpire=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expireTs=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ticket="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.expireTs&&Object.hasOwnProperty.call(e,"expireTs")&&t.uint32(8).uint64(e.expireTs),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(18).string(e.ticket),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserTicketNearlyExpire;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.expireTs=e.uint64();break;case 2:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),qC=H.UserRenewTokenReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(26).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(34).string(e.ticket),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserRenewTokenReq;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.account=e.string();break;case 4:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),rC=H.UserRenewTokenResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserRenewTokenResp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),sC=H.GroupEnter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupEnter;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),tC=H.GroupLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupLeave;e.pos<t;){var r=e.uint32();r>>>3===1?n.account=e.string():e.skipType(7&r)}return n},e}(),uC=H.GroupReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupReply;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),ps=H.GroupLeaveNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupLeaveNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.user=e.string();break;case 3:n.group=e.string();break;case 4:n.instance=e.uint64();break;case 5:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),qs=H.GroupEnterNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupEnterNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.user=e.string();break;case 3:n.group=e.string();break;case 4:n.instance=e.uint64();break;case 5:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),rs=H.Message=function(){function e(e){if(this.MiscMap={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.dialogue=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.sequence=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.options=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=D.newBuffer([]),e.prototype.MiscMap=D.emptyObject,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(32).uint64(e.options),null!=e.src&&Object.hasOwnProperty.call(e,"src")&&t.uint32(42).string(e.src),null!=e.dst&&Object.hasOwnProperty.call(e,"dst")&&t.uint32(50).string(e.dst),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(58).bytes(e.payload),null!=e.MiscMap&&Object.hasOwnProperty.call(e,"MiscMap"))for(var n=Object.keys(e.MiscMap),r=0;r<n.length;++r)t.uint32(66).fork().uint32(10).string(n[r]).uint32(18).bytes(e.MiscMap[n[r]]).ldelim();return null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(72).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n,r,i=new H.Message;e.pos<t;)switch((n=e.uint32())>>>3){case 1:i.instance=e.uint64();break;case 2:i.dialogue=e.uint64();break;case 3:i.sequence=e.uint64();break;case 4:i.options=e.uint64();break;case 5:i.src=e.string();break;case 6:i.dst=e.string();break;case 7:i.payload=e.bytes();break;case 8:i.MiscMap===D.emptyObject&&(i.MiscMap={});var o=e.uint32()+e.pos;for(n="",r=[];e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:n=e.string();break;case 2:r=e.bytes();break;default:e.skipType(7&a)}}i.MiscMap[n]=r;break;case 9:i.ms=e.uint64();break;default:e.skipType(7&n)}return i},e}(),ss=H.Ack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.dialogue=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.sequence=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Ack;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.dialogue=e.uint64();break;case 3:n.sequence=e.uint64();break;case 4:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),vC=H.GroupAllUsersList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(32).uint32(e.pageNumber),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAllUsersList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.pageSize=e.uint32();break;case 4:n.pageNumber=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),wC=H.GroupAllUsersResult=function(){function e(e){if(this.memberInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.totalSize&&Object.hasOwnProperty.call(e,"totalSize")&&t.uint32(24).uint32(e.totalSize),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(32).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(40).uint32(e.pageNumber),null!=e.memberInfos&&e.memberInfos.length)for(var n=0;n<e.memberInfos.length;++n)H.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[n],t.uint32(50).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAllUsersResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.totalSize=e.uint32();break;case 4:n.pageSize=e.uint32();break;case 5:n.pageNumber=e.uint32();break;case 6:n.memberInfos&&n.memberInfos.length||(n.memberInfos=[]),n.memberInfos.push(H.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.MemberInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAllUsersResult.MemberInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.ts=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),xC=H.UserStatusList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserStatusList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),yC=H.UserStatusResult=function(){function e(e){if(this.userInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.userInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.userInfos&&e.userInfos.length)for(var n=0;n<e.userInfos.length;++n)H.UserStatusResult.UserStatusInfo.encode(e.userInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserStatusResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.userInfos&&n.userInfos.length||(n.userInfos=[]),n.userInfos.push(H.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.UserStatusInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserStatusResult.UserStatusInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.ts=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),zC=H.UserAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),AC=H.UserAttributeRet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeRet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),BC=H.UserAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeSet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeSet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),CC=H.UserAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeMod;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeMod.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),DC=H.UserAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeDel;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),EC=H.UserAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeErr;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),FC=H.UserAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeKeysGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),GC=H.UserAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.keys=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeKeysRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.keys&&n.keys.length||(n.keys=[]),n.keys.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),HC=H.UserAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeRsp;e.pos<t;){var r=e.uint32();r>>>3===1?n.seq=e.uint64():e.skipType(7&r)}return n},e}(),IC=H.GroupStatusList=function(){function e(e){if(this.groups=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.groups=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groups&&e.groups.length)for(var n=0;n<e.groups.length;++n)t.uint32(18).string(e.groups[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupStatusList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.groups&&n.groups.length||(n.groups=[]),n.groups.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),JC=H.GroupStatusResult=function(){function e(e){if(this.groupInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groupInfos&&e.groupInfos.length)for(var n=0;n<e.groupInfos.length;++n)H.GroupStatusResult.GroupInfo.encode(e.groupInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupStatusResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.groupInfos&&n.groupInfos.length||(n.groupInfos=[]),n.groupInfos.push(H.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.GroupInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.memberCount&&Object.hasOwnProperty.call(e,"memberCount")&&t.uint32(16).uint32(e.memberCount),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupStatusResult.GroupInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.group=e.string();break;case 2:n.memberCount=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),KC=H.GroupCountNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint32(e.size),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupCountNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.group=e.string();break;case 4:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),LC=H.GroupAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),MC=H.GroupAttributeRet=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeMaps&&e.attributeMaps.length)for(var n=0;n<e.attributeMaps.length;++n)H.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.attributeMaps&&n.attributeMaps.length||(n.attributeMaps=[]),n.attributeMaps.push(H.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeRet.AttributeMap;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;case 3:n.origin=e.string();break;case 4:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),e}(),NC=H.GroupAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeSet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeSet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),OC=H.GroupAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeMod;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeMod.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),PC=H.GroupAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(34).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeDel;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),QC=H.GroupAttributeAlt=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.attributeMaps&&e.attributeMaps.length)for(var n=0;n<e.attributeMaps.length;++n)H.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeAlt;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.instance=e.uint64();break;case 4:n.attributeMaps&&n.attributeMaps.length||(n.attributeMaps=[]),n.attributeMaps.push(H.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeAlt.AttributeMap;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;case 3:n.origin=e.string();break;case 4:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),e}(),RC=H.GroupAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeRsp;e.pos<t;){var r=e.uint32();r>>>3===1?n.seq=e.uint64():e.skipType(7&r)}return n},e}(),SC=H.GroupAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeErr;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),TC=H.GroupAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeKeysGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;default:e.skipType(7&r)}}return n},e}(),UC=H.GroupAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.keys=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeKeysRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.keys&&n.keys.length||(n.keys=[]),n.keys.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),VC=H.SubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.SubscribeUserStatus;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),WC=H.UnsubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UnsubscribeUserStatus;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),XC=H.UserJoinNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserJoinNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),YC=H.UserQuitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserQuitNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),ZC=H.UserWaitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserWaitNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),$C=H.SubscribeResponse=function(){function e(e){if(this.errors=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.errors=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.errors&&e.errors.length)for(var n=0;n<e.errors.length;++n)H.SubscribeResponse.SubscribeErrorsType.encode(e.errors[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.SubscribeResponse;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.errors&&n.errors.length||(n.errors=[]),n.errors.push(H.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.SubscribeErrorsType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.SubscribeResponse.SubscribeErrorsType;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),aD=Object.freeze({__proto__:null,URI:iC,Wrapper:ti,Ping:jC,Pong:kC,UserJoin:lC,UserResp:mC,UserQuit:nC,UserDrop:oC,UserTicketNearlyExpire:pC,UserRenewTokenReq:qC,UserRenewTokenResp:rC,GroupEnter:sC,GroupLeave:tC,GroupReply:uC,GroupLeaveNotice:ps,GroupEnterNotice:qs,Message:rs,Ack:ss,GroupAllUsersList:vC,GroupAllUsersResult:wC,UserStatusList:xC,UserStatusResult:yC,UserAttributeGet:zC,UserAttributeRet:AC,UserAttributeSet:BC,UserAttributeMod:CC,UserAttributeDel:DC,UserAttributeErr:EC,UserAttributeKeysGet:FC,UserAttributeKeysRet:GC,UserAttributeRsp:HC,GroupStatusList:IC,GroupStatusResult:JC,GroupCountNotice:KC,GroupAttributeGet:LC,GroupAttributeRet:MC,GroupAttributeSet:NC,GroupAttributeMod:OC,GroupAttributeDel:PC,GroupAttributeAlt:QC,GroupAttributeRsp:RC,GroupAttributeErr:SC,GroupAttributeKeysGet:TC,GroupAttributeKeysRet:UC,SubscribeUserStatus:VC,UnsubscribeUserStatus:WC,UserJoinNotice:XC,UserQuitNotice:YC,UserWaitNotice:ZC,SubscribeResponse:$C,default:H}),bD=Math.ceil,ts=function(e){return function(t,n,r){var i=(t=String(Bb(t))).length;return r=void 0===r?" ":String(r),(n=La(n))<=i||""==r?t:(n-=i,(i=So.call(r,bD(n/r.length))).length>n&&(i=i.slice(0,n)),e?t+i:i+t)}},cD=ts(!1),dD=ts(!0),us=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(af);ba({target:"String",proto:!0,forced:us},{padEnd:function(e){return dD(this,e,1<arguments.length?arguments[1]:void 0)}});var eD=cg,vs=function(e){return function(t){t=Ib(t);for(var n,r=$c(t),i=r.length,o=0,a=[];i>o;)n=r[o++],ta&&!eD.call(t,n)||a.push(e?[n,t[n]]:t[n]);return a}},fD=vs(!0),gD=vs(!1);ba({target:"Object",stat:!0},{entries:function(e){return fD(e)}});var hD=Zb.f,ws="".endsWith,iD=Math.min,xs=Kk("endsWith"),jD=!xs&&!!function(){var e=hD(String.prototype,"endsWith");return e&&!e.writable}();ba({target:"String",proto:!0,forced:!jD&&!xs},{endsWith:function(e){var t=String(Bb(this));Jk(e);var n=1<arguments.length?arguments[1]:void 0,r=La(t.length);return n=void 0===n?r:iD(La(n),r),r=String(e),ws?ws.call(t,r,n):t.slice(n-r.length,n)===r}}),yh("match",1,(function(e,t,n){return[function(t){var n=Bb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;if(e=Ia(e),r=String(this),!e.global)return bf(e,r);var i=e.unicode;e.lastIndex=0;for(var o,a=[],s=0;null!==(o=bf(e,r));)o=String(o[0]),a[s]=o,""===o&&(e.lastIndex=Gj(r,La(e.lastIndex),i)),s++;return 0===s?null:a}]}));var kD=Zb.f,ys="".startsWith,lD=Math.min,zs=Kk("startsWith"),mD=!zs&&!!function(){var e=kD(String.prototype,"startsWith");return e&&!e.writable}();ba({target:"String",proto:!0,forced:!mD&&!zs},{startsWith:function(e){var t=String(Bb(this));Jk(e);var n=La(lD(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return ys?ys.call(t,r,n):t.slice(n,n+r.length)===r}});var Nn=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,(function(e,t,r,i){switch(r=n.shift(),i){case"s":r=""+r;break;case"d":r=Number(r);break;case"j":r=JSON.stringify(r)}return t?(n.unshift(r),e):r}))),n.length&&(e+=" "+n.join(" ")),""+e.replace(/%{2,2}/g,"%")},nD=/\s/,oD=/^\s+/,As=NaN,pD=/^[-+]0x[0-9a-f]+$/i,qD=/^0b[01]+$/i,rD=/^0o[0-7]+$/i,sD=parseInt,Ll=function(e){if("number"==typeof e)return e;if(Ie(e))return As;if(Db(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=Db(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;if(e){for(var t=e.slice,n=e.length;n--&&nD.test(e.charAt(n)););e=t.call(e,0,n+1).replace(oD,"")}return(t=qD.test(e))||rD.test(e)?sD(e.slice(2),t?2:8):pD.test(e)?As:+e},tD=Math.max,uD=Math.min,vD=function(e,t,n){function r(t){var n=c,r=u;return c=u=void 0,p=t,l=e.apply(r,n)}function i(e){var n=e-f;return e-=p,void 0===f||n>=t||0>n||v&&e>=A}function o(){var e=Wb.Date.now();if(i(e))return a(e);var n=setTimeout,r=e-p;e=t-(e-f),r=v?uD(e,A-r):e,d=n(o,r)}function a(e){return d=void 0,g&&c?r(e):(c=u=void 0,l)}function s(){var e=Wb.Date.now(),n=i(e);if(c=arguments,u=this,f=e,n){if(void 0===d)return p=e=f,d=setTimeout(o,t),h?r(e):l;if(v)return clearTimeout(d),d=setTimeout(o,t),r(f)}return void 0===d&&(d=setTimeout(o,t)),l}var c,u,l,d,f,p=0,h=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=Ll(t)||0,Db(n)){h=!!n.leading;var A=(v="maxWait"in n)?tD(Ll(n.maxWait)||0,t):A;g="trailing"in n?!!n.trailing:g}return s.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=f=u=d=void 0},s.flush=function(){return void 0===d?l:a(Wb.Date.now())},s},pd=function(e){function t(e,r){return ua(this,t),x(z(e=n.call(this,Mn(e,r))),"originalError",void 0),x(z(e),"code",void 0),x(z(e),"serverCode",void 0),"number"==typeof r?e.code=r:"string"==typeof r?e.name=r:void 0!==r&&(r.originalError&&(e.originalError=r.originalError),void 0!==r.code&&(e.code=r.code),void 0!==r.serverCode&&(e.serverCode=r.serverCode)),e}Ga(t,e);var n=Ha(t);return t}(If(Error)),qd=function(e){function t(e,r){return ua(this,t),x(z(e=n.call(this,Mn(e,r))),"name","RtmInternalError"),x(z(e),"code",void 0),e.code=r,e}Ga(t,e);var n=Ha(t);return t}(If(Error)),ui=function(){return function(e){function t(e){ua(this,t);var r=Object.keys(e);return n.call(this,e[r[0]],r[0])}Ga(t,e);var n=Ha(t);return t}(qd)},ib=ui(),Qb=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmTimeoutError"),e}Ga(t,e);var n=Ha(t);return t}(pd),Z=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvalidArgumentError"),e}Ga(t,e);var n=Ha(t);return t}(pd),aa=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvalidStatusError"),e}Ga(t,e);var n=Ha(t);return t}(pd),dc=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmLimitExceededError"),e}Ga(t,e);var n=Ha(t);return t}(pd),wD=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvokeTooOftenError"),e}Ga(t,e);var n=Ha(t);return t}(pd),Ja=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnavailableError"),x(z(e),"serverCode",void 0),x(z(e),"statusCode",void 0),e}Ga(t,e);var n=Ha(t);return t}(pd),yf=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnauthenticatedError"),x(z(e),"serverCode",void 0),e}Ga(t,e);var n=Ha(t);return t}(pd),se=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnknownError"),e}Ga(t,e);var n=Ha(t);return t}(pd),vb=function(e){return e instanceof Qb||e instanceof Pb},Ma=function(e){return e instanceof pd},te=function(e,t,n){return['Executing "%s.%s" timed out after %ds',e,t,n/1e3]},Ln=new Map,xD=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},$f=Object.keys,lh=Object.entries.bind(Object),ih=function(e){return"string"==typeof e?e.endsWith(".")?e:"".concat(e,"."):e},yD=ia((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));ba({target:"Date",proto:!0,forced:yD},{toJSON:function(e){e=lb(this);var t=Kc(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}}),ba({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var wv=Object.prototype.hasOwnProperty,Bs=function(e,t,n){return JSON.stringify(Tn(e),t,n)};Bs.ensureProperties=Tn;var zD=function(e,t){t=t||{};var n=oa(e);if("string"===n&&0<e.length)return xv(e);if("number"===n&&isFinite(e))return e=t.long?864e5<=(t=Math.abs(e))?nh(e,t,864e5,"day"):36e5<=t?nh(e,t,36e5,"hour"):6e4<=t?nh(e,t,6e4,"minute"):1e3<=t?nh(e,t,1e3,"second"):e+" ms":864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},AD=function(e){function t(e){function r(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(r.enabled){e=Number(new Date),r.diff=e-(i||e),r.prev=i,i=r.curr=e,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,i){return"%%"===e?"%":(a++,"function"==typeof(i=t.formatters[i])&&(e=i.call(r,n[a]),n.splice(a,1),a--),e)})),t.formatArgs.call(r,n),(r.log||t.log).apply(r,n)}}var i,o=null;return r.namespace=e,r.useColors=t.useColors(),r.color=t.selectColor(e),r.extend=n,r.destroy=t.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===o?t.enabled(e):o},set:function(e){o=e}}),"function"==typeof t.init&&t.init(r),r}function n(e,n){return(e=t(this.namespace+(void 0===n?":":n)+e)).log=this.log,e}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(W(t.names.map(r)),W(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r=0;for(n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=zD,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},Cs=tb((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){try{var e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/meetpoint",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PROD_BACKEND_URL:"https://meet-back.herokuapp.com/api/v1",REACT_APP_DEV_BACKEND_URL:"https://meet-back.herokuapp.com/api/v1",REACT_APP_AGORA_APP_ID:"d47de0dd05ee4d9cba3c6a62c8c8bbef",REACT_APP_AGORA_APP_CERT:"764ce84797ab41dba25813de6acec229"}.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var n=localStorage;break e}catch(r){}n=void 0}var r;t.storage=n,t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=AD(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Ds=Cs("RTM:DEBUG"),zf;Ds.enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(zf||(zf={}));var BD=function(){function e(t){ua(this,e),x(this,"uploadRequest",void 0),x(this,"uploadState",void 0),x(this,"uploadResendCount",void 0),x(this,"LogCache",void 0),x(this,"LogsToPost",void 0),x(this,"processId",void 0),x(this,"sdkVersion",void 0),x(this,"logId",void 0),x(this,"rtmConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.rtmConfig=t.rtmConfig,this.uploadRequest=t.uploadRequest,this.uploadState=zf.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return cb(e,[{key:"upload",value:function(e){this.LogCache.push(e),this.uploadState===zf.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(e){var t=this;this.uploadState=zf.Uploading,setTimeout(ja(M.mark((function n(){var r,i,o;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={sdk_version:t.sdkVersion,process_id:t.processId,payload:JSON.stringify(e)},n.prev=1,n.next=4,t.uploadRequest(r,null!==(i=t.rtmConfig.enableCloudProxy)&&void 0!==i&&i);case 4:if(!aj){n.next=6;break}throw Error("RTM is busy");case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),o=2>t.uploadResendCount++?2e3:1e4,setTimeout((function(){return t.postLog(t.LogsToPost)}),o),n.abrupt("return");case 13:if(Ds('The logs uploaded for "process-'.concat(Mg,'"')),0!==t.LogCache.length){n.next=17;break}return t.uploadState=zf.Free,n.abrupt("return");case 17:t.uploadResendCount=0,t.LogsToPost=40>t.LogCache.length?t.LogCache.splice(0,t.LogCache.length):t.LogCache.splice(0,40),t.postLog(t.LogsToPost);case 20:case"end":return n.stop()}}),n,null,[[1,8]])}))),ue.getParameter("LOG_UPLOAD_INTERVAL"))}}]),e}(),Es=function e(t,n,r,i,o,a,s,c){var u=0;for(s=!!s&&Cd(s,c,3);u<i;){if(u in r){if(c=s?s(r[u],u,n):r[u],0<a&&Dd(c))o=e(t,n,c,La(c.length),o,a-1)-1;else{if(9007199254740991<=o)throw TypeError("Exceed the acceptable array length");t[o]=c}o++}u++}return o},CD=Es;ba({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=lb(this),n=La(t.length),r=Ah(t,0);return r.length=CD(r,t,t,n,0,void 0===e?1:rc(e)),r}}),ba({target:"Object",stat:!0},{values:function(e){return gD(e)}});var DD=["CODE"],Xb,Od,R;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(R||(R={}));var ED={CN:R.CHINA,NA:R.NORTH_AMERICA,EU:R.EUROPE,AS:R.ASIA,JP:R.JAPAN,IN:R.INDIA,GLOB:R.GLOBAL,AF:R.AFRICA,OC:R.OVERSEA,OVS:R.OVERSEA,SA:R.SOUTH_AMERICA},oh=Rn((Xb={},x(Xb,R.ASIA,{CODE:R.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.NORTH_AMERICA,{CODE:R.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.EUROPE,{CODE:R.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.JAPAN,{CODE:R.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.INDIA,{CODE:R.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.OVERSEA,{CODE:R.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),x(Xb,R.GLOBAL,{CODE:R.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.OCEANIA,{CODE:R.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.SOUTH_AMERICA,{CODE:R.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.AFRICA,{CODE:R.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.CHINA,{CODE:R.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),Xb)),ag=(Od={},x(Od,R.ASIA,[R.CHINA,R.JAPAN,R.INDIA]),x(Od,R.EUROPE,[]),x(Od,R.NORTH_AMERICA,[]),x(Od,R.SOUTH_AMERICA,[]),x(Od,R.OCEANIA,[]),x(Od,R.AFRICA,[]),Od),Fs=[R.OVERSEA,R.GLOBAL,R.CHINA,R.NORTH_AMERICA,R.EUROPE,R.ASIA,R.JAPAN,R.INDIA,R.OCEANIA,R.SOUTH_AMERICA,R.AFRICA],Un=function(e){return Object.values(ag).flat().includes(e)},zv=function(e){var t;return null===(t=lh(ag).find((function(t){return(t=Xa(t,2))[0],t[1].includes(e)})))||void 0===t?void 0:t[0]},FD=function(e){return e.sort((function(e,t){return Fs.indexOf(e)-Fs.indexOf(t)}))},Ue=function(e){var t=new Set;if(0===(e=FD(e).slice(0,3).map((function(e){var n=oh[e];if(void 0===n)throw new qd("invalid area key");return e=n.CODE,n=Ei(n,DD),t.add(e),n}))).length)throw new qd("areas cannot be empty");return jb({CODES:t},e.reduce((function(e,t){for(var n=0,r=lh(e);n<r.length;n++){var i=Xa(r[n],2),o=i[0];i=i[1],e[o]=Array.from(new Set([].concat(W(t[o]),W(i))))}return e})))},ca,Gs=function(){var e=ja(M.mark((function e(t,n){var r,i,o,a,s,c=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(2<(i=2<c.length&&void 0!==c[2]?c[2]:0))){e.next=3;break}return e.abrupt("return");case 3:return o={withCredentials:!0,body:t,timeout:2e4},a=0<i?(null==ca?void 0:ca.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(null==ca?void 0:ca.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",s=n?"https://".concat(null!==(r=null==ca?void 0:ca.PROXY_NGINX[0])&&void 0!==r?r:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(a,"&p=443&d=upload/v1"):"https://".concat(a,"/upload/v1"),e.next=8,jh(s,o).catch((function(e){return Gs(t,n,i+1)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Hs=new BD({processId:"process-".concat(Mg),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.0-0-g83bd874d"),uploadRequest:Gs,rtmConfig:{}}),Ml="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),Is="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),Js=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],GD="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),Ve=function(e){if("string"==typeof e)return Ka(e);if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e.map((function(e){return Ka(e)}));if(!Hm(e)){for(var t={},n=0;n<Js.length;n++){var r=Js[n];r in e&&(t[r]=e[r])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(n=0,e=Object.entries(e);n<e.length;n++){var i=Xa(e[n],2);r=i[0],i=i[1],Ml.includes(r)?t[r]="[Hidden Info]":t[Ka(r)]="string"==typeof i?Ka(i):"[Sensitive Info]"}return t}return"[Sensitive Info]"}return e},Ks=function(e){return"object"===oa(e)?Be(e)?Qn(Fe(e,5),Ml,Is):e.constructor&&e.constructor.name:e},Ls=function(e,t){return e instanceof Error?e.message:"string"!=typeof e?JSON.stringify(Qn(Fe(e,5),Ml,Is)):(t=t.map((function(e){return e instanceof Error?e.message:"object"===oa(e)?Bs(Array.isArray(e)?e.map(Ks):Ks(e)):e})),Nn.apply(void 0,[e.replace(/%[%Oo]/g,(function(e){return"%%"===e?"%":"%o"===e||"%O"===e?"%s":e}))].concat(W(t))))},HD=1,Ms=function(e,t,n){var r=Cs(e);return r.enabled=!0,r.log=n,r.useColors=!1,function(n){for(var i=arguments.length,o=Array(1<i?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(t.enableLogUpload){i=ih(n);var s=Ls(i,o);Hs.upload({log_item_id:"".concat(HD++),log_level:e,payload_str:"[".concat(xD(),"] ").concat(e," - ").concat(256<s.length?s.slice(0,256):s)})}switch(i=function(e){var t=s||Ls(ih(n),o),i=xc.LOG_HANDLER;"function"==typeof i&&i({level:e,message:t}),r(t)},e){case"RTM:INFO":t.logFilter.info&&i("log");break;case"RTM:WARN":t.logFilter.warn&&i("warning");break;case"RTM:ERROR":t.logFilter.error&&i("error");break;case"RTM:TRACK":t.logFilter.track&&i("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":case"RTM:DEBUG":t.logFilter.debug&&i("debug")}}},Nl,Ns=function(e){return function(t){var n=1===Nl||void 0===e?"":"Ins#".concat(e," ");return"".concat(n).concat(t)}},Ol=function(e,t,n){var r=Ns(Nl);return Ms("RTM:".concat(t),n,(function(t){return e(r(t))}))},Ac=function(){return function(e){function t(e,r){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];ua(this,t);var o=n.call(this);if(x(z(o),"logError",void 0),x(z(o),"invokeTracker",void 0),x(z(o),"resultTracker",void 0),x(z(o),"errorTracker",void 0),x(z(o),"eventTracker",void 0),x(z(o),"info",void 0),x(z(o),"warn",void 0),x(z(o),"log",void 0),x(z(o),"genLogger",void 0),x(z(o),"loggerId",void 0),x(z(o),"logger",void 0),x(z(o),"name",void 0),o.logger=e,o.name=r,o.loggerId=e.loggerId,o.info=e.info,o.warn=e.warn,o.logError=e.logError,o.genLogger=e.genLogger,o.log=e.genLogger("RTM:DEBUG","<".concat(r,"> ")),o.invokeTracker=e.genTracker("Invoke"),o.eventTracker=e.genTracker("Event"),o.resultTracker=e.genTracker("Result"),o.errorTracker=e.genTracker("Error"),i){var a=o.emit.bind(z(o));o.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e=t[0],n=t.slice(1);var i=GD.includes(e);o.eventTracker.apply(o,["%s: ".concat(0<n.length?"%s emitted with args: ".concat(n.map((function(){return"%o"}))):"%s emitted"),r,e].concat(W(i?n.map(Ve):n)));try{a.apply(void 0,t)}catch(t){o.logError("Caught in the callback function of the event %s",e,t)}}}return o}Ga(t,e);var n=Ha(t);return t}(ya)},ID=function(e){return Ol(console.log.bind(console),"INFO",e)},JD=function(e){return Ol(console.warn.bind(console),"WARN",e)},KD=function(e){return Ol(console.error.bind(console),"ERROR",e)},Os=function(e,t){return function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=Ns(e),o=console.debug.bind(console),a=Ms(n,t,(function(e){return o(i(e))}));return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.apply(void 0,[r+e].concat(n))}}},LD=function(e,t){return function(n){return Os(e,t)("RTM:TRACK","[".concat(n,"] "))}},rj=H.URI,Bv=ti,MD=Ei(aD,["Wrapper"]),Vn=kl(MD,"URI"),Ps=function(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=e[r=is(n,i)];e[r]=e[n],e[n]=o}return e.length=t,e},ND=function(e){return Ps(Ji(e))},OD=function(e){return Ps(tj(e))},Af=function(e){return(pb(e)?ND:OD)(e)},Bf={0:9591,1:9593},ve=function(e){var t=Zf(null);return"https://".concat(t?null:e,"/api/v1")},PD=wb.apply(void 0,W(Af(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(ve)))),QD=wb.apply(void 0,W(Af(["ap-web-1.agora.io","ap-web-2.agora.io"].map(ve)))),RD=wb.apply(void 0,W(Af(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(ve)))),SD=wb.apply(void 0,W(Af(["ap-web-3.agora.io","ap-web-4.agora.io"].map(ve)))),Qs=ui(),Pl=function(e){function t(e,r,i,o,a,s){ua(this,t);var c=n.call(this,a,nj("Socket-",a.loggerId));if(x(z(c),"isActiveClose",!1),x(z(c),"loggedIn",!1),x(z(c),"useNewDomain",void 0),x(z(c),"receivedPacket",new nb),x(z(c),"open$",void 0),x(z(c),"input$",new nb),x(z(c),"userJoin$",new nb),x(z(c),"attemptsSinceLastError",0),x(z(c),"message$",new nb),x(z(c),"socket$",void 0),x(z(c),"toClose",new nb),x(z(c),"toReconnect",new nb),x(z(c),"sendLogger",void 0),x(z(c),"receiveLogger",void 0),x(z(c),"ip",void 0),x(z(c),"env",void 0),x(z(c),"ticket",void 0),x(z(c),"context",void 0),x(z(c),"getDomain",(function(){return Wn(c.ip,c.useNewDomain)})),x(z(c),"socketReconnector",(function(e){var t=function(e){return c.attemptsSinceLastError+=1,c.warn("The %s of Env %d reconnecting %s",c.name,c.env,e.message),Zc(3e3)};return e.pipe(Ya((function(e){return c.log("socket connection closed"),c.loggedIn=!1,2<=c.attemptsSinceLastError?(c.warn("socket connection failure"),c.emit("connectionFailure"),c.close(),pa(e)):c.isActiveClose?Nb:(c.emit("reconnect"),c.useNewDomain=!c.useNewDomain,pa(e))})),Oe((function(e){return e.pipe(Fc(t))})))})),c.ip=e,c.env=r,c.ticket=i,c.context=o,c.useNewDomain=null!=s?s:.5<=Math.random(),c.sendLogger=c.genLogger("RTM:MSG:SEND"),c.receiveLogger=c.genLogger("RTM:MSG:RECV"),0!==r&&1!==r)throw new Qs({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var u=Bf[r];c.log("Opening websocket address %s for the Env %d",c.ip,c.env);var l=Ec(c.input$,c.userJoin$.pipe(qv(2)),c.message$).pipe(Da((function(e){return ti.encode(e).finish()})));return e=Ec(rv("",{protocols:[],makeWebSocket:function(){if(c.context.config.enableCloudProxy||c.context.socketUseProxy){if(0===c.context.cloudProxyServers.length)throw c.logError("No cloud proxy server to connect"),new Ja;var e=Zf(null)?JSON.parse(null.replace(/-/g,".")):c.context.cloudProxyServers;e=Te(e="wss://".concat(Wn(Xn(e),!1),"/"),"sid",c.context.sid),e=Te(e,"remote_port",u.toString()),e=Te(e,"remote_ip",c.ip),e=Te(e,"token",c.context.key),e=new WebSocket(e)}else e=new WebSocket("wss://".concat(c.getDomain(),":").concat(u));return e.binaryType="arraybuffer",e}}),c.toReconnect),c.socket$=ab(e,xl.pipe(Hb(7e3),Ya((function(e){return vb(e)&&c.warn("socket open timed out"),pa(e)})))).pipe(Da((function(e){if(e instanceof Error)throw c.warn("Env_%d: Force reconnect the socket",c.env),e;return e(l).pipe(Da((function(e){return ti.decode(new Uint8Array(e))})))})),c.socketReconnector),c.open$=c.socket$.pipe(sa((function(e){c.log("Websocket opened",c.name),e.subscribe((function(e){var t=e.data;e=rj[e.uri].slice(0,-3),t=Vn[e].decode(t);var n=SB({},kl(t,"toJSON"),(function(e,t){return t instanceof ma?Kn(t):t})),r=!1;if((t instanceof qs||t instanceof ps)&&t.instance.lessThanOrEqual(4294967295)&&(r=!0),t instanceof rs||t instanceof ss){var i=t.instance,o=t.sequence;(t.dialogue.lessThanOrEqual(4294967295)||i.lessThanOrEqual(4294967295)||o.lessThan(1))&&(r=!0)}r?c.warn("Env_%d: Illegal %s, abandoned %o",c.env,e,n):("Pong"!==e&&c.receiveLogger("Env_%d: %s %o",c.env,e,n),c.receivedPacket.next([e,t]))}),(function(){}))})),Sf(void 0),Gc(c.toClose),Pe()),c}Ga(t,e);var n=Ha(t);return cb(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Bf[this.env])}},{key:"sendPacket",value:function(e,t){if("Ping"!==e){var n=hd(t,(function(e){return e instanceof ma?Kn(e):e}));this.sendLogger("Env_%d: %s %o",this.env,e,n)}t=Av(e,t),"UserJoin"===e?this.userJoin$.next(t):"Message"===e?this.message$.next(t):this.input$.next(t)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(e){return this.receivedPacket.pipe(Ob((function(t){return Xa(t,1)[0]===e})),Da((function(e){return Xa(e,2)[1]})))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new Qs({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(Ac());ba({target:"String",proto:!0,forced:us},{padStart:function(e){return cD(this,e,1<arguments.length?arguments[1]:void 0)}});var TD=function(e){var t=$f(oh);e=vv(e);for(var n=0;n<t.length;n++){var r=oh[t[n]];if(null!=r&&r.AP_DOMAINS.includes(e)||null!=r&&r.AP_BACKUP_DOMAINS.includes(e)||null!=r&&r.PROXY_AP.includes(e))return[r.CODE]}return[R.CHINA,R.GLOBAL]},UD={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},Rs={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},VD=[100,101,102],vi=/web-(\d)/,Ss=function(e){function t(e,r){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];ua(this,t);var o=n.call(this,r,"AccessPoint");return x(z(o),"handleUniLbsError",(function(e,t){var n=e;if(4<e.toString().length){var r=e.toString().padStart(8,"0"),i=parseInt(r.slice(0,4),10);if(r=parseInt(r.slice(4,8),10),201===i)n=r;else if(101===i&&!VD.includes(r))return pa(Error("service is currently unavailable"))}if(i=n.toString(),!Object.keys(Rs).includes(i))return(e=new Ja(["Login is rejected by the server. The response code is %d",e],Ng)).serverCode=n,pa(e);switch(i=Rs[i],n=UD[i],i){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(t=new yf(n,Vr)).serverCode=e,pa(t);case"INVALID_USER_ID":return(t=new yf(n,pi)).serverCode=e,pa(t);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(t=new yf(n,qi)).serverCode=e,pa(t);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(t=new yf(n,Wr)).serverCode=e,pa(t);case"CANNOT_MEET_AREA_DEMAND":return(t=TD(t)).forEach((function(e){return o.failedAreas.add(e)})),o.failedAreas.size===(void 0===ca?2:ca.CODES.size)?((t=new Z(n,Ng)).serverCode=e,pa(t)):pa(Error("ap ".concat(t.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(t=new Ja(n,Ng)).serverCode=e,pa(t);default:return pa(In("ApResErrType",i))}})),x(z(o),"getApEdgeInfo$",void 0),x(z(o),"getApEdgeInfoEndFirst$",void 0),x(z(o),"apFinish$",new nb),x(z(o),"retryCount",0),x(z(o),"failedAreas",new Set),x(z(o),"usedUrl",[]),x(z(o),"newDomainUsed",!1),x(z(o),"backupNewDomainUsed",!1),x(z(o),"genUrl",(function(){return void 0===ca?Zi.apply(void 0,W(Af([PD,QD]))).pipe($i((function(e){return wb.apply(void 0,W(e))}))):wb.apply(void 0,W(ca.AP_DOMAINS.slice(0,3).map(ve)))})),x(z(o),"genBackupUrl",(function(){return void 0===ca?Zi.apply(void 0,W(Af([RD,SD]))).pipe($i((function(e){return wb.apply(void 0,W(e))}))):wb.apply(void 0,W(ca.AP_BACKUP_DOMAINS.slice(0,3).map(ve)))})),x(z(o),"getApUrl$",(function(e){var n,r;return o.genUrl().pipe(Ob((function(e){return(!o.newDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(o.newDomainUsed=!0),!Il(o.usedUrl,(function(t){var n;return t===(null===(n=e.match(vi))||void 0===n?void 0:n[1])})))})),sa((function(e){var t;void 0===ca&&"string"==typeof(e=null===(t=e.match(vi))||void 0===t?void 0:t[1])&&o.usedUrl.push(e)})),db(e?Math.max(xc.RECONNECTING_AP_NUM,null!==(n=null==ca?void 0:ca.CODES.size)&&void 0!==n?n:0):null!==(r=null==ca?void 0:ca.CODES.size)&&void 0!==r?r:2),Zd((function(){return t.runOutOfUrlSymbol})),Ya((function(e,n){return o.newDomainUsed=!1,e===t.runOutOfUrlSymbol?(o.usedUrl=[],n):pa(e)})))})),x(z(o),"getBackupApUrl$",(function(e){var n,r;return o.genBackupUrl().pipe(Ob((function(e){return(!o.backupNewDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(o.backupNewDomainUsed=!0),!Il(o.usedUrl,(function(t){var n;return t===(null===(n=e.match(vi))||void 0===n?void 0:n[1])})))})),sa((function(e){var t;void 0===ca&&"string"==typeof(e=null===(t=e.match(vi))||void 0===t?void 0:t[1])&&o.usedUrl.push(e)})),db(e?Math.max(xc.RECONNECTING_AP_NUM,null!==(n=null==ca?void 0:ca.CODES.size)&&void 0!==n?n:0):null!==(r=null==ca?void 0:ca.CODES.size)&&void 0!==r?r:2),Zd((function(){return t.runOutOfUrlSymbol})),Ya((function(e,n){return o.backupNewDomainUsed=!1,e===t.runOutOfUrlSymbol?(o.usedUrl=[],n):pa(e)})))})),x(z(o),"getProxyApUrl$",(function(e){var t,n;return wb.apply(void 0,W(((null==ca?void 0:ca.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(ve))).pipe(db(e?Math.max(xc.RECONNECTING_AP_NUM,null!==(t=null==ca?void 0:ca.CODES.size)&&void 0!==t?t:0):null!==(n=null==ca?void 0:ca.CODES.size)&&void 0!==n?n:2))})),x(z(o),"context",void 0),x(z(o),"fetchCloudProxy",(function(e,t){var n=nj("AP-",o.loggerId);o.log("The AccessPoint requests %s(%s)",e,n);var r,i=new AbortController;return o.apFinish$.pipe(db(1)).subscribe((function(){return i.abort()})),wd(ja(M.mark((function r(){var a;return M.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=gh(0,Number.MAX_SAFE_INTEGER),o.log("%s request opid: %d",n,a),r.abrupt("return",jh(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:o.context.sid,opid:a,appid:o.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:null!=t?t:o.context.key,cname:o.context.uid,uid:0,detail:jb({},void 0===ca?{11:[R.CHINA,R.GLOBAL].join(),12:"1"}:{11:Array.from(ca.CODES).map((function(e){return e===R.OVERSEA?"".concat(R.ASIA,",").concat(R.EUROPE,",").concat(R.AFRICA,",").concat(R.NORTH_AMERICA,",").concat(R.SOUTH_AMERICA,",").concat(R.OCEANIA):e})).join(","),12:"1"})}}]},signal:i.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Ya((function(t){return"AbortError"!==t.name&&(o.logError(t),o.warn("The AP server %s request failure",e,t)),Nb})),Ab((r=ja(M.mark((function t(r){var i,a,s,c,u,l,d,f,p,h,v,g,A,m,E,y,b,C,_;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.responseText,a=JSON.parse(i),o.log("The %s response is %o",n,a),(void 0===(s=a.response_body)||0===s.length||s.some((function(e){var t;return void 0===(null===(t=e.buffer)||void 0===t?void 0:t.code)||23!==e.uri})))&&pa(new Ja("cloud proxy response_body not valid",Ng)),0===(c=s.filter((function(e){return 0!==e.buffer.code}))).length){t.next=14;break}if(void 0===(u=c.find((function(e){return 128===e.buffer.flag})))){t.next=12;break}return t.abrupt("return",o.handleUniLbsError(u.buffer.code,e));case 12:return o.logError("cloud proxy error response"),t.abrupt("return",o.handleUniLbsError(c[0].buffer.code,e));case 14:for(l=[],d=0;d<s.length;d++)if(262144===(null==(h=s[d])||null===(f=h.buffer)||void 0===f?void 0:f.flag))null===(v=h.buffer)||void 0===v||null===(g=v.edges_services)||void 0===g||null===(A=g.forEach)||void 0===A||A.call(g,(function(e){Gn(e=e.ip)&&-1===o.context.cloudProxyServers.indexOf(e)&&(o.log("got cloud proxy server: %s",e),o.context.cloudProxyServers.push(e))}));else if(128===(null==h||null===(p=h.buffer)||void 0===p?void 0:p.flag)){for(b=function(e,t){var n=t[e];l.some((function(e){return e.ip===n.ip}))||l.push({ip:n.ip,ticket:h.buffer.cert})},C=0,_=h.buffer.edges_services;C<_.length;C++)b(C,_);o.context.rtmArea=null!==(m=null===(E=h.buffer)||void 0===E||null===(y=E.detail)||void 0===y?void 0:y[9])&&void 0!==m?m:""}return t.abrupt("return",wb.apply(void 0,W(l).concat([Kg])));case 19:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),Ya((function(e){return Ma(e)?pa(e):Nb})),$g(),Ob((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket&&Gn(e.ip)})))})),x(z(o),"fetchAp",(function(e,t){var n=nj("AP-",o.loggerId);o.log("The AccessPoint requests %s(%s)",e,n);var r,i=new AbortController;return o.apFinish$.pipe(db(1)).subscribe((function(){return i.abort()})),wd(ja(M.mark((function r(){var a;return M.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=gh(0,Number.MAX_SAFE_INTEGER),o.log("%s request opid: %d",n,a),r.abrupt("return",jh(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:a,key:t||o.context.key,cname:o.context.uid,detail:jb({},void 0===ca?{11:[R.CHINA,R.GLOBAL].join(),12:"1"}:{11:Array.from(ca.CODES).map((function(e){return e===R.OVERSEA?"".concat(R.ASIA,",").concat(R.EUROPE,",").concat(R.AFRICA,",").concat(R.NORTH_AMERICA,",").concat(R.SOUTH_AMERICA,",").concat(R.OCEANIA):e})).join(","),12:"1"}),uid:0,sid:o.context.sid},signal:i.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Ya((function(t){return"AbortError"!==t.name&&(o.logError(t),o.warn("The AP server %s request failure",e,t)),Nb})),Ab((r=ja(M.mark((function t(r){var i,a,s,c,u,l,d,f;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.responseText,a=JSON.parse(i),o.log("The %s response is %o",n,a),c=(s=a).code,u=s.addresses,l=s.detail,o.info(a),0===c){t.next=7;break}return t.abrupt("return",o.handleUniLbsError(c,e));case 7:if(d=u,Zf(null)&&(f=JSON.parse(null.replace(/-/g,".")),d=f.map((function(e){return{ip:e,ticket:d[0].ticket}}))),0!==d.length){t.next=12;break}return t.abrupt("return",pa(Error("No available edge address to connect")));case 12:return o.context.rtmArea=null==l?void 0:l[9],t.abrupt("return",wb.apply(void 0,W(d).concat([Kg])));case 14:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),$g(),Ya((function(e){return Ma(e)?pa(e):Nb})),Ob((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),o.context=e,o.getApEdgeInfoEndFirst$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Zc(0,e||i?xc.RECONNECTING_AP_INTERVAL:2e3).pipe(db(1),sa((function(){o.retryCount+=1})),Ab((function(){return o.context.config.enableCloudProxy||o.context.socketUseProxy?o.getProxyApUrl$(e||i):(4<=o.retryCount&&(o.retryCount=0),3>=o.retryCount?o.getApUrl$(e||i):o.getBackupApUrl$(e||i))})),Ab((function(e){return o.context.config.enableCloudProxy||o.context.socketUseProxy?o.fetchCloudProxy(e):o.fetchAp(e)})),Ya((function(e){return e instanceof Pb&&o.warn("AP request timeout"),pa(e)})),nn((function(e){return e.ip})),Gc(o.apFinish$))},o.getApEdgeInfo$=function(e){return Zc(0,e||i?xc.RECONNECTING_AP_INTERVAL:2e3).pipe(db(8),sa((function(){o.retryCount+=1})),Ab((function(){return o.context.config.enableCloudProxy||o.context.socketUseProxy?o.getProxyApUrl$(e||i):3>=o.retryCount?o.getApUrl$(e||i):o.getBackupApUrl$(e||i)})),Ab((function(e){return(o.context.config.enableCloudProxy||o.context.socketUseProxy?o.fetchCloudProxy(e):o.fetchAp(e)).pipe()})),Ya((function(e){return e instanceof Pb&&o.warn("AP request timeout"),pa(e)})),nn((function(e){return e.ip})),Gc(o.apFinish$))},o}Ga(t,e);var n=Ha(t);return cb(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(Ac());x(Ss,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var Ts=ui(),Us=function(e){function t(e,r,i){ua(this,t);var o=n.call(this,r,"Connection");x(z(o),"apClient",void 0),x(z(o),"lastOpenSockets",[new Qe(1),new Qe(1)]),x(z(o),"curOpenSockets",[void 0,void 0]),x(z(o),"ipIterator",0),x(z(o),"loginSocketOpenFailureCount",0),x(z(o),"firstEnv",.5<=Math.random()?1:0),x(z(o),"firstSocketOpener",void 0),x(z(o),"secondSocketOpener",void 0),x(z(o),"firstOpenKeeperSubject",new nb),x(z(o),"secondOpenKeeperSubject",new nb),x(z(o),"blacklistedIP",{}),x(z(o),"edgeInfoReplayed",void 0),x(z(o),"firstEnvOpenSocket",void 0),x(z(o),"firstOpenKeeperSub",void 0),x(z(o),"secondOpenKeeperSub",void 0),x(z(o),"context",void 0),x(z(o),"logger",void 0),o.context=e,o.logger=r,o.apClient=new Ss(o.context,r),o.apClient.apFinish$.subscribe((function(){o.log("Ap client fetch finished")}));var a,s=[];return o.edgeInfoReplayed=o.apClient.getApEdgeInfo$(i).pipe(Oe((function(e){return e.pipe(sa((function(e){if(Ma(e))throw e})),Yd(i?ue.getParameter("RECONNECTING_AP_INTERVAL"):900),Gc(Zc(2e4)))})),Ob((function(e){var t;return!Il(s,e)&&1>=(null!==(t=o.blacklistedIP[e.ip])&&void 0!==t?t:0)})),Zd((function(){return new Ts({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),sa((function(e){s.push(e),o.log("An edge info got %o",e)})),sa({error:function(e){o.emit("connectionInitFailure",e)}}),ch((function(){o.apClient.clearUp()})),qn()),o.firstEnvOpenSocket=o.edgeInfoReplayed.pipe(Ab((function(e){if(void 0===e)return pa(Error("Invalid edge info"));var t=new Pl(e.ip,o.firstEnv,e.ticket,o.context,r,a);if(o.firstEnv=1===o.firstEnv?0:1,t.once("connectionFailure",(function(){return o.onSocketConnectionFailure(t)})),!i&&xc.ENABLE_EDGE_AUTO_FALLBACK&&!o.context.config.enableCloudProxy){var n,s=Date.now();t.on("reconnect",(function(){var e;o.loginSocketOpenFailureCount+=1,null!==(e=n)&&void 0!==e||(n=Date.now()-s),500>n&&1<o.loginSocketOpenFailureCount&&(o.context.socketUseProxy=!0)}))}return a=!t.useNewDomain,t.open$.pipe(Sf(t))})),sa((function(e){o.log("The websocket of ENV_%d opened to %s:%d",e.env,e.ip,Bf[e.env]),o.curOpenSockets[e.env]=e,o.lastOpenSockets[e.env].next(e),o.firstEnv=e.env,o.openSecondSocket(e.env,e.ip,e.useNewDomain)})),db(1),Pe()),o.firstSocketOpener=o.firstEnvOpenSocket.pipe(Ab((function(e){return e.open$.pipe(sa((function(){o.log("The websocket of first ENV_%d re-opened to %s:%d",e.env,e.ip,Bf[e.env]),o.curOpenSockets[e.env]=e,o.lastOpenSockets[e.env].next(e)})))}))),e=o.firstOpenKeeperSubject.pipe(Fc(td)),o.firstOpenKeeperSub=e.subscribe({error:o.logError}),o}Ga(t,e);var n=Ha(t);return cb(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(e,t){if(![0,1].includes(e))throw new ib({INVALID_ENV:"The env argument is not 0 or 1"});var n=e===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var r=this.curOpenSockets[e];this.curOpenSockets[e]=void 0,r&&(r.isActiveClose=!0,setTimeout((function(){r.close()}),t)),void 0!==n&&setTimeout((function(){null==n||n.unsubscribe()}),t)}},{key:"waitClosing",value:function(e){var t=this;return e.isActiveClose=!0,e.open$.pipe(Vu(),Ya((function(e){return e.message===hs.normalClosureMessage?Nb:pa(e)})),Hb(5e3),Ya((function(n){return n instanceof Pb?(t.warn("Force closing the ENV_%d connection",e.env),Nb):pa(n)})))}},{key:"onSocketConnectionFailure",value:function(e){var t=[0,1].filter((function(t){return t!==e.env}))[0];(t=this.curOpenSockets[t])&&t.loggedIn?this.reopenSocketWithApRequest(e.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(e,t,n){var r=this,i=1===e?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(pn((function(e,t){return[].concat(W(e),[t])}),[]),Da((function(e){return fs(e,(function(e){return Jn(t,e.ip)})).slice(-1)[0]})),db(1),Ab((function(e){if(void 0===e)return pa(Error("Invalid edge info"));var t=new Pl(e.ip,i,e.ticket,r.context,r.logger,n);return t.on("connectionFailure",(function(){return r.onSocketConnectionFailure(t)})),t.open$.pipe(sa((function(){r.lastOpenSockets[i].next(t),r.curOpenSockets[i]=t})))})),Pe()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Fc(td)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(e){var t=this,n=[0,1].filter((function(t){return t!==e}))[0];if(void 0!==(n=this.curOpenSockets[n])){var r,i=n.ip;n=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Zd((function(){return new Ts({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),Oe((function(e){return e.pipe(sa((function(e){if(e.code===qi)t.emit("tokenExpired"),t.apClient.apFinish$.next(void 0);else if(Ma(e))throw e})),Yd(ue.getParameter("RECONNECTING_AP_INTERVAL")),Gc(Zc(15e3)))})),sa((function(e){t.log("An edge info got %o",e)})),ch((function(){t.apClient.clearUp()}))).pipe(pn((function(e,t){return[].concat(W(e),[t])}),[]),Da((function(e){return(e=fs(e,(function(e){return Jn(i,e.ip)}))).length-1>=t.ipIterator?e.slice(-t.ipIterator++-1)[0]:(t.ipIterator=0,e.slice(-1)[0])})),Zd(),Ab((function(n){if(void 0===n)return pa(Error("Invalid edge info"));var i=new Pl(n.ip,e,n.ticket,t.context,t.logger,r);return i.on("connectionFailure",(function(){return t.onSocketConnectionFailure(i)})),r=!i.useNewDomain,i.open$.pipe(Sf(i))})),sa((function(n){t.log("The websocket of ENV_%d re-opened to %s:%d using ap",n.env,n.ip,Bf[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})),Ab((function(n){return n.open$.pipe(sa((function(){t.log("The websocket of ENV_%d re-opened to %s:%d",n.env,n.ip,Bf[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})))})),Pe()),e===this.firstEnv?this.firstOpenKeeperSubject.next(n):this.secondOpenKeeperSubject.next(n)}}}]),t}(Ac()),rd=zc.Writer,Ba=zc.util,Uc=zc.roots.default||(zc.roots.default={}),XD=Uc.Session=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(42).string(e.appId),null!=e.ver&&Object.hasOwnProperty.call(e,"ver")&&t.uint32(50).string(e.ver),null!=e.buildno&&Object.hasOwnProperty.call(e,"buildno")&&t.uint32(56).int32(e.buildno),null!=e.installId&&Object.hasOwnProperty.call(e,"installId")&&t.uint32(66).string(e.installId),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(128).int32(e.os),null!=e.did&&Object.hasOwnProperty.call(e,"did")&&t.uint32(138).string(e.did),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Uc.Session.CommonIndex.encode(e.index,t.uint32(162).fork()).ldelim(),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(170).string(e.token),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(176).int32(e.version),null!=e.subVersion&&Object.hasOwnProperty.call(e,"subVersion")&&t.uint32(184).int32(e.subVersion),t},e.CommonIndex=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(e,t){return t||(t=rd.create()),null!=e.index1&&Object.hasOwnProperty.call(e,"index1")&&t.uint32(10).string(e.index1),null!=e.index2&&Object.hasOwnProperty.call(e,"index2")&&t.uint32(18).string(e.index2),null!=e.index3&&Object.hasOwnProperty.call(e,"index3")&&t.uint32(26).string(e.index3),t},e}(),e}(),YD=Uc.Link=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.ec&&Object.hasOwnProperty.call(e,"ec")&&t.uint32(40).int32(e.ec),null!=e.sc&&Object.hasOwnProperty.call(e,"sc")&&t.uint32(48).int32(e.sc),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(58).string(e.destServerIp),null!=e.ackedServerIp&&Object.hasOwnProperty.call(e,"ackedServerIp")&&t.uint32(66).string(e.ackedServerIp),null!=e.responseTime&&Object.hasOwnProperty.call(e,"responseTime")&&t.uint32(72).int32(e.responseTime),t},e}(),ZD=Uc.Logout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),t},e}(),$D=Uc.KickedOff=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(56).int32(e.code),null!=e.server&&Object.hasOwnProperty.call(e,"server")&&t.uint32(66).string(e.server),null!=e.serverCode&&Object.hasOwnProperty.call(e,"serverCode")&&t.uint32(72).int32(e.serverCode),t},e}(),aE=Uc.ChnJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),bE=Uc.ChnJoinRes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(64).int32(e.serverErrCode),t},e}(),cE=Uc.ChnLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),dE=Uc.ConnectionStateChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.oldState&&Object.hasOwnProperty.call(e,"oldState")&&t.uint32(40).int32(e.oldState),null!=e.newState&&Object.hasOwnProperty.call(e,"newState")&&t.uint32(48).int32(e.newState),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(56).int32(e.reason),null!=e.reconnId&&Object.hasOwnProperty.call(e,"reconnId")&&t.uint32(64).int32(e.reconnId),t},e}(),Cv=Object.freeze({__proto__:null,Session:XD,Link:YD,Logout:ZD,KickedOff:$D,ChnJoin:aE,ChnJoinRes:bE,ChnLeave:cE,ConnectionStateChange:dE,default:Uc}),Dv=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191}}),eE=function(e){function t(e,r,i){return ua(this,t),x(z(i=n.call(this,i,"Context")),"_token",void 0),x(z(i),"config",void 0),x(z(i),"_uid",void 0),x(z(i),"_sid",void 0),x(z(i),"_area","CN"),x(z(i),"_socketUseProxy",!1),x(z(i),"appId",void 0),x(z(i),"enableCloudProxy",!1),x(z(i),"cloudProxyServers",[]),i.appId=e,i.config=r,i}Ga(t,e);var n=Ha(t);return cb(t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&xc.ENABLE_EDGE_AUTO_FALLBACK},set:function(e){this.log("socketUseProxy is set to %s",e),this._socketUseProxy=e}},{key:"token",set:function(e){this._token="string"==typeof e&&e?e:void 0}},{key:"uid",get:function(){if("string"==typeof this._uid&&this._uid)return this._uid;throw new qd("Cannot get illegal uid")},set:function(e){if(this.log("The user ID is set to %s",Ka(e)),!Sa(e))throw new qd;this._uid=e}},{key:"key",get:function(){if("string"==typeof this._token&&this._token)return this._token;if("string"==typeof this.appId&&this.appId)return this.appId;throw new qd("Cannot get illegal key")}},{key:"sid",get:function(){if("string"==typeof this._sid&&this._sid)return this._sid;throw new qd("Cannot get illegal sid")},set:function(e){if(this.log("sid is set to %s",e),"string"!=typeof e||!e)throw new qd;this._sid=e}},{key:"rtmArea",get:function(){if("string"==typeof this._area&&this._area)return this._area;throw new qd("Cannot get illegal area")},set:function(e){this.log("area is set to %s",e),"string"==typeof e&&e?this._area=e:this.warn("set area failed")}}]),t}(Ac());Mp("of",(function(){for(var e=0,t=arguments.length,n=new(nf(this))(t);t>e;)n[e]=arguments[e++];return n}),lk);var Vs=1/0,fE=Math.max,Fv=function(e,t,n){var r=Object(e);if(!$d(e)){var i=tf(t);e=Vd(e),t=function(e){return i(r[e],e,r)}}return-1<(t=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;if(null==n)n=0;else{var i=(n=n?(n=Ll(n))===Vs||n===-Vs?17976931348623157e292*(0>n?-1:1):n==n?n:0:0===n?n:0)%1;n=n==n?i?n-i:n:0}return 0>n&&(n=fE(r+n,0)),Sq(e,tf(t),n)}(e,t,n))?r[i?e[t]:t]:void 0},Ev=function(e,t){return e&&e.length?$k(e,void 0,"function"==typeof t?t:void 0):[]},Ws=function(){function e(){ua(this,e),x(this,"size",0),x(this,"fields",new Map)}return cb(e,[{key:"define",value:function(e,t,n){if(this.size+=n,64<this.size)throw new RangeError("the struct over 64 bits is not supported");qh(t={val:0,isNumber:"number"===t,isBoolean:"boolean"===t,oneof:"number"===t||"boolean"===t?void 0:t,len:n}),this.fields.set(e,t)}},{key:"set",value:function(e,t){if(!(e=this.fields.get(e)))throw Error("field not found");var n=e.oneof;if(!ma.isLong(t)&&"number"!=typeof t)if("boolean"==typeof t)t=t?1:0;else{if(void 0===n)throw Error("invalid field type");if(void 0===(t=n[t]))throw Error("field type not found")}qh(e,t),e.val=t}},{key:"toNumber",value:function(){for(var e=0,t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=Xa(r[n],2)[1],o=i.len;void 0!==(i=i.val)&&(e+=ma.fromValue(i).shiftLeft(t).toNumber(),t+=o)}return e}},{key:"toLong",value:function(){for(var e=ma.fromNumber(0,!0),t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=Xa(r[n],2)[1],o=i.len;void 0!==(i=i.val)&&(e=ma.fromValue(i).shiftLeft(t).add(e),t+=o)}return e}},{key:"assert",value:function(e,t){function n(e){if(!ma.isLong(e)&&"number"!=typeof e)if("boolean"==typeof e)e=e?1:0;else{if(void 0===i)throw Error("invalid field type");if(void 0===(e=i[e]))throw Error("field type not found")}return qh(r,e),ph(e,r.val)}var r=this.fields.get(e);if(!r)throw Error("field not found");var i=r.oneof;if(!Array.isArray(t))return n(t);if(1===t.length)return n(t[0]);if(t.every((function(e){return"string"==typeof e}))&&void 0!==i)return t.some((function(e){return n(e)}));throw Error("invalid valueTypes")}},{key:"from",value:function(e){e=ma.fromValue(e);for(var t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=Xa(r[n],2)[1],o=i.len,a=ma.fromNumber(Math.pow(2,o)-1,!0).shiftLeft(t);qh(i,a=e.and(a).shiftRightUnsigned(t)),i.val=a,t+=o}}},{key:"typeOf",value:function(e){if(void 0!==(e=this.fields.get(e))){var t=e.oneof;if(e=e.val,void 0!==t){var n=0;for(t=Object.entries(t);n<t.length;n++){var r=Xa(t[n],2),i=r[0];if(ph(e,r[1]))return i}}}throw new TypeError("can only get type of oneof type")}}]),e}(),Xs=function(e){function t(e){ua(this,t);var r=n.call(this);return r.define("Rejoin","boolean",1),r.define("Unused","number",31),r.define("Platform","number",8),r.define("Version","number",12),r.define("Subversion","number",12),r.set("Platform",7),r.set("Version",4),r.set("Subversion",17),r.set("Rejoin",e),r}Ga(t,e);var n=Ha(t);return t}(Ws),gE=jb(jb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),Ys={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},hE=jb(jb({},gE),Ys),iE={Uncompressed:0,Zlib:1},Cf=function(e){function t(e){ua(this,t);var r=n.call(this);if(r.define("MessageType",hE,8),r.define("BroadcastJumps","number",2),r.define("ToCache","boolean",1),r.define("FromCache","boolean",1),r.define("CompressionMethod",iE,2),r.define("IterationNumber","number",4),r.define("BufferedMessage","boolean",1),r.define("ToArchive","boolean",1),r.define("FromArchive","boolean",1),"number"==typeof e||ma.isLong(e))r.from(e);else if(void 0!==e){var i=0;for(e=lh(e);i<e.length;i++){var o=Xa(e[i],2);r.set(o[0],o[1])}}return r}Ga(t,e);var n=Ha(t);return cb(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(e){var t=this;return void 0!==e?this.assert("MessageType",e):$f(Ys).some((function(e){return t.assert("MessageType",e)}))}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),t}(Ws),jE=function(e){function t(e){return ua(this,t),x(z(e=n.call(this,e,"ChatManager")),"dialogueLru",new nz(void 0,{maxlen:1e4,ttl:1e4})),e}Ga(t,e);var n=Ha(t);return cb(t,[{key:"getChatInfo",value:function(e){var t=this.dialogueLru.get(e);if(this.dialogueLru.prune(),t){var n=t.dialogue,r={dialogue:n,sequence:t=t.sequence.add(1)};return this.dialogueLru.set(e,{dialogue:n,sequence:t}),r}return n={dialogue:hh(),sequence:ma.fromNumber(1,!0)},this.dialogueLru.set(e,n),n}}]),t}(Ac()),F={};"object"==oa(module)&&(module.exports=F),F.parse=function(e,t){var n,r=F.bin.readUshort,i=F.bin.readUint,o={};for(n=(e=new Uint8Array(e)).length-4;101010256!=i(e,n);)n--;var a=r(e,n=n+4+4);r(e,n+=2),i(e,n+=2),n=i(e,n+=4);for(var s=0;s<a;s++){i(e,n),n+=4,n+=4,n+=4,i(e,n+=4);var c=i(e,n+=4),u=i(e,n+=4),l=r(e,n+=4),d=r(e,n+2),f=r(e,n+4);n+=6;var p=i(e,n+=8);n+=4,n+=l+d+f,F._readLocal(e,p,o,c,u,t)}return o},F._readLocal=function(e,t,n,r,i,o){var a=F.bin.readUshort,s=F.bin.readUint;s(e,t),a(e,t+=4),a(e,t+=2);var c=a(e,t+=2);s(e,t+=2),s(e,t+=4),s=a(e,t=t+4+8);var u=a(e,t+=2);if(t+=2,a=F.bin.readUTF8(e,t,s),t=t+s+u,o)n[a]={size:i,csize:r};else if(e=new Uint8Array(e.buffer,t),0==c)n[a]=new Uint8Array(e.buffer.slice(t,t+r));else{if(8!=c)throw"unknown compression method: "+c;t=new Uint8Array(i),F.inflateRaw(e,t),n[a]=t}},F.inflateRaw=function(e,t){return F.F.inflate(e,t)},F.inflate=function(e,t){return e[0],e[1],F.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},F.deflate=function(e,t){null==t&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));return r[n]=120,r[n+1]=156,n=F.F.deflateRaw(e,r,n+2,t.level),e=F.adler(e,0,e.length),r[n+0]=e>>>24&255,r[n+1]=e>>>16&255,r[n+2]=e>>>8&255,r[n+3]=e>>>0&255,new Uint8Array(r.buffer,0,n+4)},F.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=F.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},F.encode=function(e,t){null==t&&(t=!1);var n,r=0,i=F.bin.writeUint,o=F.bin.writeUshort,a={};for(n in e){var s=!F._noNeed(n)&&!t,c=e[n],u=F.crc.crc(c,0,c.length);a[n]={cpr:s,usize:c.length,crc:u,file:s?F.deflateRaw(c):c}}for(n in a)r+=a[n].file.length+30+46+2*F.bin.sizeUTF8(n);for(n in e=new Uint8Array(r+22),t=0,c=[],a)u=a[n],c.push(t),t=F._writeHeader(e,t,n,u,0);for(n in r=0,s=t,a)u=a[n],c.push(t),t=F._writeHeader(e,t,n,u,1,c[r++]);return a=t-s,i(e,t,101010256),o(e,t=t+4+4,r),o(e,t+=2,r),i(e,t+=2,a),i(e,t+4,s),e.buffer},F._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),-1!="png,jpg,jpeg,zip".indexOf(e)},F._writeHeader=function(e,t,n,r,i,o){var a=F.bin.writeUint,s=F.bin.writeUshort,c=r.file;return a(e,t,0==i?67324752:33639248),t+=4,1==i&&(t+=2),s(e,t,20),s(e,t+=2,0),s(e,t+=2,r.cpr?8:0),a(e,t+=2,0),a(e,t+=4,r.crc),a(e,t+=4,c.length),a(e,t+=4,r.usize),s(e,t+=4,F.bin.sizeUTF8(n)),s(e,t+=2,0),t+=2,1==i&&(a(e,t=t+2+2+6,o),t+=4),t+=n=F.bin.writeUTF8(e,t,n),0==i&&(e.set(c,t),t+=c.length),t},F.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var n=t,r=0;8>r;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=F.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^F.crc.update(4294967295,e,t,n)}},F.adler=function(e,t,n){var r=1,i=0,o=t;for(t+=n;o<t;){for(n=Math.min(o+5552,t);o<n;)i+=r+=e[o++];r%=65521,i%=65521}return i<<16|r},F.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,n){for(var r,i="",o=0;o<n;o++)i+="%"+F.bin.pad(e[t+o].toString(16));try{r=decodeURIComponent(i)}catch(r){return F.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,i=0,o=0;o<r;o++){var a=n.charCodeAt(o);if(0==(4294967168&a))e[t+i]=a,i++;else if(0==(4294965248&a))e[t+i]=192|a>>6,e[t+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var i=e.charCodeAt(r);if(0==(4294967168&i))n++;else if(0==(4294965248&i))n+=2;else if(0==(4294901760&i))n+=3;else{if(0!=(4292870144&i))throw"e";n+=4}}return n}},F.F={},F.F.deflateRaw=function(e,t,n,r){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],o=F.F.U,a=F.F._goodIndex;F.F._hash;var s=F.F._putsE,c=0;n<<=3;var u=0,l=e.length;if(0==r){for(;c<l;){var d=Math.min(65535,l-c);s(t,n,c+d==l?1:0),n=F.F._copyExact(e,c,d,t,n+8),c+=d}return n>>>3}s=o.lits,r=o.strt;var f=o.prev,p=0,h=0,v=0,g=0,A=0;for(2<l&&(r[A=F.F._hash(e,0)]=0),c=0;c<l;c++){if(d=A,c+1<l-2){A=F.F._hash(e,c+1);var m=c+1&32767;f[m]=r[A],r[A]=m}if(u<=c){if((14e3<p||26697<h)&&100<l-c&&(u<c&&(s[p]=c-u,p+=2,u=c),n=F.F._writeBlock(c==l-1||u==l?1:0,s,p,g,e,v,c-v,t,n),p=h=g=0,v=c),m=0,c<l-2&&(m=F.F._bestMatch(e,c,f,d,Math.min(i[2],l-c),i[3])),0!=m){d=m>>>16,m&=65535;var E=a(d,o.of0);o.lhst[257+E]++;var y=a(m,o.df0);o.dhst[y]++,g+=o.exb[E]+o.dxb[y],s[p]=d<<23|c-u,s[p+1]=m<<16|E<<8|y,p+=2,u=c+d}else o.lhst[e[c]]++;h++}}for(v==c&&0!=e.length||(u<c&&(s[p]=c-u,p+=2),n=F.F._writeBlock(1,s,p,g,e,v,c-v,t,n));0!=(7&n);)n++;return n>>>3},F.F._bestMatch=function(e,t,n,r,i,o){var a=32767&t,s=n[a],c=a-s+32768&32767;if(s==a||r!=F.F._hash(e,t-c))return 0;for(var u=r=0,l=Math.min(32767,t);c<=l&&0!=--o&&s!=a;){if((0==r||e[t+r]==e[t+r-c])&&(a=F.F._howLong(e,t,c))>r){if(u=c,(r=a)>=i)break;c+2<a&&(a=c+2);for(var d=0,f=0;f<a-2;f++){var p=t-c+f+32768&32767,h=p-n[p]+32768&32767;h>d&&(d=h,s=p)}}c+=(a=s)-(s=n[a])+32768&32767}return r<<16|u},F.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-n];)t++;return t-r},F.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},F.saved=0,F.F._writeBlock=function(e,t,n,r,i,o,a,s,c){var u=F.F.U,l=F.F._putsF,d=F.F._putsE;u.lhst[256]++;var f=F.F.getTrees(),p=f[0],h=f[1],v=f[2],g=f[3],A=f[4],m=f[5],E=f[6];f=f[7];var y=32+(0==(c+3&7)?0:8-(c+3&7))+(a<<3),b=r+F.F.contSize(u.fltree,u.lhst)+F.F.contSize(u.fdtree,u.dhst);r=r+F.F.contSize(u.ltree,u.lhst)+F.F.contSize(u.dtree,u.dhst),r+=14+3*m+F.F.contSize(u.itree,u.ihst)+(2*u.ihst[16]+3*u.ihst[17]+7*u.ihst[18]);for(var C=0;286>C;C++)u.lhst[C]=0;for(C=0;30>C;C++)u.dhst[C]=0;for(C=0;19>C;C++)u.ihst[C]=0;if(y=y<b&&y<r?0:b<r?1:2,l(s,c,e),l(s,c+1,y),c+=3,0==y){for(;0!=(7&c);)c++;c=F.F._copyExact(i,o,a,s,c)}else{if(1==y)var _=u.fltree,I=u.fdtree;if(2==y){for(F.F.makeCodes(u.ltree,p),F.F.revCodes(u.ltree,p),F.F.makeCodes(u.dtree,h),F.F.revCodes(u.dtree,h),F.F.makeCodes(u.itree,v),F.F.revCodes(u.itree,v),_=u.ltree,I=u.dtree,d(s,c,g-257),d(s,c+=5,A-1),d(s,c+=5,m-4),c+=4,e=0;e<m;e++)d(s,c+3*e,u.itree[1+(u.ordr[e]<<1)]);c=F.F._codeTiny(E,u.itree,s,c+3*m),c=F.F._codeTiny(f,u.itree,s,c)}for(m=0;m<n;m+=2){for(E=(e=t[m])>>>23,e=o+(8388607&e);o<e;)c=F.F._writeLit(i[o++],_,s,c);0!=E&&(e=(p=t[m+1])>>16,a=p>>8&255,p&=255,d(s,c=F.F._writeLit(257+a,_,s,c),E-u.of0[a]),c+=u.exb[a],l(s,c=F.F._writeLit(p,I,s,c),e-u.df0[p]),c+=u.dxb[p],o+=E)}c=F.F._writeLit(256,_,s,c)}return c},F.F._copyExact=function(e,t,n,r,i){var o=i>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),i+(n+4<<3)},F.F.getTrees=function(){for(var e=F.F.U,t=F.F._hufTree(e.lhst,e.ltree,15),n=F.F._hufTree(e.dhst,e.dtree,15),r=[],i=F.F._lenCodes(e.ltree,r),o=[],a=F.F._lenCodes(e.dtree,o),s=0;s<r.length;s+=2)e.ihst[r[s]]++;for(s=0;s<o.length;s+=2)e.ihst[o[s]]++;s=F.F._hufTree(e.ihst,e.itree,7);for(var c=19;4<c&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,s,i,a,c,r,o]},F.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},F.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},F.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},F.F._codeTiny=function(e,t,n,r){for(var i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];r=F.F._writeLit(o,t,n,r);var s=16==o?2:17==o?3:7;15<o&&(F.F._putsE(n,r,a,s),r+=s)}return r},F.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var i=e[r+1],o=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==i&&o==i&&a==i){for(o=r+5;o+2<n&&e[o+2]==i;)o+=2;11>(i=Math.min(o+1-r>>>1,138))?t.push(17,i-3):t.push(18,i-11),r+=2*i-2}else if(i==s&&o==i&&a==i){for(o=r+5;o+2<n&&e[o+2]==i;)o+=2;i=Math.min(o+1-r>>>1,6),t.push(16,i-3),r+=2*i-2}else t.push(i,0)}return n>>>1},F.F._hufTree=function(e,t,n){var r=[],i=e.length,o=t.length,a=0;for(a=0;a<o;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<i;a++)0!=e[a]&&r.push({lit:a,f:e[a]});if(e=r.length,i=r.slice(0),0==e)return 0;if(1==e)return t[1+((n=r[0].lit)<<1)]=1,t[1+((0==n?1:0)<<1)]=1;r.sort((function(e,t){return e.f-t.f})),a=r[0],o=r[1];var s=0,c=1,u=2;for(r[0]={lit:-1,f:a.f+o.f,l:a,r:o,d:0};c!=e-1;)a=s!=c&&(u==e||r[s].f<r[u].f)?r[s++]:r[u++],o=s!=c&&(u==e||r[s].f<r[u].f)?r[s++]:r[u++],r[c++]={lit:-1,f:a.f+o.f,l:a,r:o};for((r=F.F.setDepth(r[c-1],0))>n&&(F.F.restrictDepth(i,n,r),r=n),a=0;a<e;a++)t[1+(i[a].lit<<1)]=i[a].d;return r},F.F.setDepth=function(e,t){return-1!=e.lit?e.d=t:Math.max(F.F.setDepth(e.l,t+1),F.F.setDepth(e.r,t+1))},F.F.restrictDepth=function(e,t,n){var r=0,i=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,o+=i-(1<<n-a)}for(o>>>=n-t;0<o;)(a=e[r].d)<t?(e[r].d++,o-=1<<t-a-1):r++;for(;0<=r;r--)e[r].d==t&&0>o&&(e[r].d--,o++);0!=o&&console.log("debt left")},F.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},F.F._writeLit=function(e,t,n,r){return F.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},F.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=F.F,i=r._bitsF,o=r._bitsE,a=r._decodeTiny,s=r.makeCodes,c=r.codes2map,u=r._get17,l=r.U,d=null==t;d&&(t=new n(e.length>>>2<<3));for(var f,p,h,v,g=0,A=0,m=p=0,E=0;0==g;)if(g=i(e,E,1),f=i(e,E+1,2),E+=3,0==f)0!=(7&E)&&(E+=8-(7&E)),f=e[(E=4+(E>>>3))-4]|e[E-3]<<8,d&&(t=F.F._check(t,m+f)),t.set(new n(e.buffer,e.byteOffset+E,f),m),E=E+f<<3,m+=f;else{if(d&&(t=F.F._check(t,m+131072)),1==f&&(h=l.flmap,v=l.fdmap,A=511,p=31),2==f){for(p=o(e,E,5)+257,f=o(e,E+5,5)+1,h=o(e,E+10,4)+4,E+=14,v=0;38>v;v+=2)l.itree[v]=0,l.itree[v+1]=0;for(A=1,v=0;v<h;v++){var y=o(e,E+3*v,3);l.itree[1+(l.ordr[v]<<1)]=y,y>A&&(A=y)}E+=3*h,s(l.itree,A),c(l.itree,A,l.imap),h=l.lmap,v=l.dmap,E=a(l.imap,(1<<A)-1,p+f,e,E,l.ttree),A=(1<<(y=r._copyOut(l.ttree,0,p,l.ltree)))-1,p=(1<<(f=r._copyOut(l.ttree,p,f,l.dtree)))-1,s(l.ltree,y),c(l.ltree,y,h),s(l.dtree,f),c(l.dtree,f,v)}for(;;)if(E+=15&(f=h[u(e,E)&A]),0==(y=f>>>4)>>>8)t[m++]=y;else{if(256==y)break;f=m+y-254,264<y&&(f=m+((y=l.ldef[y-257])>>>3)+o(e,E,7&y),E+=7&y),E+=15&(y=v[u(e,E)&p]);var b=((y=l.ddef[y>>>4])>>>4)+i(e,E,15&y);for(E+=15&y,d&&(t=F.F._check(t,m+131072));m<f;)t[m]=t[m++-b],t[m]=t[m++-b],t[m]=t[m++-b],t[m]=t[m++-b];m=f}}return t.length==m?t:t.slice(0,m)},F.F._check=function(e,t){var n=e.length;return t<=n?e:((t=new Uint8Array(Math.max(n<<1,t))).set(e,0),t)},F.F._decodeTiny=function(e,t,n,r,i,o){for(var a=F.F._bitsE,s=F.F._get17,c=0;c<n;){var u=e[s(r,i)&t];i+=15&u;var l=u>>>4;if(15>=l)o[c]=l,c++;else{var d=u=0;for(16==l?(d=3+a(r,i,2),i+=2,u=o[c-1]):17==l?(d=3+a(r,i,3),i+=3):18==l&&(d=11+a(r,i,7),i+=7),l=c+d;c<l;)o[c]=u,c++}}return i},F.F._copyOut=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},F.F.makeCodes=function(e,t){var n,r,i=F.F.U,o=e.length,a=i.bl_count;for(n=0;n<=t;n++)a[n]=0;for(n=1;n<o;n+=2)a[e[n]]++;for(i=i.next_code,n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,i[r]=n;for(t=0;t<o;t+=2)0!=(a=e[t+1])&&(e[t]=i[a],i[a]++)},F.F.codes2map=function(e,t,n){for(var r=e.length,i=F.F.U.rev15,o=0;o<r;o+=2)if(0!=e[o+1]){var a=e[o+1],s=o>>1<<4|a,c=t-a;for(c=(a=e[o]<<c)+(1<<c);a!=c;)n[i[a]>>>15-t]=s,a++}},F.F.revCodes=function(e,t){for(var n=F.F.U.rev15,r=15-t,i=0;i<e.length;i+=2)e[i]=n[e[i]<<t-e[i+1]]>>>r},F.F._putsE=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8},F.F._putsF=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8,e[t+2]|=n>>>16},F.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},F.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},F.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},F.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},F.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(e,t,n){for(;0!=t--;)e.push(0,n)}for(var t=F.F.U,n=0;32768>n;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[n]=(r>>>16|r<<16)>>>17}for(n=0;32>n;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),F.F.makeCodes(t.fltree,9),F.F.codes2map(t.fltree,9,t.flmap),F.F.revCodes(t.fltree,9),e(t.fdtree,32,5),F.F.makeCodes(t.fdtree,5),F.F.codes2map(t.fdtree,5,t.fdmap),F.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var kE=Array.isArray||function(e){return e&&"number"==typeof e.length},lE=Object.defineProperty({isArray:kE},"__esModule",{value:!0}),mE=Object.defineProperty({isObject:function(e){return null!==e&&"object"===oa(e)}},"__esModule",{value:!0}),nE=Object.defineProperty({isFunction:function(e){return"function"==typeof e}},"__esModule",{value:!0}),oE=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),rh=Object.defineProperty({UnsubscriptionError:oE},"__esModule",{value:!0}),pE=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var o=0;o<t.length;++o)t[o].remove(this);if(nE.isFunction(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof rh.UnsubscriptionError?Yn(e.errors):[e]}}if(lE.isArray(i))for(o=-1,t=i.length;++o<t;)if(n=i[o],mE.isObject(n))try{n.unsubscribe()}catch(e){a=a||[],e instanceof rh.UnsubscriptionError?a=a.concat(Yn(e.errors)):a.push(e)}if(a)throw new rh.UnsubscriptionError(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(oa(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=((t=new e).closed=!0,t),e}(),qE=Object.defineProperty({Subscription:pE},"__esModule",{value:!0}),rE=Va&&Va.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sE=function(e){function t(t,n){return e.call(this)||this}return rE(t,e),t.prototype.schedule=function(e,t){return this},t}(qE.Subscription),tE=Object.defineProperty({Action:sE},"__esModule",{value:!0}),uE=Va&&Va.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zs=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return uE(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(tE.Action);Object.defineProperty({AsyncAction:Zs},"__esModule",{value:!0});var vE=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),$s=Object.defineProperty({Scheduler:vE},"__esModule",{value:!0}),wE=Va&&Va.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(e){function t(n,r){void 0===r&&(r=$s.Scheduler.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return wE(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}($s.Scheduler);Object.defineProperty({AsyncScheduler:at},"__esModule",{value:!0});var xE=Ea("iterator"),Ql=!ia((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[xE]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),yE=/[^\0-\u007E]/,zE=/[.\u3002\uFF0E\uFF61]/g,Df=Math.floor,Rl=String.fromCharCode,bt=function(e){var t=jg(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Ia(t.call(e))},ct=Lc("fetch"),Sl=Lc("Headers"),AE=Ea("iterator"),dt=Za.set,Yb=Za.getterFor("URLSearchParams"),BE=Za.getterFor("URLSearchParamsIterator"),CE=/\+/g,et=Array(4),DE=function(e){try{return decodeURIComponent(e)}catch(t){return e}},ft=function(e){var t=e.replace(CE," ");e=4;try{return decodeURIComponent(t)}catch(i){for(;e;){var n=t.replace,r=e--;r=et[r-1]||(et[r-1]=RegExp("((?:%[\\da-f]{2}){"+r+"})","gi")),t=n.call(t,r,DE)}return t}},gt=/[!'()~]|%20/g,EE={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ht=function(e){return EE[e]},it=function(e,t){if(t){t=t.split("&");for(var n,r=0;r<t.length;)(n=t[r++]).length&&(n=n.split("="),e.push({key:ft(n.shift()),value:ft(n.join("="))}))}},FE=function(e){this.entries.length=0,it(this.entries,e)},Ef=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Tl=Qo((function(e,t){dt(this,{type:"URLSearchParamsIterator",iterator:bt(Yb(e).entries),kind:t})}),"Iterator",(function(){var e=BE(this),t=e.kind,n=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),e})),Pg=function e(){tc(this,e,"URLSearchParams");var t,n,r,i=0<arguments.length?arguments[0]:void 0,o=[];if(dt(this,{type:"URLSearchParams",entries:o,updateURL:function(){},updateSearchParams:FE}),void 0!==i)if(va(i)){var a=jg(i);if("function"==typeof a)for(i=a.call(i),a=i.next;!(t=a.call(i)).done;){var s=(t=bt(Ia(t.value))).next;if((n=s.call(t)).done||(r=s.call(t)).done||!s.call(t).done)throw TypeError("Expected sequence with length 2");o.push({key:n.value+"",value:r.value+""})}else for(t in i)ha(i,t)&&o.push({key:t,value:i[t]+""})}else it(o,"string"==typeof i?"?"===i.charAt(0)?i.slice(1):i:i+"")},wi=Pg.prototype;gf(wi,{append:function(e,t){Ef(arguments.length,2);var n=Yb(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Ef(arguments.length,1);for(var t=Yb(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){Ef(arguments.length,1);for(var t=Yb(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Ef(arguments.length,1);for(var t=Yb(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){Ef(arguments.length,1);for(var t=Yb(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Ef(arguments.length,1);for(var n,r=Yb(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n=Yb(this),r=n.entries,i=r.slice();for(t=r.length=0;t<i.length;t++){var o=i[t];for(e=0;e<t;e++)if(r[e].key>o.key){r.splice(e,0,o);break}e===t&&r.push(o)}n.updateURL()},forEach:function(e){for(var t,n=Yb(this).entries,r=Cd(e,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Tl(this,"keys")},values:function(){return new Tl(this,"values")},entries:function(){return new Tl(this,"entries")}},{enumerable:!0}),Wa(wi,AE,wi.entries),Wa(wi,"toString",(function(){for(var e,t=Yb(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(encodeURIComponent(e.key).replace(gt,ht)+"="+encodeURIComponent(e.value).replace(gt,ht));return n.join("&")}),{enumerable:!0}),sc(Pg,"URLSearchParams"),ba({global:!0,forced:!Ql},{URLSearchParams:Pg}),Ql||"function"!=typeof ct||"function"!=typeof Sl||ba({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t=[e];if(1<arguments.length){var n=arguments[1];if(va(n)){var r=n.body;if("URLSearchParams"===ff(r)){var i=n.headers?new Sl(n.headers):new Sl;i.has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=ec(n,{body:Jc(0,String(r)),headers:Jc(0,i)})}}t.push(n)}return ct.apply(this,t)}});var Qg=Q.URL,GE=Pg,HE=Za.set,$a=Za.getterFor("URL"),IE=Math.floor,jt=Math.pow,kt=/[A-Za-z]/,JE=/[\d+-.A-Za-z]/,Ul=/\d/,KE=/^(0x|0X)/,LE=/^[0-7]+$/,ME=/^\d+$/,lt=/^[\dA-Fa-f]+$/,NE=/[\0\t\n\r #%/:?@[\\]]/,OE=/[\0\t\n\r #/:?@[\\]]/,PE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,QE=/[\t\n\r]/g,Vl=function(e,t){var n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";var r=RE(t.slice(1,-1));if(!r)return"Invalid host"}else if(sb(e)){for(r=[],t=t.toLowerCase().replace(zE,".").split("."),n=0;n<t.length;n++){var i=t[n],o=r,a=o.push;if(yE.test(i)){var s=i;i=[];var c=s;s=[];for(var u=0,l=c.length;u<l;){var d=c.charCodeAt(u++);if(55296<=d&&56319>=d&&u<l){var f=c.charCodeAt(u++);56320==(64512&f)?s.push(((1023&d)<<10)+(1023&f)+65536):(s.push(d),u--)}else s.push(d)}u=s.length,l=128;var p=0,h=72;for(c=0;c<s.length;c++){var v=s[c];128>v&&i.push(Rl(v))}for((f=d=i.length)&&i.push("-");f<u;){var g=2147483647;for(c=0;c<s.length;c++)(v=s[c])>=l&&v<g&&(g=v);var A=f+1;if(g-l>Df((2147483647-p)/A))throw RangeError("Overflow: input needs wider integers to process");for(p+=(g-l)*A,l=g,c=0;c<s.length;c++){if((v=s[c])<l&&2147483647<++p)throw RangeError("Overflow: input needs wider integers to process");if(v==l){var m=p;for(v=36;!(m<(g=v<=h?1:v>=h+26?26:v-h));v+=36){var E=36-g,y=i;g+=(m-=g)%E,y.push.call(y,Rl(g+22+75*(26>g))),m=Df(m/E)}for(i.push(Rl(m+22+75*(26>m))),h=A,v=0,p=f==d?Df(p/700):p>>1,p+=Df(p/h);455<p;v+=36)p=Df(p/35);h=Df(v+36*p/(p+38)),p=0,++f}}++p,++l}i="xn--"+i.join("")}a.call(o,i)}if(t=r.join("."),NE.test(t))return"Invalid host";if(null===(r=SE(t)))return"Invalid host"}else{if(OE.test(t))return"Invalid host";for(r="",t=fe(t),n=0;n<t.length;n++)r+=Pd(t[n],xi)}e.host=r},SE=function(e){var t,n=e.split(".");n.length&&""==n[n.length-1]&&n.pop();var r=n.length;if(4<r)return e;var i=[];for(t=0;t<r;t++){var o=n[t];if(""==o)return e;var a=10;if(1<o.length&&"0"==o.charAt(0)&&(a=KE.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)o=0;else{if(!(10==a?ME:8==a?LE:lt).test(o))return e;o=parseInt(o,a)}i.push(o)}for(t=0;t<r;t++)if(o=i[t],t==r-1){if(o>=jt(256,5-r))return null}else if(255<o)return null;for(e=i.pop(),t=0;t<i.length;t++)e+=i[t]*jt(256,3-t);return e},RE=function(e){var t,n,r=[0,0,0,0,0,0,0,0],i=0,o=null,a=0,s=function(){return e.charAt(a)};if(":"==s()){if(":"!=e.charAt(1))return;a+=2,o=++i}for(;s();){if(8==i)return;if(":"==s()){if(null!==o)return;a++,o=++i}else{for(t=n=0;4>n&&lt.test(s());)t=16*t+parseInt(s(),16),a++,n++;if("."==s()){if(0==n)return;if(a-=n,6<i)return;for(t=0;s();){if(n=null,0<t){if(!("."==s()&&4>t))return;a++}if(!Ul.test(s()))return;for(;Ul.test(s());){var c=parseInt(s(),10);if(null===n)n=c;else{if(0==n)return;n=10*n+c}if(255<n)return;a++}r[i]=256*r[i]+n,2!=++t&&4!=t||i++}if(4!=t)return;break}if(":"==s()){if(a++,!s())return}else if(s())return;r[i++]=t}}if(null!==o)for(s=i-o,i=7;0!=i&&0<s;)t=r[i],r[i--]=r[o+s-1],r[o+--s]=t;else if(8!=i)return;return r},Rg=function(e){var t,n;if("number"==typeof e){var r=[];for(t=0;4>t;t++)r.unshift(e%256),e=IE(e/256);return r.join(".")}if("object"==typeof e){r="",t=null;for(var i=1,o=null,a=0,s=0;8>s;s++)0!==e[s]?(a>i&&(t=o,i=a),o=null,a=0):(null===o&&(o=s),++a);for(a>i&&(t=o),i=t,t=0;8>t;t++)n&&0===e[t]||(n&&(n=!1),i===t?(r+=t?":":"::",n=!0):(r+=e[t].toString(16),7>t&&(r+=":")));return"["+r+"]"}return e},xi={},mt=zg({},xi,{" ":1,'"':1,"<":1,">":1,"`":1}),nt=zg({},mt,{"#":1,"?":1,"{":1,"}":1}),Wl=zg({},nt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pd=function(e,t){var n=kw(e,0);return 32<n&&127>n&&!ha(t,e)?e:encodeURIComponent(e)},yi={ftp:21,file:null,http:80,https:443,ws:80,wss:443},sb=function(e){return ha(yi,e.scheme)},Xl=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Sg=function(e,t){var n;return 2==e.length&&kt.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ot=function(e){var t;return 1<e.length&&Sg(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},pt=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Sg(t[0],!0)||t.pop()},Yl={},qt={},Zl={},rt={},st={},$l={},tt={},ut={},zi={},Ai={},am={},bm={},cm={},dm={},vt={},em={},Tg={},Vc={},wt={},we={},sd={},Wc=function(e,t,n,r){var i=n||Yl,o=0,a="",s=!1,c=!1,u=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(PE,"")),t=t.replace(QE,""),t=fe(t);o<=t.length;){var l=t[o];switch(i){case Yl:if(!l||!kt.test(l)){if(n)return"Invalid scheme";i=Zl;continue}a+=l.toLowerCase(),i=qt;break;case qt:if(l&&(JE.test(l)||"+"==l||"-"==l||"."==l))a+=l.toLowerCase();else{if(":"!=l){if(n)return"Invalid scheme";a="",i=Zl,o=0;continue}if(n&&(sb(e)!=ha(yi,a)||"file"==a&&(""!=e.username||""!=e.password||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=a,n)return void(sb(e)&&yi[e.scheme]==e.port&&(e.port=null));a="","file"==e.scheme?i=dm:sb(e)&&r&&r.scheme==e.scheme?i=rt:sb(e)?i=ut:"/"==t[o+1]?(i=st,o++):(e.cannotBeABaseURL=!0,e.path.push(""),i=wt)}break;case Zl:if(!r||r.cannotBeABaseURL&&"#"!=l)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==l){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,i=sd;break}i="file"==r.scheme?dm:$l;continue;case rt:if("/"!=l||"/"!=t[o+1]){i=$l;continue}i=zi,o++;break;case st:if("/"==l){i=Ai;break}i=Vc;continue;case $l:if(e.scheme=r.scheme,null==l)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==l||"\\"==l&&sb(e))i=tt;else if("?"==l)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",i=we;else{if("#"!=l){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),i=Vc;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=sd}break;case tt:if(!sb(e)||"/"!=l&&"\\"!=l){if("/"!=l){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,i=Vc;continue}i=Ai}else i=zi;break;case ut:if(i=zi,"/"!=l||"/"!=a.charAt(o+1))continue;o++;break;case zi:if("/"!=l&&"\\"!=l){i=Ai;continue}break;case Ai:if("@"==l){for(s&&(a="%40"+a),s=!0,a=fe(a),l=0;l<a.length;l++){var d=a[l];":"!=d||u?(d=Pd(d,Wl),u?e.password+=d:e.username+=d):u=!0}a=""}else if(null==l||"/"==l||"?"==l||"#"==l||"\\"==l&&sb(e)){if(s&&""==a)return"Invalid authority";o-=fe(a).length+1,a="",i=am}else a+=l;break;case am:case bm:if(n&&"file"==e.scheme){i=em;continue}if(":"!=l||c){if(null==l||"/"==l||"?"==l||"#"==l||"\\"==l&&sb(e)){if(sb(e)&&""==a)return"Invalid host";if(n&&""==a&&(""!=e.username||""!=e.password||null!==e.port))return;if(i=Vl(e,a))return i;if(a="",i=Tg,n)return;continue}"["==l?c=!0:"]"==l&&(c=!1),a+=l}else{if(""==a)return"Invalid host";if(i=Vl(e,a))return i;if(a="",i=cm,n==bm)return}break;case cm:if(!Ul.test(l)){if(null==l||"/"==l||"?"==l||"#"==l||"\\"==l&&sb(e)||n){if(""!=a){if(65535<(i=parseInt(a,10)))return"Invalid port";e.port=sb(e)&&i===yi[e.scheme]?null:i,a=""}if(n)return;i=Tg;continue}return"Invalid port"}a+=l;break;case dm:if(e.scheme="file","/"==l||"\\"==l)i=vt;else{if(!r||"file"!=r.scheme){i=Vc;continue}if(null==l)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==l)e.host=r.host,e.path=r.path.slice(),e.query="",i=we;else{if("#"!=l){ot(t.slice(o).join(""))||(e.host=r.host,e.path=r.path.slice(),pt(e)),i=Vc;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=sd}}break;case vt:if("/"==l||"\\"==l){i=em;break}r&&"file"==r.scheme&&!ot(t.slice(o).join(""))&&(Sg(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),i=Vc;continue;case em:if(null==l||"/"==l||"\\"==l||"?"==l||"#"==l){if(!n&&Sg(a))i=Vc;else{if(""==a){if(e.host="",n)return}else{if(i=Vl(e,a))return i;if("localhost"==e.host&&(e.host=""),n)return;a=""}i=Tg}continue}a+=l;break;case Tg:if(sb(e)){if(i=Vc,"/"!=l&&"\\"!=l)continue}else if(n||"?"!=l)if(n||"#"!=l){if(null!=l&&(i=Vc,"/"!=l))continue}else e.fragment="",i=sd;else e.query="",i=we;break;case Vc:if(null==l||"/"==l||"\\"==l&&sb(e)||!n&&("?"==l||"#"==l)){if(".."===(d=(d=a).toLowerCase())||"%2e."===d||".%2e"===d||"%2e%2e"===d?(pt(e),"/"==l||"\\"==l&&sb(e)||e.path.push("")):"."===a||"%2e"===a.toLowerCase()?"/"==l||"\\"==l&&sb(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Sg(a)&&(e.host&&(e.host=""),a=a.charAt(0)+":"),e.path.push(a)),a="","file"==e.scheme&&(null==l||"?"==l||"#"==l))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==l?(e.query="",i=we):"#"==l&&(e.fragment="",i=sd)}else a+=Pd(l,nt);break;case wt:"?"==l?(e.query="",i=we):"#"==l?(e.fragment="",i=sd):null!=l&&(e.path[0]+=Pd(l,xi));break;case we:n||"#"!=l?null!=l&&("'"==l&&sb(e)?e.query+="%27":e.query="#"==l?e.query+"%23":e.query+Pd(l,xi)):(e.fragment="",i=sd);break;case sd:null!=l&&(e.fragment+=Pd(l,mt))}o++}},Qd=function e(t){var n=tc(this,e,"URL"),r=1<arguments.length?arguments[1]:void 0,i=String(t),o=HE(n,{type:"URL"});if(void 0!==r)if(r instanceof e)var a=$a(r);else if(r=Wc(a={},String(r)))throw TypeError(r);if(r=Wc(o,i,null,a))throw TypeError(r);var s=o.searchParams=new GE;(i=Yb(s)).updateSearchParams(o.query),i.updateURL=function(){o.query=String(s)||null},ta||(n.href=Bi.call(n),n.origin=xt.call(n),n.protocol=yt.call(n),n.username=zt.call(n),n.password=At.call(n),n.host=Bt.call(n),n.hostname=Ct.call(n),n.port=Dt.call(n),n.pathname=Et.call(n),n.search=Ft.call(n),n.searchParams=Gt.call(n),n.hash=Ht.call(n))},fm=Qd.prototype,Bi=function(){var e=$a(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",""==e.username&&""==e.password||(u+=n+(r?":"+r:"")+"@"),u+=Rg(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},xt=function(){var e=$a(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Qd(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&sb(e)?t+"://"+Rg(e.host)+(null!==n?":"+n:""):"null"},yt=function(){return $a(this).scheme+":"},zt=function(){return $a(this).username},At=function(){return $a(this).password},Bt=function(){var e=$a(this),t=e.host;return e=e.port,null===t?"":null===e?Rg(t):Rg(t)+":"+e},Ct=function(){var e=$a(this).host;return null===e?"":Rg(e)},Dt=function(){var e=$a(this).port;return null===e?"":String(e)},Et=function(){var e=$a(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ft=function(){var e=$a(this).query;return e?"?"+e:""},Gt=function(){return $a(this).searchParams},Ht=function(){var e=$a(this).fragment;return e?"#"+e:""},mc=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(ta&&No(fm,{href:mc(Bi,(function(e){var t=$a(this);if(e=Wc(t,String(e)))throw TypeError(e);Yb(t.searchParams).updateSearchParams(t.query)})),origin:mc(xt),protocol:mc(yt,(function(e){var t=$a(this);Wc(t,String(e)+":",Yl)})),username:mc(zt,(function(e){var t=$a(this);if(e=fe(String(e)),!Xl(t)){t.username="";for(var n=0;n<e.length;n++)t.username+=Pd(e[n],Wl)}})),password:mc(At,(function(e){var t=$a(this);if(e=fe(String(e)),!Xl(t)){t.password="";for(var n=0;n<e.length;n++)t.password+=Pd(e[n],Wl)}})),host:mc(Bt,(function(e){var t=$a(this);t.cannotBeABaseURL||Wc(t,String(e),am)})),hostname:mc(Ct,(function(e){var t=$a(this);t.cannotBeABaseURL||Wc(t,String(e),bm)})),port:mc(Dt,(function(e){var t=$a(this);Xl(t)||(""==(e=String(e))?t.port=null:Wc(t,e,cm))})),pathname:mc(Et,(function(e){var t=$a(this);t.cannotBeABaseURL||(t.path=[],Wc(t,e+"",Tg))})),search:mc(Ft,(function(e){var t=$a(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Wc(t,e,we)),Yb(t.searchParams).updateSearchParams(t.query)})),searchParams:mc(Gt),hash:mc(Ht,(function(e){var t=$a(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Wc(t,e,sd))}))}),Wa(fm,"toJSON",(function(){return Bi.call(this)}),{enumerable:!0}),Wa(fm,"toString",(function(){return Bi.call(this)}),{enumerable:!0}),Qg){var It=Qg.createObjectURL,Jt=Qg.revokeObjectURL;It&&Wa(Qd,"createObjectURL",(function(e){return It.apply(Qg,arguments)})),Jt&&Wa(Qd,"revokeObjectURL",(function(e){return Jt.apply(Qg,arguments)}))}sc(Qd,"URL"),ba({global:!0,forced:!Ql,sham:!ta},{URL:Qd});var TE=new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]),UE=window.URL.createObjectURL(TE),We={},bg=0,uj=new Worker(UE);uj.onmessage=function(e){if(e=e.data.fakeId,We.hasOwnProperty(e)){var t=We[e];e=t.callback,t=t.parameters,e.apply(window,t)}};var VE=function(e){function t(){return ua(this,t),n.apply(this,arguments)}Ga(t,e);var n=Ha(t);return cb(t,[{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return Gv(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;We.hasOwnProperty(t)&&(delete We[t],uj.postMessage({name:"clearInterval",fakeId:t}))}}]),t}(Zs),WE=new at(VE),XE=["group"],gm=F.inflate,Kt=F.deflate,Lt=function(e){function t(e,n,i,o){ua(this,t);var a=r.call(this,o,"Session");return x(z(a),"lastNoticeTicket",""),x(z(a),"chatManager",void 0),x(z(a),"usedChannelIds",[]),x(z(a),"msgDedupLru",new Sc(void 0,{maxlen:200})),x(z(a),"startTime",Date.now()),x(z(a),"seq",ma.fromNumber(1,!0)),x(z(a),"userJoinOptions",new Xs(!1)),x(z(a),"seqSentStatuses",[!1,!1]),x(z(a),"dialogueSequenceLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"loggedOut",!1),x(z(a),"messageSentTimes",[]),x(z(a),"curLoginSockets",[void 0,void 0]),x(z(a),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),x(z(a),"lastLoginSockets",[new Qe(1),new Qe(1)]),x(z(a),"dialPendingMsgSubjectMap",new Map),x(z(a),"context",void 0),x(z(a),"connection",void 0),x(z(a),"instanceId",void 0),x(z(a),"lastPingTime",void 0),x(z(a),"registerSocketsFailureListener",(function(){a.connection.once("socketsFailure",(function(){a.log("socketsFailure, creating a new connection"),wd((function(){return a.connection.removeAllListeners(),a.connection=new Us(a.context,a.logger,!0),a.loginHandler(15e3,!0)})).pipe(Oe((function(e){return e.pipe(Yd(ue.getParameter("RECONNECTING_AP_INTERVAL")))})),Gc(a.connection.apClient.apFinish$)).subscribe((function(){a.log("new connection connected")}))})),0===a.connection.listenerCount("tokenExpired")&&a.connection.on("tokenExpired",(function(){a.emit("tokenExpired")}))})),a.context=e,a.connection=n,a.instanceId=i,a.chatManager=new jE(o),a.lastPingTime=[0,0],a.setMaxListeners(512),a.log("The instanceId is %s",a.instanceId.toString()),a}Ga(t,e);var n,r=Ha(t);return cb(t,[{key:"loginHandler",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12e3,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&n)throw new aa("Already logged out, request ignored");n&&this.registerSocketsFailureListener(),this.connection.initConnection();var r=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),i=Date.now();return r.forEach((function(t,r){var o=e.loginSocketSubs[r].login;void 0!==o&&o.unsubscribe(),e.loginSocketSubs[r].login=t.pipe(sa((function(t){var o;e.curLoginSockets[r]=t;var a=Date.now();xb("Link",{ackedServerIp:t.address,destServerIp:t.ip,ec:0,sc:0,elapse:yb(e.startTime),lts:ma.fromNumber(a),responseTime:a-i,sid:rb(e.instanceId),userId:e.context.uid},null!==(o=e.context.config.enableCloudProxy)&&void 0!==o&&o),e.emit("userJoined",t.env),n&&e.connection.apClient.apFinish$.next(void 0)}))).subscribe(e.lastLoginSockets[r])})),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Ec.apply(void 0,W(r).concat([Gb(this.connection,"connectionInitFailure").pipe(sa((function(e){if(Ma(e)||vb(e))throw e;throw new Ja("Login failure",{code:Ur,originalError:e})})))])).pipe(db(1),Hb(t),Ya((function(t){return t instanceof Pb&&e.warn("Client login timeout"),t&&t.code===qi&&(e.connection.emit("tokenExpired"),e.connection.apClient.apFinish$.next(void 0)),e.clearSockets(0,n),pa(t)})),sa((function(){n||e.registerSocketsFailureListener()})),ch((function(){n||e.connection.apClient.apFinish$.next(void 0)})))}},{key:"logoutHandler",value:(n=ja(M.mark((function e(){var t,n,r,i=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),t=this.getLoginSockets(),n=t.map((function(e){return e.sendPacket("UserQuit",{}),i.connection.waitClosing(e)})),this.clearSockets(5e3),r=t.map((function(e){return e.env})),[0,1].filter((function(e){return!r.includes(e)})).forEach((function(e){i.connection.closeSocket(e,0)})),e.abrupt("return",Ec.apply(void 0,W(n)).toPromise());case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.getLoginSockets().length){e.next=2;break}throw new aa("Client is not logged in. Cannot join the channel",Qr);case 2:return n=Gb(this,"channelLeft").pipe(Ob((function(e){return t===e})),db(1)),r=this.incGetSeq(),(i=this.lastLoginSockets.map((function(e){return e.pipe(Fc((function(e,n){0!==n&&o.incSeqIfNeeded(e.env);var i=0===n?r:o.seq;return e.sendPacket("GroupEnter",{account:t,seq:i}),e.fromReceived("GroupReply").pipe(Aa((function(e){return i.eq(e.seq)})),sa((function(e){if(0!==(e=e.code))throw new Ja(["Channel join failure. The response code is %d",e],Mr)})))})),Gc(n),Pe())}))).forEach((function(e,n){var r=function(){return o.loginSocketSubs[n].channels.delete(t)};o.loginSocketSubs[n].channels.set(t,e.subscribe({error:r,complete:r}))})),e.next=8,Ec.apply(void 0,W(i)).pipe(db(1),Hb(1e4),Ya((function(e){return e instanceof Pb&&o.warn("Channel join timeout"),pa(e)}))).toPromise();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(e){this.getLoginSockets().forEach((function(t){t.sendPacket("GroupLeave",{account:e})}))}},{key:"requestUpdateEdgeTicket",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in. Cannot renew token",bs);var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserRenewTokenReq",{instance:n.instanceId,seq:i,account:n.context.uid,ticket:e})})),ab.apply(void 0,[t.genTimeoutError(Gl)].concat(W(r.map((function(e){return e.fromReceived("UserRenewTokenResp").pipe(Aa((function(e){var t=e.code;return i.eq(e.seq)&&0===t})))})))))}},{key:"requestChannelMemberList",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in. Cannot get the channel members",xB);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAllUsersList",{group:e,pageNumber:0,pageSize:200,seq:r})})),ab.apply(void 0,[t.genTimeoutError(Kr)].concat(W(n.map((function(t){return t.fromReceived("GroupAllUsersResult").pipe(Aa((function(t){var n=t.seq;return t.group===e&&r.eq(n)})))})))))}},{key:"requestPeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserStatusList",{users:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(IB)].concat(W(n.map((function(e){return e.fromReceived("UserStatusResult").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSetLocalUserAttributes",value:function(e,n){var r=this,i=this.getLoginSockets();if(0===i.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t,i){void 0!==n&&i!==n||t.sendPacket("UserAttributeSet",{account:r.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:o})})),ab.apply(void 0,W(i.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes set failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(i.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestSetChannelAttributes",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeSet",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:o})})),ab.apply(void 0,W(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The group attributes set failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeMod",{account:n.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:i})})),ab.apply(void 0,W(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes add or update failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeMod",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:o})})),ab.apply(void 0,W(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The group attributes add or update failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeDel",{account:n.context.uid,attributes:e,seq:i})})),ab.apply(void 0,W(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes delete failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeDel",{group:e,broadcast:r,attributes:n,seq:o})})),ab.apply(void 0,W(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The channel attributes delete failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestClearLocalUserAttributes",value:function(){var e=this,n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeSet",{account:e.context.uid,seq:r,attributeInfos:[]})})),ab.apply(void 0,W(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return r.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes clear failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(n.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestClearChannelAttributes",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeSet",{group:e,seq:i,attributeInfos:[],broadcast:n})})),ab.apply(void 0,W(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The channel attributes clear failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(r.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetUserAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeGet",{account:e,seq:i,attributes:n})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){if(10008===(e=e.code))throw new Ja("The user requested is not online",Gr);throw new se(["User attribute operation unknown error code: %d",e],jc)})))}))),W(r.map((function(e){return e.fromReceived("UserAttributeRet").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeGet",{group:e,seq:i,attributes:n})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The channel attributes get failure, code %d",e.code],jc)})))}))),W(r.map((function(e){return e.fromReceived("GroupAttributeRet").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetUserAttributeKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeKeysGet",{account:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return r.eq(e.seq)})),Da((function(e){if(10008===(e=e.code))throw new Ja("The user requested is not online",Gr);throw new se(["User attribute operation unknown error code: %d",e],jc)})))}))),W(n.map((function(e){return e.fromReceived("UserAttributeKeysRet").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAttributeKeysGet",{group:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(n.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return r.eq(e.seq)})),Da((function(e){throw new se(["Channel attribute operation unknown error code: %d",e.code],jc)})))}))),W(n.map((function(e){return e.fromReceived("GroupAttributeKeysRet").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelMemberCount",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupStatusList",{groups:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(Kr)].concat(W(n.map((function(e){return e.fromReceived("GroupStatusResult").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSubscribePeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("SubscribeUserStatus",{seq:r,users:e})})),ab.apply(void 0,[t.genTimeoutError(NB)].concat(W(n.map((function(e){return e.fromReceived("SubscribeResponse").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(e){var t=this.getLoginSockets();if(0===t.length)throw new aa("Client is not logged in");var n=this.incGetSeq();t.forEach((function(t){t.sendPacket("UnsubscribeUserStatus",{seq:n,users:e})}))}},{key:"sendInvitationMessage",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,p,h=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerId,r=t.callId,i=t.extra,o=t.isAcceptAck,a=t.channelId,s=t.type,c={callId:r},void 0===o){e.next=6;break}if("CallAccept"===s){e.next=5;break}throw Error("invalid invitation type");case 5:c.type=o?"ack":"request";case 6:return c.channel=a,("CallInvite"===s||"CallCancel"===s||"CallReject"===s||"CallAccept"===s&&!1===o)&&void 0!==i&&(c.extra=i),u=hh(),this.log("The sent invitation body is %o",c),l=function(e){return{MiscMap:{},sequence:ma.fromNumber(1),dialogue:u,instance:h.instanceId,dst:n,ms:ma.fromNumber(Date.now(),!0),options:new Cf({IterationNumber:e,MessageType:s}).toLong(),payload:(new TextEncoder).encode(JSON.stringify(c)),src:h.context.uid}},e.next=14,Dc(this.sendMessageToRetry(l,!0)).pipe(Hb(1e4),Ya((function(e){return e instanceof Pb&&h.warn("Send invitation timeout"),pa(e)}))).toPromise();case 14:return d=e.sent,f=d.code,p=d.retryTimes,e.abrupt("return",{hasPeerReceived:0===f,hasReSent:0!==p});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var e=ja(M.mark((function e(t,n,r,i,o){var a,s,c,u,l,d,f,p,h=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(r)&&t instanceof Uint8Array&&"string"==typeof n){e.next=2;break}throw new Z("The send message arguments are not valid",i?$r:ni);case 2:if(!(32768<t.byteLength+new Blob([n]).size)){e.next=4;break}throw new dc("The message size is over the 32KB limit",i?Xf:Cl);case 4:return a=!ue.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=t.byteLength,s=this.chatManager.getChatInfo(r),c=s.dialogue,u=s.sequence,l=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(l,"-").concat(c,"#").concat(u,'"'),a?" compressed":"",i?"peer":"channel",Ka(r)),d=function(e){return{MiscMap:{description:(new TextEncoder).encode(n)},sequence:u,dialogue:c,instance:l,dst:r,ms:ma.fromNumber(Date.now(),!0),options:new Cf({IterationNumber:e,CompressionMethod:a?"Zlib":"Uncompressed",MessageType:i?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:a?Kt(t):t,src:h.context.uid}},e.next=11,Dc(this.sendMessageToRetry(d,!0)).pipe(Hb(void 0===o?1e4:o),Ya((function(e){return e instanceof Pb&&h.warn("Send message timeout"),pa(e)}))).toPromise();case 11:return f=e.sent,p=f.code,e.abrupt("return",{hasPeerReceived:0===p});case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var e=ja(M.mark((function e(t,n,r,i){var o,a,s,c,u,l,d,f,p,h=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(n)){e.next=2;break}throw new Z("The send message arguments are not valid",r?$r:ni);case 2:if(!(32768<new Blob([t]).size)){e.next=4;break}throw new dc("The message size is over the 32KB limit",r?Xf:Cl);case 4:return o=!ue.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([t]).size,a=this.chatManager.getChatInfo(n),s=a.dialogue,c=a.sequence,u=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(u,"-").concat(s,"#").concat(c,'"'),o?" compressed":"",r?"peer":"channel",Ka(n)),l=(new TextEncoder).encode(t),d=function(e){return{MiscMap:{},sequence:c,dialogue:s,instance:u,dst:n,ms:ma.fromNumber(Date.now(),!0),options:new Cf({IterationNumber:e,CompressionMethod:o?"Zlib":"Uncompressed",MessageType:r?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:o?Kt(l):l,src:h.context.uid}},e.next=12,Dc(this.sendMessageToRetry(d,!0)).pipe(Hb(void 0===i?1e4:i),Ya((function(e){return e instanceof Pb&&h.warn("Send message timeout"),pa(e)}))).toPromise();case 12:return f=e.sent,p=f.code,e.abrupt("return",{hasPeerReceived:0===p});case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(e,t){Object.entries(this.loginSocketSubs[e]).forEach((function(e){var n=(e=Xa(e,2))[1];"channels"===e[0]&&t||(Array.isArray(n)||n instanceof Map?n.forEach((function(e){return e.unsubscribe()})):n&&n.unsubscribe())})),this.loginSocketSubs[e]={channels:t?this.loginSocketSubs[e].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var e=ja(M.mark((function e(t,n){var r,i,o,a,s,c,u,l,d,f=this,p=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<p.length&&void 0!==p[2]?p[2]:0,this.log("Attempt to send the message ".concat(n?" with retrying, %o":"without retrying"),{retryTimes:r}),0!==(i=this.getLoginSockets()).length){e.next=5;break}throw Error("no logged-in sockets");case 5:return o=t(r),i.forEach((function(e){e.sendPacket("Message",o)})),a=o.dialogue,s=o.sequence,c=o.instance,u=i.map((function(e){return e.fromReceived("Ack").pipe(Ob((function(e){return a.eq(e.dialogue)&&s.eq(e.sequence)&&c.eq(e.instance)})))})),e.prev=9,e.next=12,Ec.apply(void 0,W(u)).pipe(Hb(6e3),Ya((function(e){return vb(e)&&f.warn("Message send timeout, retry times %d",r),pa(e)})),db(1)).toPromise();case 12:return l=e.sent,d=l.code,this.log("The message has been acked, %o",{code:d}),e.abrupt("return",{code:d,retryTimes:r});case 18:if(e.prev=18,e.t0=e.catch(9),!(e.t0 instanceof Pb&&n)){e.next=22;break}return e.abrupt("return",this.sendMessageToRetry(t,!1,r+1));case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Fc((function(t){return Zc(0,2500,Ae()?void 0:WE).pipe(sa((function(){e.sendPing(t)})))})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAlive;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAlive=t.subscribe({error:function(){}})}))}},{key:"initKeepAliveReconnector",value:function(){var e=this;this.lastLoginSockets.map((function(e){return e.pipe(Fc((function(e){var t,n=!1,r=e.userJoin$.pipe(sa((function(){n=!0}))),i=e.input$.pipe(sa((function(e){"Ping"!==rj[e.uri].slice(0,-3)&&(n=!1)})));return Ec(Zc(6e3,1e4).pipe(ov(e.receivedPacket),sa((function(r){r=Xa(r,2),r=Xa(r[1],2)[1],t!==r||n||e.forceReconnect(),t=r}))),r,i)})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAliveReconnector;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAliveReconnector=t.subscribe({error:function(){}})}))}},{key:"initLoginReceiver",value:function(){var e=this;ab.apply(void 0,W(this.lastLoginSockets.map((function(t){return t.pipe(Fc((function(t){return t.fromReceived("UserTicketNearlyExpire").pipe(iv(5e3),sa(e.onUserTicketNearlyExpire(t)))})))})))).subscribe(),this.lastLoginSockets.map((function(t){return t.pipe(Fc((function(t){return Ec(Gb(t,"reconnect").pipe(sa(e.onSocketReconnect(t))),t.fromReceived("Message").pipe(sa(e.onMessage(t))),t.fromReceived("GroupEnterNotice").pipe(sa(e.onGroupEnterNotice())),t.fromReceived("GroupLeaveNotice").pipe(sa(e.onGroupLeaveNotice())),t.fromReceived("GroupCountNotice").pipe(sa(e.onGroupCountNotice())),t.fromReceived("GroupAttributeAlt").pipe(sa(e.onGroupAttributeAlt())),t.fromReceived("UserJoinNotice").pipe(sa(e.onUserNotice(qa.PeerOnlineState.ONLINE))),t.fromReceived("UserQuitNotice").pipe(sa(e.onUserNotice(qa.PeerOnlineState.OFFLINE))),t.fromReceived("UserWaitNotice").pipe(sa(e.onUserNotice(qa.PeerOnlineState.UNREACHABLE))),t.fromReceived("Pong").pipe(sa(e.onPong())),t.fromReceived("UserDrop").pipe(sa(e.onUserDrop(t)))).pipe(Sf(void 0))})))})).forEach((function(t,n){e.loginSocketSubs[n].receivers.push(t.subscribe({error:function(){}}))}))}},{key:"requestSocketLogin",value:function(e,t,n){var r=this;return hn(wd((function(){r.userJoinOptions=new Xs(t),e.sendPacket("UserJoin",{account:r.context.uid,instance:r.instanceId,opt:r.userJoinOptions.toLong(),seq:n,ticket:e.ticket})})),e.fromReceived("UserResp").pipe(Aa((function(e){return n.eq(e.seq)})),sa((function(t){if(0!==(t=t.code))throw r.clearSockets(),r.logError("Connected to gateway success but the Rtm server rejected login"),new Ja(["Login failure. The response code from the RTM service is %d",t],Ng);e.attemptsSinceLastError=0,e.loggedIn=!0,r.log("ENV_%d logged in",e.env)})),Sf(e),Hb(6e3))).pipe(Ob((function(e){return void 0!==e})),Ya((function(n){return n instanceof Pb&&r.warn("Login response timeout, rejoin: %s",t),r.clearSockets(),n.name="loginRespTimeout",r.emit("banEdgeIP",e.ip),pa(n)})))}},{key:"getSocketLoginObservables",value:function(e,t){var n=this;return e.map((function(e){return e.pipe(Fc((function(e,r){return n.incSeqIfNeeded(e.env),n.requestSocketLogin(e,0!==r,0===r?t:n.seq)})),Pe())}))}},{key:"incSeqIfNeeded",value:function(e){if(![0,1].includes(e))throw new ib({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[e]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var e=this.curLoginSockets,t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},{key:"emitMessage",value:function(e,n){var r,i=e.options,o=e.payload,a=e.src,s=e.dst,c=e.instance,u=e.dialogue,l=e.sequence,d=e.ms,f=e.MiscMap;this.dialogueSequenceLru.set(u.toString(),l),c="".concat(c,"-").concat(u,"#").concat(l),this.msgDedupLru.has(c)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",n,c):(this.msgDedupLru.set(c,void 0),i=new Cf(i),this.lastLoginSockets.forEach((r=ja(M.mark((function n(r){var i;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.pipe(db(1)).toPromise();case 2:i=n.sent,t.sendMessageAck(e,i);case 4:case"end":return n.stop()}}),n)}))),function(e){return r.apply(this,arguments)})),n=i.isZlibCompressed(),i.isInvitation()?(s=Yf(n?gm(Sn(o,Uint8Array.of(0,0,0,0))):o),s=JSON.parse(s),this.log("The received invitation body is %o",s),this.emit("invitationMessage",{body:s,type:i.getInvitationType(),peerId:a,serverReceivedTs:d.toNumber()})):i.isTextMessage()?(f=i.isPeerTextMessage(),o=Yf(n?gm(Sn(o,Uint8Array.of(0,0,0,0))):o),this.info("Received a %s %s text message from %s to %s, %s",n?" compressed":"",f?"peer":"channel",Ka(a),Ka(s),c),f?(a={text:o,peerId:a,properties:{serverReceivedTs:d.toNumber()}},this.emit("peerTextMessage",a)):this.emit("channelTextMessage",{channelId:s,memberId:a,text:o,properties:{serverReceivedTs:d.toNumber()}})):i.isRawMessage()&&(i=i.isRawPeerMessage(),f=void 0===(f=f.description)?"":Yf(f),o=n?gm(o):o,this.info("Received a %s %s raw message from %s to %s, %s",n?" compressed":"",i?"peer":"channel",Ka(a),Ka(s),c),i?(a={desc:f,raw:o,peerId:a,properties:{serverReceivedTs:d.toNumber()}},this.emit("peerRawMessage",a)):this.emit("channelRawMessage",{desc:f,raw:o,channelId:s,memberId:a,properties:{serverReceivedTs:d.toNumber()}})))}},{key:"onSocketReconnect",value:function(e){var t=this;return function(){var n=[0,1].filter((function(t){return t!==e.env}))[0];(n=t.connection.curOpenSockets[n])&&!n.loggedIn&&t.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(e){var t=this;return function(n){(n=n.ticket)!==t.lastNoticeTicket&&n===e.ticket?(t.lastNoticeTicket=n,t.emit("TokenPrivilegeWillExpire")):t.requestUpdateEdgeTicket(e.ticket).toPromise()}}},{key:"onUserDrop",value:function(e){var t=this;return function(n){var r;n=n.code,xb("KickedOff",{code:0,elapse:yb(t.startTime),linkId:parseInt(e.name.split("-")[1],10),lts:ma.fromNumber(Date.now()),server:e.address,serverCode:n,sid:rb(t.instanceId),userId:t.context.uid},null!==(r=t.context.config.enableCloudProxy)&&void 0!==r&&r),10006===n||10001===n?t.warn("Login too often and kicked off, reconnect and login"):10009===n?(t.warn("The instance ID conflicts, reconnecting"),t.instanceId=hh(),t.context.sid=rb(t.instanceId),t.emit("instanceChanged",t.instanceId)):[2,11,14,15,16].includes(n)&&(t.emit("userDrop",n),t.clearSockets())}}},{key:"clearSockets",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0,1].forEach((function(r){e.cleanLoginSubs(r,n),e.connection.closeSocket(r,t)}))}},{key:"onMessage",value:function(e){var t=this;return function(n){var r=n.dialogue,i=n.instance,o=n.sequence,a=n.options;if(n.src===t.context.uid)t.log("The message is from the local account, ignored");else{var s=r.toString(),c=t.dialPendingMsgSubjectMap.get(s);if(r="".concat(i,"-").concat(r,"#").concat(o),c)c.next(n),t.log("Env_%d: The dialogue has pending messages, next: %s",e.env,r);else{var u=t.dialogueSequenceLru.get(s);if(c=!u&&o.eq(1),i=void 0!==u&&o.sub(u).eq(1),c||i)t.emitMessage(n,e.env);else{if(u){if(o.lte(u))return;t.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",e.env,r)}else t.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",e.env,r);o=new nb,t.dialPendingMsgSubjectMap.set(s,o);var l=o.pipe(su(tl),dh((function(e,t){return[].concat(W(e),[t])}),[]),Da((function(e){return W(e).sort((function(e,t){return e=e.sequence,t=t.sequence,e.eq(t)?0:e.gt(t)?1:-1}))})),qn(1));a=!(a=new Cf(a)).isFromCache()&&!a.isBufferedMessage(),l.pipe(Gc(Zc(a?750:1500)),Aa((function(e){if(2>e.length)return!1;for(var t=void 0===u?ma.fromNumber(1,!0):u.add(1),n=0;n<e.length;t=t.add(1),n++)if(!e[n].sequence.eq(t))return!1;return!0})),ch((function(){t.dialPendingMsgSubjectMap.delete(s)}))).subscribe((function(n){n.forEach((function(n){t.emitMessage(n,e.env),t.log("Env_%d: The message queue has fully ordered, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence))}))}),(function(n){n instanceof bh&&l.pipe(db(1)).subscribe((function(n){return n.forEach((function(n){t.log("Env_%d: The message pending queue expired, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence)),t.emitMessage(n,e.env)}))}))})),o.next(n)}}}}}},{key:"onPong",value:function(){var e=this;return function(){document.hidden&&e.getLoginSockets().forEach((function(t){e.sendPing(t)}))}}},{key:"onGroupEnterNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberJoined",size:t.size})}}},{key:"onGroupLeaveNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberLeft",size:t.size})}}},{key:"onGroupCountNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,type:"MemberCountUpdated",size:t.size})}}},{key:"onGroupAttributeAlt",value:function(){var e=this;return function(t){var n=t.group;t=Ei(t,XE),e.emit("channelAttributesUpdated",jb({channelId:n},t))}}},{key:"onUserNotice",value:function(e){var t=this;return function(n){t.emit("peerOnlineStatusChanged",{peerId:n.user,instance:n.instance,seq:n.seq,state:e})}}},{key:"sendPing",value:function(e){2500>=Date.now()-this.lastPingTime[e.env]||(this.incSeqIfNeeded(e.env),e.sendPacket("Ping",{ms:ma.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[e.env]=Date.now())}}],[{key:"sendMessageAck",value:function(e,t){var n=new Cf(e.options);(n.isInvitation()||n.isPeerMessage())&&t.sendPacket("Ack",{code:0,dialogue:e.dialogue,instance:e.instance,sequence:e.sequence})}}]),t}(Ac());x(Lt,"genTimeoutError",(function(e,t){return wb(void 0).pipe(Yd(void 0===t?1e4:t),Da((function(){throw new Qb(["Request timed out after %ds",(void 0===t?1e4:t)/1e3],e)})))}));var Mt,hm,im=0,jm=0;Lg.v1=function(e,t,n){n=t&&n||0;var r=t||[],i=(e=e||{}).node||Mt,o=void 0!==e.clockseq?e.clockseq:hm;if(null==i||null==o){var a=Er();null==i&&(i=Mt=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=hm=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:jm+1,c=a-im+(s-jm)/1e4;if(0>c&&void 0===e.clockseq&&(o=o+1&16383),(0>c||a>im)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(im=a,jm=s,hm=o,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o,o=0;6>o;++o)r[n+o]=i[o];return t||Fr(r)},Lg.v4=Lg;var km=ui(),Rd,Ff=qa.LocalInvitationFailureReason,Ra=qa.LocalInvitationState,YE=(Rd=function(e){function t(e,r,i){ua(this,t);var o=n.call(this,i,"RtmLocalInvitation",!0);return x(z(o),"state",Ra.IDLE),x(z(o),"localInvitationEnd$",ab(Gb(z(o),"LocalInvitationAccepted"),Gb(z(o),"LocalInvitationRefused"),Gb(z(o),"LocalInvitationFailure"),Gb(z(o),"LocalInvitationCanceled")).pipe(db(1))),x(z(o),"callId",Lg.v4()),x(z(o),"_content",""),x(z(o),"_channelId",""),x(z(o),"_response",""),x(z(o),"calleeId",void 0),x(z(o),"logger",void 0),x(z(o),"getSession",void 0),o.calleeId=e,o.getSession=r,o.logger=i,o}Ga(t,e);var n=Ha(t);return cb(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){this.state!==Ra.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=e)}},{key:"content",get:function(){return this._content},set:function(e){this.log("set content for %s",this.callId),this._content=e}},{key:"response",get:function(){return this._response},set:function(e){throw new Z('Cannot set the "response" of the LocalInvitation instance.',Tc)}},{key:"send",value:function(){var e,t=this;if(this.state===Ra.SENT_TO_REMOTE||this.state===Ra.RECEIVED_BY_REMOTE)throw new aa("The local invitation send failure. The call invitation has already been sent.",BB);if(this.isLocalInvitationEnd())throw new aa("The local invitation send failure. The call invitation has ended.",oi);if(0<this._channelId.length&&!Sa(this._channelId))throw new Z("Illegal invitation channel ID",Tc);if(!Sa(this.calleeId))throw new Z("Illegal invitation callee user ID",Tc);if(8192<mh(this._content))throw new Z('The length of the "content" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',Tc);this.state=Ra.SENT_TO_REMOTE,wd(ja(M.mark((function n(){var r,i,o;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSession().sendInvitationMessage({peerId:t.calleeId,callId:t.callId,extra:t._content,type:"CallInvite",channelId:t._channelId});case 2:if(r=n.sent,i=r.hasPeerReceived,o=r.hasReSent,!t.isLocalInvitationEnd()){n.next=7;break}throw new Qb("send invitation timeout");case 7:if(t.log("The local invitation has sent to the callee"),i||o){n.next=11;break}throw e=new km({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(i){n.next=14;break}throw e=new km({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return n.stop()}}),n)})))).pipe(Oe((function(e){return e.pipe(sa((function(e){if(!(e instanceof km))throw e})),Yd(2e3))})),Hb(3e4),Ya((function(e){return vb(e)&&t.warn("local invitation ack timed out"),pa(e)})),Gc(this.localInvitationEnd$)).subscribe({next:function(){t.state===Ra.RECEIVED_BY_REMOTE?t.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):t.state!==Ra.SENT_TO_REMOTE?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(t.info("The peer received the local invitation %s.",t.callId),t.state=Ra.RECEIVED_BY_REMOTE,t.emit("LocalInvitationReceivedByPeer"),t.localInvitationEnd$.pipe(Hb(6e4),Ya((function(e){return vb(e)&&t.warn("local invitation expired"),pa(e)}))).subscribe({error:function(){t.state=Ra.FAILURE,t.emit("LocalInvitationFailure",Ff.INVITATION_EXPIRE)}}))},error:function(n){t.isLocalInvitationEnd()?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(t.state=Ra.FAILURE,vb(n)&&e?"PEER_NOT_ONLINE"===e.code?t.emit("LocalInvitationFailure",Ff.PEER_OFFLINE):"RESENT_AND_OFFLINE"===e.code&&t.emit("LocalInvitationFailure",Ff.PEER_NO_RESPONSE):vb(n)?t.emit("LocalInvitationFailure",Ff.PEER_NO_RESPONSE):"RtmInvalidStatusError"===n.name?t.emit("LocalInvitationFailure",Ff.NOT_LOGGEDIN):t.emit("LocalInvitationFailure",Ff.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new aa("The local invitation cancel failure",oi);if(this.state===Ra.IDLE)throw new aa("The local invitation has not been sent",AB);if(8192<mh(this._content))throw new Z('The length of the "content" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',Tc);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Ra.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(e){if(this.isLocalInvitationEnd()&&this.state!==Ra.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Ra.IDLE)throw new aa("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Ra.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Ra.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Ra.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Ra.ACCEPTED_BY_REMOTE,this._response=e,this.emit("LocalInvitationAccepted",e))}}},{key:"onRefuseReceived",value:function(e){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Ra.IDLE)throw new aa("the local have not sent the invitation, how can remote refuse it?");this.state===Ra.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Ra.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=e,this.state=Ra.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",e)}}},{key:"isLocalInvitationEnd",value:function(){return[Ra.CANCELED,Ra.FAILURE,Ra.ACCEPTED_BY_REMOTE,Ra.REFUSED_BY_REMOTE].includes(this.state)}}]),t}(Ac()),Ca(Rd.prototype,"send",[Ic],Object.getOwnPropertyDescriptor(Rd.prototype,"send"),Rd.prototype),Ca(Rd.prototype,"cancel",[Ic],Object.getOwnPropertyDescriptor(Rd.prototype,"cancel"),Rd.prototype),Rd),Ci=qa.RemoteInvitationFailureReason,Cb=qa.RemoteInvitationState,ZE=function(e){function t(e){var r=e.invitationChannel,i=e.extraContent,o=e.callId,a=e.callerId,s=e.logger;e=e.getSession,ua(this,t);var c=n.call(this,s,"RtmRemoteInvitation",!0);return x(z(c),"state",Cb.INVITATION_RECEIVED),x(z(c),"remoteInvitationEnd$",ab(Gb(z(c),"RemoteInvitationCanceled"),Gb(z(c),"RemoteInvitationRefused"),Gb(z(c),"RemoteInvitationAccepted"),Gb(z(c),"RemoteInvitationFailure")).pipe(db(1))),x(z(c),"callerId",void 0),x(z(c),"callId",void 0),x(z(c),"_getSession",void 0),x(z(c),"logger",void 0),x(z(c),"_content",void 0),x(z(c),"_channelId",void 0),x(z(c),"_response",""),c._channelId=r,c._content=i,c.callId=o,c.callerId=a,c._getSession=e,c.logger=s,c.remoteInvitationEnd$.pipe(Hb(6e4),Ya((function(e){return vb(e)&&c.warn("Remote invitation expired"),pa(e)}))).subscribe({error:function(){c.state=Cb.FAILURE,c.emit("RemoteInvitationFailure",Ci.INVITATION_EXPIRE)}}),c}Ga(t,e);var n=Ha(t);return cb(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){throw new Z('Cannot set the "response" of the RemoteInvitation instance.',Tc)}},{key:"content",get:function(){return this._content},set:function(e){throw new Z('Cannot set the "content" of the RemoteInvitation instance.',Tc)}},{key:"response",get:function(){return this._response},set:function(e){this._response=e}},{key:"accept",value:function(){var e,t=this;if(this.isRemoteInvitationEnd())throw new aa("The local invitation has ended. Cannot accept.",oi);if(this.state===Cb.ACCEPT_SENT_TO_LOCAL)throw new aa("The remote invitation is accepting. Cannot do the operation.",Lr);if(8192<mh(this._response))throw new Z('The length of the "response" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',Tc);this.state=Cb.ACCEPT_SENT_TO_LOCAL,Ec(ln(1e3).pipe(Ab((function(){return wd(ja(M.mark((function e(){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._getSession().sendInvitationMessage({peerId:t.callerId,callId:t.callId,extra:t.response,type:"CallAccept",isAcceptAck:!1,channelId:t.channelId}));case 1:case"end":return e.stop()}}),e)}))))})),Ob((function(t){return e=t.hasPeerReceived})),db(1)),Gb(this,"RemoteInvitationAccepted")).pipe(Hb(5e3),Gc(this.remoteInvitationEnd$)).subscribe({error:function(n){if(t.logError(n),t.state=Cb.FAILURE,vb(n))switch(e){case void 0:case!0:return void t.emit("RemoteInvitationFailure",Ci.ACCEPT_FAILURE);case!1:return void t.emit("RemoteInvitationFailure",Ci.PEER_OFFLINE)}t.emit("RemoteInvitationFailure",Ci.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Cb.ACCEPT_SENT_TO_LOCAL)throw new aa("The remote invitation is accepting. Cannot do the operation.",Lr);if(this.isRemoteInvitationEnd())throw new aa("The invitation is end. Cannot refuse",oi);if(8192<mh(this._response))throw new Z('The length of the "response" overflows. The number of bytes representing content must not exceed 8 \xd7 1024 if encoded in UTF-8.',Tc);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Cb.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(e){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Cb.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=e,this.state=Cb.CANCELED,this.emit("RemoteInvitationCanceled",e))}},{key:"onAcceptAckReceived",value:function(){this.state!==Cb.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Cb.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Cb.ACCEPTED,Cb.REFUSED,Cb.CANCELED,Cb.FAILURE].includes(this.state)}}]),t}(Ac()),$E=function(e){function t(e,r){ua(this,t);var i=n.call(this,r,"InvitationManager");return x(z(i),"getSession",void 0),x(z(i),"invitationDispatcher",new ya.EventEmitter),x(z(i),"outgoingLocalInvitations",new Map),x(z(i),"receivedRemoteInvitations",new Sc(void 0,{maxlen:1e4})),x(z(i),"logger",void 0),i.getSession=Zn(e),i.logger=r,i.invitationDispatcher.on("remoteInvitationToManager",(function(e){var t=e.callId,n=e.extra,o=e.callerId;e=e.channelId,i.receivedRemoteInvitations.has(t)||((n=new ZE({callerId:o,callId:t,getSession:i.getSession,logger:r,extraContent:n,invitationChannel:e})).remoteInvitationEnd$.subscribe((function(){i.receivedRemoteInvitations.delete(t)})),i.receivedRemoteInvitations.set(t,n),i.emit("remoteInvitationInstance",n))})),i.invitationDispatcher.on("acceptAckToRemoteInvitation",(function(e){(e=i.receivedRemoteInvitations.get(e.callId))&&e.onAcceptAckReceived()})),i.invitationDispatcher.on("cancelToRemoteInvitation",(function(e){var t=e.extra;(e=i.receivedRemoteInvitations.get(e.callId))&&e.onCancelReceived(t)})),i.invitationDispatcher.on("acceptToLocalInvitation",(function(e){var t=e.extra;(e=i.outgoingLocalInvitations.get(e.callId))&&e.onAcceptReceived(t)})),i.invitationDispatcher.on("refuseToLocalInvitation",(function(e){var t=e.extra;(e=i.outgoingLocalInvitations.get(e.callId))&&e.onRefuseReceived(t)})),i}Ga(t,e);var n=Ha(t);return cb(t,[{key:"invitationMessageHandler",value:function(e){var t=e.body,n=t.callId,r=t.extra;r=void 0===r?"":r;var i=t.type,o=void 0===(t=t.channel)?"":t,a=e.type;switch(t=e.peerId,e=e.serverReceivedTs,a){case"CallAccept":"ack"===i?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:n}):"request"===i&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:n,extra:r});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:n,callerId:t,extra:r,channelId:o});break;case"CallCancel":if("0"===n){n="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(o,"_").concat(r),this.getSession().emit("peerTextMessage",{peerId:t,properties:{serverReceivedTs:e},text:n});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:n,extra:r});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:n,extra:r});break;default:throw In("invitationType",a)}}},{key:"genLocalInvitation",value:function(e){var t=this,n=new YE(e,this.getSession,this.logger);return n.localInvitationEnd$.subscribe((function(){t.outgoingLocalInvitations.delete(n.callId)})),this.outgoingLocalInvitations.set(n.callId,n),n}}]),t}(Ac()),aF=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Db(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vD(e,t,{leading:r,maxWait:t,trailing:i})},Lb,Gf;!function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"}(Gf||(Gf={}));var lm=qa.ConnectionState,bF=(Lb=function(e){function t(e,n,i,o){ua(this,t);var a=r.call(this,o,"RtmChannel",!0);return x(z(a),"onMemberCountUpdated",aF((function(e){e!==a.memberCount&&(a.memberCount=e,a.emit("MemberCountUpdated",e))}),1e3)),x(z(a),"getSession",void 0),x(z(a),"memberCount",0),x(z(a),"joinState","LEFT"),x(z(a),"joinPromise",void 0),x(z(a),"memberJoinedLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"memberLeftLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"memberJoinStateLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"attributesSeqLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"channelId",void 0),x(z(a),"client",void 0),x(z(a),"onChannelMemberCountUpdated",(function(e,t){a.channelId===e&&a.onMemberCountUpdated(t)})),x(z(a),"onLogout",(function(){try{a.clearChannel(a.getSession())}catch(e){}})),x(z(a),"onAttributesUpdated",(function(e){var t=e.channelId,n=e.attributeMaps,r=e.seq;e=e.instance.toString();var i=a.attributesSeqLru.get(e);if((!i||r.greaterThan(i))&&(a.attributesSeqLru.set(e,r),t===a.channelId)){for(t={},r=0;r<n.length;r++){var o=n[r];e=o.key,i=o.ms;var s=o.value;if(o=o.origin,"string"!=typeof e||!ma.isLong(i)||"string"!=typeof s||!Sa(o))break;t[e]={value:s,lastUpdateUserId:o,lastUpdateTs:i.toNumber()}}a.emit("AttributesUpdated",t)}})),x(z(a),"onChannelTextMessage",(function(e){var t=e.memberId,n=e.text,r=e.properties;e.channelId===a.channelId&&a.emit("ChannelMessage",{text:n,messageType:qa.MessageType.TEXT},t,r)})),x(z(a),"onChannelRawMessage",(function(e){var t=e.desc,n=e.raw,r=e.memberId,i=e.properties;e.channelId===a.channelId&&a.emit("ChannelMessage",{messageType:qa.MessageType.RAW,rawMessage:n,description:t},r,i)})),x(z(a),"onMemberNotice",(function(e){var t=e.memberId,n=e.type,r=e.size;if(e.channelId===a.channelId){var i=e.instance.toString();e=e.seq.toString();var o={MemberLeft:a.memberLeftLru,MemberJoined:a.memberJoinedLru,MemberCountUpdated:void 0}[n];if(o){if(o.has(i+e))return void a.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",n,e,Ka(a.channelId),Ka(t||""));if(o.set(i+e,void 0),"string"!=typeof t)return;if(t!==a.getSession().context.uid){if((i=a.memberJoinStateLru.get(t))===Gf.JOINED&&"MemberJoined"===n)return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,Ka(a.channelId),Ka(t||""));if(i===Gf.LEFT&&"MemberLeft"===n)return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,Ka(a.channelId),Ka(t||""))}a.memberJoinStateLru.set(t,"MemberJoined"===n?Gf.JOINED:Gf.LEFT)}a.info("Channel %s - %s, memberId: %s",n,Ka(a.channelId),"MemberCountUpdated"===n?"[unknown]":Ka(t||"")),i=t===a.getSession().context.uid,"MemberLeft"===n&&Sa(t)||"MemberJoined"===n&&Sa(t)?(i||a.emit(n,t),a.onMemberCountUpdated(r)):"MemberCountUpdated"===n&&"number"==typeof r&&a.onMemberCountUpdated(r)}})),a.getSession=Zn(n),a.channelId=e,a.client=i,a.info("A channel created, id %s",Ka(e)),a}Ga(t,e);var n,r=Ha(t);return cb(t,[{key:"join",value:(n=ja(M.mark((function e(){var t,n,r,i,o,a,s,c=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new aa("The client is not logged in. Cannot do the operation",Qr);case 7:if(e.prev=7,Sa(this.channelId)){e.next=10;break}throw new Z(["The %s in the arguments is invalid","channelId"],CB);case 10:if("LEFT"===this.joinState){e.next=13;break}throw xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:Pr,sid:rb(t.instanceId)},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),new aa("The channel has joined. Cannot rejoin",Pr);case 13:if(!t.usedChannelIds.includes(this.channelId)){e.next=16;break}throw xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:Rr,sid:rb(t.instanceId)},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),new aa("A channel of the same channel ID has already joined. Cannot rejoin",Rr);case 16:if(!(20<=t.usedChannelIds.length)){e.next=19;break}throw xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:Or,sid:rb(t.instanceId)},null!==(a=this.client.context.config.enableCloudProxy)&&void 0!==a&&a),new dc("The joined channels has exceeded the limit of 20",Or);case 19:return xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:0,sid:rb(t.instanceId)},null!==(n=this.client.context.config.enableCloudProxy)&&void 0!==n&&n),this.log("Joining the channel %s",Ka(this.channelId)),this.joinState="JOINING",t.usedChannelIds.push(this.channelId),this.joinPromise=t.requestChannelJoin(this.channelId).then((function(){c.joinState="JOINED"})),e.next=26,this.joinPromise;case 26:xb("ChnJoinRes",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(t.startTime),errCode:0,sid:rb(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),this.info("The channel %s joined successfully",Ka(this.channelId)),t.on("channelTextMessage",this.onChannelTextMessage),t.on("channelRawMessage",this.onChannelRawMessage),t.on("memberNotice",this.onMemberNotice),t.on("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),e.next=46;break;case 36:if(e.prev=36,e.t1=e.catch(7),"JOINING"===this.joinState&&(this.joinState="LEFT"),this.logError(e.t1),!Ma(e.t1)){e.next=42;break}throw e.t1;case 42:if(!vb(e.t1)){e.next=45;break}throw xb("ChnJoinRes",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(t.startTime),errCode:Nr,sid:rb(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(s=this.client.context.config.enableCloudProxy)&&void 0!==s&&s),new Qb(["Join channel %s timed out",Ka(this.channelId)],Nr);case 45:throw new se(["The channel %s join failure",Ka(this.channelId)],{code:Mr,originalError:e.t1});case 46:case"end":return e.stop()}}),e,this,[[0,4],[7,36]])}))),function(){return n.apply(this,arguments)})},{key:"leave",value:function(){var e=ja(M.mark((function e(){var t,n,r,i;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new aa("The client is not logged in. Cannot do the operation",EB);case 7:if("LEFT"!==this.joinState){e.next=9;break}throw new aa("The channel does not join. Cannot do the operation",DB);case 9:return e.prev=9,n.requestChannelLeave(this.channelId),e.next=13,this.clearChannel(n);case 13:e.next=24;break;case 15:if(e.prev=15,e.t1=e.catch(9),this.logError(e.t1),!Ma(e.t1)){e.next=22;break}throw void 0===e.t1.code&&(e.t1.code=Tr),xb("ChnLeave",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(n.startTime),errCode:Tr,sid:rb(n.instanceId),userId:n.context.uid},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),e.t1;case 22:throw xb("ChnLeave",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(n.startTime),errCode:Sr,sid:rb(n.instanceId),userId:n.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),new se("The channel leave failure",{code:Sr,originalError:e.t1});case 24:xb("ChnLeave",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(n.startTime),errCode:0,sid:rb(n.instanceId),userId:n.context.uid},null!==(t=this.client.context.config.enableCloudProxy)&&void 0!==t&&t);case 25:case"end":return e.stop()}}),e,this,[[0,4],[9,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=ja(M.mark((function e(t){var n,r=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(On(t,Cl),"JOINED"===this.joinState){e.next=3;break}throw new aa("The channel does not join. Cannot do the operation",sB);case 3:if(this.client.connectionState!==lm.RECONNECTING){e.next=8;break}return n=Date.now(),e.next=7,new Promise((function(e,i){var o,a=(o=ja(M.mark((function o(){var a;return M.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=Date.now()-n,o.prev=1,o.next=4,kh({message:t,peerId:r.channelId,toPeer:!1,session:r.getSession(),errorCodes:{NOT_LOGGED_IN:Dl,TOO_OFTEN:Hr},diff:a,logger:r.logger});case 4:e(),o.next=12;break;case 7:o.prev=7,o.t0=o.catch(1),vb(o.t0)&&i(new Qb(te(r.name,"sendMessageToPeer",1e4),Bl)),Ma(o.t0)&&i(o.t0),i(new Ja("Channel message send failure",{code:ni,originalError:o.t0}));case 12:return o.prev=12,clearTimeout(s),o.finish(12);case 15:case"end":return o.stop()}}),o,null,[[1,7,12,15]])}))),function(){return o.apply(this,arguments)});r.client.internalEmitter.once("RECONNECTED",a);var s=setTimeout((function(){r.client.internalEmitter.off("RECONNECTED",a),i(new Qb(te(r.name,"sendMessageToPeer",1e4),Bl))}),9e3)}));case 7:return e.abrupt("return");case 8:if(this.client.connectionState===lm.CONNECTED){e.next=10;break}throw new aa("The client is not logged in. Cannot do the operation",Dl);case 10:return e.prev=10,e.next=13,kh({message:t,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:Dl,TOO_OFTEN:Hr},diff:0,logger:this.logger});case 13:e.next=23;break;case 15:if(e.prev=15,e.t0=e.catch(10),!vb(e.t0)){e.next=19;break}throw new Qb(te(this.name,"sendMessage",1e4),Bl);case 19:if(!Ma(e.t0)){e.next=22;break}throw this.logError(e.t0),e.t0;case 22:throw new se("The channel message send failure",ni);case 23:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMembers",value:function(){var e=ja(M.mark((function e(){var t,n;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.client.connectionState===lm.CONNECTED){e.next=3;break}throw new aa("The client is not logged in. Cannot do the operation",zB);case 3:if("JOINED"===this.joinState){e.next=5;break}throw new aa("The channel does not join. Cannot do the operation",yB);case 5:return t=this.getSession().requestChannelMemberList(this.channelId),e.next=8,t.pipe(Da((function(e){return e.memberInfos.map((function(e){return e.account}))}))).toPromise();case 8:return n=e.sent,this.info("Channel %s - get members success, %o",Ka(this.channelId),n.map(Ka)),e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(0),!Ma(e.t0)){e.next=18;break}throw this.logError(e.t0),e.t0;case 18:throw new se("The channel members get failure",wB);case 19:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var e=ja(M.mark((function e(t){var n=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.emit("channelLeft",this.channelId),"JOINING"!==this.joinState){e.next=4;break}return e.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,t.removeListener("channelTextMessage",this.onChannelTextMessage),t.removeListener("channelRawMessage",this.onChannelRawMessage),t.removeListener("memberNotice",this.onMemberNotice),t.removeListener("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),t.usedChannelIds=t.usedChannelIds.filter((function(e){return e!==n.channelId}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(Ac()),Ca(Lb.prototype,"join",[Ic],Object.getOwnPropertyDescriptor(Lb.prototype,"join"),Lb.prototype),Ca(Lb.prototype,"leave",[Ic],Object.getOwnPropertyDescriptor(Lb.prototype,"leave"),Lb.prototype),Ca(Lb.prototype,"sendMessage",[Ic],Object.getOwnPropertyDescriptor(Lb.prototype,"sendMessage"),Lb.prototype),Ca(Lb.prototype,"getMembers",[fb],Object.getOwnPropertyDescriptor(Lb.prototype,"getMembers"),Lb.prototype),Lb),U,Mb=qa.ConnectionChangeReason,la=qa.ConnectionState,Nt={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},cF={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},dF=(U=function(e){function t(e,n,i,o){ua(this,t);var a=r.call(this,n,"RtmClient",!0);return x(z(a),"connectionState",la.DISCONNECTED),x(z(a),"internalEmitter",new ya),x(z(a),"context",void 0),x(z(a),"attributes",{}),x(z(a),"loginPromise",void 0),x(z(a),"attributeDrafts",new Set),x(z(a),"session",void 0),x(z(a),"lastLoginTime",void 0),x(z(a),"reconnId",0),x(z(a),"channelAttributesCacheLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"invitationManager",void 0),x(z(a),"subscribedPeerStatusCache",{}),x(z(a),"pendingPeerStatusSubCount",0),x(z(a),"peerStatusSeqLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"peerUnreachableTimers",{}),x(z(a),"setParameters",void 0),x(z(a),"updateConfig",void 0),x(z(a),"blacklistedIP",{}),x(z(a),"TokenPrivilegeWillExpireHandler",(function(){a.emit("TokenPrivilegeWillExpire")})),x(z(a),"userDropHandler",(function(e){if(a.connectionState!==la.ABORTED)switch(e){case 2:a.logError("Server banned because of token is expired"),a.onConnectionStateChanged(la.ABORTED,Mb.TOKEN_EXPIRED),a.emit("TokenExpired");break;case 11:a.logError("Kicked off by remote session"),a.onConnectionStateChanged(la.ABORTED,Mb.REMOTE_LOGIN);break;case 14:case 15:case 16:a.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[e])),a.onConnectionStateChanged(la.ABORTED,Mb.BANNED_BY_SERVER);break;default:a.logError("User kicked off for unknown code: ".concat(e)),a.onConnectionStateChanged(la.ABORTED,Mb.INTERRUPTED)}})),a.context=new eE(e,i,n),a.context.config=i,a.internalEmitter.setMaxListeners(512),a.setParameters=o.bind(z(a)),a.updateConfig=o.bind(z(a)),a.invitationManager=new $E((function(){return a.session}),n),a.invitationManager.on("remoteInvitationInstance",(function(e){a.emit("RemoteInvitationReceived",e)})),a.setMaxListeners(512),a.internalEmitter.setMaxListeners(512),a}Ga(t,e);var n,r=Ha(t);return cb(t,[{key:"renewToken",value:(n=ja(M.mark((function e(t){var n,r,i,o,a=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t&&0!==t.length){e.next=2;break}throw new Z("Invalid argument",KB);case 2:if(this.connectionState!==la.ABORTED){e.next=5;break}return e.next=5,new Promise((function(){}));case 5:if(this.connectionState===la.CONNECTED||this.connectionState===la.RECONNECTING){e.next=7;break}throw new aa("The client is not logged in",bs);case 7:if(void 0!==this.session){e.next=9;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return e.prev=9,n=this.context.token,this.context.token=t,e.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Zd((function(){return Error("No available edge address to connect")})),Oe((function(e){return e.pipe(sa((function(e){if(Ma(e))throw e})),Yd(2500),db(4))})),db(1),Hb(2e4),Ya((function(e){return vb(e)&&a.warn("renewToken timed out"),pa(e)}))).toPromise();case 14:r=e.sent,i=r.ticket,e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(9),this.context.token=n,e.t0.code!==Vr&&e.t0.code!==Wr){e.next=23;break}throw new yf("Invalid token",MB);case 23:if(e.t0.code!==qi){e.next=25;break}throw new yf("The token expired",LB);case 25:if(!vb(e.t0)){e.next=27;break}throw new Qb("Renew token timed out",Gl);case 27:o=this.session,this.session.requestUpdateEdgeTicket(i).toPromise().then((function(e){if(0!==e.code)throw new Ja(["RenewToken failure. The response code is %d",e.code],Gl);o.curLoginSockets.filter((function(e){return void 0!==e})).forEach((function(e){return e.ticket=i}))}));case 29:case"end":return e.stop()}}),e,this,[[9,18]])}))),function(e){return n.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var e=ja(M.mark((function e(t){var n,r,i=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",JB);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(t)||0===t.length||t.some((function(e){return!Sa(e)}))||256<t.length)){e.next=6;break}throw new Z("invalid arguments",as);case 6:return e.next=8,this.session.requestPeersOnlineStatus(t).toPromise();case 8:return n=e.sent,r=hd(nl(n.userInfos,"account"),(function(e){return!!e.ts})),Object.keys(r).forEach((function(e){if(e in i.subscribedPeerStatusCache&&i.subscribedPeerStatusCache[e]!==qa.PeerOnlineState.UNREACHABLE){var t=r[e]?qa.PeerOnlineState.ONLINE:qa.PeerOnlineState.OFFLINE;i.emit("PeersOnlineStatusChanged",x({},e,t)),i.subscribedPeerStatusCache[e]=t}})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a,s,c,u,l;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",vB);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&t.every((function(e){return"string"==typeof e}))&&0!==t.length){e.next=6;break}throw new Z("Invalid arguments: channelIds",Jr);case 6:if(!(32<t.length)){e.next=8;break}throw new Z("getChannelMemberCount exceed limit of 32 channelIds",uB);case 8:n=0;case 9:if(!(n<t.length)){e.next=16;break}if(Sa(r=t[n])){e.next=13;break}throw new Z(["getChannelMemberCount channel id %s is invalid",r],Jr);case 13:n++,e.next=9;break;case 16:return e.next=18,this.session.requestGetChannelMemberCount(t).toPromise();case 18:for(i=e.sent,o=i.groupInfos,a={},s=0;s<o.length;s++)c=o[s],u=c.group,l=c.memberCount,Sa(u)&&"number"==typeof l&&(this.internalEmitter.emit("channelMemberCountUpdated",u,l),a[u]=l);return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wf({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===la.CONNECTED){e.next=3;break}throw new aa("The client is not logged in",lc);case 3:if(void 0!==this.session){e.next=5;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return n=this.session.requestSetLocalUserAttributes(t).toPromise(),r={attribute:t,promise:n},this.attributeDrafts.add(r),e.prev=8,e.next=11,n;case 11:this.attributes=t,e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(8),!Ma(e.t0)){e.next=18;break}throw e.t0;case 18:throw new Z("arguments is not valid",bb);case 19:return e.prev=19,this.attributeDrafts.delete(r),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[8,14,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var e=ja(M.mark((function e(t,n){var r,i,o,a,s,c=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<c.length&&void 0!==c[2]?c[2]:{},i=r.enableNotificationToChannelMembers,o=void 0!==i&&i,Wf({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return a=this.session.requestSetChannelAttributes(t,n,o).toPromise(),e.prev=7,e.next=10,a;case 10:s=hd(n,(function(e){return new Blob([e]).size})),this.channelAttributesCacheLru.set(t,s),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(7),!Ma(e.t0)){e.next=18;break}throw e.t0;case 18:throw new Z("arguments is not valid",bb);case 19:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,i;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=jb(jb({},this.attributes),t),Wf({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),Wf({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===la.CONNECTED){e.next=5;break}throw new aa("The client is not logged in",lc);case 5:if(void 0!==this.session){e.next=7;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return r=this.session.requestAddOrUpdateLocalUserAttributes(t).toPromise(),i={attribute:n,promise:r},this.attributeDrafts.add(i),e.prev=10,e.next=13,r;case 13:this.attributes=n,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Z("arguments is not valid",as);case 21:return e.prev=21,this.attributeDrafts.delete(i),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[10,16,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var e=ja(M.mark((function e(t,n){var r,i,o,a,s,c,u,l=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},i=r.enableNotificationToChannelMembers,o=void 0!==i&&i,a=this.channelAttributesCacheLru.get(t,{}),s=hd(n,(function(e){return new Blob([e]).size})),c=jb(jb({},a),s),Wf({attributes:n,attrSizeMap:c,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===la.CONNECTED){e.next=7;break}throw new aa("The client is not logged in",lc);case 7:if(void 0!==this.session){e.next=9;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return u=this.session.requestAddOrUpdateChannelAttributes(t,n,o).toPromise(),e.prev=10,e.next=13,u;case 13:this.channelAttributesCacheLru.set(t,c),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Z("arguments is not valid",bb);case 21:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)&&0!==t.length&&!t.some((function(e){return 0===e.length}))){e.next=2;break}throw new aa("arguments is not valid",bb);case 2:if(this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return n=this.session.requestDeleteLocalUserAttributesByKeys(t).toPromise(),r={attribute:kl(this.attributes,t),promise:n},this.attributeDrafts.add(r),e.prev=9,e.next=12,n;case 12:for(i=0;i<t.length;i++)o=t[i],delete this.attributes[o];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),!Ma(e.t0)){e.next=19;break}throw e.t0;case 19:throw new Z("arguments is not valid",bb);case 20:return e.prev=20,this.attributeDrafts.delete(r),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[9,15,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var e=ja(M.mark((function e(t,n){var r,i,o,a,s,c,u,l=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},i=r.enableNotificationToChannelMembers,o=void 0!==i&&i,Array.isArray(n)&&0!==n.length&&Sa(t)&&!n.some((function(e){return 0===e.length||512<e.length}))){e.next=3;break}throw new aa("arguments is not valid",bb);case 3:if(this.connectionState===la.CONNECTED){e.next=5;break}throw new aa("The client is not logged in",lc);case 5:if(void 0!==this.session){e.next=7;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return a=this.session.requestDeleteChannelAttributesByKeys(t,n,o).toPromise(),e.prev=8,e.next=11,a;case 11:if(s=this.channelAttributesCacheLru.get(t))for(c=0;c<n.length;c++)u=n[c],delete s[u];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(8),!Ma(e.t0)){e.next=19;break}throw e.t0;case 19:throw new Z("arguments is not valid",bb);case 20:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var e=ja(M.mark((function e(){var t,n;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",lc);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t=this.session.requestClearLocalUserAttributes().toPromise(),n={attribute:{},promise:t},this.attributeDrafts.add(n),e.prev=7,e.next=10,t;case 10:this.attributes={},e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(7),!Ma(e.t0)){e.next=17;break}throw e.t0;case 17:throw new Z("arguments is not valid",bb);case 18:return e.prev=18,this.attributeDrafts.delete(n),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<a.length&&void 0!==a[1]?a[1]:{},r=n.enableNotificationToChannelMembers,i=void 0!==r&&r,this.connectionState===la.CONNECTED){e.next=3;break}throw new aa("The client is not logged in",lc);case 3:if(void 0!==this.session){e.next=5;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return o=this.session.requestClearChannelAttributes(t,i).toPromise(),e.prev=6,e.next=9,o;case 9:this.channelAttributesCacheLru.delete(t),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(6),!Ma(e.t0)){e.next=16;break}throw e.t0;case 16:throw new Z("arguments is not valid",bb);case 17:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,i;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(t)){e.next=2;break}throw new Z("Not a valid user ID",bb);case 2:if(this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetUserAttributeKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetUserAttributesByKeys(t,r.slice(0,512)).toPromise();case 13:i=e.sent,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(6),!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Z("arguments is not valid",bb);case 21:return e.abrupt("return",Tq(i.attributeInfos.map((function(e){return[e.key,e.value]}))));case 22:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(t)){e.next=2;break}throw new Z("Not a valid channel ID",bb);case 2:if(this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetChannelAttributesKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetChannelAttributesByKeys(t,r).toPromise();case 13:i=e.sent,o=i.attributeMaps,e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(6),!Ma(e.t0)){e.next=21;break}throw e.t0;case 21:throw new Z("arguments is not valid",bb);case 22:a={},s=0;case 24:if(!(s<o.length)){e.next=32;break}if(c=o[s],u=c.key,l=c.ms,d=c.value,f=c.origin,"string"==typeof u&&ma.isLong(l)&&"string"==typeof d&&Sa(f)){e.next=28;break}return e.abrupt("break",32);case 28:a[u]={value:d,lastUpdateUserId:f,lastUpdateTs:l.toNumber()};case 29:s++,e.next=24;break;case 32:return this.channelAttributesCacheLru.set(t,hd(a,(function(e){return new Blob([e.value]).size}))),e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var e=ja(M.mark((function e(t,n){var r,i,o,a,s,c,u,l,d,f;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",lc);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Hn(t,n),e.prev=5,e.next=8,this.session.requestGetChannelAttributesByKeys(t,n).toPromise();case 8:r=e.sent,i=r.attributeMaps,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!Ma(e.t0)){e.next=16;break}throw e.t0;case 16:throw new Z("arguments is not valid",bb);case 17:o={},a=this.channelAttributesCacheLru.get(t,{}),s=0;case 20:if(!(s<i.length)){e.next=29;break}if(c=i[s],u=c.key,l=c.ms,d=c.value,f=c.origin,"string"==typeof u&&ma.isLong(l)&&"string"==typeof d&&Sa(f)){e.next=24;break}return e.abrupt("break",29);case 24:a[u]=new Blob([d]).size,o[u]={value:d,lastUpdateUserId:f,lastUpdateTs:l.toNumber()};case 26:s++,e.next=20;break;case 29:return this.channelAttributesCacheLru.set(t,a),e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var e=ja(M.mark((function e(t,n){var r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",lc);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Hn(t,n),e.prev=5,e.next=8,this.session.requestGetUserAttributesByKeys(t,n).toPromise();case 8:r=e.sent,e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(5),!Ma(e.t0)){e.next=15;break}throw e.t0;case 15:throw new Z("arguments is not valid",bb);case 16:return e.abrupt("return",Tq(r.attributeInfos.map((function(e){return[e.key,e.value]}))));case 17:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rn(!0),r=hh(),i=t.token,t.token===this.context.appId&&(i=void 0),xb("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:yb(this.session&&this.session.startTime),index:{index1:t.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:Mg,lts:ma.fromNumber(Date.now()),os:7,sid:rb(r),token:i||"",userId:t.uid,ver:"1.5.0",buildno:417,subVersion:17,version:4},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n,!0),Be(t)&&Sa(t.uid)){e.next=7;break}throw new Z("not a valid user id",pi);case 7:if("string"!=typeof i||!i){e.next=11;break}this.context.token=i,e.next=13;break;case 11:if("string"==typeof i||null==i){e.next=13;break}throw new Z('The "token" is not a valid string.',pi);case 13:return o=Date.now(),this.context.sid=rb(r),this.loginPromise=this.loginImpl({uid:t.uid,instanceId:r}),this.info("RTM Client logging in as ".concat(Ka(t.uid))),e.prev=17,e.next=20,this.loginPromise;case 20:e.next=28;break;case 22:throw e.prev=22,e.t0=e.catch(17),Ma(e.t0)&&xb("Link",{ackedServerIp:"",destServerIp:"",ec:e.t0.code||1,sc:e.t0.serverCode,elapse:yb(this.session&&this.session.startTime),lts:ma.fromNumber(Date.now()),responseTime:Date.now()-o,sid:rb(r),userId:t.uid},null!==(a=this.context.config.enableCloudProxy)&&void 0!==a&&a),this.context.token=void 0,this.context.socketUseProxy=!1,e.t0;case 28:return e.prev=28,this.loginPromise=void 0,e.finish(28);case 31:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),rn(!1);case 33:case"end":return e.stop()}}),e,this,[[17,22,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=ja(M.mark((function e(){var t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loginPromise){e.next=3;break}return e.next=3,this.loginPromise;case 3:if(this.connectionState!==la.DISCONNECTED){e.next=6;break}throw this.logError("Already in logout state"),new aa("Logout failure. The client has already been logged out",Xr);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==la.ABORTED){e.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT),e.abrupt("return");case 11:if(void 0!==this.session){e.next=14;break}return this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT),e.abrupt("return");case 14:return xb("Logout",{elapse:yb(this.session.startTime),lts:ma.fromNumber(Date.now()),sid:rb(this.session.instanceId),userId:this.context.uid},null!==(t=this.context.config.enableCloudProxy)&&void 0!==t&&t),e.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT),this.log("Log out success");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var e,t=this;if(this.connectionState===la.DISCONNECTED)throw this.logError("Already in logout state"),new aa("Logout failure. The client has already been logged out",Xr);this.connectionState===la.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):void 0!==this.session&&(xb("Logout",{elapse:yb(this.session.startTime),lts:ma.fromNumber(Date.now()),sid:rb(this.session.instanceId),userId:this.context.uid},null!==(e=this.context.config.enableCloudProxy)&&void 0!==e&&e),this.session.logoutHandler().then((function(){t.log("Log out success")}))),this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var e=ja(M.mark((function e(t,n){var r,i=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(On(t,Xf),this.connectionState!==la.RECONNECTING){e.next=4;break}return r=Date.now(),e.abrupt("return",new Promise((function(e,o){var a,s=(a=ja(M.mark((function a(){var s;return M.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==i.session){a.next=2;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return s=Date.now()-r,a.prev=3,a.t0=e,a.next=7,kh({message:t,peerId:n,toPeer:!0,session:i.session,errorCodes:{NOT_LOGGED_IN:Fl,TOO_OFTEN:Zr},diff:s,logger:i.logger});case 7:a.t1=a.sent,(0,a.t0)(a.t1),a.next=16;break;case 11:a.prev=11,a.t2=a.catch(3),vb(a.t2)&&o(new Qb(te(i.name,"sendMessageToPeer",1e4),El)),Ma(a.t2)&&o(a.t2),o(new Ja("Peer-to-peer message send failure",{code:Yr,originalError:a.t2}));case 16:return a.prev=16,clearTimeout(c),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[3,11,16,19]])}))),function(){return a.apply(this,arguments)});i.internalEmitter.once("RECONNECTED",s);var c=setTimeout((function(){i.internalEmitter.off("RECONNECTED",s),o(new Qb(te(i.name,"sendMessageToPeer",1e4),El))}),9e3)})));case 4:if(this.connectionState===la.CONNECTED){e.next=6;break}throw new aa("Failed to send the peer-to-peer message. The client is not logged in",Fl);case 6:if(void 0!==this.session){e.next=8;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 8:return e.prev=8,e.next=11,kh({message:t,peerId:n,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:Fl,TOO_OFTEN:Zr},diff:0,logger:this.logger});case 11:return e.abrupt("return",e.sent);case 14:if(e.prev=14,e.t0=e.catch(8),!vb(e.t0)){e.next=18;break}throw new Qb(te(this.name,"sendMessageToPeer",1e4),El);case 18:if(!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Ja("Peer-to-peer message send failure",{code:Yr,originalError:e.t0});case 21:case"end":return e.stop()}}),e,this,[[8,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createChannel",value:function(e){var t=this;if(!Sa(e))throw new Z(["The %s in the arguments is invalid",Object.keys({channelId:e})[0]],tB);return new bF(e,(function(){return t.session}),this,this.logger)}},{key:"createLocalInvitation",value:function(e){if(!Sa(e))throw new Z(["The %s in the arguments is invalid",Object.keys({calleeId:e})[0]],Tc);return this.invitationManager.genLocalInvitation(e)}},{key:"subscribePeersOnlineStatus",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,p,h,v=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",Hl);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new Z("Invalid arguments: peerIds",Og);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(Sa(r=t[n])){e.next=11;break}throw new Z(["subscribePeersOnlineStatus peer id %s is invalid",r],Og);case 11:n++,e.next=7;break;case 14:if(!(512<(i=t&&t.length?$k(t):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){e.next=17;break}throw new dc("Subscribed peers overflows",ds);case 17:return this.pendingPeerStatusSubCount+=i.length,e.next=20,this.session.requestSubscribePeersOnlineStatus(i).toPromise();case 20:o=e.sent,a=o.errors,this.pendingPeerStatusSubCount-=i.length,s=[],c=[],u=0;case 26:if(!(u<a.length)){e.next=34;break}if(l=a[u],d=l.code,"string"==typeof(f=l.account)){e.next=30;break}throw new Ja("Returned account is invalid",cs);case 30:0!==d&&s.push(f);case 31:u++,e.next=26;break;case 34:for(p=0;p<i.length;p++)h=i[p],s.includes(h)||(c.push(h),this.subscribedPeerStatusCache[h]=void 0);if(this.session.requestPeersOnlineStatus(c).pipe(Da((function(e){return hd(nl(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=hd(e,(function(e,t){return e=e?qa.PeerOnlineState.ONLINE:qa.PeerOnlineState.OFFLINE,v.subscribedPeerStatusCache[t]=e})),v.emit("PeersOnlineStatusChanged",e)})),0===s.length){e.next=38;break}throw new Ja("Subscription failed",cs);case 38:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",Hl);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new Z("Invalid arguments: peerIds",Og);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(Sa(r=t[n])){e.next=11;break}throw new Z(["subscribePeersOnlineStatus peer id %s is invalid",r],Og);case 11:n++,e.next=7;break;case 14:if(!(512<t.length)){e.next=16;break}throw new dc("Unsubscribed peers overflows",ds);case 16:for(i=t&&t.length?$k(t):[],this.session.requestUnsubscribePeersOnlineStatus(i),o=0;o<i.length;o++)a=i[o],delete this.subscribedPeerStatusCache[a];case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var e=ja(M.mark((function e(t){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",Hl);case 2:if(t!==qa.PeerSubscriptionOption.ONLINE_STATUS){e.next=4;break}return e.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new Z("Subscription option not supported",Og);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMessage",value:function(e){return e}},{key:"loginImpl",value:function(){var e=ja(M.mark((function e(t){var n,r,i,o,a,s,c,u,l=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uid,r=t.instanceId,i=t.forceLoginTime,o=void 0===i?0:i,a=r,!(void 0!==this.lastLoginTime&&500>Date.now()-this.lastLoginTime)){e.next=4;break}throw new wD(["The frequency of login exceeded the limit of %d queries per second",2],HB);case 4:if(this.connectionState===la.DISCONNECTED||0!==o){e.next=6;break}throw new aa("The SDK is either logging in or has logged in the Agora RTM system",FB);case 6:e.prev=6,this.context.uid=n,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(6),new Z(["The %s in the arguments is invalid",Object.keys({uid:n})[0]],pi);case 13:return 0===o&&this.onConnectionStateChanged(la.CONNECTING,Mb.LOGIN),(s=new Us(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=c=new Lt(this.context,s,a,this.logger),u=function(){l.connectionState===la.CONNECTED&&(l.onConnectionStateChanged(la.RECONNECTING,Mb.INTERRUPTED),l.session)&&l.session.once("userJoined",(function(){l.onConnectionStateChanged(la.CONNECTED,Mb.LOGIN_SUCCESS)}))},c.on("connectionLost",u),c.on("tokenExpired",(function(){l.emit("TokenExpired")})),c.on("TokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),c.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",(function(e){l.emit("MessageFromPeer",{text:e.text,messageType:qa.MessageType.TEXT},e.peerId,e.properties)})),this.session.on("peerRawMessage",(function(e){l.emit("MessageFromPeer",{rawMessage:e.raw,description:e.desc,messageType:qa.MessageType.RAW},e.peerId,e.properties)})),c.on("instanceChanged",(function(e){return a=e})),c.on("peerOnlineStatusChanged",(function(e){var t=e.instance.toString()+e.state,n=l.peerStatusSeqLru.get(t);!n||e.seq.greaterThan(n)?(l.peerStatusSeqLru.set(t,e.seq),e.state!==l.subscribedPeerStatusCache[e.peerId]&&l.emit("PeersOnlineStatusChanged",x({},e.peerId,e.state)),l.subscribedPeerStatusCache[e.peerId]=e.state,clearTimeout(l.peerUnreachableTimers[t]),e.state===qa.PeerOnlineState.UNREACHABLE&&(l.peerUnreachableTimers[t]=setTimeout((function(){l.subscribedPeerStatusCache[e.peerId]===qa.PeerOnlineState.UNREACHABLE&&(l.subscribedPeerStatusCache[e.peerId]=qa.PeerOnlineState.ONLINE,l.emit("PeersOnlineStatusChanged",x({},e.peerId,qa.PeerOnlineState.ONLINE)))}),3e4))):l.log("peerOnlineStatusChanged dedup for %s, %d",t,e.seq.toNumber())})),c.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),c.on("channelAttributesUpdated",(function(e){var t=e.channelId;e=e.attributeMaps;for(var n={},r=0;r<e.length;r++){var i=e[r],o=i.key,a=i.ms,s=i.value;if(i=i.origin,"string"!=typeof o||!ma.isLong(a)||"string"!=typeof s||!Sa(i))break;n[o]=new Blob([s]).size}l.channelAttributesCacheLru.set(t,n)})),c.on("userJoined",(function(e){if(0!==Object.keys(l.attributes).length){if(void 0===l.session)return;l.session.requestSetLocalUserAttributes(l.attributes,e).toPromise()}if(0!==l.attributeDrafts.size)for(var t=function(t,n){var r=(t=n[t]).attribute;t.promise.then((function(){void 0!==l.session&&l.session.requestSetLocalUserAttributes(r,e).toPromise()}))},n=0,r=Array.from(l.attributeDrafts);n<r.length;n++)t(n,r);0!==Object.keys(l.subscribedPeerStatusCache).length&&c.requestSubscribePeersOnlineStatus(Object.keys(l.subscribedPeerStatusCache))})),c.on("banEdgeIP",(function(e){l.banIP(e)})),this.lastLoginTime=Date.now(),e.prev=32,e.next=35,c.loginHandler().toPromise();case 35:e.next=53;break;case 37:if(e.prev=37,e.t1=e.catch(32),!("loginRespTimeout"===e.t1.name&&2>o)){e.next=46;break}return c.removeAllListeners(),e.next=43,this.loginImpl({uid:n,instanceId:r,forceLoginTime:o+1});case 43:return e.abrupt("return");case 46:if(!vb(e.t1)){e.next=49;break}throw this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGIN_TIMEOUT),new Qb(te(this.name,"login",12e3),GB);case 49:if(this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGIN_FAILURE),!Ma(e.t1)){e.next=52;break}throw e.t1;case 52:throw new Ja("Login failure",{code:Ur,originalError:e.t1});case 53:this.onConnectionStateChanged(la.CONNECTED,Mb.LOGIN_SUCCESS);case 54:case"end":return e.stop()}}),e,this,[[6,10],[32,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(e,t){var n,r=this;e===la.RECONNECTING&&(this.reconnId+=1),xb("ConnectionStateChange",{elapse:yb(this.session&&this.session.startTime),lts:ma.fromNumber(Date.now()),newState:Nt[e],oldState:Nt[this.connectionState],reason:cF[t],sid:rb(this.session&&this.session.instanceId||ma.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),this.connectionState===la.RECONNECTING&&e===la.CONNECTED&&(0!==Object.keys(this.subscribedPeerStatusCache).length&&void 0!==this.session&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Da((function(e){return hd(nl(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=hd(e,(function(e,t){return e=e?qa.PeerOnlineState.ONLINE:qa.PeerOnlineState.OFFLINE,r.subscribedPeerStatusCache[t]=e})),r.emit("PeersOnlineStatusChanged",e)})),this.internalEmitter.emit("RECONNECTED")),this.connectionState=e,e!==la.ABORTED&&e!==la.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",e,t)}},{key:"banIP",value:function(e){var t;this.log("ip banned",e);var n=null!==(t=this.blacklistedIP[e])&&void 0!==t?t:0;this.blacklistedIP[e]=n+1}}]),t}(Ac()),Ca(U.prototype,"renewToken",[fb],Object.getOwnPropertyDescriptor(U.prototype,"renewToken"),U.prototype),Ca(U.prototype,"queryPeersOnlineStatus",[fb],Object.getOwnPropertyDescriptor(U.prototype,"queryPeersOnlineStatus"),U.prototype),Ca(U.prototype,"getChannelMemberCount",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getChannelMemberCount"),U.prototype),Ca(U.prototype,"setLocalUserAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"setLocalUserAttributes"),U.prototype),Ca(U.prototype,"setChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"setChannelAttributes"),U.prototype),Ca(U.prototype,"addOrUpdateLocalUserAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"addOrUpdateLocalUserAttributes"),U.prototype),Ca(U.prototype,"addOrUpdateChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"addOrUpdateChannelAttributes"),U.prototype),Ca(U.prototype,"deleteLocalUserAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"deleteLocalUserAttributesByKeys"),U.prototype),Ca(U.prototype,"deleteChannelAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"deleteChannelAttributesByKeys"),U.prototype),Ca(U.prototype,"clearLocalUserAttributes",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"clearLocalUserAttributes"),U.prototype),Ca(U.prototype,"clearChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"clearChannelAttributes"),U.prototype),Ca(U.prototype,"getUserAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getUserAttributes"),U.prototype),Ca(U.prototype,"getChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getChannelAttributes"),U.prototype),Ca(U.prototype,"getChannelAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getChannelAttributesByKeys"),U.prototype),Ca(U.prototype,"getUserAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getUserAttributesByKeys"),U.prototype),Ca(U.prototype,"login",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"login"),U.prototype),Ca(U.prototype,"logout",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"logout"),U.prototype),Ca(U.prototype,"logoutSync",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"logoutSync"),U.prototype),Ca(U.prototype,"sendMessageToPeer",[fb],Object.getOwnPropertyDescriptor(U.prototype,"sendMessageToPeer"),U.prototype),Ca(U.prototype,"createChannel",[fb],Object.getOwnPropertyDescriptor(U.prototype,"createChannel"),U.prototype),Ca(U.prototype,"createLocalInvitation",[fb],Object.getOwnPropertyDescriptor(U.prototype,"createLocalInvitation"),U.prototype),Ca(U.prototype,"subscribePeersOnlineStatus",[fb],Object.getOwnPropertyDescriptor(U.prototype,"subscribePeersOnlineStatus"),U.prototype),Ca(U.prototype,"unsubscribePeersOnlineStatus",[fb],Object.getOwnPropertyDescriptor(U.prototype,"unsubscribePeersOnlineStatus"),U.prototype),Ca(U.prototype,"queryPeersBySubscriptionOption",[fb],Object.getOwnPropertyDescriptor(U.prototype,"queryPeersBySubscriptionOption"),U.prototype),Ca(U.prototype,"createMessage",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"createMessage"),U.prototype),U),mm,nm,om,pm,Ot=null===(mm=/Chrome\/([0-9.]+)/.exec(null===(om=window)||void 0===om||null===(pm=om.navigator)||void 0===pm?void 0:pm.userAgent))||void 0===mm||null===(nm=mm[1])||void 0===nm?void 0:nm.split(".")[0];if(Ot&&88<=parseInt(Ot,10)&&!Ae()){var qm,xe=document.createElement("video"),ye=document.createElement("canvas");xe.setAttribute("style","display:none"),xe.setAttribute("muted",""),xe.muted=!0,xe.setAttribute("autoplay",""),xe.autoplay=!0,xe.setAttribute("playsinline",""),ye.setAttribute("style","display:none"),ye.setAttribute("width","1"),ye.setAttribute("height","1"),null===(qm=ye.getContext("2d"))||void 0===qm||qm.fillRect(0,0,1,1),xe.srcObject=null==ye?void 0:ye.captureStream()}var Pt={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},Qt={enableLogUpload:!1,logFilter:Pt.LOG_FILTER_INFO,enableCloudProxy:!1},ue=jb(jb({createInstance:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(e))throw new Z(["The %s in the arguments is invalid",Object.keys({appId:e})[0]],Ir);var r=Object.keys(t).filter((function(e){return!(e in Qt)}));if(0!==r.length)throw new Z("Invalid RTM config: ".concat(r.join(", ")),Ir);var i=jb(jb({},Qt),t);if(void 0!==n&&(!Array.isArray(n)||0===n.length))throw new Z("Invalid area config");if(null!=n){if(!n.every((function(e){return e in qa.LegacyAreaCode})))throw new Z("Invalid area codes: ".concat(n.filter((function(e){return!(e in qa)})).join(", ")));ca=Ue(n.map((function(e){return ED[e]})))}n=Nl=Va.__global_unique_id__=(Va.__global_unique_id__||0)+1;var o=ID(i);r=JD(i);var a=KD(i),s=LD(n,i),c=Os(n,i),u=c("RTM:DEBUG","<Entry> ");return Hs.rtmConfig=i,o("The Agora RTM Web SDK version is %s","1.5.0"),t.enableCloudProxy&&o("RTM cloud proxy enabled"),t.enableLogUpload&&o("Log upload enabled"),ca&&u("Area is set to %s",Array.from(ca.CODES).map((function(e){return $f(R).find((function(t){return R[t]===e}))})).join(", ")),u("Creating an RtmClient instance"),u('The Git commit ID is "'.concat("v1.5.0-0-g83bd874d",'"')),u("The App ID is %s",Pn(e,4,10,"*".repeat(6))),o("The process ID is %s",Mg),u("The build is %s","v1.5.0-0-g83bd874d"),u("NODE_ENV is %s","production"),new dF(e,{genLogger:c,genTracker:s,info:o,warn:r,logError:a,loggerId:n},i,(function(e){for(var t=0,n=$f(e);t<n.length;t++){var r=n[t];try{var a=e[r];null!=a&&(e.enableCloudProxy&&o("RTM cloud proxy enabled"),e.enableLogUpload&&o("Log upload enabled"),i[r]=a)}catch(e){throw new Z(["The %s in the arguments is invalid",r],void 0)}}}))},BUILD:"v1.5.0-0-g83bd874d",VERSION:"1.5.0",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:Mg,ConnectionChangeReason:qa.ConnectionChangeReason,ConnectionState:qa.ConnectionState,LocalInvitationFailureReason:qa.LocalInvitationFailureReason,LocalInvitationState:qa.LocalInvitationState,RemoteInvitationFailureReason:qa.RemoteInvitationFailureReason,RemoteInvitationState:qa.RemoteInvitationState,MessageType:qa.MessageType,PeerOnlineState:qa.PeerOnlineState,PeerSubscriptionOption:qa.PeerSubscriptionOption},Pt),{},{setParameter:function(e,t){Object.keys(xc).includes(e)&&(xc[e]=t)},getParameter:function(e){return xc[e]},setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,!Array.isArray(t)||0===t.length||!t.every((function(e){return e in qa.AreaCode})))throw new Z("Invalid area config");if(void 0!==e&&e===qa.AreaCode.GLOBAL)throw new Z("Excluded area cannot be global");if(void 0===e)ca=Ue(t.map((function(e){return R[e]})));else{if(t.includes(e))throw new Z("Excluded area cannot be in areaCodes");if(!(e in R))throw new Z("Invalid excludedArea:",e);ca=yv({areas:t.map((function(e){return R[e]})),excludedArea:R[e]})}}});return ue},module.exports=t()},2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8262:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),v=c(n),g=0;g<a.length;++g){var A=a[g];if(!o[A]&&(!r||!r[A])&&(!v||!v[A])&&(!s||!s[A])){var m=f(n,A);try{u(t,A,m)}catch(E){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case v:case c:return e;default:return t}}case i:return t}}}function C(e){return b(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||b(e)===l},t.isConcurrentMode=C,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===m||e.$$typeof===E||e.$$typeof===y||e.$$typeof===A)},t.typeOf=b},8309:function(e,t,n){"use strict";e.exports=n(746)},9498:function(e,t,n){var r="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")();var l=Array.prototype,d=Function.prototype,f=Object.prototype,p=u["__core-js_shared__"],h=function(){var e=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),v=d.toString,g=f.hasOwnProperty,A=f.toString,m=RegExp("^"+v.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=l.splice,y=R(u,"Map"),b=R(Object,"create");function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function S(e){if(!O(e)||(t=e,h&&h in t))return!1;var t,n=function(e){var t=O(e)?A.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?m:a;return n.test(function(e){if(null!=e){try{return v.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function T(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function R(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return S(n)?n:void 0}function k(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(k.Cache||I),n}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}C.prototype.clear=function(){this.__data__=b?b(null):{}},C.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},C.prototype.get=function(e){var t=this.__data__;if(b){var n=t[e];return n===r?void 0:n}return g.call(t,e)?t[e]:void 0},C.prototype.has=function(e){var t=this.__data__;return b?void 0!==t[e]:g.call(t,e)},C.prototype.set=function(e,t){return this.__data__[e]=b&&void 0===t?r:t,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(e){var t=this.__data__,n=w(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),!0)},_.prototype.get=function(e){var t=this.__data__,n=w(t,e);return n<0?void 0:t[n][1]},_.prototype.has=function(e){return w(this.__data__,e)>-1},_.prototype.set=function(e,t){var n=this.__data__,r=w(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},I.prototype.clear=function(){this.__data__={hash:new C,map:new(y||_),string:new C}},I.prototype.delete=function(e){return T(this,e).delete(e)},I.prototype.get=function(e){return T(this,e).get(e)},I.prototype.has=function(e){return T(this,e).has(e)},I.prototype.set=function(e,t){return T(this,e).set(e,t),this},k.Cache=I,e.exports=k},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6059:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(2791)),d=u(n(8262)),f=s(n(2007));function p(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"===typeof t.props.innerRef?{current:null}:l.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!==typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var r=n.innerHTML;if(t.props.onChange&&r!==t.lastHtml){var i=Object.assign({},e,{target:{value:r}});t.props.onChange(i)}t.lastHtml=r}},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,r=t.html,o=t.innerRef,a=c(t,["tagName","html","innerRef"]);return l.createElement(n||"div",i(i({},a),{ref:"function"===typeof o?function(t){o(t),e.el.current=t}:o||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||(p(e.html)!==p(n.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!d.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var i=document.createRange();i.setStart(t,t.nodeValue.length),i.collapse(!0),r.removeAllRanges(),r.addRange(i)}e instanceof HTMLElement&&e.focus()}}(e))},t.propTypes={html:f.string.isRequired,onChange:f.func,disabled:f.bool,tagName:f.string,className:f.string,style:f.object,innerRef:f.oneOfType([f.object,f.func])},t}(l.Component);t.default=h},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var A=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function E(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(A,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(A,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(A,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,B=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function F(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case C:return"Portal";case w:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function z(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var Ae=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(Ae[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,Ie=null;function we(e){if(e=Ei(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=bi(t),Ce(e.stateNode,e.type,t))}}function Se(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Re(e,t){return e(t)}function ke(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Re(e,t,n)}finally{Oe=!1,(null!==_e||null!==Ie)&&(ke(),Te())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){De=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){De=!1}function Pe(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Me=!1,Be=null,Ue=!1,je=null,Fe={onError:function(e){Me=!0,Be=e}};function Qe(e,t,n,r,i,o,a,s,c){Me=!1,Be=null,Pe.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,ze=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Et=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Ct,_t,It,wt,St=!1,Tt=[],Rt=null,kt=null,Ot=null,Nt=new Map,xt=new Map,Dt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ei(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=mi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void wt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ei(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){St=!1,null!==Rt&&Ut(Rt)&&(Rt=null),null!==kt&&Ut(kt)&&(kt=null),null!==Ot&&Ut(Ot)&&(Ot=null),Nt.forEach(jt),xt.forEach(jt)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Qt(t,e)}if(0<Tt.length){Qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Qt(Rt,e),null!==kt&&Qt(kt,e),null!==Ot&&Qt(Ot,e),Nt.forEach(t),xt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Dt.shift()}var Gt=y.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=Et,o=Gt.transition;Gt.transition=null;try{Et=1,Wt(e,t,n,r)}finally{Et=i,Gt.transition=o}}function Kt(e,t,n,r){var i=Et,o=Gt.transition;Gt.transition=null;try{Et=4,Wt(e,t,n,r)}finally{Et=i,Gt.transition=o}}function Wt(e,t,n,r){if(Ht){var i=zt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rt=Mt(Rt,e,t,n,r,i),!0;case"dragenter":return kt=Mt(kt,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Mt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=Ei(i);if(null!==o&&bt(o),null===(o=zt(e,t,n,r))&&Hr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function zt(e,t,n,r){if(Yt=null,null!==(e=mi(e=be(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(un),dn=B({},un,{view:0,detail:0}),fn=on(dn),pn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),vn=on(B({},pn,{dataTransfer:0})),gn=on(B({},dn,{relatedTarget:0})),An=on(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=on(mn),yn=on(B({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function wn(){return In}var Sn=B({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(Sn),Rn=on(B({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),On=on(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=B({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Nn),Dn=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Pn,Bn=l&&(!Ln||Pn&&8<Pn&&11>=Pn),Un=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Yn(e){Ur(e,0)}function zn(e){if(W(yi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&zn(Wn)){var t=[];qn(t,Wn,e,be(e)),Ne(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Wn)}function or(e,t){if("click"===e)return zn(t)}function ar(e,t){if("input"===e||"change"===e)return zn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,Ar=null,mr=null,Er=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Kr(Ar,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},_r={},Ir={};function wr(e){if(_r[e])return _r[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Sr=wr("animationend"),Tr=wr("animationiteration"),Rr=wr("animationstart"),kr=wr("transitionend"),Or=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Or.set(e,t),c(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Lr=Nr[Dr];xr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}xr(Sr,"onAnimationEnd"),xr(Tr,"onAnimationIteration"),xr(Rr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,u){if(Qe.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Be;Me=!1,Be=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Br(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Br(i,s,u),o=c}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Qr]){e[Qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Fr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=be(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":u="focus",c=gn;break;case"focusout":u="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=kn;break;case Sr:case Tr:case Rr:c=An;break;case kr:c=On;break;case"scroll":c=fn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Rn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=xe(h,f))&&l.push(qr(h,v,p)))),d)break;h=h.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ye||!(u=n.relatedTarget||n.fromElement)||!mi(u)&&!u[hi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?mi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=hn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==c?s:yi(c),p=null==u?s:yi(u),(s=new l(v,h+"leave",c,n,i)).target=d,s.relatedTarget=p,v=null,mi(i)===r&&((l=new l(f,h+"enter",u,n,i)).target=p,l.relatedTarget=d,v=l),d=v,c&&u)e:{for(f=u,h=0,p=l=c;p;p=Wr(p))h++;for(p=0,v=f;v;v=Wr(v))p++;for(;0<h-p;)l=Wr(l),h--;for(;0<p-h;)f=Wr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Wr(l),f=Wr(f)}l=null}else l=null;null!==c&&Yr(a,s,c,l,!1),null!==u&&null!==d&&Yr(a,d,u,l,!0)}if("select"===(c=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Jn;else if(Hn(s))if(Xn)g=ar;else{g=ir;var A=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?qn(a,g,n,i):(A&&A(e,s,r),"focusout"===e&&(A=s._wrapperState)&&A.controlled&&"number"===s.type&&ee(s,"number",s.value)),A=r?yi(r):window,e){case"focusin":(Hn(A)||"true"===A.contentEditable)&&(gr=A,Ar=r,mr=null);break;case"focusout":mr=Ar=gr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,yr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":yr(a,n,i)}var m;if(Ln)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Vn?Fn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(Bn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==E?"onCompositionEnd"===E&&Vn&&(m=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(A=Kr(r,E)).length&&(E=new yn(E,e,null,n,i),a.push({event:E,listeners:A}),m?E.data=m:null!==(m=Qn(n))&&(E.data=m))),(m=Mn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Fn(e,t)?(e=en(),$t=Zt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Ur(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=xe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=xe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=xe(n,o))&&a.unshift(qr(n,c,s)):i||null!=(c=xe(n,o))&&a.push(qr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(zr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,vi="__reactEvents$"+di,gi="__reactListeners$"+di,Ai="__reactHandles$"+di;function mi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function Ei(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function bi(e){return e[pi]||null}var Ci=[],_i=-1;function Ii(e){return{current:e}}function wi(e){0>_i||(e.current=Ci[_i],Ci[_i]=null,_i--)}function Si(e,t){_i++,Ci[_i]=e.current,e.current=t}var Ti={},Ri=Ii(Ti),ki=Ii(!1),Oi=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){wi(ki),wi(Ri)}function Li(e,t,n){if(Ri.current!==Ti)throw Error(o(168));Si(Ri,t),Si(ki,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return B({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ri.current,Si(Ri,e),Si(ki,ki.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,wi(ki),wi(Ri),Si(Ri,e)):wi(ki),Si(ki,n)}var Ui=null,ji=!1,Fi=!1;function Qi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!Fi&&null!==Ui){Fi=!0;var e=0,t=Et;try{var n=Ui;for(Et=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We($e,Vi),i}finally{Et=t,Fi=!1}}return null}var Gi=[],Hi=0,qi=null,Ki=0,Wi=[],Yi=0,zi=null,Ji=1,Xi="";function Zi(e,t){Gi[Hi++]=Ki,Gi[Hi++]=qi,qi=e,Ki=t}function $i(e,t,n){Wi[Yi++]=Ji,Wi[Yi++]=Xi,Wi[Yi++]=zi,zi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===qi;)qi=Gi[--Hi],Gi[Hi]=null,Ki=Gi[--Hi],Gi[Hi]=null;for(;e===zi;)zi=Wi[--Yi],Wi[Yi]=null,Xi=Wi[--Yi],Wi[Yi]=null,Ji=Wi[--Yi],Wi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==zi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ui(e.nextSibling)}function ho(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=y.ReactCurrentBatchConfig;function Ao(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=Ii(null),Eo=null,yo=null,bo=null;function Co(){bo=yo=Eo=null}function _o(e){var t=mo.current;wi(mo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){Eo=e,bo=yo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},null===yo){if(null===Eo)throw Error(o(308));yo=e,Eo.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var To=null;function Ro(e){null===To?To=[e]:To.push(e)}function ko(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,u=c.next;c.next=null,null===a?o=u:a.next=u,a=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(a=0,l=u=c=null,s=o;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(f=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=v.payload)?h.call(p,d,f):h)||void 0===f)break e;d=B({},d,f);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=p,c=d):l=l.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mc|=a,e.lanes=a,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function Qo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(nu(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(nu(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Po(e,i,r))&&(nu(t,e,r,n),Mo(t,e,r))}};function Go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Ho(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(i=xi(t)?Oi:Ri.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,xo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=So(o):(o=xi(t)?Oi:Ri.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Qo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&zo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Pu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case C:return(t=Uu(t,e.mode,n)).return=e,t;case x:return f(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pu(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case C:return n.key===i?l(e,t,n,r):null;case x:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Yo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function v(i,o,s,c){for(var u=null,l=null,d=o,v=o=0,g=null;null!==d&&v<s.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var A=p(i,d,s[v],c);if(null===A){null===d&&(d=g);break}e&&d&&null===A.alternate&&t(i,d),o=a(A,o,v),null===l?u=A:l.sibling=A,l=A,d=g}if(v===s.length)return n(i,d),io&&Zi(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],c))&&(o=a(d,o,v),null===l?u=d:l.sibling=d,l=d);return io&&Zi(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(g=h(d,i,v,s[v],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?u=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,v),u}function g(i,s,c,u){var l=P(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,v=s,g=s=0,A=null,m=c.next();null!==v&&!m.done;g++,m=c.next()){v.index>g?(A=v,v=null):A=v.sibling;var E=p(i,v,m.value,u);if(null===E){null===v&&(v=A);break}e&&v&&null===E.alternate&&t(i,v),s=a(E,s,g),null===d?l=E:d.sibling=E,d=E,v=A}if(m.done)return n(i,v),io&&Zi(i,g),l;if(null===v){for(;!m.done;g++,m=c.next())null!==(m=f(i,m.value,u))&&(s=a(m,s,g),null===d?l=m:d.sibling=m,d=m);return io&&Zi(i,g),l}for(v=r(i,v);!m.done;g++,m=c.next())null!==(m=h(v,i,g,m.value,u))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=a(m,s,g),null===d?l=m:d.sibling=m,d=m);return e&&v.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var u=a.key,l=o;null!==l;){if(l.key===u){if((u=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===x&&zo(u)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Wo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Pu(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Lu(a.type,a.key,a.props,null,r.mode,c)).ref=Wo(r,o,a),c.return=r,r=c)}return s(r);case C:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uu(a,r.mode,c)).return=r,r=o}return s(r);case x:return e(r,o,(l=a._init)(a._payload),c)}if(te(a))return v(r,o,a,c);if(P(a))return g(r,o,a,c);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Bu(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Xo=Jo(!0),Zo=Jo(!1),$o={},ea=Ii($o),ta=Ii($o),na=Ii($o);function ra(e){if(e===$o)throw Error(o(174));return e}function ia(e,t){switch(Si(na,t),Si(ta,e),Si(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(ea),Si(ea,t)}function oa(){wi(ea),wi(ta),wi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(Si(ta,e),Si(ea,n))}function sa(e){ta.current===e&&(wi(ea),wi(ta))}var ca=Ii(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function da(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=y.ReactCurrentDispatcher,pa=y.ReactCurrentBatchConfig,ha=0,va=null,ga=null,Aa=null,ma=!1,Ea=!1,ya=0,ba=0;function Ca(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(ha=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:cs,e=n(r,i),Ea){a=0;do{if(Ea=!1,ya=0,25<=a)throw Error(o(301));a+=1,Aa=ga=null,t.updateQueue=null,fa.current=us,e=n(r,i)}while(Ea)}if(fa.current=as,t=null!==ga&&null!==ga.next,ha=0,Aa=ga=va=null,ma=!1,t)throw Error(o(300));return e}function wa(){var e=0!==ya;return ya=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Aa?va.memoizedState=Aa=e:Aa=Aa.next=e,Aa}function Ta(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===Aa?va.memoizedState:Aa.next;if(null!==t)Aa=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===Aa?va.memoizedState=Aa=e:Aa=Aa.next=e}return Aa}function Ra(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,u=null,l=a;do{var d=l.lane;if((ha&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,s=r):u=u.next=f,va.lanes|=d,Mc|=d}l=l.next}while(null!==l&&l!==a);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Mc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function xa(e,t){var n=va,r=Ta(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ys=!0),r=r.queue,Ha(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Aa&&1&Aa.memoizedState.tag){if(n.flags|=2048,ja(9,La.bind(null,n,r,i,t),void 0,null),null===kc)throw Error(o(349));0!==(30&ha)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Ba(e)}function Pa(e,t,n){return n((function(){Ma(t)&&Ba(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ba(e){var t=Oo(e,1);null!==t&&nu(t,e,1,-1)}function Ua(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Ta().memoizedState}function Qa(e,t,n,r){var i=Sa();va.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}va.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Ga(e,t){return Qa(8390656,8,e,t)}function Ha(e,t){return Va(2048,8,e,t)}function qa(e,t){return Va(4,2,e,t)}function Ka(e,t){return Va(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Wa.bind(null,t,e),n)}function za(){}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Mc|=n,e.baseState=!0),t)}function $a(e,t){var n=Et;Et=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{Et=n,pa.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=ko(e,t,n,r))){nu(n,e,r,eu()),os(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Ro(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=ko(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){Ea=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:So,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},ss={readContext:So,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qa(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qa(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ua,useDebugValue:za,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=$a.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Sa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===kc)throw Error(o(349));0!==(30&ha)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ga(Pa.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,La.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=kc.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:So,useCallback:Ja,useContext:So,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Xa,useReducer:ka,useRef:Fa,useState:function(){return ka(Ra)},useDebugValue:za,useDeferredValue:function(e){return Za(Ta(),ga.memoizedState,e)},useTransition:function(){return[ka(Ra)[0],Ta().memoizedState]},useMutableSource:Na,useSyncExternalStore:xa,useId:es,unstable_isNewReconciler:!1},us={readContext:So,useCallback:Ja,useContext:So,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:qa,useLayoutEffect:Ka,useMemo:Xa,useReducer:Oa,useRef:Fa,useState:function(){return Oa(Ra)},useDebugValue:za,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Za(t,ga.memoizedState,e)},useTransition:function(){return[Oa(Ra)[0],Ta().memoizedState]},useMutableSource:Na,useSyncExternalStore:xa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,qc=r),fs(0,t)},n}function vs(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function As(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Es=y.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Xo(t,e.child,n,r)}function Cs(e,t,n,r,i){n=n.render;var o=t.ref;return wo(t,i),r=Ia(e,t,n,r,o,i),n=wa(),null===e||ys?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||xu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ys=!0)}}return Ts(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Dc,xc),xc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Dc,xc),xc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Dc,xc),xc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Dc,xc),xc|=r;return bs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=xi(n)?Oi:Ri.current;return o=Ni(t,o),wo(t,i),n=Ia(e,t,n,r,o,i),r=wa(),null===e||ys?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Rs(e,t,n,r,i){if(xi(n)){var o=!0;Mi(t)}else o=!1;if(wo(t,i),null===t.stateNode)Gs(e,t),Ho(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=So(u):u=Ni(t,u=xi(n)?Oi:Ri.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&qo(t,a,r,u),No=!1;var f=t.memoizedState;a.state=f,Uo(t,r,a,i),c=t.memoizedState,s!==r||f!==c||ki.current||No?("function"===typeof l&&(Qo(t,n,l,r),c=t.memoizedState),(s=No||Go(t,n,s,r,f,c,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ao(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=So(c):c=Ni(t,c=xi(n)?Oi:Ri.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==c)&&qo(t,a,r,c),No=!1,f=t.memoizedState,a.state=f,Uo(t,r,a,i);var h=t.memoizedState;s!==d||f!==h||ki.current||No?("function"===typeof p&&(Qo(t,n,p,r),h=t.memoizedState),(u=No||Go(t,n,u,r,f,h,c)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,o,i)}function ks(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Bi(t,n,!1),Hs(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return ho(),vo(i),t.flags|=256,bs(e,t,n,r),t.child}var xs,Ds,Ls,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ca,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Mu(c,i,0,null),e=Pu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ps,e):Us(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(a=Pu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ps,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,js(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),ys||c){if(null!==(r=kc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(e,i),nu(r,e,i,-1))}return vu(),js(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Yi++]=Ji,Wi[Yi++]=Xi,Wi[Yi++]=zi,Ji=e.id,Xi=e.overflow,zi=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Du(r,s):(s=Pu(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Ms(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Du(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&vo(r),Xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qs(t,!0,n,null,o);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return xi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,oa(),wi(ki),wi(Ri),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)jr(Pr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var c in me(n,a),i=null,a)if(a.hasOwnProperty(c)){var u=a[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":K(r),$(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fi]=t,e[pi]=r,xs(e,t),t.stateNode=e;e:{switch(c=Ee(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)jr(Pr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=z(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in me(n,i),u=i)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&jr("scroll",e):null!=l&&E(e,a,l,c))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ks(t),null;case 13:if(wi(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Lc&&(Lc=3):vu())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),null===e&&Vr(t.stateNode.containerInfo),Ks(t),null;case 10:return _o(t.type._context),Ks(t),null;case 19:if(wi(ca),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)qs(a,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ua(e))){for(t.flags|=128,qs(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Vc&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Ks(t),null}else 2*Xe()-a.renderingStartTime>Vc&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ca.current,Si(ca,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&xc)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return xi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),wi(ki),wi(Ri),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(wi(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(ca),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return du(),null;default:return null}}xs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=z(e,i),r=z(e,r),a=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&jr("scroll",e),a||c===u||(a=[])):(a=a||[]).push(l,u))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var zs=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Iu(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Iu(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[vi],delete t[gi],delete t[Ai])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var lc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||$s(n,t);case 6:var r=lc,i=dc;lc=null,fc(e,t,n),dc=i,null!==(lc=r)&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lc.removeChild(n.stateNode));break;case 18:null!==lc&&(dc?(e=lc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Vt(e)):ci(lc,n.stateNode));break;case 4:r=lc,i=dc,lc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),lc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ec(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Js&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Iu(n,t,s)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fc(e,t,n),Js=r):fc(e,t,n);break;default:fc(e,t,n)}}function hc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(o(160));pc(a,s,i),lc=null,dc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){Iu(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),Ac(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Iu(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Iu(e,e.return,g)}}break;case 1:vc(t,e),Ac(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vc(t,e),Ac(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Iu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===a.type&&null!=a.name&&X(i,a),Ee(c,s);var l=Ee(c,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):E(i,d,f,l)}switch(c){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Iu(e,e.return,g)}}break;case 6:if(vc(t,e),Ac(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Iu(e,e.return,g)}}break;case 3:if(vc(t,e),Ac(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Iu(e,e.return,g)}break;case 4:default:vc(t,e),Ac(e);break;case 13:vc(t,e),Ac(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Qc=Xe())),4&r&&hc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||d,vc(t,e),Js=l):vc(t,e),Ac(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(h=(p=Zs).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:$s(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Iu(r,n,g)}}break;case 5:$s(p,p.return);break;case 22:if(null!==p.memoizedState){bc(f);continue}}null!==h?(h.return=p,Zs=h):bc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ve("display",s))}catch(g){Iu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Iu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vc(t,e),Ac(e),4&r&&hc(e);case 21:}}function Ac(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),uc(e,sc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(o(161))}}catch(s){Iu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mc(e,t,n){Zs=e,Ec(e,t,n)}function Ec(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||zs;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Js;s=zs;var u=Js;if(zs=a,(Js=c)&&!u)for(Zs=i;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Cc(i):null!==c?(c.return=a,Zs=c):Cc(i);for(;null!==o;)Zs=o,Ec(o,t,n),o=o.sibling;Zs=i,zs=s,Js=u}yc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):yc(e)}}function yc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ao(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ic(t)}catch(p){Iu(t,t.return,p)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function bc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Cc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Iu(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Iu(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Iu(t,o,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){Iu(t,a,c)}}}catch(c){Iu(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _c,Ic=Math.ceil,wc=y.ReactCurrentDispatcher,Sc=y.ReactCurrentOwner,Tc=y.ReactCurrentBatchConfig,Rc=0,kc=null,Oc=null,Nc=0,xc=0,Dc=Ii(0),Lc=0,Pc=null,Mc=0,Bc=0,Uc=0,jc=null,Fc=null,Qc=0,Vc=1/0,Gc=null,Hc=!1,qc=null,Kc=null,Wc=!1,Yc=null,zc=0,Jc=0,Xc=null,Zc=-1,$c=0;function eu(){return 0!==(6&Rc)?Xe():-1!==Zc?Zc:Zc=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Rc)&&0!==Nc?Nc&-Nc:null!==go.transition?(0===$c&&($c=vt()),$c):0!==(e=Et)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jc)throw Jc=0,Xc=null,Error(o(185));At(e,n,r),0!==(2&Rc)&&e===kc||(e===kc&&(0===(2&Rc)&&(Bc|=n),4===Lc&&su(e,Nc)),ru(e,r),1===n&&0===Rc&&0===(1&t.mode)&&(Vc=Xe()+500,ji&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===kc?Nc:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){ji=!0,Qi(e)}(cu.bind(null,e)):Qi(cu.bind(null,e)),ai((function(){0===(6&Rc)&&Vi()})),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=ku(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Zc=-1,$c=0,0!==(6&Rc))throw Error(o(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=ft(e,e===kc?Nc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Rc;Rc|=2;var a=hu();for(kc===e&&Nc===t||(Gc=null,Vc=Xe()+500,fu(e,t));;)try{mu();break}catch(c){pu(e,c)}Co(),wc.current=a,Rc=i,null!==Oc?t=0:(kc=null,Nc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ou(e,i))),1===t)throw n=Pc,fu(e,0),su(e,r),ru(e,Xe()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(a=ht(e))&&(r=a,t=ou(e,a))),1===t))throw n=Pc,fu(e,0),su(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bu(e,Fc,Gc);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Qc+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bu.bind(null,e,Fc,Gc),t);break}bu(e,Fc,Gc);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ri(bu.bind(null,e,Fc,Gc),r);break}bu(e,Fc,Gc);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fc,Fc=n,null!==t&&au(t)),e}function au(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function su(e,t){for(t&=~Uc,t&=~Bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Rc))throw Error(o(327));Cu();var t=ft(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Pc,fu(e,0),su(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Fc,Gc),ru(e,Xe()),null}function uu(e,t){var n=Rc;Rc|=1;try{return e(t)}finally{0===(Rc=n)&&(Vc=Xe()+500,ji&&Vi())}}function lu(e){null!==Yc&&0===Yc.tag&&0===(6&Rc)&&Cu();var t=Rc;Rc|=1;var n=Tc.transition,r=Et;try{if(Tc.transition=null,Et=1,e)return e()}finally{Et=r,Tc.transition=n,0===(6&(Rc=t))&&Vi()}}function du(){xc=Dc.current,wi(Dc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Oc)for(n=Oc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),wi(ki),wi(Ri),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:wi(ca);break;case 10:_o(r.type._context);break;case 22:case 23:du()}n=n.return}if(kc=e,Oc=e=Du(e.current,null),Nc=xc=t,Lc=0,Pc=null,Uc=Bc=Mc=0,Fc=jc=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return e}function pu(e,t){for(;;){var n=Oc;try{if(Co(),fa.current=as,ma){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(ha=0,Aa=ga=va=null,Ea=!1,ya=0,Sc.current=null,null===n||null===n.return){Lc=1,Pc=t,Oc=null;break}e:{var a=e,s=n.return,c=n,u=t;if(t=Nc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=As(s);if(null!==h){h.flags&=-257,ms(h,s,c,0,t),1&h.mode&&gs(a,l,t),u=l;var v=(t=h).updateQueue;if(null===v){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}if(0===(1&t)){gs(a,l,t),vu();break e}u=Error(o(426))}else if(io&&1&c.mode){var A=As(s);if(null!==A){0===(65536&A.flags)&&(A.flags|=256),ms(A,s,c,0,t),vo(ls(u,c));break e}}a=u=ls(u,c),4!==Lc&&(Lc=2),null===jc?jc=[a]:jc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,hs(0,u,t));break e;case 1:c=u;var m=a.type,E=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Kc||!Kc.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,vs(a,c,t));break e}}a=a.return}while(null!==a)}yu(n)}catch(y){t=y,Oc===n&&null!==n&&(Oc=n=n.return);continue}break}}function hu(){var e=wc.current;return wc.current=as,null===e?as:e}function vu(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===kc||0===(268435455&Mc)&&0===(268435455&Bc)||su(kc,Nc)}function gu(e,t){var n=Rc;Rc|=2;var r=hu();for(kc===e&&Nc===t||(Gc=null,fu(e,t));;)try{Au();break}catch(i){pu(e,i)}if(Co(),Rc=n,wc.current=r,null!==Oc)throw Error(o(261));return kc=null,Nc=0,Lc}function Au(){for(;null!==Oc;)Eu(Oc)}function mu(){for(;null!==Oc&&!ze();)Eu(Oc)}function Eu(e){var t=_c(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?yu(e):Oc=t,Sc.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,xc)))return void(Oc=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Oc=n);if(null===e)return Lc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Lc&&(Lc=5)}function bu(e,t,n){var r=Et,i=Tc.transition;try{Tc.transition=null,Et=1,function(e,t,n,r){do{Cu()}while(null!==Yc);if(0!==(6&Rc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===kc&&(Oc=kc=null,Nc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wc||(Wc=!0,ku(tt,(function(){return Cu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tc.transition,Tc.transition=null;var s=Et;Et=1;var c=Rc;Rc|=4,Sc.current=null,function(e,t){if(ei=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var s=0,c=-1,u=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(c=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===i&&(c=s),p===a&&++d===r&&(u=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,A=v.memoizedState,m=t.stateNode,E=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ao(t.type,g),A);m.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(o(163))}}catch(b){Iu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tc,tc=!1}(e,n),gc(n,e),hr(ti),Ht=!!ei,ti=ei=null,e.current=n,mc(n,e,i),Je(),Rc=c,Et=s,Tc.transition=a}else e.current=n;if(Wc&&(Wc=!1,Yc=e,zc=i),0===(a=e.pendingLanes)&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=qc,qc=null,e;0!==(1&zc)&&0!==e.tag&&Cu(),0!==(1&(a=e.pendingLanes))?e===Xc?Jc++:(Jc=0,Xc=e):Jc=0,Vi()}(e,t,n,r)}finally{Tc.transition=i,Et=r}return null}function Cu(){if(null!==Yc){var e=yt(zc),t=Tc.transition,n=Et;try{if(Tc.transition=null,Et=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,zc=0,0!==(6&Rc))throw Error(o(331));var i=Rc;for(Rc|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Zs=l;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var p=(d=Zs).sibling,h=d.return;if(oc(d),d===l){Zs=null;break}if(null!==p){p.return=h,Zs=p;break}Zs=h}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var A=g.sibling;g.sibling=null,g=A}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Zs=m;break e}Zs=a.return}}var E=e.current;for(Zs=E;null!==Zs;){var y=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Zs=y;else e:for(s=E;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(C){Iu(c,c.return,C)}if(c===s){Zs=null;break e}var b=c.sibling;if(null!==b){b.return=c.return,Zs=b;break e}Zs=c.return}}if(Rc=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{Et=n,Tc.transition=t}}return!1}function _u(e,t,n){e=Po(e,t=hs(0,t=ls(n,t),1),1),t=eu(),null!==e&&(At(e,1,t),ru(e,t))}function Iu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Po(t,e=vs(t,e=ls(n,e),1),1),e=eu(),null!==t&&(At(t,1,e),ru(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,kc===e&&(Nc&n)===n&&(4===Lc||3===Lc&&(130023424&Nc)===Nc&&500>Xe()-Qc?fu(e,0):Uc|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=eu();null!==(e=Oo(e,t))&&(At(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Su(e,n)}function ku(e,t){return We(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Ou(e,t,n,r)}function xu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)xu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Pu(n.children,i,a,t);case I:s=8,i|=8;break;case w:return(e=Nu(12,n,t,2|i)).elementType=w,e.lanes=a,e;case k:return(e=Nu(13,n,t,i)).elementType=k,e.lanes=a,e;case O:return(e=Nu(19,n,t,i)).elementType=O,e.lanes=a,e;case D:return Mu(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case R:s=11;break e;case N:s=14;break e;case x:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Pu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,o,a,s,c){return e=new ju(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xo(o),e}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vu(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(xi(n))return Pi(e,n,t)}return t}function Gu(e,t,n,r,i,o,a,s,c){return(e=Fu(n,r,!0,e,0,o,0,s,c)).context=Vu(null),n=e.current,(o=Lo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,i),e.current.lanes=i,At(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(i,t,a))&&(nu(e,i,a,o),Mo(e,i,a)),a}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}_c=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ho();break;case 5:aa(t);break;case 1:xi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Si(ca,1&ca.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return Hs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,io&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ni(t,Ri.current);wo(t,n),i=Ia(null,t,r,e,i,n);var a=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,xo(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=ks(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return xu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===N)return 14}return 2}(r),e=Ao(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Rs(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,Ao(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 1:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ss(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Bs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Ao(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ki.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Lo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Io(a.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wo(t,n),r=r(i=So(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=Ao(r=t.type,t.pendingProps),_s(e,t,r,i=Ao(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ao(r,i),Gs(e,t),t.tag=1,xi(r)?(e=!0,Mi(t)):e=!1,wo(t,n),Ho(t,r,i),Ko(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ws(e,t,n)}throw Error(o(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function zu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=qu(a);s.call(e)}}Hu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qu(a);o.call(e)}}var a=Gu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=a,e[hi]=a.current,Vr(8===e.nodeType?e.parentNode:e),lu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qu(c);s.call(e)}}var c=Fu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=c,e[hi]=c.current,Vr(8===e.nodeType?e.parentNode:e),lu((function(){Hu(t,c,n,r)})),c}(n,t,e,i,r);return qu(a)}Ju.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Ju.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){Hu(null,e,null,null)})),t[hi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Bt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(mt(t,1|n),ru(t,Xe()),0===(6&Rc)&&(Vc=Xe()+500,Vi()))}break;case 13:lu((function(){var t=Oo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},Ct=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},_t=function(e){if(13===e.tag){var t=tu(e),n=Oo(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},It=function(){return Et},wt=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}},Ce=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(o(90));W(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=uu,ke=lu;var tl={usingClientEntryPoint:!1,Events:[Ei,yi,bi,Se,Te,uu]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return Qu(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gu(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(lu((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function A(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function m(){}function E(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=A.prototype;var y=E.prototype=new m;y.constructor=E,v(y,A.prototype),y.isPureReactComponent=!0;var b=Array.isArray,C=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+R(c,0):o,b(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),k(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",b(e))for(var u=0;u<e.length;u++){var l=o+R(s=e[u],u);c+=k(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=k(s=s.value,t,i,l=o+R(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},D={transition:null},L={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=A,t.Fragment=i,t.Profiler=a,t.PureComponent=E,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!I.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,n){return x.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,n){return x.current.useReducer(e,t,n)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},1515:function(e){var t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,""),o=function(e){return e.replace(r,(function(e){return t[e]}))};e.exports=o,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=o},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,n))u<i&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<i&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,f=null,p=3,h=!1,v=!1,g=!1,A="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,E="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function b(e){if(g=!1,y(e),!v)if(null!==r(u))v=!0,D(C);else{var t=r(l);null!==t&&L(b,t.startTime-e)}}function C(e,n){v=!1,g&&(g=!1,m(S),S=-1),h=!0;var o=p;try{for(y(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!k());){var a=f.callback;if("function"===typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),y(n)}else i(u);f=r(u)}if(null!==f)var c=!0;else{var d=r(l);null!==d&&L(b,d.startTime-n),c=!1}return c}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,w=null,S=-1,T=5,R=-1;function k(){return!(t.unstable_now()-R<T)}function O(){if(null!==w){var e=t.unstable_now();R=e;var n=!0;try{n=w(!0,e)}finally{n?_():(I=!1,w=null)}}else I=!1}if("function"===typeof E)_=function(){E(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,x=N.port2;N.port1.onmessage=O,_=function(){x.postMessage(null)}}else _=function(){A(O,0)};function D(e){w=e,I||(I=!0,_())}function L(e,n){S=A((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,D(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(g?(m(S),S=-1):g=!0,L(b,o-a))):(e.sortIndex=s,n(u,e),v||h||(v=!0,D(C))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,c,"next",e)}function c(e){t(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},3049:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=d;var p={};function h(){}function v(){}function g(){}var A={};l(A,s,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(T([])));E&&E!==n&&o.call(E,s)&&(A=E);var y=g.prototype=h.prototype=Object.create(A);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,s,c){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=g,l(y,"constructor",g),l(g,"constructor",v),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},b(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),l(y,u,"Generator"),l(y,s,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},1589:function(e,t,n){var r=n(5372),i=n(3049),o=n(6116),a=n(2218);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(3049),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},__webpack_require__.d(i,o),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="/meetpoint/";var __webpack_exports__={};!function(){"use strict";var e,t=__webpack_require__(2791),n=__webpack_require__.t(t,2),r=__webpack_require__(1250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var l="beforeunload",d="popstate";function f(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=A(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,c=void 0===s?"":s,l=i.state||{};return[l.idx,u({pathname:n,search:a,hash:c,state:l.usr||null,key:l.key||"default"})]}var a=null;function s(){if(a)C.call(a),a=null;else{var t=e.Pop,n=o(),r=n[0],i=n[1];if(C.length){if(null!=r){var s=E-r;s&&(a={action:t,location:i,retry:function(){R(-1*s)}},R(s))}}else T(t)}}r.addEventListener(d,s),r.addEventListener("hashchange",(function(){g(o()[1])!==g(y)&&s()}));var f=e.Pop,m=o(),E=m[0],y=m[1],b=h(),C=h();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:g(e))}function I(e,t){return void 0===t&&(t=null),u(c({pathname:y.pathname,hash:"",search:""},"string"===typeof e?A(e):e,{state:t,key:v()}))}function w(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!C.length||(C.call({action:e,location:t,retry:n}),!1)}function T(e){f=e;var t=o();E=t[0],y=t[1],b.call({action:f,location:y})}function R(e){i.go(e)}null==E&&(E=0,i.replaceState(c({},i.state,{idx:E}),""));var k={get action(){return f},get location(){return y},createHref:_,push:function t(n,o){var a=e.Push,s=I(n,o);if(S(a,s,(function(){t(n,o)}))){var c=w(s,E+1),u=c[0],l=c[1];try{i.pushState(u,"",l)}catch(d){r.location.assign(l)}T(a)}},replace:function t(n,r){var o=e.Replace,a=I(n,r);if(S(o,a,(function(){t(n,r)}))){var s=w(a,E),c=s[0],u=s[1];i.replaceState(c,"",u),T(o)}},go:R,back:function(){R(-1)},forward:function(){R(1)},listen:function(e){return b.push(e)},block:function(e){var t=C.push(e);return 1===C.length&&r.addEventListener(l,p),function(){t(),C.length||r.removeEventListener(l,p)}}};return k}function p(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function A(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m=(0,t.createContext)(null);var E=(0,t.createContext)(null);var y=(0,t.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function C(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?A(t):t).pathname||"/",n);if(null==r)return null;var i=_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=T(i[a],r);return o}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||b(!1),o.relativePath=o.relativePath.slice(r.length));var a=N([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&b(!1),_(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:S(a,e.index),routesMeta:s})})),t}var I=/^:\w+$/,w=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(w)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!w(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],c=a===n.length-1,u="/"===i?t:t.slice(i.length)||"/",l=R({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},u);if(!l)return null;Object.assign(r,l.params);var d=s.route;o.push({params:r,pathname:N([i,l.pathname]),pathnameBase:x(N([i,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(i=N([i,l.pathnameBase]))}return o}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var c=a[0],u=c.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=c.slice(0,c.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:c,pathnameBase:u,pattern:e}}function k(e,t,n){var r,i="string"===typeof e?A(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?A(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:D(o),hash:L(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var N=function(e){return e.join("/").replace(/\/\/+/g,"/")},x=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},D=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function P(e){M()||b(!1);var n=(0,t.useContext)(m),r=n.basename,i=n.navigator,o=F(e),a=o.hash,s=o.pathname,c=o.search,u=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?A(e).pathname:e.pathname}(e),d=null!=l&&l.endsWith("/");u="/"===s?r+(d?"/":""):N([r,s])}return i.createHref({pathname:u,search:c,hash:a})}function M(){return null!=(0,t.useContext)(E)}function B(){return M()||b(!1),(0,t.useContext)(E).location}function U(){M()||b(!1);var e=(0,t.useContext)(m),n=e.basename,r=e.navigator,i=(0,t.useContext)(y).matches,o=B().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var c=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=k(e,JSON.parse(a),o);"/"!==n&&(i.pathname=N([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return c}function j(){var e=(0,t.useContext)(y).matches,n=e[e.length-1];return n?n.params:{}}function F(e){var n=(0,t.useContext)(y).matches,r=B().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return k(e,JSON.parse(i),r)}),[e,i,r])}function Q(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,o){return(0,t.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function V(e){var n=e.to,r=e.replace,i=e.state;M()||b(!1);var o=U();return(0,t.useEffect)((function(){o(n,{replace:r,state:i})})),null}function G(e){b(!1)}function H(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,c=n.navigationType,u=void 0===c?e.Pop:c,l=n.navigator,d=n.static,f=void 0!==d&&d;M()&&b(!1);var p=x(i),h=(0,t.useMemo)((function(){return{basename:p,navigator:l,static:f}}),[p,l,f]);"string"===typeof s&&(s=A(s));var v=s,g=v.pathname,y=void 0===g?"/":g,C=v.search,_=void 0===C?"":C,I=v.hash,w=void 0===I?"":I,S=v.state,T=void 0===S?null:S,R=v.key,k=void 0===R?"default":R,N=(0,t.useMemo)((function(){var e=O(y,p);return null==e?null:{pathname:e,search:_,hash:w,state:T,key:k}}),[p,y,_,w,T,k]);return null==N?null:(0,t.createElement)(m.Provider,{value:h},(0,t.createElement)(E.Provider,{children:a,value:{location:N,navigationType:u}}))}function q(e){var n=e.children,r=e.location;return function(e,n){M()||b(!1);var r,i=(0,t.useContext)(y).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,B());if(n){var u,l="string"===typeof n?A(n):n;"/"===s||(null==(u=l.pathname)?void 0:u.startsWith(s))||b(!1),r=l}else r=c;var d=r.pathname||"/",f=C(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return Q(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:N([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:N([s,e.pathnameBase])})})),i)}(K(n),r)}function K(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==G&&b(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=K(e.props.children)),n.push(r)}else n.push.apply(n,K(e.props.children))})),n}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var z=["onClick","reloadDocument","replace","state","target","to"];function J(e){var n=e.basename,r=e.children,i=e.window,o=(0,t.useRef)();null==o.current&&(o.current=f({window:i}));var a=o.current,c=s((0,t.useState)({action:a.action,location:a.location}),2),u=c[0],l=c[1];return(0,t.useLayoutEffect)((function(){return a.listen(l)}),[a]),(0,t.createElement)(H,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:a})}var X=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,c=e.target,u=e.to,l=Y(e,z),d=P(u),f=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=U(),c=B(),u=F(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||g(c)===g(u);s(e,{replace:n,state:a})}}),[c,s,u,o,a,i,e])}(u,{replace:a,state:s,target:c});return(0,t.createElement)("a",W({},l,{href:d,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:c}))}));function Z(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}var $=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var ee=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],te={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},ne=function(){return ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ne.apply(this,arguments)},re=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ie=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function oe(e,t){var n={key:t};if(e instanceof Element){var r=e.getAttribute("class");r&&(n.className=r),ie([],re(e.attributes),!1).forEach((function(e){switch(e.name){case"class":break;case"style":n[e.name]=e.value.split(/ ?; ?/).reduce((function(e,t){var n=$(t.split(/ ?: ?/),2),r=n[0],i=n[1];return r&&i&&(e[r.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))]=Number.isNaN(Number(i))?i:Number(i)),e}),{});break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":n[te[e.name]||e.name]=!0;break;default:n[te[e.name]||e.name]=e.value}}))}return n}function ae(e,n){var r;if(void 0===n&&(n={}),!e||!(e instanceof Node))return null;var i,o=n.actions,a=void 0===o?[]:o,s=n.index,c=void 0===s?0:s,u=n.level,l=void 0===u?0:u,d=n.randomKey,f=e,p="".concat(l,"-").concat(c),h=[];if(d&&0===l&&(p="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",r=e;r>0;--r)n+=t[Math.round(Math.random()*(t.length-1))];return n}(),"-").concat(p)),Array.isArray(a)&&a.forEach((function(t){t.condition(f,p,l)&&("function"===typeof t.pre&&((f=t.pre(f,p,l))instanceof Node||(f=e)),"function"===typeof t.post&&h.push(t.post(f,p,l)))})),h.length)return h;switch(f.nodeType){case 1:return t.createElement((i=f.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(i)?i:i.toLowerCase()),oe(f,p),function(e,t,n){var r=ie([],re(e),!1).map((function(e,r){return ae(e,ne(ne({},n),{index:r,level:t+1}))})).filter(Boolean);return r.length?r:null}(f.childNodes,l,n));case 3:var v=(null===(r=f.nodeValue)||void 0===r?void 0:r.toString())||"";if(/^\s+$/.test(v)&&!/[\u00A0\u202F]/.test(v))return null;if(!f.parentNode)return v;var g=f.parentNode.nodeName.toLowerCase();return ee.includes(g)?(/\S/.test(v)&&console.warn("A textNode is not allowed inside '".concat(g,"'. Your text \"").concat(v,'" will be ignored')),null):v;default:return null}}function se(e,t){return void 0===t&&(t={}),"string"===typeof e?function(e,t){if(void 0===t&&(t={}),!e||"string"!==typeof e)return null;var n=t.nodeOnly,r=void 0!==n&&n,i=t.selector,o=void 0===i?"body > *":i,a=t.type,s=void 0===a?"text/html":a;try{var c=(new DOMParser).parseFromString(e,s).querySelector(o);if(!(c instanceof Node))throw new TypeError("Error parsing input");return r?c:ae(c,t)}catch(u){}return null}(e,t):e instanceof Node?ae(e,t):null}var ce=__webpack_require__(2618),ue={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function le(){return ce.canUseDOM}function de(){return function(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!==typeof window&&null!==window}function fe(e){return e[Math.floor(Math.random()*e.length)]}var pe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},he.apply(this,arguments)},ve=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ge=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ae=Object.create(null),me=function(e){function n(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"handleLoad",{enumerable:!0,configurable:!0,writable:!0,value:function(e){n.isActive&&n.setState({content:e,status:ue.LOADED},n.getElement)}}),Object.defineProperty(n,"handleError",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=n.props.onError,r="Browser does not support SVG"===e.message?ue.UNSUPPORTED:ue.FAILED;n.isActive&&n.setState({status:r},(function(){"function"===typeof t&&t(e)}))}}),Object.defineProperty(n,"request",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=n.props,t=e.cacheRequests,r=e.fetchOptions,i=e.src;try{return t&&(Ae[i]={content:"",status:ue.LOADING}),fetch(i,r).then((function(e){var t=e.headers.get("content-type"),n=ve((t||"").split(/ ?; ?/),1)[0];if(e.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((function(e){return n.includes(e)})))throw new Error("Content type isn't valid: ".concat(n));return e.text()})).then((function(e){var r=n.props.src;if(i===r){if(n.handleLoad(e),t){var o=Ae[i];o&&(o.content=e,o.status=ue.LOADED)}}else Ae[i].status===ue.LOADING&&delete Ae[i]})).catch((function(e){(n.handleError(e),t)&&(Ae[i]&&delete Ae[i])}))}catch(o){return n.handleError(new Error(o.message))}}}),n.state={content:"",element:null,hasCache:!!t.cacheRequests&&!!Ae[t.src],status:ue.PENDING},n.hash=t.uniqueHash||function(e){for(var t="abcdefghijklmnopqrstuvwxyz",n="".concat(t).concat(t.toUpperCase()).concat("1234567890"),r="",i=0;i<e;i++)r+=fe(n);return r}(8),n}return pe(n,e),Object.defineProperty(n.prototype,"componentDidMount",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive=!0,le()&&!this.isInitialized){var e=this.state.status,t=this.props.src;try{if(e===ue.PENDING){if(!de())throw new Error("Browser does not support SVG");if(!t)throw new Error("Missing src");this.load()}}catch(n){this.handleError(n)}this.isInitialized=!0}}}),Object.defineProperty(n.prototype,"componentDidUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(le()){var n=this.state,r=n.hasCache,i=n.status,o=this.props,a=o.onLoad,s=o.src;if(t.status!==ue.READY&&i===ue.READY&&a&&a(s,r),e.src!==s){if(!s)return void this.handleError(new Error("Missing src"));this.load()}}}}),Object.defineProperty(n.prototype,"componentWillUnmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isActive=!1}}),Object.defineProperty(n.prototype,"getNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.description,n=e.title;try{var r=se(this.processSVG(),{nodeOnly:!0});if(!r||!(r instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var i=this.updateSVGAttributes(r);if(t){var o=i.querySelector("desc");o&&o.parentNode&&o.parentNode.removeChild(o);var a=document.createElement("desc");a.innerHTML=t,i.prepend(a)}if(n){var s=i.querySelector("title");s&&s.parentNode&&s.parentNode.removeChild(s);var c=document.createElement("title");c.innerHTML=n,i.prepend(c)}return i}catch(u){return this.handleError(u)}}}),Object.defineProperty(n.prototype,"getElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var e=se(this.getNode());if(!e||!t.isValidElement(e))throw new Error("Could not convert the src to a React element");this.setState({element:e,status:ue.READY})}catch(n){this.handleError(new Error(n.message))}}}),Object.defineProperty(n.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.isActive&&this.setState({content:"",element:null,status:ue.LOADING},(function(){var t=e.props,n=t.cacheRequests,r=t.src,i=n&&Ae[r];if(i&&i.status===ue.LOADED)e.handleLoad(i.content);else{var o,a=r.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);a?o=a[1]?window.atob(a[2]):decodeURIComponent(a[2]):r.includes("<svg")&&(o=r),o?e.handleLoad(o):e.request()}}))}}),Object.defineProperty(n.prototype,"updateSVGAttributes",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this.props,r=n.baseURL,i=void 0===r?"":r,o=n.uniquifyIDs,a=["id","href","xlink:href","xlink:role","xlink:arcrole"],s=["href","xlink:href"];return o?(ge([],ve(e.children),!1).map((function(e){if(e.attributes&&e.attributes.length){var n=Object.values(e.attributes).map((function(e){var n=e,r=e.value.match(/url\((.*?)\)/);return r&&r[1]&&(n.value=e.value.replace(r[0],"url(".concat(i).concat(r[1],"__").concat(t.hash,")"))),n}));a.forEach((function(e){var r=n.find((function(t){return t.name===e}));r&&!function(e,t){return s.includes(e)&&!!t&&!t.includes("#")}(e,r.value)&&(r.value="".concat(r.value,"__").concat(t.hash))}))}return e.children.length?t.updateSVGAttributes(e):e})),e):e}}),Object.defineProperty(n.prototype,"processSVG",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.state.content,t=this.props.preProcessor;return t?t(e):e}}),Object.defineProperty(n.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.state,n=e.element,r=e.status,i=this.props,o=i.children,a=void 0===o?null:o,s=i.innerRef,c=i.loader,u=void 0===c?null:c,l=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(t.includes(i)||(r[i]=e[i]));return r}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return le()?n?t.cloneElement(n,he({ref:s},l)):[ue.UNSUPPORTED,ue.FAILED].includes(r)?a:u:u}}),Object.defineProperty(n,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{cacheRequests:!0,uniquifyIDs:!1}}),n}(t.PureComponent),Ee=me;var ye=__webpack_require__.p+"static/media/Logo.94f9d5b20cbc8c87397a0285d6867ddc.svg",be={container:"pages_container__xAkcw",menu:"pages_menu__+ZYhI",logo:"pages_logo__GBtmx",menu_link_item:"pages_menu_link_item__0TmuF",register:"pages_register__NRzii",header:"pages_header__wGYoS",title:"pages_title__tBkMI",subtitle:"pages_subtitle__iYAP6",lady:"pages_lady__06ZF0",button:"pages_button__eH5oD",pulse:"pages_pulse__hhlp8",mockup:"pages_mockup__C6a7X",img:"pages_img__ZqWA+"},Ce=__webpack_require__(184),_e=function(){return(0,Ce.jsxs)("div",{className:be.container,children:[(0,Ce.jsxs)("nav",{className:be.menu,children:[(0,Ce.jsx)(Ee,{src:ye,className:be.logo}),(0,Ce.jsxs)("div",{className:be.menu_link,children:[(0,Ce.jsx)(X,{className:be.menu_link_item,to:"/auth/user",children:"login"}),(0,Ce.jsx)(X,{className:"".concat(be.menu_link_item," ").concat(be.register),to:"/auth/user?mode=register",children:"Register"})]})]}),(0,Ce.jsxs)("header",{className:be.header,children:[(0,Ce.jsx)("h1",{className:be.title,children:"Improve productivity withquality video meetings, work on the go!"}),(0,Ce.jsx)("h3",{className:be.subtitle,children:"Quality video chat for businesses,High resolution video and audio output. Track your time on the go"}),(0,Ce.jsx)("div",{className:be.buttons,children:(0,Ce.jsx)(X,{to:"/auth/user?mode=register",className:be.button,children:"Get started for free"})}),(0,Ce.jsxs)("main",{className:be.mockup,children:[(0,Ce.jsx)("div",{className:be.img,children:(0,Ce.jsx)("img",{src:"./OfficeLady.png",alt:"Lady holding suitcase"})}),(0,Ce.jsx)("div",{className:be.img,children:(0,Ce.jsx)("img",{src:"./Man.png",alt:"Business man talking with arms open"})}),(0,Ce.jsx)("div",{className:be.img,children:(0,Ce.jsx)("img",{src:"./TabletLady.png",alt:"Girl holding tablet"})})]})]})]})};function Ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function we(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke={data:""},Oe=function(e){return"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ke},Ne=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xe=/\/\*[^]*?\*\/|  +/g,De=/\n+/g,Le=function e(t,n){var r="",i="",o="",a=function(a){var c=t[a];"@"==a[0]?"i"==a[1]?r=a+" "+c+";":i+="f"==a[1]?e(c,a):a+"{"+e(c,"k"==a[1]?"":n)+"}":"object"==typeof c?i+=e(c,n?n.replace(/([^,])+/g,(function(e){return a.replace(/(^:.*)|([^,])+/g,(function(t){return/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t}))})):a):null!=c&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=e.p?e.p(a,c):a+":"+c+";"),s=a};for(var s in t)a(s);return r+(n&&o?n+"{"+o+"}":o)+i},Pe={},Me=function e(t){if("object"==typeof t){var n="";for(var r in t)n+=r+e(t[r]);return n}return t},Be=function(e,t,n,r,i){var o=Me(e),a=Pe[o]||(Pe[o]=function(e){for(var t=0,n=11;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n}(o));if(!Pe[a]){var s=o!==e?e:function(e){for(var t,n,r=[{}];t=Ne.exec(e.replace(xe,""));)t[4]?r.shift():t[3]?(n=t[3].replace(De," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(De," ").trim();return r[0]}(e);Pe[a]=Le(i?Se({},"@keyframes "+a,s):s,n?"":"."+a)}var c=n&&Pe.g?Pe.g:null;return n&&(Pe.g=Pe[a]),function(e,t,n,r){r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)}(Pe[a],t,r,c),a},Ue=function(e,t,n){return e.reduce((function(e,r,i){var o=t[i];if(o&&o.call){var a=o(n),s=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=s?"."+s:a&&"object"==typeof a?a.props?"":Le(a,""):!1===a?"":a}return e+r+(null==o?"":o)}),"")};function je(e){var t=this||{},n=e.call?e(t.p):e;return Be(n.unshift?n.raw?Ue(n,[].slice.call(arguments,1),t.p):n.reduce((function(e,n){return Object.assign(e,n&&n.call?n(t.p):n)}),{}):n,Oe(t.target),t.g,t.o,t.k)}je.bind({g:1});var Fe,Qe,Ve,Ge,He,qe,Ke,We,Ye,ze,Je,Xe,Ze,$e,et,tt,nt,rt,it,ot=je.bind({k:1});function at(e,t){var n=this||{};return function(){var r=arguments;function i(o,a){var s=Object.assign({},o),c=s.className||i.className;n.p=Object.assign({theme:Qe&&Qe()},s),n.o=/ *go\d+/.test(c),s.className=je.apply(n,r)+(c?" "+c:""),t&&(s.ref=a);var u=e;return e[0]&&(u=s.as||e,delete s.as),Ve&&u[0]&&Ve(s),Fe(u,s)}return t?t(i):i}}var st=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},ct=function(){var e=0;return function(){return(++e).toString()}}(),ut=function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),lt=new Map,dt=function(e){if(!lt.has(e)){var t=setTimeout((function(){lt.delete(e),vt({type:4,toastId:e})}),1e3);lt.set(e,t)}},ft=function e(t,n){switch(n.type){case 0:return Re(Re({},t),{},{toasts:[n.toast].concat(we(t.toasts)).slice(0,20)});case 1:return n.toast.id&&function(e){var t=lt.get(e);t&&clearTimeout(t)}(n.toast.id),Re(Re({},t),{},{toasts:t.toasts.map((function(e){return e.id===n.toast.id?Re(Re({},e),n.toast):e}))});case 2:var r=n.toast;return t.toasts.find((function(e){return e.id===r.id}))?e(t,{type:1,toast:r}):e(t,{type:0,toast:r});case 3:var i=n.toastId;return i?dt(i):t.toasts.forEach((function(e){dt(e.id)})),Re(Re({},t),{},{toasts:t.toasts.map((function(e){return e.id===i||void 0===i?Re(Re({},e),{},{visible:!1}):e}))});case 4:return void 0===n.toastId?Re(Re({},t),{},{toasts:[]}):Re(Re({},t),{},{toasts:t.toasts.filter((function(e){return e.id!==n.toastId}))});case 5:return Re(Re({},t),{},{pausedAt:n.time});case 6:var o=n.time-(t.pausedAt||0);return Re(Re({},t),{},{pausedAt:void 0,toasts:t.toasts.map((function(e){return Re(Re({},e),{},{pauseDuration:e.pauseDuration+o})}))})}},pt=[],ht={toasts:[],pausedAt:void 0},vt=function(e){ht=ft(ht,e),pt.forEach((function(e){e(ht)}))},gt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},At=function(e){return function(t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Re(Re({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||ct()})}(t,e,n);return vt({type:2,toast:r}),r.id}},mt=function(e,t){return At("blank")(e,t)};mt.error=At("error"),mt.success=At("success"),mt.loading=At("loading"),mt.custom=At("custom"),mt.dismiss=function(e){vt({type:3,toastId:e})},mt.remove=function(e){return vt({type:4,toastId:e})},mt.promise=function(e,t,n){var r=mt.loading(t.loading,Re(Re({},n),null==n?void 0:n.loading));return e.then((function(e){return mt.success(st(t.success,e),Re(Re({id:r},n),null==n?void 0:n.success)),e})).catch((function(e){mt.error(st(t.error,e),Re(Re({id:r},n),null==n?void 0:n.error))})),e};var Et=function(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s((0,t.useState)(ht),2),r=n[0],i=n[1];(0,t.useEffect)((function(){return pt.push(i),function(){var e=pt.indexOf(i);e>-1&&pt.splice(e,1)}}),[r]);var o=r.toasts.map((function(t){var n,r;return Re(Re(Re(Re({},e),e[t.type]),t),{},{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||gt[t.type],style:Re(Re(Re({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Re(Re({},r),{},{toasts:o})}(e),r=n.toasts,i=n.pausedAt;(0,t.useEffect)((function(){if(!i){var e=Date.now(),t=r.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return mt.dismiss(t.id)}),n);t.visible&&mt.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[r,i]);var o=(0,t.useMemo)((function(){return{startPause:function(){vt({type:5,time:Date.now()})},endPause:function(){i&&vt({type:6,time:Date.now()})},updateHeight:function(e,t){return vt({type:1,toast:{id:e,height:t}})},calculateOffset:function(e,t){var n,i=t||{},o=i.reverseOrder,a=void 0!==o&&o,s=i.gutter,c=void 0===s?8:s,u=i.defaultPosition,l=r.filter((function(t){return(t.position||u)===(e.position||u)&&t.height})),d=l.findIndex((function(t){return t.id===e.id})),f=l.filter((function(e,t){return t<d&&e.visible})).length;return(n=l.filter((function(e){return e.visible}))).slice.apply(n,we(a?[f+1]:[0,f])).reduce((function(e,t){return e+(t.height||0)+c}),0)}}}),[r,i]);return{toasts:r,handlers:o}},yt=ot(Ge||(Ge=Ie(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),bt=ot(He||(He=Ie(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ct=ot(qe||(qe=Ie(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),_t=at("div")(Ke||(Ke=Ie(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(function(e){return e.primary||"#ff4b4b"}),yt,bt,(function(e){return e.secondary||"#fff"}),Ct),It=ot(We||(We=Ie(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),wt=at("div")(Ye||(Ye=Ie(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(function(e){return e.secondary||"#e0e0e0"}),(function(e){return e.primary||"#616161"}),It),St=ot(ze||(ze=Ie(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Tt=ot(Je||(Je=Ie(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Rt=at("div")(Xe||(Xe=Ie(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(function(e){return e.primary||"#61d345"}),St,Tt,(function(e){return e.secondary||"#fff"})),kt=at("div")(Ze||(Ze=Ie(["\n  position: absolute;\n"]))),Ot=at("div")($e||($e=Ie(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Nt=ot(et||(et=Ie(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),xt=at("div")(tt||(tt=Ie(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Nt),Dt=function(e){var n=e.toast,r=n.icon,i=n.type,o=n.iconTheme;return void 0!==r?"string"==typeof r?t.createElement(xt,null,r):r:"blank"===i?null:t.createElement(Ot,null,t.createElement(wt,Re({},o)),"loading"!==i&&t.createElement(kt,null,"error"===i?t.createElement(_t,Re({},o)):t.createElement(Rt,Re({},o))))},Lt=function(e){return"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},Pt=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n")},Mt=at("div",t.forwardRef)(nt||(nt=Ie(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Bt=at("div")(rt||(rt=Ie(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Ut=t.memo((function(e){var n=e.toast,r=e.position,i=e.style,o=e.children,a=null!=n&&n.height?function(e,t){var n=e.includes("top")?1:-1,r=s(ut()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Lt(n),Pt(n)],2),i=r[0],o=r[1];return{animation:t?"".concat(ot(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ot(o)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(n.position||r||"top-center",n.visible):{opacity:0},c=t.createElement(Dt,{toast:n}),u=t.createElement(Bt,Re({},n.ariaProps),st(n.message,n));return t.createElement(Mt,{className:n.className,style:Re(Re(Re({},a),i),n.style)},"function"==typeof o?o({icon:c,message:u}):t.createElement(t.Fragment,null,c,u))}));!function(e,t,n,r){Le.p=t,Fe=e,Qe=n,Ve=r}(t.createElement);var jt=je(it||(it=Ie(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Ft=function(e){var n=e.reverseOrder,r=e.position,i=void 0===r?"top-center":r,o=e.toastOptions,a=e.gutter,s=e.children,c=e.containerStyle,u=e.containerClassName,l=Et(o),d=l.toasts,f=l.handlers;return t.createElement("div",{style:Re({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},c),className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map((function(e){var r=e.position||i,o=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Re(Re({left:0,right:0,display:"flex",position:"absolute",transition:ut()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)}(r,f.calculateOffset(e,{reverseOrder:n,gutter:a,defaultPosition:i})),c=e.height?void 0:function(e){return function(t){t&&setTimeout((function(){var n=t.getBoundingClientRect();e(n)}))}}((function(t){f.updateHeight(e.id,t.height)}));return t.createElement("div",{ref:c,className:e.visible?jt:"",key:e.id,style:o},"custom"===e.type?st(e.message,e):s?s(e):t.createElement(Ut,{toast:e,position:r}))})))},Qt=mt;function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Gt(){Gt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return w()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=y(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=c;var l={};function d(){}function f(){}function p(){}var h={};s(h,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(I([])));g&&g!==t&&n.call(g,i)&&(h=g);var A=p.prototype=d.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Vt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:void 0,done:!0}}return f.prototype=p,s(A,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},m(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(A),s(A,a,"Generator"),s(A,i,(function(){return this})),s(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ht(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ht(o,r,i,a,s,"next",e)}function s(e){Ht(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Kt=function(e){return"undefined"!==typeof window&&localStorage.setItem("token",JSON.stringify(e))},Wt=function(){if("undefined"===typeof window)return!1;var e=JSON.parse(localStorage.getItem("token"));return!!(e&&1e3*e.expiry>Date.now())&&e},Yt=function(){var e=qt(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,$t();case 4:return localStorage.removeItem("token"),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=function(e){if(e&&"undefined"!==typeof window){if("undefined"!==typeof window.getSelection&&"undefined"!==typeof document.createRange){var t=document.createRange(),n=window.getSelection();t.selectNodeContents(e),t.collapse(!1),n.removeAllRanges(),n.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}e.focus()}},Jt="https://meet-back.herokuapp.com/api/v1",Xt=function(e){var t=e.fullName,n=e.email,r=e.password,i=e.phone;return fetch("".concat(Jt,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({fullName:t,email:n,password:r,phone:i})}).then((function(e){return e.json()}))},Zt=function(e){var t=e.email,n=e.password;return fetch("".concat(Jt,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()}))},$t=function(){return fetch("".concat(Jt,"/auth/logout")).then((function(e){return e.json()}))},en=function(e){return fetch("".concat(Jt,"/auth/generate/token/rtm?uid=").concat(e),{method:"GET",headers:{Authorization:Wt().token}}).then((function(e){return e.json()}))},tn=function(e){return fetch("".concat(Jt,"/event/").concat(e),{method:"DELETE",headers:{Authorization:Wt().token}}).then((function(e){return e.json()}))},nn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rn=t.createContext&&t.createContext(nn),on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},on.apply(this,arguments)},an=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sn(e){return e&&e.map((function(e,n){return t.createElement(e.tag,on({key:n},e.attr),sn(e.child))}))}function cn(e){return function(n){return t.createElement(un,on({attr:on({},e.attr)},n),sn(e.child))}}function un(e){var n=function(n){var r,i=e.attr,o=e.size,a=e.title,s=an(e,["attr","size","title"]),c=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",on({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:on(on({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==rn?t.createElement(rn.Consumer,null,(function(e){return n(e)})):n(nn)}function ln(e){return cn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"}}]})(e)}function dn(e){return cn({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function fn(e){return cn({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function pn(e){return cn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}}]})(e)}function hn(e){return cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function vn(e){return cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"}}]})(e)}function gn(e){return cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function An(e){return cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"}}]})(e)}function mn(e){return cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function En(e){return cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"}}]})(e)}function yn(e){return cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function bn(e){return cn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Cn(e){return cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function _n(e){return cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"}}]})(e)}function In(e){return cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function wn(e){return cn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm144 418c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V118c0-3.3 2.7-6 6-6h42v36c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-36h42c3.3 0 6 2.7 6 6z"}}]})(e)}function Sn(e){return cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 144c-53.02 0-96 50.14-96 112 0 61.85 42.98 112 96 112 53 0 96-50.13 96-112 0-61.86-42.98-112-96-112zm40 168c0 4.42-3.58 8-8 8h-64c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h16v-55.44l-.47.31a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09l15.33-10.22a23.99 23.99 0 0 1 13.31-4.03H328c4.42 0 8 3.58 8 8v88h16c4.42 0 8 3.58 8 8v16zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zm-16 272c-35.35 0-64 28.65-64 64H112c0-35.35-28.65-64-64-64V176c35.35 0 64-28.65 64-64h416c0 35.35 28.65 64 64 64v160z"}}]})(e)}var Tn,Rn="SocialLogin_social_container__Cs04f",kn="SocialLogin_social__Ob8UT",On=function(){return(0,Ce.jsxs)("div",{className:Rn,children:[(0,Ce.jsx)("a",{href:"#",className:kn,children:(0,Ce.jsx)(dn,{})}),(0,Ce.jsx)("a",{href:"#",className:kn,children:(0,Ce.jsx)(fn,{})}),(0,Ce.jsx)("a",{href:"#",className:kn,children:(0,Ce.jsx)(ln,{})})]})},Nn="Login_container__H0JdJ",xn="Login_active__Mtgpm",Dn="Login_form__jvr9v",Ln="Login_user_input__aR+QR",Pn="Login_header__38CFc",Mn="Login_text_small__nSPBu",Bn="Login_link__1d+OJ",Un="Login_button__HTO95",jn=function(e){var n=e.className,r=e.active,i=B(),o=U(),a=s((0,t.useState)({email:"",password:""}),2),c=a[0],u=a[1],l=s((0,t.useState)(""),2),d=l[0],f=l[1],p=s((0,t.useState)(!1),2),h=p[0],v=p[1],g=c.email,A=c.password,m=function(e){return function(t){return u(Re(Re({},c),{},Se({},e,t.target.value)))}},E=function(){var e=qt(Gt().mark((function e(t){var n,r,a,s,c,l,d,p,h,m,E,y;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),""!==g&&""!==A){e.next=6;break}return f("Please fill all fields"),v(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,Zt({email:g,password:A});case 9:if(!(E=e.sent).error){e.next=13;break}return f(E.reason),e.abrupt("return");case 13:u({email:"",password:""}),Kt({token:null===(n=E.data)||void 0===n?void 0:n.token,expiry:null===(r=E.data)||void 0===r?void 0:r.expires,sub:null===(a=E.data)||void 0===a||null===(s=a.user)||void 0===s?void 0:s._id,name:[null===(c=E.data)||void 0===c||null===(l=c.user)||void 0===l||null===(d=l.name)||void 0===d?void 0:d.first,null===(p=E.data)||void 0===p||null===(h=p.user)||void 0===h||null===(m=h.name)||void 0===m?void 0:m.last].join(" ")}),Wt()&&(null!==(y=i.state)&&void 0!==y&&y.from?o(i.state.from):o("/dashboard/me")),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0),f(e.t0.reason||e.t0.message);case 22:return e.prev=22,v(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[6,18,22,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){d&&Qt.error(d)}),[d]),(0,Ce.jsx)("div",{className:"".concat(n," ").concat(Nn," ").concat(r?xn:""),children:(0,Ce.jsxs)("form",{className:Dn,onSubmit:E,children:[(0,Ce.jsx)("h1",{className:Pn,children:"Sign in"}),(0,Ce.jsx)(On,{}),(0,Ce.jsx)("span",{className:Mn,children:"or use your account"}),(0,Ce.jsx)("input",{className:Ln,type:"email",placeholder:"Email",value:g,onChange:m("email")}),(0,Ce.jsx)("input",{className:Ln,type:"password",placeholder:"Password",value:A,onChange:m("password")}),(0,Ce.jsx)("a",{className:Bn,href:"#",children:"Forgot your password?"}),(0,Ce.jsx)("button",{className:Un,type:"submit",disabled:h,children:"Sign In"})]})})},Fn="Register_container__-AZTo",Qn="Register_active__RMrh3",Vn="Register_form__tpWsq",Gn="Register_user_input__QtTSg",Hn="Register_header__+pV46",qn="Register_text_small__YK9cT",Kn="Register_button__0cLGZ",Wn=function(e){var n=e.className,r=e.active,i=B(),o=U(),a=s((0,t.useState)({fullName:"",email:"",password:"",phone:""}),2),c=a[0],u=a[1],l=s((0,t.useState)(""),2),d=l[0],f=l[1],p=s((0,t.useState)(!1),2),h=p[0],v=p[1],g=c.fullName,A=c.email,m=c.password,E=c.phone,y=function(e){return function(t){return u(Re(Re({},c),{},Se({},e,t.target.value)))}},b=function(){var e=qt(Gt().mark((function e(t){var n,r,a,s,c,l,d,p,h,y,b,C;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v(!0),""!==g&&""!==A&&""!==m){e.next=6;break}return f("Please fill all fields"),v(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,Xt({fullName:g,email:A,password:m,phone:E});case 9:if(!(b=e.sent).error){e.next=13;break}return f(b.reason),e.abrupt("return");case 13:u({fullName:"",email:"",password:"",phone:""}),Kt({token:null===(n=b.data)||void 0===n?void 0:n.token,expiry:null===(r=b.data)||void 0===r?void 0:r.expires,sub:null===(a=b.data)||void 0===a||null===(s=a.user)||void 0===s?void 0:s._id,name:[null===(c=b.data)||void 0===c||null===(l=c.user)||void 0===l||null===(d=l.name)||void 0===d?void 0:d.first,null===(p=b.data)||void 0===p||null===(h=p.user)||void 0===h||null===(y=h.name)||void 0===y?void 0:y.last].join(" ")}),Wt()&&(null!==(C=i.state)&&void 0!==C&&C.from?o(i.state.from):o("/dashboard/me")),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),console.error(e.t0),f(e.t0.reason);case 22:return e.prev=22,v(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[6,18,22,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){d&&Qt.error(d)}),[d]),(0,Ce.jsx)("div",{className:"".concat(n," ").concat(Fn," ").concat(r?Qn:""),children:(0,Ce.jsxs)("form",{className:Vn,onSubmit:b,children:[(0,Ce.jsx)("h1",{className:Hn,children:"Create Account"}),(0,Ce.jsx)(On,{}),(0,Ce.jsx)("span",{className:qn,children:"or use your account"}),(0,Ce.jsx)("input",{className:Gn,type:"text",placeholder:"Full Name",value:g,onChange:y("fullName")}),(0,Ce.jsx)("input",{className:Gn,type:"email",placeholder:"Email",value:A,onChange:y("email")}),(0,Ce.jsx)("input",{className:Gn,type:"password",placeholder:"Password",value:m,onChange:y("password")}),(0,Ce.jsx)("button",{className:Kn,type:"submit",disabled:h,children:"Register"})]})})},Yn="user_outer_container__2GN0N",zn="user_inner_container__8Oyq3",Jn="user_form_container__ypw4j",Xn="user_overlay_container__wTJQD",Zn="user_right_panel_active__kaVNP",$n="user_overlay__-+2kN",er="user_overlay_panel__mzWnX",tr="user_overlay_left__WA8vL",nr="user_overlay_right__wFqpO",rr="user_text__VW0Gy",ir="user_header__Xmf8I",or="user_button__V2fHy",ar="user_ghost__oo8So",sr=function(){var e=B(),n=function(e){var n=(0,t.useRef)(Z(e)),r=B(),i=(0,t.useMemo)((function(){var e,t=Z(r.search),i=a(n.current.keys());try{var o=function(){var r=e.value;t.has(r)||n.current.getAll(r).forEach((function(e){t.append(r,e)}))};for(i.s();!(e=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return t}),[r.search]),o=U();return[i,(0,t.useCallback)((function(e,t){o("?"+Z(e),t)}),[o])]}(),r=s(n,1)[0],i=U(),o=s((0,t.useState)("register"===r.get("mode")),2),c=o[0],u=o[1];return(0,t.useEffect)((function(){var t;Wt()&&(null!==(t=e.state)&&void 0!==t&&t.from?i(e.state.from):i("/dashboard/me",{replace:!0}))}),[]),(0,Ce.jsxs)("div",{className:Yn,children:[(0,Ce.jsx)(Ft,{}),(0,Ce.jsxs)("div",{className:"".concat(zn," ").concat(c?Zn:""),id:"container",children:[(0,Ce.jsx)(Wn,{className:Jn,active:c}),(0,Ce.jsx)(jn,{className:Jn,active:c}),(0,Ce.jsx)("div",{className:Xn,children:(0,Ce.jsxs)("div",{className:$n,children:[(0,Ce.jsxs)("div",{className:"".concat(er," ").concat(tr),children:[(0,Ce.jsx)("h1",{className:ir,children:"Welcome Back!"}),(0,Ce.jsx)("p",{className:rr,children:"To keep connected with us please login with your personal info"}),(0,Ce.jsx)("button",{className:"".concat(ar," ").concat(or),id:"signIn",onClick:function(){return u(!1)},children:"Sign In"})]}),(0,Ce.jsxs)("div",{className:"".concat(er," ").concat(nr),children:[(0,Ce.jsx)("h1",{className:ir,children:"Hello, Friend!"}),(0,Ce.jsx)("p",{className:rr,children:"Enter your personal details and start journey with us"}),(0,Ce.jsx)("button",{className:"".concat(ar," ").concat(or),id:"signUp",onClick:function(){return u(!0)},children:"Sign Up"})]})]})})]})]})},cr=new Uint8Array(16);function ur(){if(!Tn&&!(Tn="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tn(cr)}var lr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var dr=function(e){return"string"===typeof e&&lr.test(e)},fr=[],pr=0;pr<256;++pr)fr.push((pr+256).toString(16).substr(1));var hr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(fr[e[t+0]]+fr[e[t+1]]+fr[e[t+2]]+fr[e[t+3]]+"-"+fr[e[t+4]]+fr[e[t+5]]+"-"+fr[e[t+6]]+fr[e[t+7]]+"-"+fr[e[t+8]]+fr[e[t+9]]+"-"+fr[e[t+10]]+fr[e[t+11]]+fr[e[t+12]]+fr[e[t+13]]+fr[e[t+14]]+fr[e[t+15]]).toLowerCase();if(!dr(n))throw TypeError("Stringified UUID is invalid");return n};var vr=function(e,t,n){var r=(e=e||{}).random||(e.rng||ur)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return hr(r)};function gr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function Ar(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08a.956.956 0 01-.29-.7c0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28a11.27 11.27 0 00-2.67-1.85.996.996 0 01-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"}}]})(e)}function mr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}]})(e)}function Er(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6a2 2 0 00-2-2H4c-1.11 0-2 .89-2 2v10a2 2 0 002 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"}}]})(e)}function yr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10a2 2 0 00-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10a2 2 0 002 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z"}}]})(e)}function br(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}}]})(e)}function Cr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 011.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3-2.12-2.12z"}}]})(e)}function _r(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z"}}]})(e)}function Ir(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 002 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"}}]})(e)}function wr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33A7.95 7.95 0 014 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}}]})(e)}function Sr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"}},{tag:"path",attr:{d:"M7 12h2v5H7zM15 7h2v10h-2zM11 14h2v3h-2zM11 10h2v2h-2z"}}]})(e)}function Tr(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5a2 2 0 01-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}}]})(e)}var Rr="me_container__1-TSx",kr="me_sidebar__cJYHN",Or="me_instant_action__DSCaF",Nr="me_main_section__rhxdA",xr="me_button__fiJq+",Dr="me_border_button__AZose",Lr="me_logo__kQaOV",Pr="me_tabs__E+Rn5",Mr="me_tab__DcWj3",Br="me_active_tab__IyX4h",Ur="me_disabled_section__OyYrj";function jr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fr(e){jr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Qr(e){jr(1,arguments);var t=Fr(e);return t.setHours(0,0,0,0),t}function Vr(e,t){jr(2,arguments);var n=Qr(e),r=Qr(t);return n.getTime()===r.getTime()}var Gr=__webpack_require__(2007),Hr=__webpack_require__.n(Gr);function qr(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return"string"===typeof e})).join(" ")}var Kr=__webpack_require__(9498),Wr=__webpack_require__.n(Kr);function Yr(e){return JSON.stringify(e)}var zr=Wr()((function(e){var t,n=void 0===e?{}:e,r=n.useFallbackLocale,i=void 0===r||r,o=n.fallbackLocale,a=void 0===o?"en-US":o,s=[];if("undefined"!==typeof window){var c=window.navigator;s=s.concat(c.languages,c.language,c.userLanguage,c.browserLanguage,c.systemLanguage)}return i&&s.push(a),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return t[0]+"-"+t[1].toUpperCase()}))}((t=s).filter((function(e,n){return e&&t.indexOf(e)===n})))}),Yr);var Jr=Wr()((function(e){return zr(e)[0]||null}),Yr),Xr=Jr;function Zr(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=e(r)+i;return t(o)}}function $r(e){return function(t){return new Date(e(t).getTime()-1)}}function ei(e){return function(t){return e.map((function(e){return e(t)}))}}function ti(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function ni(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function ri(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function ii(e){var t=ti(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var oi=Zr(ti,ii,-100),ai=Zr(ti,ii,100),si=$r(ai),ci=Zr(ti,si,-100),ui=(Zr(ti,si,100),ei([ii,si]));function li(e){var t=ti(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var di=Zr(ti,li,-10),fi=Zr(ti,li,10),pi=$r(fi),hi=Zr(ti,pi,-10),vi=(Zr(ti,pi,10),ei([li,pi]));function gi(e){var t=ti(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var Ai=Zr(ti,gi,-1),mi=Zr(ti,gi,1),Ei=$r(mi),yi=Zr(ti,Ei,-1),bi=(Zr(ti,Ei,1),ei([gi,Ei]));function Ci(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=ti(n),o=ni(n)+r,a=new Date;return a.setFullYear(i,o,1),a.setHours(0,0,0,0),e(a)}}function _i(e){var t=ti(e),n=ni(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Ii=Ci(_i,-1),wi=Ci(_i,1),Si=$r(wi),Ti=Ci(Si,-1),Ri=(Ci(Si,1),ei([_i,Si]));function ki(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=ti(n),o=ni(n),a=ri(n)+r,s=new Date;return s.setFullYear(i,o,a),s.setHours(0,0,0,0),e(s)}}function Oi(e){var t=ti(e),n=ni(e),r=ri(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}ki(Oi,-1);var Ni,xi=$r(ki(Oi,1)),Di=(ki(xi,-1),ki(xi,1),ei([Oi,xi]));function Li(e){return ri(Si(e))}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi,Ui={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},ji=(Mi(Ni={},Ui.US,["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"]),Mi(Ni,Ui.ARABIC,["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]),Mi(Ni,Ui.HEBREW,["he","he-IL"]),Ni),Fi=(Bi=Array(7),function(e){if(Array.isArray(e))return Pi(e)}(Bi)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Bi)||function(e,t){if(e){if("string"===typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pi(e,t):void 0}}(Bi)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t})),Qi=new Map;function Vi(e){return function(t,n){return function(e){return function(t,n){var r=t||Xr();Qi.has(r)||Qi.set(r,new Map);var i=Qi.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}Vi({day:"numeric",month:"numeric",year:"numeric"});var Gi=Vi({day:"numeric"}),Hi=Vi({day:"numeric",month:"long",year:"numeric"}),qi=Vi({month:"long"}),Ki=Vi({month:"long",year:"numeric"}),Wi=Vi({weekday:"short"}),Yi=Vi({weekday:"long"}),zi=Vi({year:"numeric"}),Ji=Fi[0],Xi=Fi[5],Zi=Fi[6];function $i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui.ISO_8601,n=e.getDay();switch(t){case Ui.ISO_8601:return(n+6)%7;case Ui.ARABIC:return(n+1)%7;case Ui.HEBREW:case Ui.US:return n;default:throw new Error("Unsupported calendar type.")}}function eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui.ISO_8601,n=ti(e),r=ni(e),i=e.getDate()-$i(e,t);return new Date(n,r,i)}function to(e,t){switch(e){case"century":return ii(t);case"decade":return li(t);case"year":return gi(t);case"month":return _i(t);case"day":return Oi(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function no(e,t){switch(e){case"century":return ai(t);case"decade":return fi(t);case"year":return mi(t);case"month":return wi(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function ro(e,t){switch(e){case"century":return si(t);case"decade":return pi(t);case"year":return Ei(t);case"month":return Si(t);case"day":return xi(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function io(e,t){switch(e){case"century":return ui(t);case"decade":return vi(t);case"year":return bi(t);case"month":return Ri(t);case"day":return Di(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oo(e,t,n){var r=[t,n].sort((function(e,t){return e-t}));return[to(e,r[0]),ro(e,r[1])]}function ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zi,n=arguments.length>2?arguments[2]:void 0;return n.map((function(n){return t(e,n)})).join(" \u2013 ")}function so(e,t,n){return ao(e,t,vi(n))}function co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui.ISO_8601,n=e.getDay();switch(t){case Ui.ARABIC:case Ui.HEBREW:return n===Xi||n===Zi;case Ui.ISO_8601:case Ui.US:return n===Zi||n===Ji;default:throw new Error("Unsupported calendar type.")}}function uo(e){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(e)}var lo=Object.values(Ui),fo=["century","decade","year","month"],po=Hr().oneOf(lo),ho=Hr().oneOfType([Hr().string,Hr().arrayOf(Hr().string)]),vo=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(uo(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(uo(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},go=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(uo(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(uo(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},Ao=Hr().oneOfType([Hr().func,Hr().shape({current:Hr().any})]),mo=Hr().oneOfType([Hr().instanceOf(Date),Hr().arrayOf(Hr().instanceOf(Date))]),Eo=Hr().arrayOf(Hr().oneOf(fo)),yo=function(e,t,n){var r=e[t],i=e.views||fo;return void 0!==r&&-1===i.indexOf(r)?new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(i.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};yo.isRequired=function(e,t,n){var r=e[t];return r?yo(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(r,"`."))};var bo={activeStartDate:Hr().instanceOf(Date).isRequired,hover:Hr().instanceOf(Date),locale:Hr().string,maxDate:go,minDate:vo,onClick:Hr().func,onMouseOver:Hr().func,tileClassName:Hr().oneOfType([Hr().func,ho]),tileContent:Hr().oneOfType([Hr().func,Hr().node]),value:mo,valueType:Hr().string},Co={activeStartDate:Hr().instanceOf(Date).isRequired,classes:Hr().arrayOf(Hr().string).isRequired,date:Hr().instanceOf(Date).isRequired,locale:Hr().string,maxDate:go,minDate:vo,onClick:Hr().func,onMouseOver:Hr().func,style:Hr().objectOf(Hr().oneOfType([Hr().string,Hr().number])),tileClassName:Hr().oneOfType([Hr().func,ho]),tileContent:Hr().oneOfType([Hr().func,Hr().node]),tileDisabled:Hr().func},_o="react-calendar__navigation";function Io(e){var n=e.activeStartDate,r=e.drillUp,i=e.formatMonthYear,o=void 0===i?Ki:i,a=e.formatYear,s=void 0===a?zi:a,c=e.locale,u=e.maxDate,l=e.minDate,d=e.navigationAriaLabel,f=void 0===d?"":d,p=e.navigationAriaLive,h=e.navigationLabel,v=e.next2AriaLabel,g=void 0===v?"":v,A=e.next2Label,m=void 0===A?"\xbb":A,E=e.nextAriaLabel,y=void 0===E?"":E,b=e.nextLabel,C=void 0===b?"\u203a":b,_=e.prev2AriaLabel,I=void 0===_?"":_,w=e.prev2Label,S=void 0===w?"\xab":w,T=e.prevAriaLabel,R=void 0===T?"":T,k=e.prevLabel,O=void 0===k?"\u2039":k,N=e.setActiveStartDate,x=e.showDoubleView,D=e.view,L=e.views.indexOf(D)>0,P="century"!==D,M=function(e,t){switch(e){case"century":return oi(t);case"decade":return di(t);case"year":return Ai(t);case"month":return Ii(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),B=P&&function(e,t){switch(e){case"decade":return di(t,-100);case"year":return Ai(t,-10);case"month":return Ii(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),U=no(D,n),j=P&&function(e,t){switch(e){case"decade":return fi(t,100);case"year":return mi(t,10);case"month":return wi(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n),F=function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return ci(t);case"decade":return hi(t);case"year":return yi(t);case"month":return Ti(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return l&&l>=e}(),Q=P&&function(){if(B.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return hi(t,-100);case"year":return yi(t,-10);case"month":return Ti(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(D,n);return l&&l>=e}(),V=u&&u<U,G=P&&u&&u<j;function H(e){var t=function(){switch(D){case"century":return function(e,t,n){return ao(e,t,ui(n))}(c,s,e);case"decade":return so(c,s,e);case"year":return s(c,e);case"month":return o(c,e);default:throw new Error("Invalid view: ".concat(D,"."))}}();return h?h({date:e,label:t,locale:c||Jr(),view:D}):t}return t.createElement("div",{className:_o},null!==S&&P&&t.createElement("button",{"aria-label":I,className:"".concat(_o,"__arrow ").concat(_o,"__prev2-button"),disabled:Q,onClick:function(){N(B,"prev2")},type:"button"},S),null!==O&&t.createElement("button",{"aria-label":R,className:"".concat(_o,"__arrow ").concat(_o,"__prev-button"),disabled:F,onClick:function(){N(M,"prev")},type:"button"},O),function(){var e="".concat(_o,"__label");return t.createElement("button",{"aria-label":f,"aria-live":p,className:e,disabled:!L,onClick:r,style:{flexGrow:1},type:"button"},t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},H(n)),x&&t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),t.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},H(U))))}(),null!==C&&t.createElement("button",{"aria-label":y,className:"".concat(_o,"__arrow ").concat(_o,"__next-button"),disabled:V,onClick:function(){N(U,"next")},type:"button"},C),null!==m&&P&&t.createElement("button",{"aria-label":g,className:"".concat(_o,"__arrow ").concat(_o,"__next2-button"),disabled:G,onClick:function(){N(j,"next2")},type:"button"},m))}Io.propTypes={activeStartDate:Hr().instanceOf(Date).isRequired,drillUp:Hr().func.isRequired,formatMonthYear:Hr().func,formatYear:Hr().func,locale:Hr().string,maxDate:Hr().instanceOf(Date),minDate:Hr().instanceOf(Date),navigationAriaLabel:Hr().string,navigationAriaLive:Hr().string,navigationLabel:Hr().func,next2AriaLabel:Hr().string,next2Label:Hr().node,nextAriaLabel:Hr().string,nextLabel:Hr().node,prev2AriaLabel:Hr().string,prev2Label:Hr().node,prevAriaLabel:Hr().string,prevLabel:Hr().node,setActiveStartDate:Hr().func.isRequired,showDoubleView:Hr().bool,view:yo.isRequired,views:Eo.isRequired};var wo=["children","className","direction","count","offset","style","wrap"];function So(){return So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function No(e){return"".concat(e,"%")}function xo(e){var n=e.children,r=e.className,i=e.direction,o=e.count,a=e.offset,s=e.style,c=e.wrap,u=Oo(e,wo);return t.createElement("div",So({className:r,style:Ro({display:"flex",flexDirection:i,flexWrap:c?"wrap":"no-wrap"},s)},u),t.Children.map(n,(function(e,n){return t.cloneElement(e,Ro(Ro({},e.props),{},{style:{flexBasis:No(100/o),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:a&&0===n?No(100*a/o):null}}))})))}function Do(e){return function(e){if(Array.isArray(e))return Lo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){return t[0]<=e&&t[1]>=e}function Mo(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function Bo(e,t){return Po(e[0],t)||Po(e[1],t)}function Uo(e,t,n){var r=[];if(Bo(t,e)){r.push(n);var i=Po(e[0],t),o=Po(e[1],t);i&&r.push("".concat(n,"Start")),o&&r.push("".concat(n,"End")),i&&o&&r.push("".concat(n,"BothEnds"))}return r}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valueType,r=e.date,i=e.dateType,o=e.hover,a="react-calendar__tile",s=[a];if(!r)return s;if(!Array.isArray(r)&&!i)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var c=new Date,u=Array.isArray(r)?r:io(i,r);if(Po(c,u)&&s.push("".concat(a,"--now")),!t)return s;if(!Array.isArray(t)&&!n)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var l=Array.isArray(t)?t:io(n,t);Mo(l,u)?s.push("".concat(a,"--active")):Bo(l,u)&&s.push("".concat(a,"--hasActive"));var d=Uo(l,u,"".concat(a,"--range"));s.push.apply(s,Do(d));var f=[].concat(t);if(o&&1===f.length){var p=o>l[0]?[l[0],o]:[o,l[0]],h=Uo(p,u,"".concat(a,"--hover"));s.push.apply(s,Do(h))}return s}xo.propTypes={children:Hr().node,className:Hr().string,count:Hr().number.isRequired,direction:Hr().string,offset:Hr().number,style:Hr().objectOf(Hr().oneOfType([Hr().string,Hr().number])),wrap:Hr().bool};var Fo=["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"];function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach((function(t){Go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ho(){return Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(this,arguments)}function qo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ko(e){for(var n=e.className,r=e.count,i=void 0===r?3:r,o=e.dateTransform,a=e.dateType,s=e.end,c=e.hover,u=e.offset,l=e.start,d=e.step,f=void 0===d?1:d,p=e.tile,h=e.value,v=e.valueType,g=qo(e,Fo),A=[],m=l;m<=s;m+=f){var E=o(m);A.push(t.createElement(p,Ho({key:E.getTime(),classes:jo({value:h,valueType:v,date:E,dateType:a,hover:c}),date:E,point:m},g)))}return t.createElement(xo,{className:n,count:i,offset:u,wrap:!0},A)}function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t){return Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zo(e,t)}function $o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ke){return!1}}();return function(){var n,r=na(e);if(t){var i=na(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ea(this,n)}}function ea(e,t){if(t&&("object"===Wo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ta(e)}function ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},na(e)}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()}function oa(e,t){var n=e.activeStartDate,r=e.date,i=e.view;return"function"===typeof t?t({activeStartDate:n,date:r,view:i}):t}Ko.propTypes=Vo(Vo({},bo),{},{activeStartDate:Hr().instanceOf(Date),count:Hr().number,dateTransform:Hr().func.isRequired,dateType:Hr().string,offset:Hr().number,step:Hr().number,tile:Hr().func.isRequired});var aa=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zo(e,t)}(a,e);var n,r,i,o=$o(a);function a(){var e;Jo(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ra(ta(e=o.call.apply(o,[this].concat(n))),"state",{}),e}return n=a,r=[{key:"render",value:function(){var e=this.props,n=e.activeStartDate,r=e.children,i=e.classes,o=e.date,a=e.formatAbbr,s=e.locale,c=e.maxDate,u=e.maxDateTransform,l=e.minDate,d=e.minDateTransform,f=e.onClick,p=e.onMouseOver,h=e.style,v=e.tileDisabled,g=e.view,A=this.state,m=A.tileClassName,E=A.tileContent;return t.createElement("button",{className:qr(i,m),disabled:l&&d(l)>o||c&&u(c)<o||v&&v({activeStartDate:n,date:o,view:g}),onClick:f&&function(e){return f(o,e)},onFocus:p&&function(){return p(o)},onMouseOver:p&&function(){return p(o)},style:h,type:"button"},a?t.createElement("abbr",{"aria-label":a(s,o)},r):r,E)}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeStartDate,r=e.tileClassName,i=e.tileContent,o={};return(r!==t.tileClassNameProps||ia(n,t.activeStartDateProps))&&(o.tileClassName=oa(e,r),o.tileClassNameProps=r),(i!==t.tileContentProps||ia(n,t.activeStartDateProps))&&(o.tileContent=oa(e,i),o.tileContentProps=i),o.activeStartDateProps=n,o}}],r&&Xo(n.prototype,r),i&&Xo(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);aa.propTypes=zo(zo({},Co),{},{children:Hr().node.isRequired,formatAbbr:Hr().func,maxDateTransform:Hr().func.isRequired,minDateTransform:Hr().func.isRequired});var sa=["classes","formatYear"];function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(){return da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},da.apply(this,arguments)}function fa(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pa(e){var n=e.classes,r=e.formatYear,i=void 0===r?zi:r,o=fa(e,sa),a=o.date,s=o.locale;return t.createElement(aa,da({},o,{classes:[].concat(n,"react-calendar__century-view__decades__decade"),maxDateTransform:pi,minDateTransform:li,view:"century"}),so(s,i,a))}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ga(){return ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga.apply(this,arguments)}function Aa(e){var n=e.activeStartDate,r=ti(ii(n)),i=r+99;return t.createElement(Ko,ga({},e,{className:"react-calendar__century-view__decades",dateTransform:li,dateType:"decade",end:i,start:r,step:10,tile:pa}))}function ma(e){return t.createElement("div",{className:"react-calendar__century-view"},t.createElement(Aa,e))}pa.propTypes=ua(ua({},Co),{},{formatYear:Hr().func}),Aa.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},bo);var Ea=["classes","formatYear"];function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(){return _a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(this,arguments)}function Ia(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wa(e){var n=e.classes,r=e.formatYear,i=void 0===r?zi:r,o=Ia(e,Ea),a=o.date,s=o.locale;return t.createElement(aa,_a({},o,{classes:[].concat(n,"react-calendar__decade-view__years__year"),maxDateTransform:Ei,minDateTransform:gi,view:"decade"}),i(s,a))}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ra(){return Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}function ka(e){var n=e.activeStartDate,r=ti(li(n)),i=r+9;return t.createElement(Ko,Ra({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:i,start:r,tile:wa}))}function Oa(e){return t.createElement("div",{className:"react-calendar__decade-view"},t.createElement(ka,e))}wa.propTypes=ba(ba({},Co),{},{formatYear:Hr().func}),ka.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},bo);var Na=["classes","formatMonth","formatMonthYear"];function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){La(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(){return Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(this,arguments)}function Ma(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ba(e){var n=e.classes,r=e.formatMonth,i=void 0===r?qi:r,o=e.formatMonthYear,a=void 0===o?Ki:o,s=Ma(e,Na),c=s.date,u=s.locale;return t.createElement(aa,Pa({},s,{classes:[].concat(n,"react-calendar__year-view__months__month"),formatAbbr:a,maxDateTransform:Si,minDateTransform:_i,view:"year"}),i(u,c))}function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){Fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qa(){return Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(this,arguments)}function Va(e){var n=ti(e.activeStartDate);return t.createElement(Ko,Qa({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(n,e,1),t.setHours(0,0,0,0),t},dateType:"month",end:11,start:0,tile:Ba}))}function Ga(e){return t.createElement("div",{className:"react-calendar__year-view"},t.createElement(Va,e))}Ba.propTypes=Da(Da({},Co),{},{formatMonth:Hr().func,formatMonthYear:Hr().func}),Va.propTypes=ja(ja({},bo),{},{locale:Hr().string});var Ha=["formatDay","formatLongDate","calendarType","classes","currentMonthIndex"];function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(){return Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}function za(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ja="react-calendar__month-view__days__day";function Xa(e){var n=e.formatDay,r=void 0===n?Gi:n,i=e.formatLongDate,o=void 0===i?Hi:i,a=e.calendarType,s=e.classes,c=e.currentMonthIndex,u=za(e,Ha),l=u.date,d=u.locale;return t.createElement(aa,Ya({},u,{classes:[].concat(s,Ja,co(l,a)?"".concat(Ja,"--weekend"):null,l.getMonth()!==c?"".concat(Ja,"--neighboringMonth"):null),formatAbbr:o,maxDateTransform:xi,minDateTransform:Oi,view:"month"}),r(d,l))}Xa.propTypes=Ka(Ka({},Co),{},{currentMonthIndex:Hr().number.isRequired,formatDay:Hr().func,formatLongDate:Hr().func});var Za=["showFixedNumberOfWeeks","showNeighboringMonth"];function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ts(){return ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}function ns(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rs(e){var n=e.activeStartDate,r=e.calendarType,i=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,a=ns(e,Za),s=ti(n),c=ni(n),u=i||o,l=$i(n,r),d=u?0:l,f=1+(u?-l:0),p=function(){if(i)return f+42-1;var e=Li(n);if(o){var t=new Date;return t.setFullYear(s,c,e),t.setHours(0,0,0,0),e+(7-$i(t,r)-1)}return e}();return t.createElement(Ko,ts({},a,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:c,dateTransform:function(e){var t=new Date;return t.setFullYear(s,c,e),t.setHours(0,0,0,0),t},dateType:"day",end:p,offset:d,start:f,tile:Xa}))}rs.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendarType:po.isRequired,showFixedNumberOfWeeks:Hr().bool,showNeighboringMonth:Hr().bool},bo);var is="react-calendar__month-view__weekdays";function os(e){for(var n=e.calendarType,r=e.formatShortWeekday,i=void 0===r?Wi:r,o=e.locale,a=e.onMouseLeave,s=_i(new Date),c=ti(s),u=ni(s),l=[],d=1;d<=7;d+=1){var f=new Date(c,u,d-$i(s,n)),p=Yi(o,f);l.push(t.createElement("div",{key:d,className:"".concat(is,"__weekday")},t.createElement("abbr",{"aria-label":p,title:p},i(o,f).replace(".",""))))}return t.createElement(xo,{className:is,count:7,onFocus:a,onMouseOver:a},l)}os.propTypes={calendarType:po.isRequired,formatShortWeekday:Hr().func,locale:Hr().string,onMouseLeave:Hr().func};var as=["date","onClickWeekNumber","weekNumber"];function ss(){return ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(this,arguments)}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ds(e){var n=e.date,r=e.onClickWeekNumber,i=e.weekNumber,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"react-calendar__tile"},ls(e,as)),a=t.createElement("span",null,i);return r?t.createElement("button",ss({},o,{onClick:function(e){return r(i,n,e)},type:"button"}),a):t.createElement("div",o,a)}function fs(e){var n=e.activeStartDate,r=e.calendarType,i=e.onClickWeekNumber,o=e.onMouseLeave,a=e.showFixedNumberOfWeeks,s=function(){if(a)return 6;var e=Li(n)-(7-$i(n,r));return 1+Math.ceil(e/7)}(),c=function(){for(var e=ti(n),t=ni(n),i=ri(n),o=[],a=0;a<s;a+=1)o.push(eo(new Date(e,t,i+7*a),r));return o}(),u=c.map((function(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ui.ISO_8601,r=n===Ui.US?Ui.US:Ui.ISO_8601,i=eo(e,n),o=ti(e)+1;do{t=eo(new Date(o,0,r===Ui.ISO_8601?4:1),n),o-=1}while(e<t);return Math.round((i-t)/6048e5)+1}(e,r)}));return t.createElement(xo,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map((function(e,n){return t.createElement(ds,{key:e,date:c[n],onClickWeekNumber:i,weekNumber:e})})))}ds.propTypes={date:Hr().instanceOf(Date).isRequired,onClickWeekNumber:Hr().func,weekNumber:Hr().node.isRequired},fs.propTypes={activeStartDate:Hr().instanceOf(Date).isRequired,calendarType:po.isRequired,onClickWeekNumber:Hr().func,onMouseLeave:Hr().func,showFixedNumberOfWeeks:Hr().bool};var ps=["calendarType","formatShortWeekday","onClickWeekNumber","showWeekNumbers"];function hs(){return hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(this,arguments)}function vs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gs(e){var n=e.activeStartDate,r=e.locale,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,a=e.calendarType,s=void 0===a?function(e){return Object.keys(ji).find((function(t){return ji[t].includes(e)}))||Ui.ISO_8601}(r):a,c=e.formatShortWeekday,u=e.onClickWeekNumber,l=e.showWeekNumbers,d=vs(e,ps);var f="react-calendar__month-view";return t.createElement("div",{className:qr(f,l?"".concat(f,"--weekNumbers"):"")},t.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l?t.createElement(fs,{activeStartDate:n,calendarType:s,onClickWeekNumber:u,onMouseLeave:i,showFixedNumberOfWeeks:o}):null,t.createElement("div",{style:{flexGrow:1,width:"100%"}},t.createElement(os,{calendarType:s,formatShortWeekday:c,locale:r,onMouseLeave:i}),t.createElement(rs,hs({calendarType:s},d)))))}gs.propTypes={activeStartDate:Hr().instanceOf(Date).isRequired,calendarType:po,formatShortWeekday:Hr().func,locale:Hr().string,onClickWeekNumber:Hr().func,onMouseLeave:Hr().func,showFixedNumberOfWeeks:Hr().bool,showWeekNumbers:Hr().bool};var As=["activeStartDate","defaultActiveStartDate","defaultValue","defaultView","maxDetail","minDetail","value","view"];function ms(){return ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ms.apply(this,arguments)}function Es(e){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(e)}function ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cs(e,t){return Cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cs(e,t)}function _s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ke){return!1}}();return function(){var n,r=Ss(e);if(t){var i=Ss(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Is(this,n)}}function Is(e,t){if(t&&("object"===Es(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ws(e)}function ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ss(e)}function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xs=new Date;xs.setFullYear(1,0,1),xs.setHours(0,0,0,0);var Ds=new Date(864e13),Ls="react-calendar",Ps=["century","decade","year","month"],Ms=[].concat(function(e){return function(e){if(Array.isArray(e))return Ns(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ns(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ps.slice(1)),["day"]);function Bs(e,t){return Ps.slice(Ps.indexOf(e),Ps.indexOf(t)+1)}function Us(e,t,n){return function(e,t,n){return-1!==Bs(t,n).indexOf(e)}(e,t,n)?e:n}function js(e){return Ms[Ps.indexOf(e)]}function Fs(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function Qs(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,a=Fs(n,t);if(!a)return null;var s=js(o);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}([to,ro][t](s,a),r,i)}var Vs=function(e){return Qs(e,0)},Gs=function(e){return Qs(e,1)},Hs=function(e){var t=e.value;return Array.isArray(t)?t:[Vs,Gs].map((function(t){return t(e)}))};function qs(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value;return to(Us(e.view,i,n),Vs({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date)}var Ks=function(e){return e&&1===[].concat(e).length},Ws=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cs(e,t)}(a,e);var n,r,i,o=_s(a);function a(){var e;ys(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ks(ws(e=o.call.apply(o,[this].concat(n))),"state",{activeStartDate:e.props.defaultActiveStartDate,value:e.props.defaultValue,view:e.props.defaultView}),ks(ws(e),"setStateAndCallCallbacks",(function(t,n,r){var i=ws(e),o=i.activeStartDate,a=i.view,s=e.props,c=s.allowPartialRange,u=s.onActiveStartDateChange,l=s.onChange,d=s.onViewChange,f=s.selectRange,p={activeStartDate:o,view:a};e.setState(t,(function(){var i={action:t.action,activeStartDate:t.activeStartDate||e.activeStartDate,value:t.value||e.value,view:t.view||e.view};function o(e){return e in t&&(Es(t[e])!==Es(p[e])||(t[e]instanceof Date?t[e].getTime()!==p[e].getTime():t[e]!==p[e]))}(o("activeStartDate")&&u&&u(i),o("view")&&d&&d(i),o("value"))&&(l&&(f&&Ks(t.value)?c&&l([t.value],n):l(t.value,n)));r&&r(i)}))})),ks(ws(e),"setActiveStartDate",(function(t,n){e.setStateAndCallCallbacks({action:n,activeStartDate:t})})),ks(ws(e),"drillDown",(function(t,n){if(e.drillDownAvailable){e.onClickTile(t,n);var r=ws(e),i=r.view,o=r.views,a=e.props.onDrillDown,s=o[o.indexOf(i)+1];e.setStateAndCallCallbacks({action:"drillDown",activeStartDate:t,view:s},void 0,a)}})),ks(ws(e),"drillUp",(function(){if(e.drillUpAvailable){var t=ws(e),n=t.activeStartDate,r=t.view,i=t.views,o=e.props.onDrillUp,a=i[i.indexOf(r)-1],s=to(a,n);e.setStateAndCallCallbacks({action:"drillUp",activeStartDate:s,view:a},void 0,o)}})),ks(ws(e),"onChange",(function(t,n){var r,i=e.props.selectRange;if(e.onClickTile(t,n),i){var o=ws(e),a=o.value,s=o.valueType;r=Ks(a)?oo(s,a,t):to(s,t)}else r=e.getProcessedValue(t);var c=qs(Rs(Rs({},e.props),{},{value:r}));n.persist(),e.setStateAndCallCallbacks({action:"onChange",activeStartDate:c,value:r},n)})),ks(ws(e),"onClickTile",(function(t,n){var r=ws(e).view,i=e.props,o=i.onClickDay,a=i.onClickDecade,s=i.onClickMonth,c=i.onClickYear,u=function(){switch(r){case"century":return a;case"decade":return c;case"year":return s;case"month":return o;default:throw new Error("Invalid view: ".concat(r,"."))}}();u&&u(t,n)})),ks(ws(e),"onMouseOver",(function(t){e.setState((function(e){return e.hover&&e.hover.getTime()===t.getTime()?null:{hover:t}}))})),ks(ws(e),"onMouseLeave",(function(){e.setState({hover:null})})),e}return n=a,r=[{key:"activeStartDate",get:function(){var e=this.props.activeStartDate,t=this.state.activeStartDate;return e||t||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDetail,a=e.minDetail,s=e.value,c=e.view,u=Os(e,As),l=Us(c,a,o),d=t||n;return d?to(l,d):qs(Rs({maxDetail:o,minDetail:a,value:s||r,view:c||i},u))}(this.props)}},{key:"value",get:function(){var e=this.props,t=e.selectRange,n=e.value,r=this.state.value;return t&&Ks(r)?r:void 0!==n?n:r}},{key:"valueType",get:function(){return js(this.props.maxDetail)}},{key:"view",get:function(){var e=this.props,t=e.minDetail,n=e.maxDetail,r=e.view,i=this.state.view;return Us(r||i,t,n)}},{key:"views",get:function(){var e=this.props;return Bs(e.minDetail,e.maxDetail)}},{key:"hover",get:function(){var e=this.props.selectRange,t=this.state.hover;return e?t:null}},{key:"drillDownAvailable",get:function(){var e=this.view,t=this.views;return t.indexOf(e)<t.length-1}},{key:"drillUpAvailable",get:function(){var e=this.view;return this.views.indexOf(e)>0}},{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,o=t.returnValue;return function(){switch(o){case"start":return Vs;case"end":return Gs;case"range":return Hs;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderContent",value:function(e){var n=this.activeStartDate,r=this.onMouseOver,i=this.valueType,o=this.value,a=this.view,s=this.props,c=s.calendarType,u=s.locale,l=s.maxDate,d=s.minDate,f=s.selectRange,p=s.tileClassName,h=s.tileContent,v=s.tileDisabled,g=this.hover,A={activeStartDate:e?no(a,n):to(a,n),hover:g,locale:u,maxDate:l,minDate:d,onClick:this.drillDownAvailable?this.drillDown:this.onChange,onMouseOver:f?r:null,tileClassName:p,tileContent:h,tileDisabled:v,value:o,valueType:i};switch(a){case"century":var m=this.props.formatYear;return t.createElement(ma,ms({formatYear:m},A));case"decade":var E=this.props.formatYear;return t.createElement(Oa,ms({formatYear:E},A));case"year":var y=this.props,b=y.formatMonth,C=y.formatMonthYear;return t.createElement(Ga,ms({formatMonth:b,formatMonthYear:C},A));case"month":var _=this.props,I=_.formatDay,w=_.formatLongDate,S=_.formatShortWeekday,T=_.onClickWeekNumber,R=_.showDoubleView,k=_.showFixedNumberOfWeeks,O=_.showNeighboringMonth,N=_.showWeekNumbers,x=this.onMouseLeave;return t.createElement(gs,ms({calendarType:c,formatDay:I,formatLongDate:w,formatShortWeekday:S,onClickWeekNumber:T,onMouseLeave:f?x:null,showFixedNumberOfWeeks:"undefined"!==typeof k?k:R,showNeighboringMonth:O,showWeekNumbers:N},A));default:throw new Error("Invalid view: ".concat(a,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.activeStartDate,n=this.view,r=this.views,i=this.props,o=i.formatMonthYear,a=i.formatYear,s=i.locale,c=i.maxDate,u=i.minDate,l=i.navigationAriaLabel,d=i.navigationAriaLive,f=i.navigationLabel,p=i.next2AriaLabel,h=i.next2Label,v=i.nextAriaLabel,g=i.nextLabel,A=i.prev2AriaLabel,m=i.prev2Label,E=i.prevAriaLabel,y=i.prevLabel,b=i.showDoubleView;return t.createElement(Io,{activeStartDate:e,drillUp:this.drillUp,formatMonthYear:o,formatYear:a,locale:s,maxDate:c,minDate:u,navigationAriaLabel:l,navigationAriaLive:d,navigationLabel:f,next2AriaLabel:p,next2Label:h,nextAriaLabel:v,nextLabel:g,prev2AriaLabel:A,prev2Label:m,prevAriaLabel:E,prevLabel:y,setActiveStartDate:this.setActiveStartDate,showDoubleView:b,view:n,views:r})}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.inputRef,i=e.selectRange,o=e.showDoubleView,a=this.onMouseLeave,s=this.value,c=[].concat(s);return t.createElement("div",{className:qr(Ls,i&&1===c.length&&"".concat(Ls,"--selectRange"),o&&"".concat(Ls,"--doubleView"),n),ref:r},this.renderNavigation(),t.createElement("div",{className:"".concat(Ls,"__viewContainer"),onBlur:i?a:null,onMouseLeave:i?a:null},this.renderContent(),o&&this.renderContent(!0)))}}],r&&bs(n.prototype,r),i&&bs(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);Ws.defaultProps={maxDate:Ds,maxDetail:"month",minDate:xs,minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0};var Ys=Hr().instanceOf(Date),zs=Hr().oneOfType([Hr().string,mo]);Ws.propTypes={activeStartDate:Ys,allowPartialRange:Hr().bool,calendarType:po,className:ho,defaultActiveStartDate:Ys,defaultValue:zs,defaultView:yo,formatDay:Hr().func,formatLongDate:Hr().func,formatMonth:Hr().func,formatMonthYear:Hr().func,formatShortWeekday:Hr().func,formatYear:Hr().func,inputRef:Ao,locale:Hr().string,maxDate:go,maxDetail:Hr().oneOf(Ps),minDate:vo,minDetail:Hr().oneOf(Ps),navigationAriaLabel:Hr().string,navigationAriaLive:Hr().oneOf(["off","polite","assertive"]),navigationLabel:Hr().func,next2AriaLabel:Hr().string,next2Label:Hr().node,nextAriaLabel:Hr().string,nextLabel:Hr().node,onActiveStartDateChange:Hr().func,onChange:Hr().func,onClickDay:Hr().func,onClickDecade:Hr().func,onClickMonth:Hr().func,onClickWeekNumber:Hr().func,onClickYear:Hr().func,onDrillDown:Hr().func,onDrillUp:Hr().func,onViewChange:Hr().func,prev2AriaLabel:Hr().string,prev2Label:Hr().node,prevAriaLabel:Hr().string,prevLabel:Hr().node,returnValue:Hr().oneOf(["start","end","range"]),selectRange:Hr().bool,showDoubleView:Hr().bool,showFixedNumberOfWeeks:Hr().bool,showNavigation:Hr().bool,showNeighboringMonth:Hr().bool,showWeekNumbers:Hr().bool,tileClassName:Hr().oneOfType([Hr().func,ho]),tileContent:Hr().oneOfType([Hr().func,Hr().node]),tileDisabled:Hr().func,value:zs,view:yo};var Js=Ws,Xs={calendar:"UserCalendar_calendar__3UNxu",tile:"UserCalendar_tile__HMhBj",red:"UserCalendar_red__iEiio",orange:"UserCalendar_orange__azq2S",yellow:"UserCalendar_yellow__VqPa9",green:"UserCalendar_green__8FkIT",blue:"UserCalendar_blue__A+jOF",pink:"UserCalendar_pink__DbBhv",purple:"UserCalendar_purple__GKVtW"},Zs=function(e){var n=e.className,r=e.events,i=e.setEvent,o=e.setIsOpen,c=s((0,t.useState)(new Date),2),u=c[0],l=c[1];return(0,Ce.jsx)("div",{className:n,children:(0,Ce.jsx)(Js,{className:Xs.calendar,onChange:function(e){l(e);var t=r.find((function(t){return Vr(e,new Date(t.date))}));t&&(i(t),o(!0))},value:u,calendarType:"US",tileContent:function(e){var t=e.date;if("month"===e.view){var n=[];if(r.forEach((function(e){return Vr(t,new Date(e.date))&&n.push(e.name)})),n.length>0)return(0,Ce.jsx)("div",{children:n.map((function(e,t){return(0,Ce.jsx)("p",{children:e},t)}))})}return null},tileClassName:function(e){var t=e.date;if("month"===e.view){var n,i=Xs.tile,o=a(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(Vr(t,new Date(s.date)))return i+" "+Xs[s.color]}}catch(c){o.e(c)}finally{o.f()}return i}}})})},$s="MeetingSection_container__gsU3p",ec="MeetingSection_upcoming_meeting__de-Qe",tc="MeetingSection_events__fuf24",nc="MeetingSection_event__GLLHF",rc="MeetingSection_event_name__gjcZW",ic="MeetingSection_event_remove__Eeojv",oc="MeetingSection_calendar__Bro3e",ac="MeetingSection_floating_button__MdrZr";function sc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cc(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,i):n}var a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,cc),a}var uc=["static"],lc=["unmount"],dc=["as","children","refName"],fc=function(e){return e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e}(fc||{}),pc=function(e){return e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e}(pc||{});function hc(e){var t=e.ourProps,n=e.theirProps,r=e.slot,i=e.defaultTag,o=e.features,a=e.visible,s=void 0===a||a,c=e.name,u=gc(n,t);if(s)return vc(u,r,i,c);var l=null!=o?o:0;if(2&l){var d=u.static,f=void 0!==d&&d,p=sc(u,uc);if(f)return vc(p,r,i,c)}if(1&l){var h,v=u.unmount,g=void 0===v||v,A=sc(u,lc);return cc(g?0:1,(Se(h={},0,(function(){return null})),Se(h,1,(function(){return vc(Re(Re({},A),{},{hidden:!0,style:{display:"none"}}),r,i,c)})),h))}return vc(u,r,i,c)}function vc(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=Ec(e,["unmount","static"]),a=o.as,s=void 0===a?r:a,c=o.children,u=o.refName,l=void 0===u?"ref":u,d=sc(o,dc),f=void 0!==e.ref?Se({},l,e.ref):{},p="function"==typeof c?c(n):c;d.className&&"function"==typeof d.className&&(d.className=d.className(n));var h={};if(s===t.Fragment&&Object.keys(mc(d)).length>0){if(!(0,t.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(d).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));return(0,t.cloneElement)(p,Object.assign({},gc(p.props,mc(Ec(d,["ref"]))),h,f))}return(0,t.createElement)(s,Object.assign({},Ec(d,["ref"]),s!==t.Fragment&&f,s!==t.Fragment&&h),p)}function gc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];for(var r={},i={},o=0,s=t;o<s.length;o++){var c=s[o];for(var u in c)u.startsWith("on")&&"function"==typeof c[u]?(null!=i[u]||(i[u]=[]),i[u].push(c[u])):r[u]=c[u]}if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map((function(e){return[e,void 0]}))));var l=function(e){Object.assign(r,Se({},e,(function(t){for(var n=i[e],r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var c,u=a(n);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(t.defaultPrevented)return;l.apply(void 0,[t].concat(o))}}catch(d){u.e(d)}finally{u.f()}})))};for(var d in i)l(d);return r}function Ac(e){var n;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(n=e.displayName)?n:e.name})}function mc(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}function Ec(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=a(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(s){i.e(s)}finally{i.f()}return r}var yc=(0,t.createContext)(null);yc.displayName="OpenClosedContext";var bc=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(bc||{});function Cc(){return(0,t.useContext)(yc)}function _c(e){var n=e.value,r=e.children;return t.createElement(yc.Provider,{value:n},r)}function Ic(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}var wc,Sc="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Tc={serverHandoffComplete:!1};function Rc(){var e=s((0,t.useState)(Tc.serverHandoffComplete),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){!0!==n&&r(!0)}),[n]),(0,t.useEffect)((function(){!1===Tc.serverHandoffComplete&&(Tc.serverHandoffComplete=!0)}),[]),n}var kc=0;function Oc(){return++kc}var Nc=null!=(wc=t.useId)?wc:function(){var e=Rc(),n=s(t.useState(e?Oc:null),2),r=n[0],i=n[1];return Sc((function(){null===r&&i(Oc())}),[r]),null!=r?""+r:void 0};function xc(){var e=(0,t.useRef)(!1);return Sc((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function Dc(e){var n=(0,t.useRef)(e);return Sc((function(){n.current=e}),[e]),n}var Lc=function(e){var n=Dc(e);return t.useCallback((function(){return n.current.apply(n,arguments)}),[n])},Pc=Symbol();function Mc(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=(0,t.useRef)(n);(0,t.useEffect)((function(){i.current=n}),[n]);var o=Lc((function(e){var t,n=a(i.current);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r&&("function"==typeof r?r(e):r.current=e)}}catch(o){n.e(o)}finally{n.f()}}));return n.every((function(e){return null==e||(null==e?void 0:e[Pc])}))?void 0:o}function Bc(){var e=[],t=[],n={enqueue:function(e){t.push(e)},addEventListener:function(e,t,r,i){return e.addEventListener(t,r,i),n.add((function(){return e.removeEventListener(t,r,i)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);return n.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.requestAnimationFrame((function(){return n.requestAnimationFrame.apply(n,t)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);return n.add((function(){return clearTimeout(e)}))})),add:function(t){return e.push(t),function(){var n=e.indexOf(t);n>=0&&(0,s(e.splice(n,1),1)[0])()}},dispose:function(){var t,n=a(e.splice(0));try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}},workQueue:function(){return qt(Gt().mark((function e(){var n,r,i;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a(t.splice(0)),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()}};return n}function Uc(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).add.apply(t,r)}function jc(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).remove.apply(t,r)}var Fc=function(e){return e.Ended="ended",e.Cancelled="cancelled",e}(Fc||{});function Qc(e,t,n,r){var i=n?"enter":"leave",o=Bc(),a=void 0!==r?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(r):function(){},c=cc(i,{enter:function(){return t.enter},leave:function(){return t.leave}}),u=cc(i,{enter:function(){return t.enterTo},leave:function(){return t.leaveTo}}),l=cc(i,{enter:function(){return t.enterFrom},leave:function(){return t.leaveFrom}});return jc.apply(void 0,[e].concat(we(t.enter),we(t.enterTo),we(t.enterFrom),we(t.leave),we(t.leaveFrom),we(t.leaveTo),we(t.entered))),Uc.apply(void 0,[e].concat(we(c),we(l))),o.nextFrame((function(){jc.apply(void 0,[e].concat(we(l))),Uc.apply(void 0,[e].concat(we(u))),function(e,t){var n=Bc();if(!e)return n.dispose;var r=getComputedStyle(e),i=[r.transitionDuration,r.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),n=s(t,1)[0];return void 0===n?0:n})),o=s(i,2);if(o[0]+o[1]!==0){var a=[];a.push(n.addEventListener(e,"transitionrun",(function(r){r.target===r.currentTarget&&(a.splice(0).forEach((function(e){return e()})),a.push(n.addEventListener(e,"transitionend",(function(e){e.target===e.currentTarget&&(t("ended"),a.splice(0).forEach((function(e){return e()})))})),n.addEventListener(e,"transitioncancel",(function(e){e.target===e.currentTarget&&(t("cancelled"),a.splice(0).forEach((function(e){return e()})))}))))})))}else t("ended");n.add((function(){return t("cancelled")})),n.dispose}(e,(function(n){return"ended"===n&&(jc.apply(void 0,[e].concat(we(c))),Uc.apply(void 0,[e].concat(we(t.entered)))),a(n)}))})),o.dispose}function Vc(e){var n=e.container,r=e.direction,i=e.classes,o=e.events,a=e.onStart,c=e.onStop,u=xc(),l=function(){var e=s((0,t.useState)(Bc),1)[0];return(0,t.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}(),d=Dc(r),f=Lc((function(){return cc(d.current,{enter:function(){return o.current.beforeEnter()},leave:function(){return o.current.beforeLeave()},idle:function(){}})})),p=Lc((function(){return cc(d.current,{enter:function(){return o.current.afterEnter()},leave:function(){return o.current.afterLeave()},idle:function(){}})}));Sc((function(){var e=Bc();l.add(e.dispose);var t=n.current;if(t&&"idle"!==d.current&&u.current)return e.dispose(),f(),a.current(d.current),e.add(Qc(t,i.current,"enter"===d.current,(function(t){var n;e.dispose(),cc(t,(Se(n={},Fc.Ended,(function(){p(),c.current(d.current)})),Se(n,Fc.Cancelled,(function(){})),n))}))),e.dispose}),[r])}var Gc=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],Hc=["show","appear","unmount"];function qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter((function(e){return e.trim().length>1}))}var Kc=(0,t.createContext)(null);Kc.displayName="TransitionContext";var Wc=function(e){return e.Visible="visible",e.Hidden="hidden",e}(Wc||{});var Yc=(0,t.createContext)(null);function zc(e){return"children"in e?zc(e.children):e.current.filter((function(e){return"visible"===e.state})).length>0}function Jc(e){var n=Dc(e),r=(0,t.useRef)([]),i=xc(),o=Lc((function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pc.Hidden,a=r.current.findIndex((function(t){return t.id===e}));-1!==a&&(cc(o,(Se(t={},pc.Unmount,(function(){r.current.splice(a,1)})),Se(t,pc.Hidden,(function(){r.current[a].state="hidden"})),t)),Ic((function(){var e;!zc(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),a=Lc((function(e){var t=r.current.find((function(t){return t.id===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),function(){return o(e,pc.Unmount)}}));return(0,t.useMemo)((function(){return{children:r,register:a,unregister:o}}),[a,o,r])}function Xc(){}Yc.displayName="NestingContext";var Zc=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function $c(e){var t,n,r={},i=a(Zc);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o]=null!=(t=e[o])?t:Xc}}catch(s){i.e(s)}finally{i.f()}return r}var eu=fc.RenderStrategy,tu=Ac((function(e,n){var r,i=e.beforeEnter,o=e.afterEnter,a=e.beforeLeave,c=e.afterLeave,u=e.enter,l=e.enterFrom,d=e.enterTo,f=e.entered,p=e.leave,h=e.leaveFrom,v=e.leaveTo,g=sc(e,Gc),A=(0,t.useRef)(null),m=Mc(A,n),E=s((0,t.useState)("visible"),2),y=E[0],b=E[1],C=g.unmount?pc.Unmount:pc.Hidden,_=function(){var e=(0,t.useContext)(Kc);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),I=_.show,w=_.appear,S=_.initial,T=function(){var e=(0,t.useContext)(Yc);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),R=T.register,k=T.unregister,O=(0,t.useRef)(null),N=Nc();(0,t.useEffect)((function(){if(N)return R(N)}),[R,N]),(0,t.useEffect)((function(){if(C===pc.Hidden&&N){var e;if(I&&"visible"!==y)return void b("visible");cc(y,(Se(e={},"hidden",(function(){return k(N)})),Se(e,"visible",(function(){return R(N)})),e))}}),[y,N,R,k,I,C]);var x=Dc({enter:qc(u),enterFrom:qc(l),enterTo:qc(d),entered:qc(f),leave:qc(p),leaveFrom:qc(h),leaveTo:qc(v)}),D=function(e){var n=(0,t.useRef)($c(e));return(0,t.useEffect)((function(){n.current=$c(e)}),[e]),n}({beforeEnter:i,afterEnter:o,beforeLeave:a,afterLeave:c}),L=Rc();(0,t.useEffect)((function(){if(L&&"visible"===y&&null===A.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[A,y,L]);var P=S&&!w,M=!L||P||O.current===I?"idle":I?"enter":"leave",B=(0,t.useRef)(!1),U=Jc((function(){B.current||(b("hidden"),k(N))}));Vc({container:A,classes:x,events:D,direction:M,onStart:Dc((function(){B.current=!0})),onStop:Dc((function(e){B.current=!1,"leave"===e&&!zc(U)&&(b("hidden"),k(N))}))}),(0,t.useEffect)((function(){!P||(C===pc.Hidden?O.current=null:O.current=I)}),[I,P,y]);var j=g,F={ref:m};return t.createElement(Yc.Provider,{value:U},t.createElement(_c,{value:cc(y,(r={},Se(r,"visible",bc.Open),Se(r,"hidden",bc.Closed),r))},hc({ourProps:F,theirProps:j,defaultTag:"div",features:eu,visible:"visible"===y,name:"Transition.Child"})))})),nu=Ac((function(e,n){var r,i=e.show,o=e.appear,a=void 0!==o&&o,c=e.unmount,u=sc(e,Hc),l=(0,t.useRef)(null),d=Mc(l,n);Rc();var f=Cc();if(void 0===i&&null!==f&&(i=cc(f,(Se(r={},bc.Open,!0),Se(r,bc.Closed,!1),r))),![!0,!1].includes(i))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var p=s((0,t.useState)(i?"visible":"hidden"),2),h=p[0],v=p[1],g=Jc((function(){v("hidden")})),A=s((0,t.useState)(!0),2),m=A[0],E=A[1],y=(0,t.useRef)([i]);Sc((function(){!1!==m&&y.current[y.current.length-1]!==i&&(y.current.push(i),E(!1))}),[y,i]);var b=(0,t.useMemo)((function(){return{show:i,appear:a,initial:m}}),[i,a,m]);(0,t.useEffect)((function(){if(i)v("visible");else if(zc(g)){var e=l.current;if(!e)return;var t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&v("hidden")}else v("hidden")}),[i,g]);var C={unmount:c};return t.createElement(Yc.Provider,{value:g},t.createElement(Kc.Provider,{value:b},hc({ourProps:Re(Re({},C),{},{as:t.Fragment,children:t.createElement(tu,Re(Re({ref:d},C),u))}),theirProps:{},defaultTag:t.Fragment,features:eu,visible:"visible"===h,name:"Transition"})))})),ru=Ac((function(e,n){var r=null!==(0,t.useContext)(Kc),i=null!==Cc();return t.createElement(t.Fragment,null,!r&&i?t.createElement(nu,Re({ref:n},e)):t.createElement(tu,Re({ref:n},e)))})),iu=Object.assign(nu,{Child:ru,Root:nu}),ou=function(e){return e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e}(ou||{});function au(e){for(var t=e.parentElement,n=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;var r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var su=["features"],cu=function(e){return e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e}(cu||{}),uu=Ac((function(e,t){var n=e.features,r=void 0===n?1:n,i=sc(e,su);return hc({ourProps:{ref:t,"aria-hidden":2===(2&r)||void 0,style:Re({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&r)&&2!==(2&r)&&{display:"none"})},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));function lu(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var du=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(","),fu=function(e){return e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e}(fu||{}),pu=function(e){return e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e}(pu||{}),hu=function(e){return e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e}(hu||{});function vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(du))}var gu=function(e){return e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e}(gu||{});function Au(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(n=lu(e))?void 0:n.body)&&cc(r,(Se(t={},0,(function(){return e.matches(du)})),Se(t,1,(function(){for(var t=e;null!==t;){if(t.matches(du))return!0;t=t.parentElement}return!1})),t))}function mu(e){null==e||e.focus({preventScroll:!0})}var Eu=["textarea","input"].join(",");function yu(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,Eu))&&n}function bu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice().sort((function(e,n){var r=t(e),i=t(n);if(null===r||null===i)return 0;var o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function Cu(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?bu(e):e:vu(e),a=i.activeElement,s=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),c=function(){if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(a))-1;if(4&t)return Math.max(0,o.indexOf(a))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),u=32&t?{preventScroll:!0}:{},l=0,d=o.length;do{if(l>=d||l+d<=0)return 0;var f=c+l;if(16&t)f=(f+d)%d;else{if(f<0)return 3;if(f>=d)return 1}null==(n=o[f])||n.focus(u),l+=s}while(n!==i.activeElement);return 6&t&&yu(n)&&n.select(),n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}function _u(e,n,r){var i=Dc(n);(0,t.useEffect)((function(){function t(e){i.current(e)}return window.addEventListener(e,t,r),function(){return window.removeEventListener(e,t,r)}}),[e,r])}var Iu=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}(Iu||{});function wu(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,t.useMemo)((function(){return lu.apply(void 0,n)}),[].concat(n))}function Su(e,n,r,i){var o=Dc(r);(0,t.useEffect)((function(){function t(e){o.current(e)}return(e=null!=e?e:window).addEventListener(n,t,i),function(){return e.removeEventListener(n,t,i)}}),[e,n,i])}function Tu(e,n){var r=(0,t.useRef)([]),i=Lc(e);(0,t.useEffect)((function(){var e,t=a(n.entries());try{for(t.s();!(e=t.n()).done;){var o=s(e.value,2),c=o[0],u=o[1];if(r.current[c]!==u){var l=i(n);return r.current=n,l}}}catch(d){t.e(d)}finally{t.f()}}),[i].concat(we(n)))}var Ru=["initialFocus","containers","features"],ku=function(e){return e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e}(ku||{}),Ou=Object.assign(Ac((function(e,n){var r=(0,t.useRef)(null),i=Mc(r,n),o=e.initialFocus,s=e.containers,c=e.features,u=void 0===c?30:c,l=sc(e,Ru);Rc()||(u=1);var d=wu(r);!function(e,n){var r=e.ownerDocument,i=(0,t.useRef)(null);Su(null==r?void 0:r.defaultView,"focusout",(function(e){!n||i.current||(i.current=e.target)}),!0),Tu((function(){n||((null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&mu(i.current),i.current=null)}),[n]);var o=(0,t.useRef)(!1);(0,t.useEffect)((function(){return o.current=!1,function(){o.current=!0,Ic((function(){!o.current||(mu(i.current),i.current=null)}))}}),[])}({ownerDocument:d},Boolean(16&u));var f=function(e,n){var r=e.ownerDocument,i=e.container,o=e.initialFocus,a=(0,t.useRef)(null);return Tu((function(){if(n){var e=i.current;if(e){var t=null==r?void 0:r.activeElement;if(null!=o&&o.current){if((null==o?void 0:o.current)===t)return void(a.current=t)}else if(e.contains(t))return void(a.current=t);null!=o&&o.current?mu(o.current):Cu(e,fu.First)===pu.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==r?void 0:r.activeElement}}}),[n]),a}({ownerDocument:d,container:r,initialFocus:o},Boolean(2&u));!function(e,t){var n=e.ownerDocument,r=e.container,i=e.containers,o=e.previousActiveElement,s=xc();Su(null==n?void 0:n.defaultView,"focus",(function(e){if(t&&s.current){var n=new Set(null==i?void 0:i.current);n.add(r);var c=o.current;if(c){var u=e.target;u&&u instanceof HTMLElement?function(e,t){var n,r,i=a(e);try{for(i.s();!(r=i.n()).done;){if(null!=(n=r.value.current)&&n.contains(t))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(n,u)?(o.current=u,mu(u)):(e.preventDefault(),e.stopPropagation(),mu(c)):mu(o.current)}}}),!0)}({ownerDocument:d,container:r,containers:s,previousActiveElement:f},Boolean(8&u));var p=function(){var e=(0,t.useRef)(0);return _u("keydown",(function(t){"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}(),h=Lc((function(){var e,t=r.current;!t||cc(p.current,(Se(e={},Iu.Forwards,(function(){return Cu(t,fu.First)})),Se(e,Iu.Backwards,(function(){return Cu(t,fu.Last)})),e))})),v={ref:i};return t.createElement(t.Fragment,null,Boolean(4&u)&&t.createElement(uu,{as:"button",type:"button",onFocus:h,features:cu.Focusable}),hc({ourProps:v,theirProps:l,defaultTag:"div",name:"FocusTrap"}),Boolean(4&u)&&t.createElement(uu,{as:"button",type:"button",onFocus:h,features:cu.Focusable}))})),{features:ku});var Nu=new Set,xu=new Map;function Du(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Lu(e){var t=xu.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var Pu=__webpack_require__(4164),Mu=(0,t.createContext)(!1);function Bu(e){return t.createElement(Mu.Provider,{value:e.force},e.children)}var Uu=["target"];function ju(e){var n=(0,t.useContext)(Mu),r=(0,t.useContext)(Gu),i=wu(e),o=(0,t.useState)((function(){if(!n&&null!==r||"undefined"==typeof window)return null;var e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;var t=i.createElement("div");return t.setAttribute("id","headlessui-portal-root"),i.body.appendChild(t)})),a=s(o,2),c=a[0],u=a[1];return(0,t.useEffect)((function(){null!==c&&(null!=i&&i.body.contains(c)||null==i||i.body.appendChild(c))}),[c,i]),(0,t.useEffect)((function(){n||null!==r&&u(r.current)}),[r,u,n]),c}var Fu=t.Fragment,Qu=Ac((function(e,n){var r=e,i=(0,t.useRef)(null),o=Mc(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,Se({},Pc,t))}((function(e){i.current=e})),n),a=wu(i),c=ju(i),u=(0,t.useState)((function(){var e;return"undefined"==typeof window?null:null!=(e=null==a?void 0:a.createElement("div"))?e:null})),l=s(u,1)[0],d=Rc(),f=(0,t.useRef)(!1);return Sc((function(){if(f.current=!1,c&&l)return c.contains(l)||(l.setAttribute("data-headlessui-portal",""),c.appendChild(l)),function(){f.current=!0,Ic((function(){var e;!f.current||!c||!l||(c.removeChild(l),c.childNodes.length<=0&&(null==(e=c.parentElement)||e.removeChild(c)))}))}}),[c,l]),d&&c&&l?(0,Pu.createPortal)(hc({ourProps:{ref:o},theirProps:r,defaultTag:Fu,name:"Portal"}),l):null})),Vu=t.Fragment,Gu=(0,t.createContext)(null),Hu=Ac((function(e,n){var r=e.target,i=sc(e,Uu),o={ref:Mc(n)};return t.createElement(Gu.Provider,{value:r},hc({ourProps:o,theirProps:i,defaultTag:Vu,name:"Popover.Group"}))})),qu=Object.assign(Qu,{Group:Hu}),Ku=(0,t.createContext)(null);function Wu(){var e=(0,t.useContext)(Ku);if(null===e){var n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Wu),n}return e}var Yu=Ac((function(e,t){var n=Wu(),r="headlessui-description-".concat(Nc()),i=Mc(t);Sc((function(){return n.register(r)}),[r,n.register]);var o=e;return hc({ourProps:Re(Re({ref:i},n.props),{},{id:r}),theirProps:o,slot:n.slot||{},defaultTag:"p",name:n.name||"Description"})})),zu=(0,t.createContext)((function(){}));zu.displayName="StackContext";var Ju=function(e){return e[e.Add=0]="Add",e[e.Remove=1]="Remove",e}(Ju||{});function Xu(e){var n=e.children,r=e.onUpdate,i=e.type,o=e.element,a=(0,t.useContext)(zu),s=Lc((function(){null==r||r.apply(void 0,arguments),a.apply(void 0,arguments)}));return Sc((function(){return s(0,i,o),function(){return s(1,i,o)}}),[s,i,o]),t.createElement(zu.Provider,{value:s},n)}var Zu=["open","onClose","initialFocus","__demoMode"],$u=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}($u||{}),el=function(e){return e[e.SetTitleId=0]="SetTitleId",e}(el||{}),tl=Se({},0,(function(e,t){return e.titleId===t.id?e:Re(Re({},e),{},{titleId:t.id})})),nl=(0,t.createContext)(null);function rl(e){var n=(0,t.useContext)(nl);if(null===n){var r=new Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,rl),r}return n}function il(e,t){return cc(t.type,tl,e,t)}nl.displayName="DialogContext";var ol=fc.RenderStrategy|fc.Static,al=Ac((function(e,n){var r,i=e.open,o=e.onClose,c=e.initialFocus,u=e.__demoMode,l=void 0!==u&&u,d=sc(e,Zu),f=s((0,t.useState)(0),2),p=f[0],h=f[1],v=Cc();void 0===i&&null!==v&&(i=cc(v,(Se(r={},bc.Open,!0),Se(r,bc.Closed,!1),r)));var g=(0,t.useRef)(new Set),A=(0,t.useRef)(null),m=Mc(A,n),E=(0,t.useRef)(null),y=wu(A),b=e.hasOwnProperty("open")||null!==v,C=e.hasOwnProperty("onClose");if(!b&&!C)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!C)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof i)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(i));if("function"!=typeof o)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(o));var _=i?0:1,I=s((0,t.useReducer)(il,{titleId:null,descriptionId:null,panelRef:(0,t.createRef)()}),2),w=I[0],S=I[1],T=Lc((function(){return o(!1)})),R=Lc((function(e){return S({type:0,id:e})})),k=!!Rc()&&(!l&&0===_),O=p>1,N=null!==(0,t.useContext)(nl),x=O?"parent":"leaf";(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Sc((function(){if(t&&e.current){var n=e.current,r=lu(n);if(r){Nu.add(n);var i,o=a(xu.keys());try{for(o.s();!(i=o.n()).done;){var s=i.value;s.contains(n)&&(Lu(s),xu.delete(s))}}catch(c){o.e(c)}finally{o.f()}return r.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){var t,n=a(Nu);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r))return}}catch(c){n.e(c)}finally{n.f()}1===Nu.size&&(xu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Du(e))}})),function(){if(Nu.delete(n),Nu.size>0)r.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!xu.has(e)){var t,n=a(Nu);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r))return}}catch(c){n.e(c)}finally{n.f()}xu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Du(e)}}));else{var e,t=a(xu.keys());try{for(t.s();!(e=t.n()).done;){var i=e.value;Lu(i),xu.delete(i)}}catch(c){t.e(c)}finally{t.f()}}}}}}),[t])})(A,!!O&&k),function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,t.useRef)(!1);function o(t,r){if(i.current&&!t.defaultPrevented){var o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),s=r(t);if(null!==s&&s.ownerDocument.documentElement.contains(s)){var c,u=a(o);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(null!==l){var d=l instanceof HTMLElement?l:l.current;if(null!=d&&d.contains(s))return}}}catch(f){u.e(f)}finally{u.f()}return!Au(s,gu.Loose)&&-1!==s.tabIndex&&t.preventDefault(),n(t,s)}}}(0,t.useEffect)((function(){requestAnimationFrame((function(){i.current=r}))}),[r]),_u("click",(function(e){return o(e,(function(e){return e.target}))}),!0),_u("blur",(function(e){return o(e,(function(){return window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null}))}),!0)}((function(){var e,t;return[].concat(we(Array.from(null!=(e=null==y?void 0:y.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((function(e){return!(!(e instanceof HTMLElement)||e.contains(E.current)||w.panelRef.current&&e.contains(w.panelRef.current))}))),[null!=(t=w.panelRef.current)?t:A.current])}),T,k&&!O),Su(null==y?void 0:y.defaultView,"keydown",(function(e){e.defaultPrevented||e.key===ou.Escape&&0===_&&(O||(e.preventDefault(),e.stopPropagation(),T()))})),(0,t.useEffect)((function(){var e;if(0===_&&!N){var t=lu(A);if(t){var n=t.documentElement,r=null!=(e=t.defaultView)?e:window,i=n.style.overflow,o=n.style.paddingRight,a=r.innerWidth-n.clientWidth;if(n.style.overflow="hidden",a>0){var s=a-(n.clientWidth-n.offsetWidth);n.style.paddingRight="".concat(s,"px")}return function(){n.style.overflow=i,n.style.paddingRight=o}}}}),[_,N]),(0,t.useEffect)((function(){if(0===_&&A.current){var e=new IntersectionObserver((function(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;0===r.boundingClientRect.x&&0===r.boundingClientRect.y&&0===r.boundingClientRect.width&&0===r.boundingClientRect.height&&T()}}catch(i){n.e(i)}finally{n.f()}}));return e.observe(A.current),function(){return e.disconnect()}}}),[_,A,T]);var D=function(){var e=s((0,t.useState)([]),2),n=e[0],r=e[1];return[n.length>0?n.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var n=Lc((function(e){return r((function(t){return[].concat(we(t),[e])})),function(){return r((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}})),i=(0,t.useMemo)((function(){return{register:n,slot:e.slot,name:e.name,props:e.props}}),[n,e.slot,e.name,e.props]);return t.createElement(Ku.Provider,{value:i},e.children)}}),[r])]}(),L=s(D,2),P=L[0],M=L[1],B="headlessui-dialog-".concat(Nc()),U=(0,t.useMemo)((function(){return[{dialogState:_,close:T,setTitleId:R},w]}),[_,w,T,R]),j=(0,t.useMemo)((function(){return{open:0===_}}),[_]),F={ref:m,id:B,role:"dialog","aria-modal":0===_||void 0,"aria-labelledby":w.titleId,"aria-describedby":P};return t.createElement(Xu,{type:"Dialog",element:A,onUpdate:Lc((function(e,t,n){var r;"Dialog"===t&&cc(e,(Se(r={},Ju.Add,(function(){g.current.add(n),h((function(e){return e+1}))})),Se(r,Ju.Remove,(function(){g.current.add(n),h((function(e){return e-1}))})),r))}))},t.createElement(Bu,{force:!0},t.createElement(qu,null,t.createElement(nl.Provider,{value:U},t.createElement(qu.Group,{target:A},t.createElement(Bu,{force:!1},t.createElement(M,{slot:j,name:"Dialog.Description"},t.createElement(Ou,{initialFocus:c,containers:g,features:k?cc(x,{parent:Ou.features.RestoreFocus,leaf:Ou.features.All&~Ou.features.FocusLock}):Ou.features.None},hc({ourProps:F,theirProps:d,slot:j,defaultTag:"div",features:ol,visible:0===_,name:"Dialog"})))))))),t.createElement(uu,{features:cu.Hidden,ref:E}))})),sl=Ac((function(e,n){var r=s(rl("Dialog.Overlay"),1)[0],i=r.dialogState,o=r.close,a=Mc(n),c="headlessui-dialog-overlay-".concat(Nc()),u=Lc((function(e){if(e.target===e.currentTarget){if(au(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}));return hc({ourProps:{ref:a,id:c,"aria-hidden":!0,onClick:u},theirProps:e,slot:(0,t.useMemo)((function(){return{open:0===i}}),[i]),defaultTag:"div",name:"Dialog.Overlay"})})),cl=Ac((function(e,n){var r=s(rl("Dialog.Backdrop"),2),i=r[0].dialogState,o=r[1],a=Mc(n),c="headlessui-dialog-backdrop-".concat(Nc());(0,t.useEffect)((function(){if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[o.panelRef]);var u=(0,t.useMemo)((function(){return{open:0===i}}),[i]);return t.createElement(Bu,{force:!0},t.createElement(qu,null,hc({ourProps:{ref:a,id:c,"aria-hidden":!0},theirProps:e,slot:u,defaultTag:"div",name:"Dialog.Backdrop"})))})),ul=Ac((function(e,n){var r=s(rl("Dialog.Panel"),2),i=r[0].dialogState,o=Mc(n,r[1].panelRef),a="headlessui-dialog-panel-".concat(Nc()),c=(0,t.useMemo)((function(){return{open:0===i}}),[i]),u=Lc((function(e){e.stopPropagation()}));return hc({ourProps:{ref:o,id:a,onClick:u},theirProps:e,slot:c,defaultTag:"div",name:"Dialog.Panel"})})),ll=Ac((function(e,n){var r=s(rl("Dialog.Title"),1)[0],i=r.dialogState,o=r.setTitleId,a="headlessui-dialog-title-".concat(Nc()),c=Mc(n);(0,t.useEffect)((function(){return o(a),function(){return o(null)}}),[a,o]);var u=(0,t.useMemo)((function(){return{open:0===i}}),[i]);return hc({ourProps:{ref:c,id:a},theirProps:e,slot:u,defaultTag:"h2",name:"Dialog.Title"})})),dl=Object.assign(al,{Backdrop:cl,Panel:ul,Overlay:sl,Title:ll,Description:Yu}),fl="EventDialog_dialog_container__2gaX5",pl="EventDialog_backdrop__7hE3q",hl="EventDialog_panel_container__eECeM",vl="EventDialog_dialog_panel__Aq2jG",gl="EventDialog_close_button__7eSGD",Al="EventDialog_enter__EDhpQ",ml="EventDialog_enter_from_backdrop__coIf9",El="EventDialog_enter_to_backdrop__lTq7C",yl="EventDialog_enter_from_dialog__gcuh0",bl="EventDialog_enter_to_dialog__dlPx8",Cl="EventDialog_leave__1UVcv",_l="EventDialog_leave_from_backdrop__fhqd+",Il="EventDialog_leave_to_backdrop__dtMxn",wl="EventDialog_leave_from_dialog__MrFkB",Sl="EventDialog_leave_to_dialog__4lZgx",Tl=function(e){var n=e.isOpen,r=e.closeDialog,i=e.children;return(0,Ce.jsx)(iu,{show:n,as:t.Fragment,children:(0,Ce.jsxs)(dl,{onClose:r,className:fl,children:[(0,Ce.jsx)(iu.Child,{as:t.Fragment,enter:Al,enterFrom:ml,enterTo:El,leave:Cl,leaveFrom:_l,leaveTo:Il,children:(0,Ce.jsx)("div",{className:pl,"aria-hidden":"true"})}),(0,Ce.jsx)(iu.Child,{as:t.Fragment,enter:Al,enterFrom:yl,enterTo:bl,leave:Cl,leaveFrom:wl,leaveTo:Sl,children:(0,Ce.jsx)("div",{className:hl,children:(0,Ce.jsxs)(dl.Panel,{className:vl,children:[i,(0,Ce.jsx)("div",{className:gl,onClick:r,children:(0,Ce.jsx)(bn,{})})]})})})]})})};function Rl(e){return jr(1,arguments),e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function kl(e){if(jr(1,arguments),!Rl(e)&&"number"!==typeof e)return!1;var t=Fr(e);return!isNaN(Number(t))}function Ol(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Nl(e,t){jr(2,arguments);var n=Fr(e).getTime(),r=Ol(t);return new Date(n+r)}function xl(e,t){jr(2,arguments);var n=Ol(t);return Nl(e,-n)}var Dl=864e5;function Ll(e){jr(1,arguments);var t=1,n=Fr(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Pl(e){jr(1,arguments);var t=Fr(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ll(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Ll(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Ml(e){jr(1,arguments);var t=Pl(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Ll(n);return r}var Bl=6048e5;var Ul={};function jl(){return Ul}function Fl(e,t){var n,r,i,o,a,s,c,u;jr(1,arguments);var l=jl(),d=Ol(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(c=l.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Fr(e),p=f.getUTCDay(),h=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-h),f.setUTCHours(0,0,0,0),f}function Ql(e,t){var n,r,i,o,a,s,c,u;jr(1,arguments);var l=Fr(e),d=l.getUTCFullYear(),f=jl(),p=Ol(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:f.firstWeekContainsDate)&&void 0!==r?r:null===(c=f.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=new Date(0);h.setUTCFullYear(d+1,0,p),h.setUTCHours(0,0,0,0);var v=Fl(h,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var A=Fl(g,t);return l.getTime()>=v.getTime()?d+1:l.getTime()>=A.getTime()?d:d-1}function Vl(e,t){var n,r,i,o,a,s,c,u;jr(1,arguments);var l=jl(),d=Ol(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(c=l.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),f=Ql(e,t),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var h=Fl(p,t);return h}var Gl=6048e5;function Hl(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var ql={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Hl("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Hl(n+1,2)},d:function(e,t){return Hl(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Hl(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Hl(e.getUTCHours(),t.length)},m:function(e,t){return Hl(e.getUTCMinutes(),t.length)},s:function(e,t){return Hl(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Hl(Math.floor(r*Math.pow(10,n-3)),t.length)}},Kl=ql,Wl="midnight",Yl="noon",zl="morning",Jl="afternoon",Xl="evening",Zl="night",$l={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Kl.y(e,t)},Y:function(e,t,n,r){var i=Ql(e,r),o=i>0?i:1-i;return"YY"===t?Hl(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Hl(o,t.length)},R:function(e,t){return Hl(Pl(e),t.length)},u:function(e,t){return Hl(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Hl(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Hl(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Kl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Hl(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=function(e,t){jr(1,arguments);var n=Fr(e),r=Fl(n,t).getTime()-Vl(n,t).getTime();return Math.round(r/Gl)+1}(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Hl(i,t.length)},I:function(e,t,n){var r=function(e){jr(1,arguments);var t=Fr(e),n=Ll(t).getTime()-Ml(t).getTime();return Math.round(n/Bl)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Hl(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Kl.d(e,t)},D:function(e,t,n){var r=function(e){jr(1,arguments);var t=Fr(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Dl)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Hl(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Hl(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Hl(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Hl(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?Yl:0===i?Wl:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?Xl:i>=12?Jl:i>=4?zl:Zl,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kl.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Kl.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Hl(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Hl(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Kl.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Kl.s(e,t)},S:function(e,t){return Kl.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return td(i);case"XXXX":case"XX":return nd(i);default:return nd(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return td(i);case"xxxx":case"xx":return nd(i);default:return nd(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ed(i,":");default:return"GMT"+nd(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ed(i,":");default:return"GMT"+nd(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Hl(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Hl((r._originalDate||e).getTime(),t.length)}};function ed(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+Hl(o,2)}function td(e,t){return e%60===0?(e>0?"-":"+")+Hl(Math.abs(e)/60,2):nd(e,t)}function nd(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Hl(Math.floor(i/60),2)+n+Hl(i%60,2)}var rd=$l,id=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},od=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ad={p:od,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return id(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",id(i,t)).replace("{{time}}",od(o,t))}},sd=ad;function cd(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ud=["D","DD"],ld=["YY","YYYY"];function dd(e){return-1!==ud.indexOf(e)}function fd(e){return-1!==ld.indexOf(e)}function pd(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vd=function(e,t,n){var r,i=hd[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gd(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Ad={date:gd({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:gd({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:gd({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},md={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ed=function(e,t,n,r){return md[e]};function yd(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var bd={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:yd({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:yd({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:yd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:yd({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:yd({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Cd(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?Id(c,(function(e){return e.test(s)})):_d(c,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(u):u,a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}function _d(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Id(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var wd,Sd={ordinalNumber:(wd={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(wd.matchPattern);if(!n)return null;var r=n[0],i=e.match(wd.parsePattern);if(!i)return null;var o=wd.valueCallback?wd.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}),era:Cd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Cd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Cd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Cd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},Td={code:"en-US",formatDistance:vd,formatLong:Ad,formatRelative:Ed,localize:bd,match:Sd,options:{weekStartsOn:0,firstWeekContainsDate:1}},Rd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Od=/^'([^]*?)'?$/,Nd=/''/g,xd=/[a-zA-Z]/;function Dd(e,t,n){var r,i,o,a,s,c,u,l,d,f,p,h,v,g,A,m,E,y;jr(2,arguments);var b=String(t),C=jl(),_=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:C.locale)&&void 0!==r?r:Td,I=Ol(null!==(o=null!==(a=null!==(s=null!==(c=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:C.firstWeekContainsDate)&&void 0!==a?a:null===(d=C.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==o?o:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=Ol(null!==(p=null!==(h=null!==(v=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(A=n.locale)||void 0===A||null===(m=A.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==v?v:C.weekStartsOn)&&void 0!==h?h:null===(E=C.locale)||void 0===E||null===(y=E.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==p?p:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var S=Fr(e);if(!kl(S))throw new RangeError("Invalid time value");var T=cd(S),R=xl(S,T),k={firstWeekContainsDate:I,weekStartsOn:w,locale:_,_originalDate:S},O=b.match(kd).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,sd[t])(e,_.formatLong):e})).join("").match(Rd).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return Ld(r);var o=rd[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!fd(r)||pd(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!dd(r)||pd(r,t,String(e)),o(R,r,_.localize,k);if(i.match(xd))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("");return O}function Ld(e){var t=e.match(Od);return t?t[1].replace(Nd,"'"):e}var Pd=__webpack_require__(5864),Md=__webpack_require__(4537),Bd={container:"ViewEvent_container__lrCF3",dialog_title:"ViewEvent_dialog_title__uLIxa",dialog_body:"ViewEvent_dialog_body__YuSVv",name:"ViewEvent_name__lHcIH",description:"ViewEvent_description__rQyeC",date:"ViewEvent_date__Uc8Ht",users:"ViewEvent_users__YG5Cr",user:"ViewEvent_user__63myJ",red:"ViewEvent_red__8qPO4",orange:"ViewEvent_orange__-qJyu",yellow:"ViewEvent_yellow__lTfO9",green:"ViewEvent_green__+Bugw",blue:"ViewEvent_blue__VL1Zy",pink:"ViewEvent_pink__7vtYy",purple:"ViewEvent_purple__Q4+JL"},Ud=function(e){e.closeDialog;var t=e.event;return(0,Ce.jsxs)("div",{className:Bd.container,children:[(0,Ce.jsx)("h1",{className:Bd.dialog_title,children:"View Event"}),(0,Ce.jsxs)("main",{className:Bd.dialog_body,children:[(0,Ce.jsx)("h3",{className:"".concat(Bd.name," ").concat(Bd[null===t||void 0===t?void 0:t.color]),children:null===t||void 0===t?void 0:t.name}),(0,Ce.jsx)("p",{className:Bd.description,children:null===t||void 0===t?void 0:t.description}),(0,Ce.jsxs)("p",{className:Bd.date,children:[(0,Ce.jsx)(Tr,{}),(null===t||void 0===t?void 0:t.date)&&Dd(new Date(null===t||void 0===t?void 0:t.date),"dd-MM-yyyy")," at"," ",null===t||void 0===t?void 0:t.time]}),(null===t||void 0===t?void 0:t.attendees.length)>0?(0,Ce.jsxs)("div",{className:Bd.users,children:[(0,Ce.jsxs)("h3",{children:[(0,Ce.jsx)(In,{})," Participants"]}),null===t||void 0===t?void 0:t.attendees.map((function(e){var t=e.user,n=e.status,r=t.name.first+" "+t.name.last||"";return(0,Ce.jsxs)("div",{className:Bd.user,children:[(0,Ce.jsx)(Ee,{src:(0,Pd.createAvatar)(Md,{seed:r.trim(),dataUri:!0}),alt:"avatar"}),t.name.first," ",t.name.last," (",n,")"]},t._id)}))]}):null]})]})};var jd=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(ke){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Fd=Math.abs,Qd=String.fromCharCode,Vd=Object.assign;function Gd(e){return e.trim()}function Hd(e,t,n){return e.replace(t,n)}function qd(e,t){return e.indexOf(t)}function Kd(e,t){return 0|e.charCodeAt(t)}function Wd(e,t,n){return e.slice(t,n)}function Yd(e){return e.length}function zd(e){return e.length}function Jd(e,t){return t.push(e),e}var Xd=1,Zd=1,$d=0,ef=0,tf=0,nf="";function rf(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Xd,column:Zd,length:a,return:""}}function of(e,t){return Vd(rf("",null,null,"",null,null,0),e,{length:-e.length},t)}function af(){return tf=ef>0?Kd(nf,--ef):0,Zd--,10===tf&&(Zd=1,Xd--),tf}function sf(){return tf=ef<$d?Kd(nf,ef++):0,Zd++,10===tf&&(Zd=1,Xd++),tf}function cf(){return Kd(nf,ef)}function uf(){return ef}function lf(e,t){return Wd(nf,e,t)}function df(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ff(e){return Xd=Zd=1,$d=Yd(nf=e),ef=0,[]}function pf(e){return nf="",e}function hf(e){return Gd(lf(ef-1,Af(91===e?e+2:40===e?e+1:e)))}function vf(e){for(;(tf=cf())&&tf<33;)sf();return df(e)>2||df(tf)>3?"":" "}function gf(e,t){for(;--t&&sf()&&!(tf<48||tf>102||tf>57&&tf<65||tf>70&&tf<97););return lf(e,uf()+(t<6&&32==cf()&&32==sf()))}function Af(e){for(;sf();)switch(tf){case e:return ef;case 34:case 39:34!==e&&39!==e&&Af(tf);break;case 40:41===e&&Af(e);break;case 92:sf()}return ef}function mf(e,t){for(;sf()&&e+tf!==57&&(e+tf!==84||47!==cf()););return"/*"+lf(t,ef-1)+"*"+Qd(47===e?e:sf())}function Ef(e){for(;!df(cf());)sf();return lf(e,ef)}var yf="-ms-",bf="-moz-",Cf="-webkit-",_f="comm",If="rule",wf="decl",Sf="@keyframes";function Tf(e,t){for(var n="",r=zd(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Rf(e,t,n,r){switch(e.type){case"@import":case wf:return e.return=e.return||e.value;case _f:return"";case Sf:return e.return=e.value+"{"+Tf(e.children,r)+"}";case If:e.value=e.props.join(",")}return Yd(n=Tf(e.children,r))?e.return=e.value+"{"+n+"}":""}function kf(e,t){switch(function(e,t){return(((t<<2^Kd(e,0))<<2^Kd(e,1))<<2^Kd(e,2))<<2^Kd(e,3)}(e,t)){case 5103:return Cf+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Cf+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Cf+e+bf+e+yf+e+e;case 6828:case 4268:return Cf+e+yf+e+e;case 6165:return Cf+e+yf+"flex-"+e+e;case 5187:return Cf+e+Hd(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Cf+e+yf+"flex-item-"+Hd(e,/flex-|-self/,"")+e;case 4675:return Cf+e+yf+"flex-line-pack"+Hd(e,/align-content|flex-|-self/,"")+e;case 5548:return Cf+e+yf+Hd(e,"shrink","negative")+e;case 5292:return Cf+e+yf+Hd(e,"basis","preferred-size")+e;case 6060:return Cf+"box-"+Hd(e,"-grow","")+Cf+e+yf+Hd(e,"grow","positive")+e;case 4554:return Cf+Hd(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Hd(Hd(Hd(e,/(zoom-|grab)/,Cf+"$1"),/(image-set)/,Cf+"$1"),e,"")+e;case 5495:case 3959:return Hd(e,/(image-set\([^]*)/,Cf+"$1$`$1");case 4968:return Hd(Hd(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Cf+e+e;case 4095:case 3583:case 4068:case 2532:return Hd(e,/(.+)-inline(.+)/,Cf+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yd(e)-1-t>6)switch(Kd(e,t+1)){case 109:if(45!==Kd(e,t+4))break;case 102:return Hd(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+bf+(108==Kd(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qd(e,"stretch")?kf(Hd(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Kd(e,t+1))break;case 6444:switch(Kd(e,Yd(e)-3-(~qd(e,"!important")&&10))){case 107:return Hd(e,":",":"+Cf)+e;case 101:return Hd(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Cf+(45===Kd(e,14)?"inline-":"")+"box$3$1"+Cf+"$2$3$1"+yf+"$2box$3")+e}break;case 5936:switch(Kd(e,t+11)){case 114:return Cf+e+yf+Hd(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Cf+e+yf+Hd(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Cf+e+yf+Hd(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Cf+e+yf+e+e}return e}function Of(e){return pf(Nf("",null,null,null,[""],e=ff(e),0,[0],e))}function Nf(e,t,n,r,i,o,a,s,c){for(var u=0,l=0,d=a,f=0,p=0,h=0,v=1,g=1,A=1,m=0,E="",y=i,b=o,C=r,_=E;g;)switch(h=m,m=sf()){case 40:if(108!=h&&58==_.charCodeAt(d-1)){-1!=qd(_+=Hd(hf(m),"&","&\f"),"&\f")&&(A=-1);break}case 34:case 39:case 91:_+=hf(m);break;case 9:case 10:case 13:case 32:_+=vf(h);break;case 92:_+=gf(uf()-1,7);continue;case 47:switch(cf()){case 42:case 47:Jd(Df(mf(sf(),uf()),t,n),c);break;default:_+="/"}break;case 123*v:s[u++]=Yd(_)*A;case 125*v:case 59:case 0:switch(m){case 0:case 125:g=0;case 59+l:p>0&&Yd(_)-d&&Jd(p>32?Lf(_+";",r,n,d-1):Lf(Hd(_," ","")+";",r,n,d-2),c);break;case 59:_+=";";default:if(Jd(C=xf(_,t,n,u,l,i,s,E,y=[],b=[],d),o),123===m)if(0===l)Nf(_,t,C,C,y,o,d,s,b);else switch(f){case 100:case 109:case 115:Nf(e,C,C,r&&Jd(xf(e,C,C,0,0,i,s,E,i,y=[],d),b),i,b,d,s,r?y:b);break;default:Nf(_,C,C,C,[""],b,0,s,b)}}u=l=p=0,v=A=1,E=_="",d=a;break;case 58:d=1+Yd(_),p=h;default:if(v<1)if(123==m)--v;else if(125==m&&0==v++&&125==af())continue;switch(_+=Qd(m),m*v){case 38:A=l>0?1:(_+="\f",-1);break;case 44:s[u++]=(Yd(_)-1)*A,A=1;break;case 64:45===cf()&&(_+=hf(sf())),f=cf(),l=d=Yd(E=_+=Ef(uf())),m++;break;case 45:45===h&&2==Yd(_)&&(v=0)}}return o}function xf(e,t,n,r,i,o,a,s,c,u,l){for(var d=i-1,f=0===i?o:[""],p=zd(f),h=0,v=0,g=0;h<r;++h)for(var A=0,m=Wd(e,d+1,d=Fd(v=a[h])),E=e;A<p;++A)(E=Gd(v>0?f[A]+" "+m:Hd(m,/&\f/g,f[A])))&&(c[g++]=E);return rf(e,t,n,0===i?If:s,c,u,l)}function Df(e,t,n){return rf(e,t,n,_f,Qd(tf),Wd(e,2,-2),0)}function Lf(e,t,n,r){return rf(e,t,n,wf,Wd(e,0,r),Wd(e,r+1,-1),r)}var Pf=function(e,t,n){for(var r=0,i=0;r=i,i=cf(),38===r&&12===i&&(t[n]=1),!df(i);)sf();return lf(e,ef)},Mf=function(e,t){return pf(function(e,t){var n=-1,r=44;do{switch(df(r)){case 0:38===r&&12===cf()&&(t[n]=1),e[n]+=Pf(ef-1,t,n);break;case 2:e[n]+=hf(r);break;case 4:if(44===r){e[++n]=58===cf()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Qd(r)}}while(r=sf());return e}(ff(e),t))},Bf=new WeakMap,Uf=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Bf.get(n))&&!r){Bf.set(e,!0);for(var i=[],o=Mf(t,i),a=n.props,s=0,c=0;s<o.length;s++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},jf=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Ff=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case wf:e.return=kf(e.value,e.length);break;case Sf:return Tf([of(e,{value:Hd(e.value,"@","@"+Cf)})],r);case If:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Tf([of(e,{props:[Hd(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Tf([of(e,{props:[Hd(t,/:(plac\w+)/,":-webkit-input-$1")]}),of(e,{props:[Hd(t,/:(plac\w+)/,":-moz-$1")]}),of(e,{props:[Hd(t,/:(plac\w+)/,yf+"input-$1")]})],r)}return""}))}}],Qf=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ff;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c,u,l=[Rf,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=zd(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([Uf,jf].concat(r,l));o=function(e,t,n,r){c=n,Tf(Of(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new jd({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};function Vf(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Gf=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Hf=function(e,t,n){Gf(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var qf=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Kf={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Wf=/[A-Z]|^ms/g,Yf=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zf=function(e){return 45===e.charCodeAt(1)},Jf=function(e){return null!=e&&"boolean"!==typeof e},Xf=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return zf(e)?e:e.replace(Wf,"-$&").toLowerCase()})),Zf=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Yf,(function(e,t,n){return ep={name:t,styles:n,next:ep},t}))}return 1===Kf[e]||zf(e)||"number"!==typeof t||0===t?t:t+"px"};function $f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ep={name:n.name,styles:n.styles,next:ep},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ep={name:r.name,styles:r.styles,next:ep},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$f(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Jf(a)&&(r+=Xf(o)+":"+Zf(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=$f(e,t,a);switch(o){case"animation":case"animationName":r+=Xf(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)Jf(a[c])&&(r+=Xf(o)+":"+Zf(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ep,o=n(e);return ep=i,$f(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ep,tp=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var np=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ep=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=$f(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=$f(n,t,e[a]),r&&(i+=o[a]);tp.lastIndex=0;for(var s,c="";null!==(s=tp.exec(i));)c+="-"+s[1];return{name:qf(i)+c,styles:i,next:ep}},rp={}.hasOwnProperty,ip=(0,t.createContext)("undefined"!==typeof HTMLElement?Qf({key:"css"}):null);var op=ip.Provider,ap=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(ip);return e(n,i,r)}))},sp=(0,t.createContext)({});var cp=n.useInsertionEffect?n.useInsertionEffect:function(e){e()};function up(e){cp(e)}var lp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dp=function(e,t){var n={};for(var r in t)rp.call(t,r)&&(n[r]=t[r]);return n[lp]=e,n},fp=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Gf(t,n,r);up((function(){return Hf(t,n,r)}));return null},pp=ap((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=e[lp],a=[i],s="";"string"===typeof e.className?s=Vf(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var c=np(a,void 0,(0,t.useContext)(sp));s+=n.key+"-"+c.name;var u={};for(var l in e)rp.call(e,l)&&"css"!==l&&l!==lp&&(u[l]=e[l]);return u.ref=r,u.className=s,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(fp,{cache:n,serialized:c,isStringTag:"string"===typeof o}),(0,t.createElement)(o,u))}));__webpack_require__(2110);var hp=function(e,n){var r=arguments;if(null==n||!rp.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=pp,o[1]=dp(e,n);for(var a=2;a<i;a++)o[a]=r[a];return t.createElement.apply(null,o)};n.useInsertionEffect?n.useInsertionEffect:t.useLayoutEffect;function vp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return np(t)}var gp=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function Ap(e,t,n){var r=[],i=Vf(e,r,n);return r.length<2?n:i+t(r)}var mp=function(e){var t=e.cache,n=e.serializedArr;up((function(){for(var e=0;e<n.length;e++)Hf(t,n[e],!1)}));return null},Ep=ap((function(e,n){var r=[],i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=np(t,n.registered);return r.push(o),Gf(n,o,!1),n.key+"-"+o.name},o={css:i,cx:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ap(n.registered,i,gp(t))},theme:(0,t.useContext)(sp)},a=e.children(o);return!0,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(mp,{cache:n,serializedArr:r}),a)}));function yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cp(e,t,n){return t&&bp(e.prototype,t),n&&bp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _p(e,t){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_p(e,t)}function Ip(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_p(e,t)}function wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sp(Object(n),!0).forEach((function(t){wp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rp(e)}function kp(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Op(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ke){return!1}}();return function(){var n,r=Rp(e);if(t){var i=Rp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kp(this,n)}}var Np=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],xp=function(){};function Dp(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Lp(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(Dp(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Pp=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===Vt(e)&&null!==e?[e]:[];var t},Mp=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Tp({},sc(e,Np))};function Bp(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Up(e){return Bp(e)?window.pageYOffset:e.scrollTop}function jp(e,t){Bp(e)?window.scrollTo(0,t):e.scrollTop=t}function Fp(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Qp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xp,i=Up(e),o=t-i,a=10,s=0;function c(){var t=Fp(s+=a,i,o,n);jp(e,t),s<n?window.requestAnimationFrame(c):r(e)}c()}function Vp(){try{return document.createEvent("TouchEvent"),!0}catch(ke){return!1}}var Gp=!1,Hp={get passive(){return Gp=!0}},qp="undefined"!==typeof window?window:{};qp.addEventListener&&qp.removeEventListener&&(qp.addEventListener("p",xp,Hp),qp.removeEventListener("p",xp,!1));var Kp=Gp;function Wp(e){return null!=e}function Yp(e,t,n){return e?t:n}function zp(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var l,d=c.getBoundingClientRect().height,f=n.getBoundingClientRect(),p=f.bottom,h=f.height,v=f.top,g=n.offsetParent.getBoundingClientRect().top,A=a?window.innerHeight:Bp(l=c)?window.innerHeight:l.clientHeight,m=Up(c),E=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),b=g-y,C=A-v,_=b+m,I=d-m-v,w=p-A+m+E,S=m+v-y,T=160;switch(i){case"auto":case"bottom":if(C>=h)return{placement:"bottom",maxHeight:t};if(I>=h&&!a)return o&&Qp(c,w,T),{placement:"bottom",maxHeight:t};if(!a&&I>=r||a&&C>=r)return o&&Qp(c,w,T),{placement:"bottom",maxHeight:a?C-E:I-E};if("auto"===i||a){var R=t,k=a?b:_;return k>=r&&(R=Math.min(k-E-s.controlHeight,t)),{placement:"top",maxHeight:R}}if("bottom"===i)return o&&jp(c,w),{placement:"bottom",maxHeight:t};break;case"top":if(b>=h)return{placement:"top",maxHeight:t};if(_>=h&&!a)return o&&Qp(c,S,T),{placement:"top",maxHeight:t};if(!a&&_>=r||a&&b>=r){var O=t;return(!a&&_>=r||a&&b>=r)&&(O=a?b-y:_-y),o&&Qp(c,S,T),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}var Jp=function(e){return"auto"===e?"bottom":e},Xp=(0,t.createContext)({getPortalPlacement:null}),Zp=function(e){Ip(n,e);var t=Op(n);function n(){var e;yp(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,c=n.theme;if(t){var u="fixed"===a,l=zp({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!u,isFixedPosition:u,theme:c}),d=e.context.getPortalPlacement;d&&d(l),e.setState(l)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||Jp(t);return Tp(Tp({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return Cp(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(t.Component);Zp.contextType=Xp;var $p=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},eh=$p,th=$p,nh=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return hp("div",c({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};nh.defaultProps={children:"No options"};var rh=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return hp("div",c({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};rh.defaultProps={children:"Loading..."};var ih,oh=function(e){Ip(n,e);var t=Op(n);function n(){var e;yp(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==Jp(e.props.menuPlacement)&&e.setState({placement:n})},e}return Cp(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,o=e.cx,a=e.innerProps,s=e.menuPlacement,u=e.menuPosition,l=e.getStyles,d="fixed"===u;if(!t&&!d||!i)return null;var f=this.state.placement||Jp(s),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),h=d?0:window.pageYOffset,v=p[f]+h,g=hp("div",c({css:l("menuPortal",{offset:v,position:u,rect:p}),className:o({"menu-portal":!0},r)},a),n);return hp(Xp.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,Pu.createPortal)(g,t):g)}}]),n}(t.Component),ah=["size"];var sh={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ch=function(e){var t=e.size,n=sc(e,ah);return hp("svg",c({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:sh},n))},uh=function(e){return hp(ch,c({size:20},e),hp("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lh=function(e){return hp(ch,c({size:20},e),hp("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},dh=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},fh=dh,ph=dh,hh=function(){var e=vp.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ih||(ih=Ie(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),vh=function(e){var t=e.delay,n=e.offset;return hp("span",{css:vp({animation:"".concat(hh," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},gh=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,o=e.isRtl;return hp("div",c({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),hp(vh,{delay:0,offset:o}),hp(vh,{delay:160,offset:!0}),hp(vh,{delay:320,offset:!o}))};gh.defaultProps={size:4};var Ah=["data"],mh=["innerRef","isDisabled","isHidden","inputClassName"],Eh={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},yh={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Tp({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Eh)},bh=function(e){return Tp({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Eh)},Ch=function(e){var t=e.children,n=e.innerProps;return hp("div",n,t)};var _h={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return hp("div",c({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},o),t||hp(uh,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,u=e.innerProps,l=e.menuIsOpen;return hp("div",c({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":l},i)},u),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return hp("div",c({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},o),t||hp(lh,null))},DownChevron:lh,CrossIcon:uh,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.innerProps,u=e.label,l=e.theme,d=e.selectProps;return hp("div",c({css:i("group",e),className:r({group:!0},n)},s),hp(o,c({},a,{selectProps:d,theme:l,getStyles:i,cx:r}),u),hp("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=Mp(e);i.data;var o=sc(i,Ah);return hp("div",c({css:t("groupHeading",e),className:n({"group-heading":!0},r)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.getStyles;return hp("div",c({css:o("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return hp("span",c({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.value,o=Mp(e),a=o.innerRef,s=o.isDisabled,u=o.isHidden,l=o.inputClassName,d=sc(o,mh);return hp("div",{className:n({"input-container":!0},t),css:r("input",e),"data-value":i||""},hp("input",c({className:n({input:!0},l),ref:a,style:bh(u),disabled:s},d)))},LoadingIndicator:gh,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps;return hp("div",c({css:i("menu",e),className:r({menu:!0},n),ref:o},a),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.innerRef,s=e.isMulti;return hp("div",c({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:a},o),t)},MenuPortal:oh,LoadingMessage:rh,NoOptionsMessage:nh,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,c=e.isDisabled,u=e.removeProps,l=e.selectProps,d=r.Container,f=r.Label,p=r.Remove;return hp(Ep,null,(function(r){var h=r.css,v=r.cx;return hp(d,{data:o,innerProps:Tp({className:v(h(a("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":c},n))},s),selectProps:l},hp(f,{data:o,innerProps:{className:v(h(a("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:l},t),hp(p,{data:o,innerProps:Tp({className:v(h(a("multiValueRemove",e)),i({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},u),selectProps:l}))}))},MultiValueContainer:Ch,MultiValueLabel:Ch,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return hp("div",c({role:"button"},n),t||hp(uh,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,u=e.innerRef,l=e.innerProps;return hp("div",c({css:i("option",e),className:r({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},n),ref:u,"aria-disabled":o},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return hp("div",c({css:i("placeholder",e),className:r({placeholder:!0},n)},o),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return hp("div",c({css:i("container",e),className:r({"--is-disabled":a,"--is-rtl":s},n)},o),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return hp("div",c({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":o},n)},a),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.isMulti,a=e.getStyles,s=e.hasValue;return hp("div",c({css:a("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},n)},i),t)}},Ih=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var wh=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Sh(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||wh(r)&&wh(i)))return!1;var r,i;return!0}var Th=function(e,t){var n;void 0===t&&(t=Sh);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};for(var Rh={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},kh=function(e){return hp("span",c({css:Rh},e))},Oh={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,a=e.selectValue,s=e.isDisabled,c=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(u(a,n),".");if("menu"===t){var l=s?" disabled":"",d="".concat(c?"selected":"focused").concat(l);return"option ".concat(o," ").concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Nh=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,a=e.isFocused,s=e.selectValue,c=e.selectProps,u=e.id,l=c.ariaLiveMessages,d=c.getOptionLabel,f=c.inputValue,p=c.isMulti,h=c.isOptionDisabled,v=c.isSearchable,g=c.menuIsOpen,A=c.options,m=c.screenReaderStatus,E=c.tabSelectsValue,y=c["aria-label"],b=c["aria-live"],C=(0,t.useMemo)((function(){return Tp(Tp({},Oh),l||{})}),[l]),_=(0,t.useMemo)((function(){var e,t="";if(n&&C.onChange){var r=n.option,i=n.options,o=n.removedValue,a=n.removedValues,c=n.value,u=o||r||(e=c,Array.isArray(e)?null:e),l=u?d(u):"",f=i||a||void 0,p=f?f.map(d):[],v=Tp({isDisabled:u&&h(u,s),label:l,labels:p},n);t=C.onChange(v)}return t}),[n,C,h,s,d]),I=(0,t.useMemo)((function(){var e="",t=r||i,n=!!(r&&s&&s.includes(r));if(t&&C.onFocus){var o={focused:t,label:d(t),isDisabled:h(t,s),isSelected:n,options:A,context:t===r?"menu":"value",selectValue:s};e=C.onFocus(o)}return e}),[r,i,d,h,C,A,s]),w=(0,t.useMemo)((function(){var e="";if(g&&A.length&&C.onFilter){var t=m({count:o.length});e=C.onFilter({inputValue:f,resultsMessage:t})}return e}),[o,f,g,C,A,m]),S=(0,t.useMemo)((function(){var e="";if(C.guidance){var t=i?"value":g?"menu":"input";e=C.guidance({"aria-label":y,context:t,isDisabled:r&&h(r,s),isMulti:p,isSearchable:v,tabSelectsValue:E})}return e}),[y,r,i,p,h,v,g,C,s,E]),T="".concat(I," ").concat(w," ").concat(S),R=hp(t.Fragment,null,hp("span",{id:"aria-selection"},_),hp("span",{id:"aria-context"},T)),k="initial-input-focus"===(null===n||void 0===n?void 0:n.action);return hp(t.Fragment,null,hp(kh,{id:u},k&&R),hp(kh,{"aria-live":b,"aria-atomic":"false","aria-relevant":"additions text"},a&&!k&&R))},xh=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Dh=new RegExp("["+xh.map((function(e){return e.letters})).join("")+"]","g"),Lh={},Ph=0;Ph<xh.length;Ph++)for(var Mh=xh[Ph],Bh=0;Bh<Mh.letters.length;Bh++)Lh[Mh.letters[Bh]]=Mh.base;var Uh=function(e){return e.replace(Dh,(function(e){return Lh[e]}))},jh=Th(Uh),Fh=function(e){return e.replace(/^\s+|\s+$/g,"")},Qh=function(e){return"".concat(e.label," ").concat(e.value)},Vh=["innerRef"];function Gh(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=s(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(sc(e,Vh),"onExited","in","enter","exit","appear");return hp("input",c({ref:t},n,{css:vp({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Hh=["boxSizing","height","overflow","paddingRight","position"],qh={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Kh(e){e.preventDefault()}function Wh(e){e.stopPropagation()}function Yh(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function zh(){return"ontouchstart"in window||navigator.maxTouchPoints}var Jh=!("undefined"===typeof window||!window.document||!window.document.createElement),Xh=0,Zh={capture:!1,passive:!1};var $h=function(){return document.activeElement&&document.activeElement.blur()},ev={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function tv(e){var n=e.children,r=e.lockEnabled,i=e.captureEnabled,o=function(e){var n=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=(0,t.useRef)(!1),c=(0,t.useRef)(!1),u=(0,t.useRef)(0),l=(0,t.useRef)(null),d=(0,t.useCallback)((function(e,t){if(null!==l.current){var n=l.current,u=n.scrollTop,d=n.scrollHeight,f=n.clientHeight,p=l.current,h=t>0,v=d-f-u,g=!1;v>t&&s.current&&(i&&i(e),s.current=!1),h&&c.current&&(a&&a(e),c.current=!1),h&&t>v?(r&&!s.current&&r(e),p.scrollTop=d,g=!0,s.current=!0):!h&&-t>u&&(o&&!c.current&&o(e),p.scrollTop=0,g=!0,c.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[r,i,o,a]),f=(0,t.useCallback)((function(e){d(e,e.deltaY)}),[d]),p=(0,t.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),h=(0,t.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;d(e,t)}),[d]),v=(0,t.useCallback)((function(e){if(e){var t=!!Kp&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",h,t)}}),[h,p,f]),g=(0,t.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",h,!1))}),[h,p,f]);return(0,t.useEffect)((function(){if(n){var e=l.current;return v(e),function(){g(e)}}}),[n,v,g]),function(e){l.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var n=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,o=(0,t.useRef)({}),a=(0,t.useRef)(null),s=(0,t.useCallback)((function(e){if(Jh){var t=document.body,n=t&&t.style;if(i&&Hh.forEach((function(e){var t=n&&n[e];o.current[e]=t})),i&&Xh<1){var r=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+r||0;Object.keys(qh).forEach((function(e){var t=qh[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&zh()&&(t.addEventListener("touchmove",Kh,Zh),e&&(e.addEventListener("touchstart",Yh,Zh),e.addEventListener("touchmove",Wh,Zh))),Xh+=1}}),[i]),c=(0,t.useCallback)((function(e){if(Jh){var t=document.body,n=t&&t.style;Xh=Math.max(Xh-1,0),i&&Xh<1&&Hh.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&zh()&&(t.removeEventListener("touchmove",Kh,Zh),e&&(e.removeEventListener("touchstart",Yh,Zh),e.removeEventListener("touchmove",Wh,Zh)))}}),[i]);return(0,t.useEffect)((function(){if(n){var e=a.current;return s(e),function(){c(e)}}}),[n,s,c]),function(e){a.current=e}}({isEnabled:r});return hp(t.Fragment,null,r&&hp("div",{onClick:$h,css:ev}),n((function(e){o(e),a(e)})))}var nv={clearIndicator:ph,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:fh,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.value,r=e.theme,i=r.spacing,o=r.colors;return Tp({margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:o.neutral80,transform:n?"translateZ(0)":""},yh)},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:th,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return Se(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Se(t,"backgroundColor",a.neutral0),Se(t,"borderRadius",i),Se(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Se(t,"marginBottom",o.menuGutter),Se(t,"marginTop",o.menuGutter),Se(t,"position","absolute"),Se(t,"width","100%"),Se(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused?i.dangerLight:void 0,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:eh,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:r?a.primary:a.primary50}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,n=e.isMulti,r=e.hasValue,i=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:n&&r&&i?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var rv,iv={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},ov={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Vp(),captureMenuScroll:!Vp(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Tp({ignoreCase:!0,ignoreAccents:!0,stringify:Qh,trim:!0,matchFrom:"any"},rv),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,c=a?Fh(t):t,u=a?Fh(o(e)):o(e);return r&&(c=c.toLowerCase(),u=u.toLowerCase()),i&&(c=jh(c),u=Uh(u)),"start"===s?u.substr(0,c.length)===c:u.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(ke){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function av(e,t,n,r){return{type:"option",data:t,isDisabled:fv(e,t,n),isSelected:pv(e,t,n),label:lv(e,t),value:dv(e,t),index:r}}function sv(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return av(e,n,t,r)})).filter((function(t){return uv(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=av(e,n,t,r);return uv(e,o)?o:void 0})).filter(Wp)}function cv(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,we(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function uv(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!vv(e)||!o)&&hv(e,{label:a,value:s,data:i},r)}var lv=function(e,t){return e.getOptionLabel(t)},dv=function(e,t){return e.getOptionValue(t)};function fv(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function pv(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=dv(e,t);return n.some((function(t){return dv(e,t)===r}))}function hv(e,t,n){return!e.filterOption||e.filterOption(t,n)}var vv=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},gv=1,Av=function(e){Ip(r,e);var n=Op(r);function r(e){var t;return yp(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,o=r.name;n.name=o,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,o=n.name,a=t.state.selectValue,s=i&&t.isOptionSelected(e,a),c=t.isOptionDisabled(e,a);if(s){var u=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==u})),"deselect-option",e)}else{if(c)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});i?t.setValue([].concat(we(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),o=r.filter((function(e){return t.getOptionValue(e)!==i})),a=Yp(n,o,o[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Yp(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),o=Yp(e,i,i[0]||null);t.onChange(o,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Lp.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return lv(t.props,e)},t.getOptionValue=function(e){return dv(t.props,e)},t.getStyles=function(e,n){var r=nv[e](n);r.boxSizing="border-box";var i=t.props.styles[e];return i?i(r,n):r},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,Tp(Tp({},_h),e.components);var e},t.buildCategorizedOptions=function(){return sv(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return cv(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:Tp({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Bp(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),o=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return vv(t.props)},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,c=n.isDisabled,u=n.menuIsOpen,l=n.onKeyDown,d=n.tabSelectsValue,f=n.openMenuOnFocus,p=t.state,h=p.focusedOption,v=p.focusedValue,g=p.selectValue;if(!c&&("function"!==typeof l||(l(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(v)t.removeValue(v);else{if(!i)return;r?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!u||!d||!h||f&&t.isOptionSelected(h,g))return;t.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(u){if(!h)return;if(t.isComposing)return;t.selectOption(h);break}return;case"Escape":u?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):s&&o&&t.clearValue();break;case" ":if(a)return;if(!u){t.openMenu("first");break}if(!h)return;t.selectOption(h);break;case"ArrowUp":u?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":u?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!u)return;t.focusOption("pageup");break;case"PageDown":if(!u)return;t.focusOption("pagedown");break;case"Home":if(!u)return;t.focusOption("first");break;case"End":if(!u)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++gv),t.state.selectValue=Pp(e.value),t}return Cp(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?jp(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&jp(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(iv):Tp(Tp({},iv),this.props.theme):iv}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,o=this.setValue,a=this.props,s=a.isMulti,c=a.isRtl,u=a.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:i,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return fv(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return pv(this.props,e,t)}},{key:"filterOption",value:function(e,t){return hv(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,r=e.isSearchable,i=e.inputId,o=e.inputValue,a=e.tabIndex,s=e.form,u=e.menuIsOpen,l=this.getComponents().Input,d=this.state,f=d.inputIsHidden,p=d.ariaSelection,h=this.commonProps,v=i||this.getElementId("input"),g=Tp(Tp(Tp({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},u&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===p||void 0===p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?t.createElement(l,c({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:n,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},g)):t.createElement(Gh,c({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:xp,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:s,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,o=n.MultiValueLabel,a=n.MultiValueRemove,s=n.SingleValue,u=n.Placeholder,l=this.commonProps,d=this.props,f=d.controlShouldRenderValue,p=d.isDisabled,h=d.isMulti,v=d.inputValue,g=d.placeholder,A=this.state,m=A.selectValue,E=A.focusedValue,y=A.isFocused;if(!this.hasValue()||!f)return v?null:t.createElement(u,c({},l,{key:"placeholder",isDisabled:p,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),g);if(h)return m.map((function(n,s){var u=n===E,d="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(r,c({},l,{components:{Container:i,Label:o,Remove:a},isFocused:u,isDisabled:p,key:d,index:s,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(v)return null;var b=m[0];return t.createElement(s,c({},l,{data:b,isDisabled:p}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,c({},n,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,a=this.state.isFocused;if(!e||!o)return null;return t.createElement(e,c({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,r=e.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return t.createElement(r,c({},i,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,c({},n,{innerProps:o,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,o=n.Menu,a=n.MenuList,s=n.MenuPortal,u=n.LoadingMessage,l=n.NoOptionsMessage,d=n.Option,f=this.commonProps,p=this.state.focusedOption,h=this.props,v=h.captureMenuScroll,g=h.inputValue,A=h.isLoading,m=h.loadingMessage,E=h.minMenuHeight,y=h.maxMenuHeight,b=h.menuIsOpen,C=h.menuPlacement,_=h.menuPosition,I=h.menuPortalTarget,w=h.menuShouldBlockScroll,S=h.menuShouldScrollIntoView,T=h.noOptionsMessage,R=h.onMenuScrollToTop,k=h.onMenuScrollToBottom;if(!b)return null;var O,N=function(n,r){var i=n.type,o=n.data,a=n.isDisabled,s=n.isSelected,u=n.label,l=n.value,h=p===o,v=a?void 0:function(){return e.onOptionHover(o)},g=a?void 0:function(){return e.selectOption(o)},A="".concat(e.getElementId("option"),"-").concat(r),m={id:A,onClick:g,onMouseMove:v,onMouseOver:v,tabIndex:-1};return t.createElement(d,c({},f,{innerProps:m,data:o,isDisabled:a,isSelected:s,key:A,label:u,type:i,value:l,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())O=this.getCategorizedOptions().map((function(n){if("group"===n.type){var o=n.data,a=n.options,s=n.index,u="".concat(e.getElementId("group"),"-").concat(s),l="".concat(u,"-heading");return t.createElement(r,c({},f,{key:u,data:o,options:a,Heading:i,headingProps:{id:l,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return N(e,"".concat(s,"-").concat(e.index))})))}if("option"===n.type)return N(n,"".concat(n.index))}));else if(A){var x=m({inputValue:g});if(null===x)return null;O=t.createElement(u,f,x)}else{var D=T({inputValue:g});if(null===D)return null;O=t.createElement(l,f,D)}var L={minMenuHeight:E,maxMenuHeight:y,menuPlacement:C,menuPosition:_,menuShouldScrollIntoView:S},P=t.createElement(Zp,c({},f,L),(function(n){var r=n.ref,i=n.placerProps,s=i.placement,u=i.maxHeight;return t.createElement(o,c({},f,L,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:A,placement:s}),t.createElement(tv,{captureEnabled:v,onTopArrive:R,onBottomArrive:k,lockEnabled:w},(function(n){return t.createElement(a,c({},f,{innerRef:function(t){e.getMenuListRef(t),n(t)},isLoading:A,maxHeight:u,focusedOption:p}),O)})))}));return I||"fixed"===_?t.createElement(s,c({},f,{appendTo:I,controlElement:this.controlRef,menuPlacement:C,menuPosition:_}),P):P}},{key:"renderFormField",value:function(){var e=this,n=this.props,r=n.delimiter,i=n.isDisabled,o=n.isMulti,a=n.name,s=this.state.selectValue;if(a&&!i){if(o){if(r){var c=s.map((function(t){return e.getOptionValue(t)})).join(r);return t.createElement("input",{name:a,type:"hidden",value:c})}var u=s.length>0?s.map((function(n,r){return t.createElement("input",{key:"i-".concat(r),name:a,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:a,type:"hidden"});return t.createElement("div",null,u)}var l=s[0]?this.getOptionValue(s[0]):"";return t.createElement("input",{name:a,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,o=n.focusedValue,a=n.isFocused,s=n.selectValue,u=this.getFocusableOptions();return t.createElement(Nh,c({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:o,isFocused:a,selectValue:s,focusableOptions:u}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,u=a.id,l=a.isDisabled,d=a.menuIsOpen,f=this.state.isFocused,p=this.commonProps=this.getCommonProps();return t.createElement(i,c({},p,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:f}),this.renderLiveRegion(),t.createElement(n,c({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:f,menuIsOpen:d}),t.createElement(o,c({},p,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(r,c({},p,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,c=e.options,u=e.value,l=e.menuIsOpen,d=e.inputValue,f=e.isMulti,p=Pp(u),h={};if(n&&(u!==n.value||c!==n.options||l!==n.menuIsOpen||d!==n.inputValue)){var v=l?function(e,t){return cv(sv(e,t))}(e,p):[],g=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,p):null,A=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);h={selectValue:p,focusedOption:A,focusedValue:g,clearFocusValueOnUpdate:!1}}var m=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},E=o,y=a&&s;return a&&!y&&(E={value:Yp(f,p,p[0]||null),options:p,action:"initial-input-focus"},y=!s),"initial-input-focus"===(null===o||void 0===o?void 0:o.action)&&(E=null),Tp(Tp(Tp({},h),m),{},{prevProps:e,ariaSelection:E,prevWasFocused:y})}}]),r}(t.Component);Av.defaultProps=ov;var mv,Ev=(0,t.forwardRef)((function(e,n){var r=function(e){var n=e.defaultInputValue,r=void 0===n?"":n,i=e.defaultMenuIsOpen,o=void 0!==i&&i,a=e.defaultValue,c=void 0===a?null:a,u=e.inputValue,l=e.menuIsOpen,d=e.onChange,f=e.onInputChange,p=e.onMenuClose,h=e.onMenuOpen,v=e.value,g=sc(e,Ih),A=s((0,t.useState)(void 0!==u?u:r),2),m=A[0],E=A[1],y=s((0,t.useState)(void 0!==l?l:o),2),b=y[0],C=y[1],_=s((0,t.useState)(void 0!==v?v:c),2),I=_[0],w=_[1],S=(0,t.useCallback)((function(e,t){"function"===typeof d&&d(e,t),w(e)}),[d]),T=(0,t.useCallback)((function(e,t){var n;"function"===typeof f&&(n=f(e,t)),E(void 0!==n?n:e)}),[f]),R=(0,t.useCallback)((function(){"function"===typeof h&&h(),C(!0)}),[h]),k=(0,t.useCallback)((function(){"function"===typeof p&&p(),C(!1)}),[p]),O=void 0!==u?u:m,N=void 0!==l?l:b,x=void 0!==v?v:I;return Tp(Tp({},g),{},{inputValue:O,menuIsOpen:N,onChange:S,onInputChange:T,onMenuClose:k,onMenuOpen:R,value:x})}(e);return t.createElement(Av,c({ref:n},r))})),yv=(t.Component,Ev),bv={container:"CreateEventForm_container__6de1Y",dialog_title:"CreateEventForm_dialog_title__H8yIf",error:"CreateEventForm_error__tu5dN",form:"CreateEventForm_form__S7aEB",input_group:"CreateEventForm_input_group__M2iuk",button:"CreateEventForm_button__pSKiq",color_swatch:"CreateEventForm_color_swatch__ZuCR6",blue:"CreateEventForm_blue__XeDDq",green:"CreateEventForm_green__L8Eny",yellow:"CreateEventForm_yellow__7ztgU",orange:"CreateEventForm_orange__9E-wu",red:"CreateEventForm_red__XXIf5",pink:"CreateEventForm_pink__yDZ6I",purple:"CreateEventForm_purple__aD4IB",selected_blue:"CreateEventForm_selected_blue__aDexI",selected_green:"CreateEventForm_selected_green__7L2T9",selected_yellow:"CreateEventForm_selected_yellow__XZaky",selected_orange:"CreateEventForm_selected_orange__K5Sqn",selected_red:"CreateEventForm_selected_red__D9jgl",selected_pink:"CreateEventForm_selected_pink__UkNGo",selected_purple:"CreateEventForm_selected_purple__1TrAX"},Cv=function(e){var n=e.closeDialog,r=e.event,i=s((0,t.useState)({name:(null===r||void 0===r?void 0:r.name)||"",description:(null===r||void 0===r?void 0:r.description)||"",date:Dd((null===r||void 0===r?void 0:r.date)||new Date,"yyyy-MM-dd"),time:(null===r||void 0===r?void 0:r.time)||"",color:(null===r||void 0===r?void 0:r.color)||"blue",attendees:(null===r||void 0===r?void 0:r.attendees)||[]}),2),o=i[0],a=i[1],c=s((0,t.useState)(""),2),u=c[0],l=c[1],d=s((0,t.useState)(!1),2),f=(d[0],d[1]),p=s((0,t.useState)([]),2),h=p[0],v=p[1],g=function(e){return function(t){return a(Re(Re({},o),{},Se({},e,t.target.value)))}},A=function(e){return function(){return a(Re(Re({},o),{},{color:e}))}},m=function(){var e=qt(Gt().mark((function e(t){var r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o.name&&o.date&&o.time){e.next=3;break}return e.abrupt("return",l("Please Fill-In the required fields"));case 3:return f(!0),e.prev=4,e.next=7,i=Re(Re({},o),{},{date:new Date("".concat(o.date," ").concat(o.time))}),fetch("".concat(Jt,"/event"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:Wt().token},body:JSON.stringify(i)}).then((function(e){return e.json()}));case 7:if(!(r=e.sent).error){e.next=11;break}return l(r.reason),e.abrupt("return");case 11:a({name:"",description:"",date:"",time:"",color:"blue",attendees:[]}),l(r.reason),n(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0);case 19:return e.prev=19,f(!1),e.finish(19);case 22:case"end":return e.stop()}var i}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){var e=function(){var e=qt(Gt().mark((function e(){var t,n,r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Wt(),n=t.sub,e.prev=1,e.next=4,fetch("".concat(Jt,"/user/all"),{method:"GET",headers:{Authorization:Wt().token}}).then((function(e){return e.json()}));case 4:if(!(r=e.sent).error){e.next=7;break}return e.abrupt("return",l(r.reason));case 7:v(r.data.map((function(e){return{value:e._id,label:"".concat(e.name.first," ").concat(e.name.last)}})).filter((function(e){return e.value!==n}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,Ce.jsxs)("div",{className:bv.container,children:[(0,Ce.jsx)("h1",{className:bv.dialog_title,children:"Create Event"}),(0,Ce.jsx)("main",{className:bv.dialog_body,children:(0,Ce.jsxs)("form",{className:bv.form,onSubmit:m,children:[(0,Ce.jsx)("div",{className:bv.error,children:u||""}),(0,Ce.jsxs)("div",{className:bv.input_group,children:[(0,Ce.jsx)("label",{htmlFor:"eventName",children:"Name*: "}),(0,Ce.jsx)("input",{type:"text",id:"eventName",value:o.name,onChange:g("name")})]}),(0,Ce.jsxs)("div",{className:bv.input_group,children:[(0,Ce.jsx)("label",{htmlFor:"eventDescription",children:"Description: "}),(0,Ce.jsx)("input",{type:"text",id:"eventDescription",value:o.description,onChange:g("description")})]}),(0,Ce.jsxs)("div",{className:bv.input_group,children:[(0,Ce.jsx)("label",{htmlFor:"eventDate",children:"Date*: "}),(0,Ce.jsx)("input",{type:"date",id:"eventDate",value:o.date,onChange:g("date")})]}),(0,Ce.jsxs)("div",{className:bv.input_group,children:[(0,Ce.jsx)("label",{htmlFor:"eventTime",children:"Time*: "}),(0,Ce.jsx)("input",{type:"time",id:"eventTime",value:o.time,onChange:g("time")})]}),(0,Ce.jsx)("div",{className:bv["selected_"+o.color],children:["blue","green","yellow","orange","red","pink","purple"].map((function(e,t){return(0,Ce.jsx)("div",{className:"".concat(bv.color_swatch," ").concat(bv[e]),onClick:A(e)},t)}))}),(0,Ce.jsxs)("div",{className:bv.input_group,children:[(0,Ce.jsx)("label",{htmlFor:"eventParticipants",children:"Participants: "}),(0,Ce.jsx)(yv,{id:"eventParticipants",options:h,isMulti:!0,onChange:function(e){return a(Re(Re({},o),{},{attendees:e.map((function(e){return{user:e.value}}))}))}})]}),(0,Ce.jsxs)("div",{children:[(0,Ce.jsxs)("button",{className:bv.button,type:"submit",children:["Save ",(0,Ce.jsx)(mn,{})]}),(0,Ce.jsxs)("button",{className:bv.button,onClick:n,children:["Cancel ",(0,Ce.jsx)(bn,{})]})]})]})})]})},_v=function(){var e=s((0,t.useState)([]),2),n=e[0],r=e[1],i=s((0,t.useState)(!1),2),o=i[0],a=i[1],c=s((0,t.useState)(null),2),u=c[0],l=c[1],d=s((0,t.useState)(!1),2),f=d[0],p=d[1],h=function(){a(!1),l(null),p(!1)};return(0,t.useEffect)((function(){var e=function(){var e=qt(Gt().mark((function e(){var t;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Jt,"/event/user/all"),{method:"GET",headers:{Authorization:Wt().token}}).then((function(e){return e.json()}));case 3:(t=e.sent).error?console.log(t.reason):r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),(0,Ce.jsxs)("div",{className:$s,children:[(0,Ce.jsxs)("div",{className:ec,children:[(0,Ce.jsx)("h3",{children:"Upcoming Events"}),(0,Ce.jsx)("div",{className:tc,children:n.sort((function(e,t){return function(e,t){jr(2,arguments);var n=Fr(e),r=Fr(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}(new Date(e.date),new Date(t.date))})).map((function(e){return(0,Ce.jsxs)("div",{className:nc,children:[(0,Ce.jsx)("div",{className:rc,onClick:function(){a(!0),l(e)},children:e.name}),(0,Ce.jsx)("button",{className:ic,onClick:(t=e._id,qt(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tn(t);case 3:r((function(e){return e.filter((function(e){return e._id!==t}))})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.reason||e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))),children:(0,Ce.jsx)(Cn,{})})]},e._id);var t}))})]}),(0,Ce.jsx)(Zs,{events:n,setIsOpen:a,setEvent:l,className:oc}),(0,Ce.jsx)("button",{className:ac,onClick:function(){a(!0),p(!0)},children:(0,Ce.jsx)(gn,{})}),(0,Ce.jsx)("div",{children:o&&(0,Ce.jsx)(Tl,{isOpen:o,closeDialog:h,children:f?(0,Ce.jsx)(Cv,{event:u,closeDialog:h}):(0,Ce.jsx)(Ud,{event:u,closeDialog:h})})})]})},Iv="Notes_container__0kkDw",wv="Notes_header__ce1JB",Sv="Notes_tab__ZjnBr",Tv="Notes_tab_selected__ojR7+",Rv="Notes_notes__57d99",kv="Notes_notes_empty__tAHEq",Ov="Notes_note__3RnuO",Nv="Notes_icon__LVXbt",xv=function(){var e=s((0,t.useState)("private"),2),n=e[0],r=e[1],i=function(e){return function(){return r(e)}};return(0,Ce.jsxs)("div",{className:Iv,children:[(0,Ce.jsxs)("header",{className:wv,children:[(0,Ce.jsx)("div",{className:"".concat(Sv," ").concat("private"===n&&Tv),onClick:i("private"),children:"Private Notes"}),(0,Ce.jsx)("div",{className:"".concat(Sv," ").concat("private"!==n&&Tv),onClick:i("shared"),children:"Shared Notes"})]}),"private"===n?(0,Ce.jsx)("div",{className:Rv,children:new Array(10).fill(" ").map((function(e,t){return(0,Ce.jsxs)("div",{className:Ov,children:[(0,Ce.jsx)("h1",{children:"Title Lorem ipsum dolor sit amet consectetur."}),(0,Ce.jsx)("h3",{children:"Sub Title"}),(0,Ce.jsx)("p",{children:"Paragraph Lorem ipsum dolor sit amet consectetur adipisicing elit. Laudantium vero pariatur deleniti dolor voluptate omnis. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eveniet, illum nobis amet voluptates aut adipisci quidem architecto doloremque reprehenderit minima quisquam, rem reiciendis similique sed ea voluptatem totam minus? Cumque."})]},t)}))}):(0,Ce.jsx)("div",{className:"".concat(Rv," ").concat(kv),children:"No Notes Shared To You"}),(0,Ce.jsx)("div",{className:Nv,children:(0,Ce.jsx)(vn,{})})]})},Dv=function(){var e=U(),n=s((0,t.useState)("events"),2),r=n[0],i=n[1],o=function(e){return function(){return i(e)}};return(0,Ce.jsxs)("div",{className:Rr,children:[(0,Ce.jsxs)("aside",{className:kr,children:[(0,Ce.jsx)(X,{to:"/",className:Lr,children:(0,Ce.jsx)(Ee,{src:ye})}),(0,Ce.jsxs)("div",{className:Pr,children:[(0,Ce.jsxs)("button",{className:"".concat(Mr," ").concat("events"==r&&Br),onClick:o("events"),children:[(0,Ce.jsx)(Ir,{}),(0,Ce.jsx)("span",{children:"Events"})]}),(0,Ce.jsxs)("button",{className:"".concat(Mr," ").concat("notes"==r&&Br),onClick:o("notes"),children:[(0,Ce.jsx)(_r,{}),(0,Ce.jsx)("span",{children:"Notes"})]}),(0,Ce.jsxs)("button",{className:"".concat(Mr," ").concat("reports"==r&&Br),onClick:o("reports"),children:[(0,Ce.jsx)(Sr,{}),(0,Ce.jsx)("span",{children:"Analytics"})]}),(0,Ce.jsxs)("button",{className:"".concat(Mr," ").concat("recordings"==r&&Br),onClick:o("recordings"),children:[(0,Ce.jsx)(gr,{}),(0,Ce.jsx)("span",{children:"Recordings"})]}),(0,Ce.jsxs)("button",{className:"".concat(Mr," ").concat("billing"==r&&Br),onClick:o("billing"),children:[(0,Ce.jsx)(Sn,{}),(0,Ce.jsx)("span",{children:"Billing"})]}),(0,Ce.jsxs)("button",{className:"".concat(Mr," ").concat("account"==r&&Br),onClick:o("account"),children:[(0,Ce.jsx)(wr,{}),(0,Ce.jsx)("span",{children:"Account"})]}),(0,Ce.jsxs)("button",{className:Mr,onClick:qt(Gt().mark((function t(){return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yt();case 2:e("/auth/user");case 3:case"end":return t.stop()}}),t)}))),children:[(0,Ce.jsx)(yn,{}),(0,Ce.jsx)("span",{children:"Logout"})]})]}),(0,Ce.jsxs)("div",{className:Or,children:[(0,Ce.jsx)(X,{to:"/meeting/join/call",className:"".concat(xr," ").concat(Dr),children:"Join Existing Call"}),(0,Ce.jsx)(X,{to:"/meeting/call/".concat(vr()),className:xr,children:"Start Instant Call"})]})]}),(0,Ce.jsxs)("main",{className:Nr,children:["events"===r&&(0,Ce.jsx)(_v,{}),"notes"===r&&(0,Ce.jsx)(xv,{}),"reports"===r&&(0,Ce.jsx)("div",{className:Ur,children:"Analytics Coming Soon..."}),"recordings"===r&&(0,Ce.jsx)("div",{className:Ur,children:"Recordings Coming Soon..."}),"billing"===r&&(0,Ce.jsx)("div",{className:Ur,children:"Billing & Usage Coming Soon..."}),"account"===r&&(0,Ce.jsx)("div",{className:Ur,children:"Accounts Coming Soon..."})]})]})},Lv=__webpack_require__(3322),Pv=__webpack_require__.n(Lv);!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE"}(mv||(mv={}));var Mv=function(e){var t;return function(){return t||(t=Pv().createClient(e)),t}};var Bv=function(e){var n=(0,t.useRef)(null),r=e.videoTrack,i=e.config,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["videoTrack","config"]);return(0,t.useLayoutEffect)((function(){return null!==n.current&&r.play(n.current,i),function(){r.stop()}}),[r]),t.createElement("div",Object.assign({},o,{ref:n}))};function Uv(e){return cn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5z"}}]})(e)}function jv(e){return cn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.961 12.365a1.99 1.99 0 0 0 .522-1.103l3.11 1.382A1 1 0 0 0 16 11.731V4.269a1 1 0 0 0-1.406-.913l-3.111 1.382A2 2 0 0 0 9.5 3H4.272l6.69 9.365zm-10.114-9A2.001 2.001 0 0 0 0 5v6a2 2 0 0 0 2 2h5.728L.847 3.366zm9.746 11.925-10-14 .814-.58 10 14-.814.58z"}}]})(e)}function Fv(e){return cn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z"}},{tag:"path",attr:{d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"}}]})(e)}function Qv(e){return cn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z"}},{tag:"path",attr:{d:"M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"}}]})(e)}var Vv={container:"MeetingPreview_container__TBczH",side_panel:"MeetingPreview_side_panel__0nh+z",preview_container:"MeetingPreview_preview_container__xBmDt",video_container:"MeetingPreview_video_container__Q+d0x",video:"MeetingPreview_video__xhOHE",preview_controls:"MeetingPreview_preview_controls__8kJae",control_button:"MeetingPreview_control_button__KOjMW",button:"MeetingPreview_button__gki2K"},Gv=function(e){var n=e.ready,r=e.tracks,i=e.token,o=e.setStartCall,a=U(),c=s((0,t.useState)([]),2),u=c[0],l=c[1],d=s((0,t.useState)([]),2),f=d[0],p=d[1],h=s((0,t.useState)({audio:!0,video:!0}),2),v=h[0],g=h[1];(0,t.useEffect)((function(){Pv().getDevices().then((function(e){var t=e.filter((function(e){return"audioinput"===e.kind})),n=e.filter((function(e){return"videoinput"===e.kind}));l(t),p(n)}))}),[]);var A=function(e){return qt(Gt().mark((function t(){return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("audio"!==e){t.next=3;break}return t.next=3,r[0].setEnabled(!v.audio);case 3:if("video"!==e){t.next=6;break}return t.next=6,r[1].setEnabled(!v.video);case 6:g(Re(Re({},v),{},Se({},e,!v[e])));case 7:case"end":return t.stop()}}),t)})))},m=function(e){return function(){var t=qt(Gt().mark((function t(n){return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("audio"!==e){t.next=3;break}return t.next=3,r[0].setDevice(n.value);case 3:if("video"!==e){t.next=6;break}return t.next=6,r[1].setDevice(n.value);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return(0,Ce.jsxs)("div",{className:Vv.container,children:[(0,Ce.jsxs)("aside",{className:Vv.side_panel,children:[(0,Ce.jsxs)("div",{className:Vv.device_selector,children:[u?(0,Ce.jsxs)("div",{className:Vv.audo_devices,children:[(0,Ce.jsx)("h3",{style:{color:"#fff"},children:"Audio Devices"}),(0,Ce.jsx)(yv,{className:Vv.device_list,options:u.map((function(e){return{value:e.deviceId,label:e.label}})),onChange:m("audio")})]}):(0,Ce.jsx)("h3",{style:{color:"#fff"},children:"No Audio Device Found"}),f?(0,Ce.jsxs)("div",{className:Vv.video_devices,children:[(0,Ce.jsx)("h3",{style:{color:"#fff"},children:"Video Devices"}),(0,Ce.jsx)(yv,{className:Vv.device_list,options:f.map((function(e){return{value:e.deviceId,label:e.label}})),onChange:m("video")})]}):(0,Ce.jsx)("h3",{style:{color:"#fff"},children:"No Video Device Found"})]}),(0,Ce.jsx)("div",{children:(0,Ce.jsx)("button",{className:Vv.button,onClick:function(){return o(!0)},disabled:!n||!i,children:"Join Call"})}),(0,Ce.jsx)("div",{children:(0,Ce.jsx)("button",{className:Vv.button,onClick:function(){r&&r.forEach((function(e){return e.close()})),a(-1)},disabled:!r,children:"Cancel"})})]}),(0,Ce.jsx)("div",{className:Vv.preview_container,children:(0,Ce.jsxs)("div",{className:Vv.video_container,children:[n&&r[1]&&(0,Ce.jsx)(Bv,{videoTrack:r[1],className:Vv.video}),n&&r&&(0,Ce.jsxs)("div",{className:Vv.preview_controls,children:[(0,Ce.jsx)("button",{className:Vv.control_button,onClick:A("video"),children:v.video?(0,Ce.jsx)(Uv,{}):(0,Ce.jsx)(jv,{})}),(0,Ce.jsx)("button",{className:Vv.control_button,onClick:A("audio"),children:v.audio?(0,Ce.jsx)(Fv,{}):(0,Ce.jsx)(Qv,{})})]})]})})]})},Hv=__webpack_require__(1197),qv=__webpack_require__.n(Hv),Kv={mode:"rtc",codec:"vp8"},Wv="d47de0dd05ee4d9cba3c6a62c8c8bbef",Yv=Mv(Kv),zv=Mv(Kv),Jv=function(e,n){var r=null;return function(){var i=(0,t.useState)(!1),o=i[0],a=i[1],s=(0,t.useState)(null),c=s[0],u=s[1],l=(0,t.useRef)(r);return(0,t.useEffect)((function(){return null===l.current?function(){try{return Promise.resolve(Pv().createMicrophoneAndCameraTracks(e,n)).then((function(e){return r=e}))}catch(ke){return Promise.reject(ke)}}().then((function(e){l.current=e,a(!0)}),(function(e){u(e)})):a(!0),function(){r=null}}),[]),{ready:o,tracks:l.current,error:c}}}(),Xv=(function(e,t){var n}({encoderConfig:"720p_3",optimizationMode:"detail"},"auto"),function(){var e=qt(Gt().mark((function e(t){var n,r,i,o,a;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.channel,i=t.uid,o=t.token,a=t.setAllUsers,e.next=3,n.login({uid:i,token:o}).then(qt(Gt().mark((function e(){var t;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Login Successful"),e.next=3,r.join();case 3:return e.next=5,r.getMembers();case 5:t=e.sent,a(we(t.filter((function(e){return e!==i}))));case 7:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Zv="Chat_container__cKFsS",$v="Chat_chats__MVrkG",eg="Chat_message_box__ZH0RO",tg="Chat_message_input__UCwiU",ng="Chat_send_button__1dJkD",rg="Chat_no_chat__ZvoEI",ig="Chat_chat__ZoPLA",og="Chat_own_chat__7T5pB",ag="Chat_chat_message__pq2dZ",sg="Chat_chat_author__X7agP",cg=function(e){var n=e.chats,r=e.setChats,i=e.rtmChannel,o=e.rtmClient,a=(0,t.useRef)(null),c=s((0,t.useState)(""),2),u=c[0],l=c[1],d=function(){var e=qt(Gt().mark((function e(t){var n;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u&&i){e.next=3;break}return e.abrupt("return");case 3:return n=o.createMessage({text:u,messageType:"TEXT"}),e.next=6,i.sendMessage(n);case 6:r((function(e){return[].concat(we(e),[{member:"you",message:u}])})),l("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){!function(){if(a.current){var e=a.current.scrollHeight-a.current.clientHeight;a.current.scrollTop=e>0?e:0}}()}),[n]),(0,Ce.jsxs)("div",{className:Zv,children:[n.length>0?(0,Ce.jsx)("div",{className:$v,ref:a,children:n.map((function(e,t){return(0,Ce.jsxs)("div",{className:"".concat(ig," ").concat("you"===e.member?og:""),children:[(0,Ce.jsx)("p",{className:ag,children:e.message}),(0,Ce.jsx)("p",{className:sg,children:e.member})]},t)}))}):(0,Ce.jsx)("div",{className:rg,children:(0,Ce.jsx)("p",{children:"No Messages!"})}),(0,Ce.jsxs)("form",{className:eg,onSubmit:d,children:[(0,Ce.jsx)("input",{type:"text",className:tg,value:u,onChange:function(e){return l(e.target.value)}}),(0,Ce.jsx)("button",{type:"submit",className:ng,children:(0,Ce.jsx)(br,{})})]})]})};function ug(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lg(e){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lg(e)}function dg(e,t){if(t&&("object"===Vt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ug(e)}function fg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ke){return!1}}();return function(){var n,r=lg(e);if(t){var i=lg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dg(this,n)}}var pg=__webpack_require__(6059),hg=__webpack_require__.n(pg),vg=__webpack_require__(1515),gg=__webpack_require__.n(vg),Ag={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};Eg.rankings=Ag;var mg=function(e,t){return String(e.rankedValue).localeCompare(String(t.rankedValue))};function Eg(e,t,n){void 0===n&&(n={});var r=n,i=r.keys,o=r.threshold,a=void 0===o?Ag.MATCHES:o,s=r.baseSort,u=void 0===s?mg:s,l=r.sorter,d=void 0===l?function(e){return e.sort((function(e,t){return function(e,t,n){var r=-1,i=1,o=e.rank,a=e.keyIndex,s=t.rank,c=t.keyIndex;return o===s?a===c?n(e,t):a<c?r:i:o>s?r:i}(e,t,u)}))}:l,f=e.reduce((function(e,r,o){var s=function(e,t,n,r){if(!t){return{rankedValue:e,rank:yg(e,n,r),keyIndex:-1,keyThreshold:r.threshold}}return function(e,t){for(var n=[],r=0,i=t.length;r<i;r++)for(var o=t[r],a=Ig(o),s=Cg(e,o),c=0,u=s.length;c<u;c++)n.push({itemValue:s[c],attributes:a});return n}(e,t).reduce((function(e,t,i){var o=e.rank,a=e.rankedValue,s=e.keyIndex,c=e.keyThreshold,u=t.itemValue,l=t.attributes,d=yg(u,n,r),f=a,p=l.minRanking,h=l.maxRanking,v=l.threshold;return d<p&&d>=Ag.MATCHES?d=p:d>h&&(d=h),d>o&&(o=d,s=i,c=v,f=u),{rankedValue:f,rank:o,keyIndex:s,keyThreshold:c}}),{rankedValue:e,rank:Ag.NO_MATCH,keyIndex:-1,keyThreshold:r.threshold})}(r,i,t,n),u=s.rank,l=s.keyThreshold;u>=(void 0===l?a:l)&&e.push(c({},s,{item:r,index:o}));return e}),[]);return d(f).map((function(e){return e.item}))}function yg(e,t,n){return e=bg(e,n),(t=bg(t,n)).length>e.length?Ag.NO_MATCH:e===t?Ag.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?Ag.EQUAL:e.startsWith(t)?Ag.STARTS_WITH:e.includes(" "+t)?Ag.WORD_STARTS_WITH:e.includes(t)?Ag.CONTAINS:1===t.length?Ag.NO_MATCH:function(e){var t="";return e.split(" ").forEach((function(e){e.split("-").forEach((function(e){t+=e.substr(0,1)}))})),t}(e).includes(t)?Ag.ACRONYM:function(e,t){var n=0,r=0;function i(e,t,r){for(var i=r,o=t.length;i<o;i++){if(t[i]===e)return n+=1,i+1}return-1}function o(e){var r=1/e,i=n/t.length;return Ag.MATCHES+i*r}var a=i(t[0],e,0);if(a<0)return Ag.NO_MATCH;r=a;for(var s=1,c=t.length;s<c;s++){if(!((r=i(t[s],e,r))>-1))return Ag.NO_MATCH}return o(r-a)}(e,t)}function bg(e,t){return e=""+e,t.keepDiacritics||(e=gg()(e)),e}function Cg(e,t){var n;if("object"===typeof t&&(t=t.key),"function"===typeof t)n=t(e);else if(null==e)n=null;else if(Object.hasOwnProperty.call(e,t))n=e[t];else{if(t.includes("."))return function(e,t){for(var n=e.split("."),r=[t],i=0,o=n.length;i<o;i++){for(var a=n[i],s=[],c=0,u=r.length;c<u;c++){var l=r[c];if(null!=l)if(Object.hasOwnProperty.call(l,a)){var d=l[a];null!=d&&s.push(d)}else"*"===a&&(s=s.concat(l))}r=s}if(Array.isArray(r[0])){var f=[];return f.concat.apply(f,r)}return r}(t,e);n=null}return null==n?[]:Array.isArray(n)?n:[String(n)]}var _g={maxRanking:1/0,minRanking:-1/0};function Ig(e){return"string"===typeof e?_g:c({},_g,e)}var wg={menuWrapper:"TagSelectorMenu_menuWrapper__fWoKH",menu:"TagSelectorMenu_menu__c8CuK",item:"TagSelectorMenu_item__JPOVR",selectedTag:"TagSelectorMenu_selectedTag__OCnmP"},Sg=[{id:"page-title",tag:"h1",label:"Page Title"},{id:"heading",tag:"h2",label:"Heading"},{id:"subheading",tag:"h3",label:"Subheading"},{id:"paragraph",tag:"p",label:"Paragraph"}],Tg=function(e){var n=e.position,r=e.closeMenu,i=e.handleSelection,o=s((0,t.useState)(Sg),2),a=o[0],c=o[1],u=s((0,t.useState)(0),2),l=u[0],d=u[1],f=s((0,t.useState)(""),2),p=f[0],h=f[1];return(0,t.useEffect)((function(){c(Eg(Sg,p,{keys:["tag"]}))}),[p]),(0,t.useEffect)((function(){var e=function(e){if("Enter"===e.key)e.preventDefault(),i(a[l].tag);else if("Tab"===e.key||"ArrowDown"===e.key){e.preventDefault();var t=l===a.length-1?0:l+1;d(t)}else if("ArrowUp"===e.key){e.preventDefault();var n=0===l?a.length-1:l-1;d(n)}else"Backspace"===e.key?p?h(p.slice(0,-1)):r():h(p+e.key)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a,l]),(0,Ce.jsx)("div",{className:wg.menuWrapper,style:{top:n.y-50,left:0},children:(0,Ce.jsx)("div",{className:wg.menu,children:a.map((function(e,t){return(0,Ce.jsx)("div",{"data-tag":e.tag,className:a.indexOf(e)===l?[wg.item,wg.selectedTag].join(" "):wg.item,role:"button",tabIndex:"0",onClick:function(){return i(e.tag)},children:e.label},t)}))})})},Rg={block:"EditableBlock_block__VntbZ",blockSelected:"EditableBlock_blockSelected__rBmY8",placeholder:"EditableBlock_placeholder__pM9tb"},kg=function(e){Ip(r,e);var n=fg(r);function r(e){var i;return yp(this,r),(i=n.call(this,e)).handleChange=i.handleChange.bind(ug(i)),i.handleFocus=i.handleFocus.bind(ug(i)),i.handleBlur=i.handleBlur.bind(ug(i)),i.handleKeyDown=i.handleKeyDown.bind(ug(i)),i.handleKeyUp=i.handleKeyUp.bind(ug(i)),i.openTagSelectorMenu=i.openTagSelectorMenu.bind(ug(i)),i.closeTagSelectorMenu=i.closeTagSelectorMenu.bind(ug(i)),i.handleTagSelection=i.handleTagSelection.bind(ug(i)),i.addPlaceholder=i.addPlaceholder.bind(ug(i)),i.calculateTagSelectorMenuPosition=i.calculateTagSelectorMenuPosition.bind(ug(i)),i.contentEditable=t.createRef(),i.state={htmlBackup:null,html:"",tag:"p",imageUrl:"",placeholder:!1,previousKey:null,isTyping:!1,tagSelectorMenuOpen:!1,tagSelectorMenuPosition:{x:null,y:null},actionMenuOpen:!1,actionMenuPosition:{x:null,y:null}},i}return Cp(r,[{key:"componentDidMount",value:function(){this.addPlaceholder({block:this.contentEditable.current,position:this.props.position,content:this.props.html||this.props.imageUrl})||this.setState(Re(Re({},this.state),{},{html:this.props.html,tag:this.props.tag,imageUrl:this.props.imageUrl}))}},{key:"componentDidUpdate",value:function(e,t){var n=t.isTyping&&!this.state.isTyping,r=!this.state.placeholder,i=this.props.html!==this.state.html,o=this.props.tag!==this.state.tag,a=this.props.imageUrl!==this.state.imageUrl;(n&&i||o||a)&&r&&this.props.updateBlock({id:this.props.id,html:this.state.html,tag:this.state.tag,imageUrl:this.state.imageUrl})}},{key:"handleChange",value:function(e){this.setState(Re(Re({},this.state),{},{html:e.target.value}))}},{key:"handleFocus",value:function(){this.state.placeholder?this.setState(Re(Re({},this.state),{},{html:"",placeholder:!1,isTyping:!0})):this.setState(Re(Re({},this.state),{},{isTyping:!0}))}},{key:"handleBlur",value:function(e){this.addPlaceholder({block:this.contentEditable.current,position:this.props.position,content:this.state.html||this.state.imageUrl})||this.setState(Re(Re({},this.state),{},{isTyping:!1}))}},{key:"handleKeyDown",value:function(e){"/"===e.key?this.setState({htmlBackup:this.state.html}):"Backspace"!==e.key||this.state.html?"Enter"!==e.key||"Shift"===this.state.previousKey||this.state.tagSelectorMenuOpen||(e.preventDefault(),this.props.addBlock({id:this.props.id,html:this.state.html,tag:this.state.tag,imageUrl:this.state.imageUrl,ref:this.contentEditable.current})):this.props.deleteBlock({id:this.props.id}),this.setState({previousKey:e.key})}},{key:"handleKeyUp",value:function(e){"/"===e.key&&this.openTagSelectorMenu("KEY_CMD")}},{key:"openTagSelectorMenu",value:function(e){var t=this.calculateTagSelectorMenuPosition(e),n=t.x,r=t.y;this.setState(Re(Re({},this.state),{},{tagSelectorMenuPosition:{x:n,y:r},tagSelectorMenuOpen:!0})),document.addEventListener("click",this.closeTagSelectorMenu,!1)}},{key:"closeTagSelectorMenu",value:function(){this.setState(Re(Re({},this.state),{},{htmlBackup:null,tagSelectorMenuPosition:{x:null,y:null},tagSelectorMenuOpen:!1})),document.removeEventListener("click",this.closeTagSelectorMenu,!1)}},{key:"handleTagSelection",value:function(e){var t=this;this.state.isTyping?this.setState({tag:e,html:this.state.htmlBackup},(function(){zt(t.contentEditable.current),t.closeTagSelectorMenu()})):this.setState(Re(Re({},this.state),{},{tag:e}),(function(){t.closeTagSelectorMenu()}))}},{key:"addPlaceholder",value:function(e){var t=e.block,n=e.position,r=e.content,i=1===n&&!r,o=!t.parentElement.nextElementSibling;return!(!i||!o)&&(this.setState(Re(Re({},this.state),{},{html:"Type a page title...",tag:"h1",placeholder:!0,isTyping:!1})),!0)}},{key:"calculateTagSelectorMenuPosition",value:function(e){if("KEY_CMD"===e){var t=function(){if("undefined"!==typeof window){var e,t,n=window.getSelection();if(0!==n.rangeCount){var r=n.getRangeAt(0).cloneRange();r.collapse(!1);var i=r.getClientRects()[0];i&&(e=i.left,t=i.top)}return{x:e,y:t}}}();return{x:t.x,y:t.y}}return{x:null,y:null}}},{key:"render",value:function(){return(0,Ce.jsxs)(Ce.Fragment,{children:[this.state.tagSelectorMenuOpen&&(0,Ce.jsx)(Tg,{position:this.state.tagSelectorMenuPosition,closeMenu:this.closeTagSelectorMenu,handleSelection:this.handleTagSelection}),(0,Ce.jsx)(hg(),{innerRef:this.contentEditable,"data-position":this.props.position,"data-tag":this.state.tag,html:this.state.html,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tagName:this.state.tag,className:[Rg.block,this.state.isTyping||this.state.tagSelectorMenuOpen?Rg.blockSelected:null,this.state.placeholder?Rg.placeholder:null].join(" ")})]})}}]),r}(t.Component),Og=kg,Ng="Note_wrapper__ah5cM",xg="Note_button__cUqP5",Dg=function(e){var n=e.blocks,r=e.setBlocks,i=s((0,t.useState)(null),2),o=i[0],a=i[1],c=function(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e})),n.current}(n);(0,t.useEffect)((function(){if(c&&c.length+1===n.length){var e=n.map((function(e){return e.id})).indexOf(o)+1+1,t=document.querySelector('[data-position="'.concat(e,'"]'));t&&t.focus()}if(c&&c.length-1===n.length){var r=c.map((function(e){return e.id})).indexOf(o),i=document.querySelector('[data-position="'.concat(r,'"]'));i&&zt(i)}}),[n,c,o]);var u=function(e){r(n.map((function(t){return t.id===e.id?e:t})))},l=function(e){a(e.id);var t=n.map((function(e){return e.id})).indexOf(e.id),i=we(n),o={id:vr(),tag:"p",html:"",imageUrl:""};i.splice(t+1,0,o),i[t]=Re(Re({},i[t]),{},{tag:e.tag,html:e.html,imageUrl:e.imageUrl}),r(i)},d=function(e){n.length>1&&(a(e.id),r(n.filter((function(t){return t.id!==e.id}))))};return(0,Ce.jsxs)("div",{className:Ng,children:[n.map((function(e){var t=n.map((function(e){return e.id})).indexOf(e.id)+1;return(0,Ce.jsx)(Og,{position:t,id:e.id,tag:e.tag,html:e.html,imageUrl:e.imageUrl,addBlock:l,deleteBlock:d,updateBlock:u},e.id)})),(0,Ce.jsx)("div",{className:xg,children:(0,Ce.jsx)(mn,{})})]})},Lg={container:"ParticpantsList_container__fCGC0",no_people:"ParticpantsList_no_people__A-vtU",users:"ParticpantsList_users__bBs8u",user:"ParticpantsList_user__nX1JE",icon:"ParticpantsList_icon__EzfJQ",share_button:"ParticpantsList_share_button__ZyA0p"},Pg=function(e){var n=e.users,r=e.channelName,i=s((0,t.useState)(!1),2),o=i[0],a=i[1],c=s((0,t.useState)(!1),2),u=c[0],l=c[1],d=function(){var e=qt(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return");case 2:a(!0),window.navigator.clipboard.writeText(r),l(!0),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ce.jsxs)("div",{className:Lg.container,children:[n.length>0?(0,Ce.jsx)("div",{className:Lg.users,children:n.map((function(e){return(0,Ce.jsxs)("div",{className:Lg.user,children:[(0,Ce.jsx)("div",{className:Lg.icon,children:(0,Ce.jsx)(Ee,{src:(0,Pd.createAvatar)(Md,{seed:e.split("-")[0],dataUri:!0}),alt:"avatar"})}),(0,Ce.jsx)("div",{className:Lg.userName,children:e.split("-")[0]})]},e)}))}):(0,Ce.jsx)("div",{className:Lg.no_people,children:(0,Ce.jsx)("p",{children:"No Participants!"})}),(0,Ce.jsxs)("button",{className:Lg.share_button,onClick:d,disabled:o,children:[(0,Ce.jsx)(En,{}),(0,Ce.jsx)("span",{children:"Share Video Id"}),u?(0,Ce.jsx)(pn,{}):(0,Ce.jsx)(wn,{})]})]})},Mg="VideoCallControls_video_controllers__OTxPM",Bg="VideoCallControls_end_call__ZVU7R",Ug=function(e){var t=e.tracks,n=e.setStartCall,r=e.shareScreen,i=e.setShareScreen,o=e.setInCall,a=e.closeScreenShare,s=e.isPanelOpen,c=e.setIsPanelOpen,u=e.panelMode,l=e.setPanelMode,d=e.rtmClient,f=e.trackState,p=e.setTrackState,h=U(),v=B(),g=Yv(),A=function(e){return qt(Gt().mark((function n(){return Gt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("audio"!==e){n.next=3;break}return n.next=3,t[0].setEnabled(!f[e]);case 3:if("video"!==e){n.next=6;break}return n.next=6,t[1].setEnabled(!f[e]);case 6:p(Re(Re({},f),{},Se({},e,!f[e])));case 7:case"end":return n.stop()}}),n)})))},m=function(){var e=qt(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.logout();case 2:return e.next=4,g.leave();case 4:g.removeAllListeners(),t[0].close(),t[1].close(),a(),n(!1),o(!1),h("/meeting/leave/call",{state:{from:v.pathname}});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){return function(){e===u?(c(!1),l("")):(l(e),c(!0))}};return(0,Ce.jsxs)("div",{className:Mg,style:{width:s?"75%":"100%"},children:[(0,Ce.jsx)("button",{className:f.audio?"on":"",onClick:A("audio"),children:f.audio?(0,Ce.jsx)(Fv,{}):(0,Ce.jsx)(Qv,{})}),(0,Ce.jsx)("button",{className:f.video?"on":"",onClick:A("video"),children:f.video?(0,Ce.jsx)(Uv,{}):(0,Ce.jsx)(jv,{})}),(0,Ce.jsx)("button",{onClick:function(){return i(!r)},children:r?(0,Ce.jsx)(yr,{}):(0,Ce.jsx)(Er,{})}),(0,Ce.jsx)("button",{className:Bg,onClick:function(){return m()},children:(0,Ce.jsx)(Ar,{})}),(0,Ce.jsx)("button",{onClick:E("people"),children:(0,Ce.jsx)(In,{})}),(0,Ce.jsx)("button",{onClick:E("chat"),children:(0,Ce.jsx)(mr,{})}),(0,Ce.jsx)("button",{onClick:E("note"),children:(0,Ce.jsx)(Cr,{})})]})},jg="Videos_videos__hjxXW",Fg="Videos_video__QSfd8",Qg="Videos_icon__ZVWF6",Vg="Videos_username__VYQxa",Gg=function(e){var t=e.users,n=e.allUsers,r=e.tracks,i=e.screenTracks,o=e.trackState,a=e.myUid;return(0,Ce.jsxs)("div",{className:jg,children:[o.video?(0,Ce.jsx)(Bv,{className:Fg,videoTrack:r[1]}):(0,Ce.jsx)("div",{className:Fg,children:(0,Ce.jsxs)("span",{className:Qg,children:[(0,Ce.jsx)(Ee,{src:(0,Pd.createAvatar)(Md,{seed:a.split("-")[0],dataUri:!0}),alt:"avatar"}),(0,Ce.jsx)("div",{className:Vg,children:"You"})]})}),i?Array.isArray(i)?(0,Ce.jsx)(Bv,{className:Fg,videoTrack:i[0]}):(0,Ce.jsx)(Bv,{className:Fg,videoTrack:i}):"",t.length>0&&t.map((function(e){if(e.videoTrack)return(0,Ce.jsx)(Bv,{className:Fg,videoTrack:e.videoTrack},e.uid)})),n.length>0&&n.map((function(e){if(!t.map((function(e){return e.uid})).includes(e))return(0,Ce.jsx)("div",{className:Fg,children:(0,Ce.jsxs)("span",{className:Qg,children:[(0,Ce.jsx)(Ee,{src:(0,Pd.createAvatar)(Md,{seed:e.split("-")[0],dataUri:!0}),alt:"avatar"}),(0,Ce.jsx)("div",{className:Vg,children:e.split("-")[0]})]})},e)}))]})},Hg="VideoCall_container__i+ej9",qg="VideoCall_sidebar__nPJbW",Kg="VideoCall_tabs__95x3D",Wg="VideoCall_tab__SwfnG",Yg="VideoCall_selected__V4l1H",zg=vr(),Jg=function(e){var n,r,i=e.ready,o=e.tracks,a=e.token,c=e.setInCall,u=j().cid,l=s((0,t.useState)([]),2),d=l[0],f=l[1],p=s((0,t.useState)([]),2),h=p[0],v=p[1],g=s((0,t.useState)(!1),2),A=g[0],m=g[1],E=s((0,t.useState)(!1),2),y=E[0],b=E[1],C=s((0,t.useState)(null),2),_=C[0],I=C[1],w=s((0,t.useState)(!1),2),S=w[0],T=w[1],R=s((0,t.useState)(""),2),k=R[0],O=R[1],N=s((0,t.useState)(null),2),x=N[0],D=N[1],L=s((0,t.useState)(null),2),P=L[0],M=L[1],B=s((0,t.useState)([]),2),U=B[0],F=B[1],Q=s((0,t.useState)(""),2),V=Q[0],G=Q[1],H=s((0,t.useState)([{id:vr(),html:"",tag:"h1"}]),2),q=H[0],K=H[1],W=s((0,t.useState)({video:null===(n=o[1])||void 0===n?void 0:n.enabled,audio:null===(r=o[0])||void 0===r?void 0:r.enabled}),2),Y=W[0],z=W[1],J=zv(),X=Yv();(0,t.useEffect)((function(){var e=Wt().name+"-"+~~(1e3*Math.random());G(e);var t=function(){var t=qt(Gt().mark((function t(n){var r,i;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return X.on("user-published",function(){var e=qt(Gt().mark((function e(t,n){var r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.uid!==zg){e.next=2;break}return e.abrupt("return");case 2:return console.log("NEW USER: ",t,n),e.next=5,X.subscribe(t,n);case 5:console.log("subscribe success"),"video"===n&&f((function(e){return[].concat(we(e),[t])})),"audio"===n&&(null===(r=t.audioTrack)||void 0===r||r.play());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),X.on("user-unpublished",(function(e,t){var n;console.log("unpublished",e,t),"audio"===t&&(null===(n=e.audioTrack)||void 0===n||n.stop()),"video"===t&&f((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),X.on("user-left",(function(e){console.log("leaving",e),f((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),t.next=5,X.join(Wv,n,a,e);case 5:if(r=t.sent,console.log("My user id: ",r),!o){t.next=17;break}if(i=[],o[0].enabled&&i.push(o[0]),o[1].enabled&&i.push(o[1]),0!==i.length){t.next=14;break}return Qt.error("Can not join with both audio & video disabled! Please Leave & Rejoin"),t.abrupt("return");case 14:return t.next=16,X.publish(i);case 16:m(!0);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=qt(Gt().mark((function t(n){var r,i,o,a,s,c;return Gt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,en(e);case 2:r=t.sent,i=r.data,o=null===i||void 0===i?void 0:i.token,a=null===i||void 0===i?void 0:i.uid,s=qv().createInstance(Wv),D(s),s.on("ConnectionStateChanged",(function(e,t){return console.log("State changed To: "+e+" Reason: "+t)})),c=s.createChannel(n),M(c),c.on("ChannelMessage",(function(e,t){return F((function(n){return[].concat(we(n),[{member:t.split("-")[0],message:e.text}])}))})),c.on("MemberJoined",(function(e){console.log(e," joined the channel"),console.log(h,[].concat(we(h),[e])),v([].concat(we(h),[e]))})),c.on("MemberLeft",(function(e){console.log(e," left the channel"),v(we(h.filter((function(t){return t!==e}))))})),Xv({uid:a,token:o,channel:c,client:s,setAllUsers:v});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();i&&o&&(console.log("init ready with uid: ",e),t(u),n(u))}),[X,o,i]),(0,t.useEffect)((function(){var e=function(){var e=qt(Gt().mark((function e(){var t;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pv().createScreenVideoTrack({encoderConfig:"720p_3",optimizationMode:"detail"},"auto");case 3:return t=e.sent,Array.isArray(t)?t[0].once("track-ended",Z):t.once("track-ended",Z),e.next=7,J.join(Wv,u,a,zg);case 7:return e.next=9,J.publish(t);case 9:I(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();y&&!_?e():Z()}),[y]);var Z=function(){var e=qt(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.leave();case 2:J.removeAllListeners(),Array.isArray(_)?_.forEach((function(e){return e.close()})):null===_||void 0===_||_.close(),b(!1),I(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ce.jsxs)("div",{className:Hg,children:[(0,Ce.jsx)(Ft,{}),i&&o&&(0,Ce.jsx)(Ug,{setInCall:c,setShareScreen:b,setStartCall:m,shareScreen:y,tracks:o,closeScreenShare:Z,isPanelOpen:S,setIsPanelOpen:T,panelMode:k,setPanelMode:O,rtmClient:x,trackState:Y,setTrackState:z}),A&&o&&(0,Ce.jsx)(Gg,{users:d,allUsers:h,tracks:o,screenTracks:_,trackState:Y,myUid:V}),S?(0,Ce.jsxs)("aside",{className:qg,children:[(0,Ce.jsx)("div",{className:Kg,children:["people","chat","note"].map((function(e,t){return(0,Ce.jsx)("div",{className:"".concat(Wg," ").concat(e===k?Yg:""),onClick:function(){return O(e)},children:e},t)}))}),"people"===k?(0,Ce.jsx)(Pg,{users:h,channelName:u}):null,"note"===k?(0,Ce.jsx)(Dg,{blocks:q,setBlocks:K}):null,"chat"===k?(0,Ce.jsx)(cg,{chats:U,setChats:F,rtmChannel:P,rtmClient:x}):null]}):null]})},Xg=function(){var e=j().cid,n=Jv(),r=n.ready,i=n.tracks,o=s((0,t.useState)(null),2),a=o[0],c=o[1],u=s((0,t.useState)(!1),2),l=u[0],d=u[1];return(0,t.useEffect)((function(){(function(e){var t=e.channelName;return fetch("".concat(Jt,"/auth/generate/token/rtc?channel=").concat(t),{method:"GET",headers:{Authorization:Wt().token}}).then((function(e){return e.json()}))})({channelName:e}).then((function(e){return c(e.data.token)}))}),[]),(0,Ce.jsx)("div",{children:l?(0,Ce.jsx)(Jg,{ready:r,setInCall:d,token:a,tracks:i}):(0,Ce.jsx)(Gv,{ready:r,tracks:i,token:a,setStartCall:d})})},Zg={container:"call_container__IXHty",input:"call_input__w4ish",button:"call_button__kHAK8"},$g=function(){var e=U(),n=s((0,t.useState)(""),2),r=n[0],i=n[1];return(0,Ce.jsx)("div",{className:Zg.container,children:(0,Ce.jsxs)("form",{className:Zg.form_container,onSubmit:function(t){t.preventDefault(),r&&e("/meeting/call/".concat(r))},children:[(0,Ce.jsx)("input",{type:"text",id:"channelName",className:Zg.input,placeholder:"Enter Meeting ID: e2a5ae81-ac19-4cad-933a-87b81ca5aa7f",autoComplete:"off",value:r,onChange:function(e){return i(e.target.value)}}),(0,Ce.jsx)("button",{type:"submit",className:Zg.button,children:"Join Call"})]})})},eA={container:"call_container__tRMZc",quotes:"call_quotes__WTZFj",quote:"call_quote__cRPmT",icon:"call_icon__u2RLS",author:"call_author__FqaLz",buttons:"call_buttons__M+aXP",button:"call_button__tAGOX"},tA=[{id:1,quote:"Every new beginning comes from some other beginning\u2019s end.",author:"Semisonic"},{id:2,quote:"Farewell! God knows when we shall meet again.",author:"William Shakespeare"},{id:3,quote:"It is so hard to leave\u2014until you leave. And then it is the easiest thing in the world.",author:"John Green"},{id:4,quote:"If you\u2019re brave enough to say goodbye, life will reward you with a new hello.",author:"Paulo Coelho"},{id:5,quote:"Goodbyes make you think. They make you realize what you\u2019ve had, what you\u2019ve lost, and what you\u2019ve taken for granted.",author:"Ritu Ghatourey"},{id:6,quote:"It\u2019s sad, but sometimes moving on with the rest of your life, starts with goodbye.",author:"Carrie Underwood"},{id:7,quote:"Don\u2019t cry because it\u2019s over. Smile because it happened.",author:"Dr. Seuss"},{id:8,quote:"Goodbye always makes my throat hurt.",author:"Charlie Brown"},{id:9,quote:"Great is the art of beginning, but greater is the art of ending.",author:"Henry Wadsworth Longfellow"},{id:10,quote:"Be well, do good work, and keep in touch.",author:"Garrison Keillor"},{id:11,quote:"A farewell is necessary before we can meet again, and meeting again, after moments or a lifetime, is certain for those who are friends.",author:"Richard Bach"},{id:12,quote:"I\u2019ll miss you until you come back but I hope you\u2019ll make up for it by getting me awesome gifts.",author:"Bon voyage"}],nA=function(){var e=B(),n=U(),r=s((0,t.useState)(null),2),i=r[0],o=r[1];return(0,t.useEffect)((function(){o(tA[Math.floor(Math.random()*tA.length)])}),[]),(0,Ce.jsxs)("div",{className:eA.container,children:[i?(0,Ce.jsxs)("div",{className:eA.quotes,children:[(0,Ce.jsxs)("div",{className:eA.quote,children:[(0,Ce.jsx)(An,{className:eA.icon})," ",i.quote]}),(0,Ce.jsxs)("div",{className:eA.author,children:["~ ",i.author]})]}):(0,Ce.jsx)("div",{className:eA.loading}),(0,Ce.jsxs)("div",{className:eA.buttons,children:[e.state?(0,Ce.jsxs)(X,{to:e.state.from,className:eA.button,children:[(0,Ce.jsx)(_n,{})," Rejoin"]}):(0,Ce.jsxs)("button",{className:eA.button,onClick:function(){return n(-1)},children:[(0,Ce.jsx)(_n,{})," Rejoin"]}),(0,Ce.jsxs)(X,{to:"/dashboard/me",className:eA.button,children:[(0,Ce.jsx)(hn,{})," Home"]})]})]})},rA=function(e){var t=e.children,n=B();return Wt()?t:(0,Ce.jsx)(V,{to:"/auth/user",state:{from:n.pathname},replace:!0})},iA="_404_container__Yzl5V",oA="_404_button__p9n5I",aA=function(){return(0,Ce.jsxs)("div",{className:iA,children:[(0,Ce.jsx)("img",{src:"./404.png",alt:"lady conveying page not found 404 message"}),(0,Ce.jsxs)(X,{className:oA,to:Wt()?"/dashboard/me":"/",children:[(0,Ce.jsx)(hn,{})," Go Home"]})]})},sA=function(e){return(0,Ce.jsx)(rA,{children:(0,Ce.jsx)(e,{})})},cA=function(){return(0,Ce.jsx)(J,{children:(0,Ce.jsxs)(q,{children:[(0,Ce.jsx)(G,{path:"/",element:(0,Ce.jsx)(_e,{})}),(0,Ce.jsx)(G,{path:"/auth/user",element:(0,Ce.jsx)(sr,{})}),(0,Ce.jsx)(G,{path:"/dashboard/me",element:sA(Dv)}),(0,Ce.jsx)(G,{path:"/meeting/call/:cid",element:sA(Xg)}),(0,Ce.jsx)(G,{path:"/meeting/join/call",element:(0,Ce.jsx)($g,{})}),(0,Ce.jsx)(G,{path:"/meeting/leave/call",element:(0,Ce.jsx)(nA,{})}),(0,Ce.jsx)(G,{path:"*",element:(0,Ce.jsx)(aA,{})})]})})};r.createRoot(document.getElementById("root")).render((0,Ce.jsx)(cA,{}))}()})();
//# sourceMappingURL=main.d6bbb331.js.map